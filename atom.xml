<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Yusen&#39;s Blog</title>
  <subtitle>å­¦ä¹ å¼¯é“è¶…è½¦çš„æŠ€å·§ï¼</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://imys.net/"/>
  <updated>2016-12-16T19:21:34.670Z</updated>
  <id>http://imys.net/</id>
  
  <author>
    <name>ç‹æ˜±æ£®</name>
    <email>634206017@qq.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>WebpackæŒ‰éœ€æ‰“åŒ…Lodashçš„å‡ ç§æ–¹å¼</title>
    <link href="http://imys.net/20161217/webpack-use-lodash.html"/>
    <id>http://imys.net/20161217/webpack-use-lodash.html</id>
    <published>2016-12-16T17:41:21.000Z</published>
    <updated>2016-12-16T19:21:34.670Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨æ•°æ®æ“ä½œæ—¶ï¼ŒLodash å°±æ˜¯æˆ‘çš„å¼¹è¯åº“ï¼Œä¸ç®¡é‡åˆ°å¤šå¤æ‚çš„æ•°æ®ç»“æ„éƒ½èƒ½ç”¨ä¸€äº›å‡½æ•°è½»æ¾æ‹†è§£ã€‚</p><p>ES6 ä¸­ä¹Ÿæ–°å¢äº†è¯¸å¤šæ–°çš„å¯¹è±¡å‡½æ•°ï¼Œä¸€äº›ç®€å•çš„é¡¹ç›®ä¸­ ES6 å°±è¶³å¤Ÿä½¿ç”¨äº†ï¼Œä½†è¿˜æ˜¯ä¼šæœ‰ä¾‹å¤–çš„æƒ…å†µå¼•ç”¨äº†å°‘æ•°çš„ Lodash å‡½æ•°ã€‚ä¸€ä¸ªå®Œæ•´çš„ Lodash åº“ï¼Œå³ä½¿æ˜¯å‹ç¼©åï¼Œç°æœ€æ–°ç‰ˆæœ¬ä¹Ÿæœ‰ <code>71k</code> çš„ä½“ç§¯ã€‚ä¸èƒ½ä¸ºäº†åƒä¸€å£é¥­è€Œä¹°ä¸‹ä¸€ä¸ªé¥­åº—å•Šã€‚</p><p>é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œå…¶å®å·²ç»æœ‰å¾ˆå¤šå¯é€‰æ–¹æ¡ˆäº†ã€‚<br><a id="more"></a></p><h2 id="å‡½æ•°æ¨¡å—"><a href="#å‡½æ•°æ¨¡å—" class="headerlink" title="å‡½æ•°æ¨¡å—"></a>å‡½æ•°æ¨¡å—</h2><p>Lodash ä¸­çš„æ¯ä¸ªå‡½æ•°åœ¨ NPM éƒ½æœ‰ä¸€ä¸ªå•ç‹¬çš„å‘å¸ƒæ¨¡å—ã€‚<a href="https://www.npmjs.com/search?q=lodash" target="_blank" rel="external">NPM: results for â€˜lodashâ€™</a><br>å‡å¦‚ä½ åªéœ€è¦ä½¿ç”¨<code>_.isEqual</code>ï¼Œé‚£ä¹ˆä½ åªéœ€è¦å®‰è£…<code>lodash.isequal</code>æ¨¡å—ï¼Œç„¶åæŒ‰ä»¥ä¸‹æ–¹å¼å¼•ç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> isEqual = <span class="built_in">require</span>(<span class="string">'lodash.isequal'</span>)</div><div class="line"><span class="comment">// or ES6</span></div><div class="line"><span class="keyword">import</span> isEqual <span class="keyword">from</span> <span class="string">'lodash.isequal'</span></div><div class="line"></div><div class="line"></div><div class="line">isEqual([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// true</span></div></pre></td></tr></table></figure><h2 id="å…¨è·¯å¾„å¼•ç”¨"><a href="#å…¨è·¯å¾„å¼•ç”¨" class="headerlink" title="å…¨è·¯å¾„å¼•ç”¨"></a>å…¨è·¯å¾„å¼•ç”¨</h2><p>åœ¨ä½ å®Œæ•´å®‰è£… Lodash åï¼Œå¯ä»¥æŒ‰<code>lodash/å‡½æ•°å</code>çš„æ ¼å¼å•ç‹¬å¼•å…¥éœ€è¦çš„å‡½æ•°æ¨¡å—ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> difference = <span class="built_in">require</span>(<span class="string">'lodash/difference'</span>)</div><div class="line"><span class="comment">// or ES6</span></div><div class="line"><span class="keyword">import</span> difference <span class="keyword">from</span> <span class="string">'lodash/difference'</span></div><div class="line"></div><div class="line">difference([<span class="number">1</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">3</span>])  <span class="comment">// [2]</span></div></pre></td></tr></table></figure><h2 id="ä½¿ç”¨æ’ä»¶ä¼˜åŒ–"><a href="#ä½¿ç”¨æ’ä»¶ä¼˜åŒ–" class="headerlink" title="ä½¿ç”¨æ’ä»¶ä¼˜åŒ–"></a>ä½¿ç”¨æ’ä»¶ä¼˜åŒ–</h2><p>åœ¨ç®€å•åœºæ™¯ä¸‹ï¼Œä»¥ä¸Šä¸¤ç§æ–¹å¼è¶³ä»¥è§£å†³é—®é¢˜ã€‚<br>è€Œé‡åˆ°å¤æ‚çš„æ•°æ®å¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬ä¸å¾—ä¸åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å¼•å…¥å¤šä¸ª Lodash å‡½æ•°ï¼Œè¿™æ ·å°±éœ€è¦åœ¨æ–‡ä»¶ä¸­å†™å¤šä¸ª<code>require</code>æˆ–<code>import</code>ç›¸å…³å‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span> remove <span class="keyword">from</span> <span class="string">'lodash/remove'</span></div><div class="line"><span class="keyword">import</span> uniq <span class="keyword">from</span> <span class="string">'lodash/uniq'</span></div><div class="line"><span class="keyword">import</span> invokeMap <span class="keyword">from</span> <span class="string">'lodash/invokeMap'</span></div><div class="line"><span class="keyword">import</span> sortBy <span class="keyword">from</span> <span class="string">'lodash/sortBy'</span></div><div class="line"><span class="comment">// more...</span></div></pre></td></tr></table></figure><p>æ­£å†™åˆ°å…³é”®å¤„å´å› ä¸ºå¼•å…¥ä¸€ä¸ªå‡½æ•°è¦æ‹‰åˆ°æ–‡ä»¶å¤´éƒ¨å»å®šä¹‰å¼•ç”¨è€Œæ‰“ä¹±äº†æ€è·¯ï¼Œå¾ˆä¸çˆ½ï¼</p><p>äºæ˜¯æˆ‘æœºæ™ºçš„åˆ° Github å»æœç´¢äº†<code>webpack</code>å’Œ<code>lodash</code>ä¸¤ä¸ªå…³é”®è¯çš„ç»„åˆï¼Œæ’åœ¨é¦–ä½çš„ <a href="https://github.com/lodash/lodash-webpack-plugin" target="_blank" rel="external">lodash-webpack-plugin</a> æ­£æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æ’ä»¶ã€‚</p><p>ä½¿ç”¨æ—¶éœ€è¦ä»¥ä¸‹æ¨¡å—ï¼Œå…¶å®é™¤äº†å‰ä¸¤ä¸ªå‰©ä¸‹çš„ä¸€èˆ¬éƒ½å·²å®‰è£…äº†ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ npm i -S lodash-webpack-plugin babel-plugin-lodash babel-core babel-loader babel-preset-es2015 webpack</div></pre></td></tr></table></figure><p><strong>é…ç½®ï¼š</strong></p><figure class="highlight js"><figcaption><span>webpack.config.js</span></figcaption><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> LodashModuleReplacementPlugin = <span class="built_in">require</span>(<span class="string">'lodash-webpack-plugin'</span>);</div><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">module</span>: &#123;</div><div class="line">    <span class="attr">loaders</span>: [&#123;</div><div class="line">      <span class="attr">loader</span>: <span class="string">'babel'</span>,</div><div class="line">      <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</div><div class="line">      <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,</div><div class="line">      <span class="attr">query</span>: &#123;</div><div class="line">        <span class="attr">plugins</span>: [<span class="string">'transform-runtime'</span>, <span class="string">'lodash'</span>],</div><div class="line">        <span class="attr">presets</span>: [<span class="string">'es2015'</span>]</div><div class="line">      &#125;</div><div class="line">    &#125;]</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">plugins</span>: [</div><div class="line">    <span class="keyword">new</span> LodashModuleReplacementPlugin,</div><div class="line">    <span class="keyword">new</span> webpack.optimize.OccurrenceOrderPlugin,</div><div class="line">    <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin</div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å…¶ä¸­<code>babel-plugin-lodash</code>çš„é…ç½®ï¼Œä¹Ÿå°±æ˜¯<code>plugins: [&#39;lodash&#39;]</code>ï¼Œå¹¶ä¸æ˜¯ä¸€å®šè¦åœ¨<code>loaders</code>ä¸­ï¼Œä¹Ÿå¯ä»¥å•ç‹¬å®šä¹‰<code>babel</code>ã€‚</p><figure class="highlight js"><figcaption><span>webpack.config.js</span></figcaption><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> LodashModuleReplacementPlugin = <span class="built_in">require</span>(<span class="string">'lodash-webpack-plugin'</span>);</div><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">module</span>: &#123;</div><div class="line">    <span class="attr">loaders</span>: [&#123;</div><div class="line">      <span class="attr">loader</span>: <span class="string">'babel'</span>,</div><div class="line">      <span class="attr">test</span>: <span class="regexp">/\.js$/</span>,</div><div class="line">      <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span></div><div class="line">    &#125;]</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">babel</span>: &#123;</div><div class="line">    <span class="attr">presets</span>: [<span class="string">'es2015'</span>],</div><div class="line">    <span class="attr">plugins</span>: [<span class="string">'transform-runtime'</span>, <span class="string">'lodash'</span>]</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">plugins</span>: [</div><div class="line">    <span class="keyword">new</span> LodashModuleReplacementPlugin,</div><div class="line">    <span class="keyword">new</span> webpack.optimize.OccurrenceOrderPlugin,</div><div class="line">    <span class="keyword">new</span> webpack.optimize.UglifyJsPlugin</div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>åˆæˆ–è€…æ˜¯<code>.babelrc</code>æ–‡ä»¶ä¸­ã€‚</p><p>ä»¥ä¸Šå·¥ä½œå®Œæˆäº†ï¼Œåœ¨æ¯ä¸ªä½ éœ€è¦ä½¿ç”¨ lodash å‡½æ•°çš„æ–‡ä»¶ä¸­åªéœ€è¦å¼•ç”¨ä¸€æ¬¡ lodashï¼Œå³å¯è°ƒç”¨ä»»æ„å‡½æ•°è€Œä¸ä¼šé€ æˆå®Œå…¨æ‰“åŒ…ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span> _ <span class="keyword">from</span> <span class="string">'lodash'</span></div><div class="line"></div><div class="line">_.add(<span class="number">1</span>, <span class="number">2</span>)  <span class="comment">// æ‰“åŒ…æ—¶åªä¼šå¼•å…¥è¿™ä¸€ä¸ªå‡½æ•°æ¨¡å—</span></div></pre></td></tr></table></figure><h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2><p>ä»¥ä¸Šå³æ˜¯æˆ‘ç›®å‰æ‰€çŸ¥é“çš„å‡ ç§æ–¹å¼ï¼Œå¦‚æœå“ªä½æœ‹å‹æœ‰æ›´å¥½çš„æ–¹å¼ï¼ˆæ¯”å¦‚åªéœ€è¦å…¨å±€å¼•å…¥ä¸€æ¬¡ï¼‰ï¼Œè¯·ä¸€å®šåˆ†äº«ä¸æˆ‘ï¼ğŸ˜‹</p>]]></content>
    
    <summary type="html">
    
      Webpakckæ‰“åŒ…ä¼˜åŒ–ï¼ŒæŒ‰éœ€æ‰“åŒ…Lodashæ¨¡å—ã€‚
    
    </summary>
    
    
      <category term="Webpack" scheme="http://imys.net/tags/Webpack/"/>
    
      <category term="Lodash" scheme="http://imys.net/tags/Lodash/"/>
    
  </entry>
  
  <entry>
    <title>æ­£ç¡®ä½¿ç”¨VueæŒ‡ä»¤çš„é’©å­å‡½æ•°</title>
    <link href="http://imys.net/20161216/vue-custom-directive-hook.html"/>
    <id>http://imys.net/20161216/vue-custom-directive-hook.html</id>
    <published>2016-12-16T14:45:54.000Z</published>
    <updated>2016-12-16T17:49:48.013Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ Vue ä¸­å¯ä»¥æŠŠä¸€ç³»åˆ—<strong>å¤æ‚çš„æ“ä½œ</strong>åŒ…è£…ä¸ºä¸€ä¸ªæŒ‡ä»¤ã€‚</p><blockquote><p>ä»€ä¹ˆæ˜¯å¤æ‚çš„æ“ä½œï¼Ÿ<br>æˆ‘çš„ç†è§£æ˜¯ï¼šå¤æ‚é€»è¾‘åŠŸèƒ½çš„åŒ…è£…ã€è¿èƒŒæ•°æ®é©±åŠ¨çš„ DOM æ“ä½œä»¥åŠå¯¹ä¸€äº› Hack æ‰‹æ®µçš„æ©ç›–ç­‰ã€‚æˆ‘ä»¬æ€»æ˜¯æœŸæœ›ä»¥æ“ä½œæ•°æ®çš„å½¢å¼æ¥å®ç°åŠŸèƒ½é€»è¾‘ã€‚</p></blockquote><h2 id="é’©å­å‡½æ•°"><a href="#é’©å­å‡½æ•°" class="headerlink" title="é’©å­å‡½æ•°"></a>é’©å­å‡½æ•°</h2><p>å¯¹äºè‡ªå®šä¹‰æŒ‡ä»¤çš„å®šä¹‰ï¼ŒVue2 æœ‰ 5 ä¸ªå¯é€‰çš„é’©å­å‡½æ•°ã€‚</p><a id="more"></a><ul><li><code>bind</code>: åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ï¼Œç”¨è¿™ä¸ªé’©å­å‡½æ•°å¯ä»¥å®šä¹‰ä¸€ä¸ªåœ¨ç»‘å®šæ—¶æ‰§è¡Œä¸€æ¬¡çš„åˆå§‹åŒ–åŠ¨ä½œã€‚</li><li><code>inserted</code>: è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ï¼ˆçˆ¶èŠ‚ç‚¹å­˜åœ¨å³å¯è°ƒç”¨ï¼Œä¸å¿…å­˜åœ¨äº document ä¸­ï¼‰ã€‚</li><li><code>update</code>: è¢«ç»‘å®šå…ƒç´ æ‰€åœ¨çš„æ¨¡æ¿æ›´æ–°æ—¶è°ƒç”¨ï¼Œè€Œä¸è®ºç»‘å®šå€¼æ˜¯å¦å˜åŒ–ã€‚</li><li><code>componentUpdated</code>: è¢«ç»‘å®šå…ƒç´ æ‰€åœ¨æ¨¡æ¿å®Œæˆä¸€æ¬¡æ›´æ–°å‘¨æœŸæ—¶è°ƒç”¨ã€‚</li><li><code>unbind</code>: åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨ã€‚</li></ul><p>æ¥ä¸‹æ¥ï¼Œå®šä¹‰ä¸€ä¸ªç®€å•çš„æŒ‡ä»¤ä»¥éªŒè¯è¿™äº›é’©å­å‡½æ•°çš„è§¦å‘æ—¶æœºã€‚</p><figure class="highlight html"><figcaption><span>template</span></figcaption><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">my-comp</span> <span class="attr">v-if</span>=<span class="string">"msg"</span> <span class="attr">:msg</span>=<span class="string">"msg"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-comp</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"update"</span>&gt;</span>æ›´æ–°<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"uninstall"</span>&gt;</span>å¸è½½<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"install"</span>&gt;</span>å®‰è£…<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><figure class="highlight js"><figcaption><span>script</span></figcaption><table><tr><td class="code"><pre><div class="line">Vue.directive(<span class="string">'hello'</span>, &#123;</div><div class="line">    <span class="attr">bind</span>: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'bind'</span>)</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">inserted</span>: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'inserted'</span>)</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">update</span>: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'update'</span>)</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">componentUpdated</span>: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'componentUpdated'</span>)</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">unbind</span>: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'unbind'</span>)</div><div class="line">    &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">var</span> myComp = &#123;</div><div class="line">    <span class="attr">template</span>: <span class="string">'&lt;h1 v-hello&gt;&#123;&#123;msg&#125;&#125;&lt;/h1&gt;'</span>,</div><div class="line">    <span class="attr">props</span>: &#123;</div><div class="line">        <span class="attr">msg</span>: <span class="built_in">String</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">    <span class="attr">el</span>: <span class="string">'#app'</span>,</div><div class="line">    <span class="attr">data</span>: &#123;</div><div class="line">        <span class="attr">msg</span>: <span class="string">'Hello'</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">components</span>: &#123;</div><div class="line">        <span class="attr">myComp</span>: myComp</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">methods</span>: &#123;</div><div class="line">        <span class="attr">update</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">this</span>.msg = <span class="string">'Hi'</span></div><div class="line">        &#125;,</div><div class="line">        <span class="attr">uninstall</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">this</span>.msg = <span class="string">''</span></div><div class="line">        &#125;,</div><div class="line">        <span class="attr">install</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">this</span>.msg = <span class="string">'Hello'</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure><h3 id="é¡µé¢åŠ è½½æ—¶"><a href="#é¡µé¢åŠ è½½æ—¶" class="headerlink" title="é¡µé¢åŠ è½½æ—¶"></a>é¡µé¢åŠ è½½æ—¶</h3><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">bind</div><div class="line">inserted</div></pre></td></tr></table></figure><h3 id="ç»„ä»¶æ›´æ–°æ—¶"><a href="#ç»„ä»¶æ›´æ–°æ—¶" class="headerlink" title="ç»„ä»¶æ›´æ–°æ—¶"></a>ç»„ä»¶æ›´æ–°æ—¶</h3><p>ç‚¹å‡»â€œæ›´æ–°â€æŒ‰é’®ï¼Œæ›´æ”¹æ•°æ®è§¦å‘ç»„ä»¶æ›´æ–°ã€‚</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">update</div><div class="line">componentUpdated</div></pre></td></tr></table></figure><h3 id="å¸è½½ç»„ä»¶æ—¶"><a href="#å¸è½½ç»„ä»¶æ—¶" class="headerlink" title="å¸è½½ç»„ä»¶æ—¶"></a>å¸è½½ç»„ä»¶æ—¶</h3><p>ç‚¹å‡»â€œå¸è½½â€æŒ‰é’®ï¼Œæ•°æ®ç½®ç©ºå¦å®šåˆ¤æ–­ä»¥è§¦å‘ç»„ä»¶å¸è½½ã€‚</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">unbind</div></pre></td></tr></table></figure><h3 id="é‡æ–°å®‰è£…ç»„ä»¶æ—¶"><a href="#é‡æ–°å®‰è£…ç»„ä»¶æ—¶" class="headerlink" title="é‡æ–°å®‰è£…ç»„ä»¶æ—¶"></a>é‡æ–°å®‰è£…ç»„ä»¶æ—¶</h3><p>ç‚¹å‡»â€œå®‰è£…â€æŒ‰é’®ï¼Œæ•°æ®èµ‹å€¼è‚¯å®šåˆ¤æ–­ä»¥è§¦å‘ç»„ä»¶é‡æ–°å®‰è£…ã€‚</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">bind</div><div class="line">inserted</div></pre></td></tr></table></figure><h3 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h3><p>ä»æ¡ˆä¾‹çš„è¿è¡Œä¸­ï¼Œå¯¹ 5 ä¸ªé’©å­å‡½æ•°çš„è§¦å‘æ—¶æœºæœ‰äº†åˆæ­¥çš„è®¤è¯†ã€‚å­˜ç–‘çš„ä¹Ÿå°±æ˜¯<code>bind</code>å’Œ<code>inserted</code>ã€<code>update</code>å’Œ<code>componentUpdated</code>çš„åŒºåˆ«äº†ã€‚</p><h4 id="bind-å’Œ-inserted"><a href="#bind-å’Œ-inserted" class="headerlink" title="bind å’Œ inserted"></a>bind å’Œ inserted</h4><p>æ®æ–‡æ¡£æ‰€è¯´ï¼Œæ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ insertedï¼Œæ¥ä¸ªæµ‹è¯•ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">bind: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(el.parentNode)  <span class="comment">// null</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'bind'</span>)</div><div class="line">&#125;,</div><div class="line"><span class="attr">inserted</span>: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(el.parentNode)  <span class="comment">// &lt;div id="app"&gt;...&lt;/div&gt;</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'inserted'</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>åˆ†åˆ«åœ¨ä¸¤ä¸ªé’©å­å‡½æ•°ä¸­è¾“å‡ºçˆ¶èŠ‚ç‚¹ï¼š<strong>bind æ—¶çˆ¶èŠ‚ç‚¹ä¸º nullï¼Œinserted æ—¶çˆ¶èŠ‚ç‚¹å­˜åœ¨</strong>ã€‚</p><h4 id="update-å’Œ-componentUpdated"><a href="#update-å’Œ-componentUpdated" class="headerlink" title="update å’Œ componentUpdated"></a>update å’Œ componentUpdated</h4><p>å…³äºè¿™ä¸¤ä¸ªçš„ä»‹ç»ï¼Œä»å­—çœ¼ä¸Šçœ‹æ„Ÿè§‰æ˜¯ç»„ä»¶æ›´æ–°å‘¨æœŸæœ‰å…³ï¼Œç»§ç»­éªŒè¯ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">update: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(el.innerHTML)   <span class="comment">// Hello</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'update'</span>)</div><div class="line">&#125;,</div><div class="line"><span class="attr">componentUpdated</span>: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(el.innerHTML)   <span class="comment">// Hi</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'componentUpdated'</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>æ²¡æ¯›ç—…ï¼Œ<strong>update å’Œ componentUpdated å°±æ˜¯ç»„ä»¶æ›´æ–°å‰å’Œæ›´æ–°åçš„åŒºåˆ«</strong>ã€‚</p><h3 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h3><p>æ–‡æ¡£è¯´çš„æ²¡é”™â€¦ğŸ˜’<br><a href="https://jsfiddle.net/imys/twbv0sov/1/" target="_blank" rel="external">Demo</a></p><h2 id="æœ€ä½³å®è·µ"><a href="#æœ€ä½³å®è·µ" class="headerlink" title="æœ€ä½³å®è·µ"></a>æœ€ä½³å®è·µ</h2><p>æ ¹æ®éœ€æ±‚çš„ä¸åŒï¼Œæˆ‘ä»¬è¦é€‰æ‹©æ°å½“çš„æ—¶æœºå»åˆå§‹åŒ–æŒ‡ä»¤ã€æ›´æ–°æŒ‡ä»¤è°ƒç”¨å‚æ•°ä»¥åŠé‡Šæ”¾æŒ‡ä»¤å­˜åœ¨æ—¶çš„å†…å­˜å ç”¨ç­‰ã€‚</p><p>æ¯”è¾ƒå¸¸è§çš„åœºæ™¯æ˜¯ï¼šç”¨æŒ‡ä»¤åŒ…è£…ä¸€äº›æ— ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“ä»¥æ‰©å±•ç»„ä»¶åŠŸèƒ½ã€‚è€Œä¸€ä¸ªå¥å£®çš„åº“é€šå¸¸ä¼šåŒ…å«ï¼šåˆå§‹åŒ–å®ä¾‹ã€å‚æ•°æ›´æ–°å’Œé‡Šæ”¾å®ä¾‹èµ„æºå ç”¨ç­‰æ“ä½œã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.directive(<span class="string">'hello'</span>, &#123;</div><div class="line">    <span class="attr">bind</span>: <span class="function"><span class="keyword">function</span> (<span class="params">el, binding</span>) </span>&#123;</div><div class="line">        <span class="comment">// åœ¨ bind é’©å­ä¸­åˆå§‹åŒ–åº“å®ä¾‹</span></div><div class="line">        <span class="comment">// å¦‚æœéœ€è¦ä½¿ç”¨çˆ¶èŠ‚ç‚¹ï¼Œä¹Ÿå¯ä»¥åœ¨ inserted é’©å­ä¸­æ‰§è¡Œ</span></div><div class="line">        el.__library__ = <span class="keyword">new</span> Library(el, binding.value)</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">update</span>: <span class="function"><span class="keyword">function</span> (<span class="params">el, binding</span>) </span>&#123;</div><div class="line">        <span class="comment">// æ¨¡ç‰ˆæ›´æ–°æ„å‘³ç€æŒ‡ä»¤çš„å‚æ•°å¯èƒ½è¢«æ”¹å˜ï¼Œè¿™é‡Œå¯ä»¥å¯¹åº“å®ä¾‹çš„å‚æ•°ä½œæ›´æ–°</span></div><div class="line">        <span class="comment">// é…Œæƒ…ä½¿ç”¨ update æˆ– componentUpdated é’©å­</span></div><div class="line">        el.__library__.setOptions(<span class="built_in">Object</span>.assign(binding.oldValue, binding.value))</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">unbind</span>: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</div><div class="line">        <span class="comment">// é‡Šæ”¾å®ä¾‹</span></div><div class="line">        el.__library__.destory()</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      å…³äºVueè‡ªå®šä¹‰æŒ‡ä»¤å®šä¹‰ï¼Œä»¥åŠé’©å­å‡½æ•°çš„æ‰§è¡Œæ—¶æœºã€‚
    
    </summary>
    
    
      <category term="Vue" scheme="http://imys.net/tags/Vue/"/>
    
      <category term="VueDirective" scheme="http://imys.net/tags/VueDirective/"/>
    
  </entry>
  
  <entry>
    <title>è·å–éšè—å…ƒç´ çš„é«˜åº¦</title>
    <link href="http://imys.net/20161208/get-height-of-hidden-element.html"/>
    <id>http://imys.net/20161208/get-height-of-hidden-element.html</id>
    <published>2016-12-08T02:15:25.000Z</published>
    <updated>2016-12-08T11:42:59.784Z</updated>
    
    <content type="html"><![CDATA[<p>å½“ä¸€ä¸ªå…ƒç´ çš„æ ·å¼è¢«è®¾ç½®äº†<code>display: none</code>æ—¶ï¼Œå®ƒçš„é«˜åº¦ç›¸å…³å±æ€§å€¼ä¸º 0ã€‚<br>è¿™æ˜¯å› ä¸ºä¿®æ”¹<code>display</code>å±æ€§ä¼šè§¦å‘å…ƒç´ çš„é‡æ’å’Œé‡ç»˜ï¼Œè€Œå…ƒç´ é‡æ’æ—¶å°†ä¼šé‡æ–°è®¡ç®—å®ƒçš„ä¸€äº›å±æ€§å€¼ã€‚è¢«è®¾ç½®<code>display: none</code>çš„å…ƒç´ ä¸å ç”¨æ–‡æ¡£ç©ºé—´ï¼Œè‡ªç„¶è®¡ç®—åˆ°çš„é«˜åº¦å€¼ä¸º 0ã€‚</p><blockquote><p>å…³äºé‡æ’å’Œé‡ç»˜ï¼š<a href="https://xdlrt.github.io/2016/11/05/2016-11-05/" target="_blank" rel="external">é‡ç»˜é‡æ’é‡æ¸²æŸ“ - Icarus</a></p></blockquote><a id="more"></a><h2 id="éšè—å…ƒç´ çš„æ–¹å¼"><a href="#éšè—å…ƒç´ çš„æ–¹å¼" class="headerlink" title="éšè—å…ƒç´ çš„æ–¹å¼"></a>éšè—å…ƒç´ çš„æ–¹å¼</h2><p>â€œéšè—â€å…ƒç´ çš„æ–¹å¼æœ‰å¤šç§ï¼Œé™¤äº†è®¾ç½®<code>display: none</code>ä»¥å¤–ï¼Œè¿˜æœ‰<code>visibility: hidden</code>ã€<code>opacity: 0</code>ã€<code>height: 0; overflow: hidden</code>ã€<code>transform: scale(0)</code>ç­‰ã€‚</p><p><strong>ä¸ºä»€ä¹ˆè¿™é‡Œæˆ‘æŠŠâ€œéšè—â€åŠ äº†å¼•å·ï¼Ÿ</strong></p><p>å› ä¸ºä¸Šé¢æåˆ°çš„å„ç§æ–¹å¼ï¼Œæœ‰â€œçœŸå®éšè—â€å’Œâ€œè§†è§‰éšè—â€ä¹‹åˆ†ã€‚è¿™åº”è¯¥ä¸éš¾ç†è§£ï¼Œæ¯”å¦‚<code>visibility: hidden</code>å’Œ<code>opacity: 0</code>è™½ç„¶è§†è§‰ä¸Šçœ‹ä¸åˆ°ï¼Œå¯å…ƒç´ è¿˜æ˜¯åœ¨æ–‡æ¡£æµä¸­å ç”¨äº†ä½ç½®ã€‚</p><p>è§†è§‰éšè—çš„å…ƒç´ å¯ä»¥ç›´æ¥è·å–åˆ°å…ƒç´ çš„é«˜åº¦ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è§£å†³çš„é—®é¢˜ä¸»è¦è¿˜æ˜¯è®¾ç½®<code>display: none</code>çš„å…ƒç´ ã€‚</p><h2 id="å¤´è„‘é£æš´"><a href="#å¤´è„‘é£æš´" class="headerlink" title="å¤´è„‘é£æš´"></a>å¤´è„‘é£æš´</h2><p>è§£å†³é—®é¢˜çš„å…³é”®åœ¨äºé€å½»çš„åˆ†æé—®é¢˜ã€‚</p><ol><li>å› ä¸ºæˆ‘ä»¬éšè—äº†å…ƒç´ ï¼Œæ‰€ä»¥è·å–ä¸åˆ°å…ƒç´ çš„é«˜åº¦ã€‚</li><li>æˆ‘ä»¬æƒ³è¦è·å–â€œéšè—â€å…ƒç´ çš„é«˜åº¦åšä¸€äº›äº‹ã€‚</li><li>æœ‰æ²¡æœ‰ä¸€ç§â€œéšè—â€å…ƒç´ çš„æ–¹å¼å…·æœ‰<code>display: none</code>çš„ç‰¹å¾ï¼Œä¸”å¯ä»¥è·å–é«˜åº¦ã€‚</li></ol><p>OKã€‚æˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ç§å¯è¡Œæ€§æ¢ç´¢æ–¹æ¡ˆï¼Œæ¥ä¸‹æ¥åªè¦å»éªŒè¯å„ç§éšè—å…ƒç´ çš„æ–¹å¼åº”è¯¥å°±èƒ½è§£å†³é—®é¢˜äº†ã€‚</p><h2 id="scrollHeight"><a href="#scrollHeight" class="headerlink" title="scrollHeight"></a>scrollHeight</h2><p>è®¾ç½®<code>overflow: hidden</code>å¯ä»¥æ ¹æ®å…ƒç´ é«˜åº¦è£å‰ªè§†åŒºï¼Œè®¾ç½®<code>height: 0; overflow: hidden</code>è™½ç„¶æ–‡æ¡£æµä¸­å ç”¨äº†ä½ç½®ï¼Œç”±äºé«˜åº¦ä¸º 0ï¼Œæœ€ç»ˆè¡¨ç°ç‰¹å¾è¾¾åˆ°äº†æˆ‘ä»¬æœŸæœ›çš„<code>display: none</code>ã€‚</p><p>æ­¤æ—¶è¯¥å…ƒç´ <code>clientHeight</code>ã€<code>offsetHeight</code>ä¸º 0ï¼Œä½†æ˜¯<code>scrollHeight</code>æ˜¯æœ‰å€¼çš„ã€‚</p><ul><li><code>scrollHeight</code>æ˜¯ä¸€ä¸ªå…ƒç´ æ²¡æœ‰æ»šåŠ¨æ¡æ—¶çš„æ‰€æœ‰å†…å®¹é«˜åº¦</li><li>å½“ä¸€ä¸ªå…ƒç´ æ²¡æœ‰æ»šåŠ¨æ¡æ—¶<code>scrollHeight === offsetHeight</code></li></ul><p>å½“ä½ æœ‰â€œè·å–éšè—å…ƒç´ çš„é«˜åº¦â€è¿™ä¸ªéœ€æ±‚æ—¶ï¼ŒçœŸå®ç›®åœ°å…¶å®å°±æ˜¯è¦<strong>è·å–ä¸€ä¸ªå…ƒç´ æ²¡æœ‰æ»šåŠ¨æ¡æ—¶çš„æ‰€æœ‰å†…å®¹é«˜åº¦</strong>ã€‚å¦åˆ™å›ºå®šé«˜åº¦åŠ æ»šåŠ¨æ¡çš„æƒ…å†µä¸‹ï¼Œé«˜åº¦æ˜¯å·²çŸ¥çš„ï¼Œä¸ä¼šäº§ç”Ÿè¿™ä¸ªéœ€æ±‚ã€‚<br>ä¹Ÿå°±æ˜¯è¯´<code>scrollHeight</code>å°±æ˜¯æˆ‘ä»¬æœ€åæƒ³è¦å¾—åˆ°çš„å€¼ã€‚</p><h2 id="case"><a href="#case" class="headerlink" title="case"></a>case</h2><p>æœ€åï¼Œå®¹æˆ‘ä¸€çŒœï¼Œå½“ä½ æœ‰è¿™ä¸ªéœ€æ±‚æ—¶ï¼Œä¹Ÿè®¸æ˜¯è¦å®ç°è¿™æ ·çš„æ•ˆæœå§ï¼š<a href="https://jsfiddle.net/imys/9ed940ke/1/" target="_blank" rel="external">SlideDown</a></p>]]></content>
    
    <summary type="html">
    
      å¦‚ä½•è·å–éšè—å…ƒç´ çš„é«˜åº¦ï¼Ÿ
    
    </summary>
    
    
      <category term="scrollHeight" scheme="http://imys.net/tags/scrollHeight/"/>
    
      <category term="display" scheme="http://imys.net/tags/display/"/>
    
      <category term="height" scheme="http://imys.net/tags/height/"/>
    
      <category term="overflow" scheme="http://imys.net/tags/overflow/"/>
    
      <category term="SlideDown" scheme="http://imys.net/tags/SlideDown/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript è·å–è¾“å…¥æ—¶çš„å…‰æ ‡ä½ç½®åŠåœºæ™¯é—®é¢˜</title>
    <link href="http://imys.net/20161125/cursor-offset-at-input.html"/>
    <id>http://imys.net/20161125/cursor-offset-at-input.html</id>
    <published>2016-11-25T02:02:01.000Z</published>
    <updated>2016-12-16T14:37:46.517Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨è¾“å…¥ç¼–è¾‘çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå¯èƒ½ä¼šéœ€è¦åœ¨å…‰æ ‡å½“å‰çš„ä½ç½®æˆ–é™„è¿‘æ˜¾ç¤ºæç¤ºé€‰é¡¹ã€‚<br>æ¯”å¦‚ç¤¾äº¤è¯„è®ºä¸­çš„<code>@user</code>åŠŸèƒ½ï¼Œè¦ç¡®ä¿æç¤ºçš„ç”¨æˆ·åˆ—è¡¨æ€»æ˜¯å‡ºç°åœ¨<code>@</code>å­—ç¬¦å³ä¸‹æ–¹ï¼Œåˆæˆ–è€…æ˜¯åœ¨è‡ªå®šä¹‰ç¼–è¾‘å™¨ä¸­ autocomplete è¯­æ³•æç¤ºï¼Œéƒ½éœ€è¦è·å–å…‰æ ‡å½“å‰çš„ä½ç½®ä½œä¸ºå‚ç…§ç‚¹ã€‚</p><a id="more"></a><h2 id="ä¸¤ç§ä½ç½®"><a href="#ä¸¤ç§ä½ç½®" class="headerlink" title="ä¸¤ç§ä½ç½®"></a>ä¸¤ç§ä½ç½®</h2><p>å¯¹äº WEB å¼€å‘æ¥è®²ï¼Œå½“æˆ‘ä»¬æåˆ°æŸæŸå…ƒç´ çš„ä½ç½®ï¼Œé€šå¸¸æ˜¯æŒ‡è¿™ä¸ªå…ƒç´ ç›¸å¯¹äºçˆ¶çº§æˆ–æ–‡æ¡£çš„åƒç´ å•ä½åæ ‡ã€‚è€Œå¯¹äºè¾“å…¥æ¡†ä¸­å…‰æ ‡ï¼Œå°±æœ‰äº†é¢å¤–çš„åŒºåˆ†ã€‚</p><h3 id="ç›¸å¯¹äºå†…å®¹"><a href="#ç›¸å¯¹äºå†…å®¹" class="headerlink" title="ç›¸å¯¹äºå†…å®¹"></a>ç›¸å¯¹äºå†…å®¹</h3><p>ç›¸å¯¹äºå†…å®¹ï¼Œå…‰æ ‡ä½äºç¬¬å‡ ä¸ªå­—ç¬¦ä¹‹åï¼Œå§‘ä¸”ç§°ä¹‹ä¸º<strong>å­—ç¬¦ä½ç½®</strong>å§ã€‚</p><h3 id="ç›¸å¯¹äºUI"><a href="#ç›¸å¯¹äºUI" class="headerlink" title="ç›¸å¯¹äºUI"></a>ç›¸å¯¹äºUI</h3><p>ç›¸å¯¹äºUIï¼Œä¹Ÿå°±æ˜¯è·Ÿæ™®é€šé¡µé¢å…ƒç´ ä¸€æ ·çš„<strong>åƒç´ ä½ç½®</strong>äº†ã€‚</p><h2 id="æ’å…¥æˆ–æ›¿æ¢å†…å®¹"><a href="#æ’å…¥æˆ–æ›¿æ¢å†…å®¹" class="headerlink" title="æ’å…¥æˆ–æ›¿æ¢å†…å®¹"></a>æ’å…¥æˆ–æ›¿æ¢å†…å®¹</h2><p>åœ¨å‰è¨€æåˆ°çš„åœºæ™¯ä¸­ï¼Œä¹Ÿæœ‰åœ¨å…‰æ ‡ä½ç½®å¤„æ’å…¥å†…å®¹çš„éœ€æ±‚ï¼Œæ¯”å¦‚å¯¹é€‰å–æ–‡å­—åŠ ç²—<code>text =&gt; &lt;strong&gt;text&lt;/strong&gt;</code>ç­‰ã€‚</p><h3 id="textarea"><a href="#textarea" class="headerlink" title="textarea"></a>textarea</h3><p><code>textarea</code>å…ƒç´ å¯ä»¥å¾ˆå®¹æ˜“è·å–åˆ°é€‰æ‹©çš„ä¸€æ®µæ–‡å­—çš„èµ·æ­¢ä½ç½®ã€‚å¦‚æœå½“å‰æ²¡æœ‰é€‰æ‹©æ–‡å­—ï¼Œåˆ™ä¸¤ä¸ªä½ç½®å€¼éƒ½ä¸ºå…‰æ ‡å³ä¾§å­—ç¬¦çš„ç´¢å¼•ï¼Œä» 0 å¼€å§‹ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// å¼€å§‹ä½ç½®</span></div><div class="line">textarea.selectionStart</div><div class="line"><span class="comment">// ç»“æŸä½ç½®</span></div><div class="line">textarea.selectionEnd</div></pre></td></tr></table></figure><p>å¯¹äºåŠ ç²—åŠŸèƒ½ï¼Œæœ‰äº†èµ·æ­¢ä½ç½®ï¼Œå°±èƒ½è·å–åˆ°é€‰æ‹©çš„æ–‡å­—å†…å®¹ï¼Œç„¶åå¯¹å†…å®¹è¿›è¡Œæ›¿æ¢ã€‚<br>ç”±äº<code>textarea</code>ä¸èƒ½åŒ…å«å­å…ƒç´ ï¼Œåªæœ‰çº¯æ–‡æœ¬ï¼Œæ‰€ä»¥åŸºäº<code>textarea</code>å®ç°åŠ ç²—åªèƒ½åƒç”¨ Markdown æ ‡è®°è¯­æ³•å®ç°ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> selectedText = textarea.value.substring(textarea.selectionStart, textarea.selectionEnd)</div><div class="line">textarea.setRangeText(<span class="string">'**'</span>+ selectedText +<span class="string">'**'</span>)</div></pre></td></tr></table></figure><blockquote><p><code>textarea.setRangeText(text: String)</code> æŠŠé€‰ä¸­çš„æ–‡å­—æ›¿æ¢ä¸ºå…¶ä»–å†…å®¹ã€‚</p></blockquote><h3 id="contenteditable"><a href="#contenteditable" class="headerlink" title="contenteditable"></a>contenteditable</h3><p>ä¹Ÿå¯èƒ½æˆ‘ä»¬ä¼šä½¿ç”¨<code>contenteditable</code>å±æ€§æŠŠä¸€ä¸ªå…ƒç´ å˜ä¸ºå¯ç¼–è¾‘å…ƒç´ ã€‚è€Œä¸Šé¢æ‰€ç”¨çš„å±æ€§å’Œå‡½æ•°éƒ½æ˜¯æ™®é€šå…ƒç´ æ‰€æ²¡æœ‰çš„ï¼Œæ‰€ä»¥è¦æ¢ä¸€ç§å§¿åŠ¿å®ç°ã€‚</p><p>è¿˜æ˜¯ä»¥åŠ ç²—åŠŸèƒ½ä¸ºä¾‹ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// è·å–æ–‡æ¡£ä¸­é€‰ä¸­åŒºåŸŸ</span></div><div class="line"><span class="keyword">var</span> range = <span class="built_in">window</span>.getSelection().getRangeAt(<span class="number">0</span>)</div><div class="line"><span class="keyword">var</span> strongNode = <span class="built_in">document</span>.createElement(<span class="string">'strong'</span>)</div><div class="line"><span class="comment">// é€‰ä¸­åŒºåŸŸæ–‡æœ¬</span></div><div class="line">strongNode.innerHTML = range.toString()</div><div class="line"><span class="comment">// åˆ é™¤é€‰ä¸­åŒº</span></div><div class="line">range.deleteContents()</div><div class="line"><span class="comment">// åœ¨å…‰æ ‡å¤„æ’å…¥æ–°èŠ‚ç‚¹</span></div><div class="line">range.insertNode(strongNode)</div></pre></td></tr></table></figure><p>åŸºäº<code>contenteditable</code>çš„å¯ç¼–è¾‘å…ƒç´ ï¼Œå…¶ä¸­çš„å†…å®¹å‡ä¸ºå­å…ƒç´ ï¼Œæ–‡æœ¬ä¸º<code>textNode</code>ï¼ŒåŠ ç²—ä½¿ç”¨ HTML å…ƒç´ ï¼Œæ’å…¥æˆ–æ›¿æ¢æ˜¯å¯¹å…ƒç´ çš„æ“ä½œã€‚</p><p>å¦‚æœæƒ³ä½¿ç”¨æ“ä½œå†…å®¹çš„æ€è·¯å®ç°ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œå› ä¸ºå¯ä»¥è·å–åˆ°çš„èµ·æ­¢ä½ç½®æ˜¯åŸºäºå­å…ƒç´ çš„ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">contenteditable</span>&gt;</span>hello<span class="tag">&lt;<span class="name">strong</span>&gt;</span>ä½ å¥½<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;<span class="name">big</span>&gt;</span>w<span class="tag">&lt;/<span class="name">big</span>&gt;</span>orld<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><p>å‡å¦‚é€‰ä¸­çš„æ–‡å­—æ˜¯<code>ä½ å¥½wor</code>ï¼Œè°ƒç”¨ç›¸å…³ API çš„è¾“å‡ºå¦‚ä¸‹ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// å½“å‰åœ¨æ–‡æ¡£ä¸­é€‰æ‹©çš„æ–‡æœ¬ï¼Œdocument å’Œ window éƒ½æœ‰è¿™ä¸ªå‡½æ•°</span></div><div class="line"><span class="comment">// var selection = document.getSelection()</span></div><div class="line"><span class="keyword">var</span> selection = <span class="built_in">window</span>.getSelection()</div><div class="line">selection.anchorNode    <span class="comment">// ä½ å¥½</span></div><div class="line">selection.anchorOffset  <span class="comment">// 0</span></div><div class="line">selection.focusNode     <span class="comment">// orld</span></div><div class="line">selection.focusOffset   <span class="comment">// 2</span></div><div class="line"></div><div class="line"><span class="comment">// æˆ–è€…ä½¿ç”¨ Range</span></div><div class="line"><span class="keyword">var</span> range = selection.getRangeAt(<span class="number">0</span>)</div><div class="line">range.startContainer    <span class="comment">// ä½ å¥½</span></div><div class="line">range.startOffset       <span class="comment">// 0</span></div><div class="line">range.endContainer      <span class="comment">// orld</span></div><div class="line">range.endOffset         <span class="comment">// 2</span></div></pre></td></tr></table></figure><p>æœ€ç»ˆå¯ä»¥è·å–åˆ°èµ·æ­¢å…ƒç´ ä»¥åŠé€‰ä¸­åŒºåŸŸåœ¨å¼€å§‹å…ƒç´ å†…å®¹ä¸­çš„å­—ç¬¦ä½ç½®å’Œåœ¨ç»“æŸå…ƒç´ å†…å®¹ä¸­çš„å­—ç¬¦ä½ç½®ã€‚<br>å…¶ä¸­çš„èµ·æ­¢å…ƒç´ å‡ä¸º<code>textNode</code>ç±»å‹ï¼Œé€šè¿‡<code>parentNode</code>è·å–åˆ°åŒ…è£¹å…ƒç´ ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">range.startContainer.parentNode     <span class="comment">// &lt;strong&gt;ä½ å¥½&lt;/strong&gt;</span></div><div class="line">range.endContainer.parentNode       <span class="comment">// &lt;div contenteditable&gt;...&lt;/div&gt;</span></div></pre></td></tr></table></figure><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯é€šè¿‡<code>Selection</code>å’Œ<code>Rang</code>è·å–åˆ°èµ·æ­¢ä½ç½®æ˜¯æœ‰æ–¹å‘ä¹‹åˆ†çš„ï¼Œä»å·¦å‘å³é€‰æ‹©å’Œä»å³å‘å·¦é€‰æ‹©å¾—åˆ°çš„å€¼æ˜¯æ­£å¥½ç›¸åçš„ã€‚</p></blockquote><h2 id="åŸºäºå…‰æ ‡åƒç´ ä½ç½®åˆ›å»ºå†…å®¹"><a href="#åŸºäºå…‰æ ‡åƒç´ ä½ç½®åˆ›å»ºå†…å®¹" class="headerlink" title="åŸºäºå…‰æ ‡åƒç´ ä½ç½®åˆ›å»ºå†…å®¹"></a>åŸºäºå…‰æ ‡åƒç´ ä½ç½®åˆ›å»ºå†…å®¹</h2><p>è¿™é‡Œå°±è¦å¼€å§‹ç”¨åƒç´ ä½ç½®ï¼ŒåŒæ ·åˆ†ä¸ºä¸¤ç§å®ç°æ¥è®²ã€‚</p><h3 id="contenteditable-1"><a href="#contenteditable-1" class="headerlink" title="contenteditable"></a>contenteditable</h3><p>å¯ç¼–è¾‘å…ƒç´ è·å–å…‰æ ‡åƒç´ ä½ç½®å°±åƒ<code>textarea</code>è·å–å…‰æ ‡çš„å­—ç¬¦ä½ç½®ä¸€æ ·ç®€å•ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> range = <span class="built_in">window</span>.getSelection().getRangeAt(<span class="number">0</span>)</div><div class="line">range.getBoundingClientRect()  <span class="comment">// &#123; width, height, top, right, bottom, right &#125;</span></div></pre></td></tr></table></figure><p>è¿™ä¹ˆå…·ä½“çš„å°ºå¯¸å€¼ï¼Œå®ç°è‡ªåŠ¨å®ŒæˆçœŸæ˜¯ So easy!</p><h3 id="textarea-1"><a href="#textarea-1" class="headerlink" title="textarea"></a>textarea</h3><p><code>textarea</code>å…¶ä¸­çš„å†…å®¹éƒ½æ˜¯çº¯æ–‡æœ¬ï¼Œåœ¨ DOM ä¸­ä¸å­˜åœ¨ç›¸å…³çš„å¯¹è±¡ï¼Œå¯¹äºåƒç´ ä½ç½®å°±å¾—å¦ä½œä»–æƒ³äº†ã€‚</p><h4 id="åŸºäºè¡Œé«˜å’Œå­—ä½“å¤§å°è®¡ç®—"><a href="#åŸºäºè¡Œé«˜å’Œå­—ä½“å¤§å°è®¡ç®—" class="headerlink" title="åŸºäºè¡Œé«˜å’Œå­—ä½“å¤§å°è®¡ç®—"></a>åŸºäºè¡Œé«˜å’Œå­—ä½“å¤§å°è®¡ç®—</h4><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 1.è·å–å…‰æ ‡ç»“æŸä½ç½®</span></div><div class="line"><span class="keyword">var</span> end = textarea.selectionEnd</div><div class="line"><span class="comment">// 2.é€šè¿‡åŒ¹é…å…‰æ ‡ä¹‹å‰æ–‡æœ¬ä¸­çš„æ¢è¡Œç¬¦è®¡ç®—æ‰€åœ¨è¡Œ</span></div><div class="line"><span class="keyword">var</span> row = textarea.value.substring(<span class="number">0</span>, end).match(<span class="regexp">/\r\n|\r|\n/</span>).length</div><div class="line"><span class="comment">// 3.è®¡ç®— topï¼Œè¡Œé«˜ * è¡Œæ•° + ä¸Šå¡«å…… + è¾¹æ¡†å®½åº¦</span></div><div class="line"><span class="keyword">var</span> top = lineHeight * (row + <span class="number">1</span>) + paddingTop + borderWidth</div><div class="line"><span class="comment">// 4.è·å–å…‰æ ‡å·¦ä¾§çš„æ–‡æœ¬</span></div><div class="line"><span class="keyword">var</span> leftText = textarea.value.split(<span class="regexp">/\r\n|\r|\n/</span>)[row]</div><div class="line"><span class="comment">// 5.å½±å“ä¸€æ®µæ–‡å­—æ‰€å å®½åº¦çš„å› ç´ å¤ªå¤šï¼Œé™¤å­—ä½“å¤§å°ã€ä¸­è‹±æ–‡ã€ç¬¦å·ã€å­—ç¬¦é—´è·ç­‰ï¼Œè¿˜æœ‰å­—ä½“ã€æµè§ˆå™¨ã€ç³»ç»Ÿç­‰å®¢è§‚å› ç´ </span></div><div class="line"><span class="comment">// var left = ...</span></div></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹æ¡ˆçš„æ€è·¯æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯è€ƒè™‘æ‰€æœ‰é—®é¢˜çš„æˆæœ¬å¤ªé«˜ã€‚<br>è™½ç„¶å¯ä»¥åˆ›å»ºæµ‹è¯•å…ƒç´ å»è®¡ç®—æ–‡æœ¬å®½åº¦ï¼Œä½†è¿™ä¸ªæ–¹æ¡ˆæœ¬èº«æ˜¯ä»ä¸¥è°¨çš„è§’åº¦å‡ºå‘çš„ã€‚ä¸å…¶æ··åœ¨ä¸€å—ï¼Œç›´æ¥ç”¨å–å·§çš„åŠæ³•æ›´ç®€å•ã€‚</p><blockquote><p><del>è¿™ä¸ªæ–¹æ¡ˆçš„æ½œå°è¯æ˜¯ï¼šæ˜æ˜å¯ä»¥é è„¸åƒé¥­ï¼Œå´ååè¦é æ‰åï¼</del> ğŸ™„</p></blockquote><h4 id="é•œåƒå…ƒç´ "><a href="#é•œåƒå…ƒç´ " class="headerlink" title="é•œåƒå…ƒç´ "></a>é•œåƒå…ƒç´ </h4><p>æ–‡æœ¬ä¸æ”¯æŒå®šä½ï¼Ÿé‚£æˆ‘åˆ›å»º DOM å¥½äº†ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// å…‰æ ‡ä½ç½®</span></div><div class="line"><span class="keyword">var</span> end = textarea.selectionEnd</div><div class="line"><span class="comment">// å…‰æ ‡å‰çš„å†…å®¹</span></div><div class="line"><span class="keyword">var</span> beforeText = textarea.value.slice(<span class="number">0</span>, end)</div><div class="line"><span class="comment">// å…‰æ ‡åçš„å†…å®¹</span></div><div class="line"><span class="keyword">var</span> afterText = textarea.value.slice(end)</div><div class="line"><span class="comment">// å¯¹å½±å“ UI çš„ç‰¹æ®Šå…ƒç´ ç¼–ç </span></div><div class="line"><span class="keyword">var</span> <span class="built_in">escape</span> = <span class="function"><span class="keyword">function</span>(<span class="params">text</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> text.replace(<span class="regexp">/&lt;|&gt;|`|"|&amp;/g</span>, <span class="string">'?'</span>).replace(<span class="regexp">/\r\n|\r|\n/g</span>, <span class="string">'&lt;br&gt;'</span>)</div><div class="line">&#125;</div><div class="line"><span class="comment">// åˆ›å»ºé•œåƒå†…å®¹ï¼Œå¤åˆ¶æ ·å¼</span></div><div class="line"><span class="keyword">var</span> mirror = <span class="string">'&lt;div class="'</span>+ textarea.className +<span class="string">'"&gt;'</span></div><div class="line">                + <span class="built_in">escape</span>(beforeText)</div><div class="line">                + <span class="string">'&lt;span id="cursor"&gt;|&lt;/span&gt;'</span></div><div class="line">                + <span class="built_in">escape</span>(afterText)</div><div class="line">            + <span class="string">'&lt;/div&gt;'</span></div><div class="line"><span class="comment">// æ·»åŠ åˆ° textarea åŒçº§ï¼Œæ³¨æ„è®¾ç½®å®šä½åŠ zIndexï¼Œä½¿ä¸¤ä¸ªå…ƒç´ é‡åˆ</span></div><div class="line">textarea.insertAdjacentHTML(<span class="string">'afterend'</span>, mirror)</div><div class="line"><span class="comment">// é€šè¿‡é•œåƒå…ƒç´ ä¸­çš„å‡å…‰æ ‡å ä½å…ƒç´ è·å–åƒç´ ä½ç½®</span></div><div class="line"><span class="keyword">var</span> cursor = <span class="built_in">document</span>.getElementById(<span class="string">'cursor'</span>)</div><div class="line">cursor.getBoundingClientRect()  <span class="comment">// &#123; width, height, top, right, bottom, right &#125;</span></div></pre></td></tr></table></figure><h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2><p>æœ€åæ‚„æ‚„è¯´ä¸€å¥ï¼Œä»¥ä¸Šå†…å®¹ä¸å…¼å®¹ä½ç‰ˆæœ¬ IEï¼Œä½†æ˜¯ IE æ¯•ç«Ÿä¸»åœºè¿è¡Œï¼Œæœ‰äº› API åè€Œæ˜¯å…¶ä»–æµè§ˆå™¨æ‰€æ²¡æœ‰çš„ã€‚å°±ä¸Šé¢æåˆ°çš„æ¡ˆä¾‹æ¥è¯´ï¼Œä½ç‰ˆæœ¬ IE ä¹Ÿæœ‰å¯¹åº”çš„ API å¯ç”¨ã€‚<br>çœŸæ˜¯ä¸æƒ³åœ¨ IE ä¸Šå»æµªè´¹ç²¾åŠ›äº†ï¼Œç´¢æ€§ä¸æã€‚</p>]]></content>
    
    <summary type="html">
    
      JavaScript å¦‚ä½•è·å–è¾“å…¥æ—¶çš„å…‰æ ‡ä½ç½®ï¼Œåœ¨å…‰æ ‡å¤„æ’å…¥æˆ–æ›¿æ¢å†…å®¹
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://imys.net/tags/JavaScript/"/>
    
      <category term="Range" scheme="http://imys.net/tags/Range/"/>
    
      <category term="Selection" scheme="http://imys.net/tags/Selection/"/>
    
  </entry>
  
  <entry>
    <title>Vueå•å…ƒæµ‹è¯•èµ·æ­¥</title>
    <link href="http://imys.net/20161110/vue-unit-test-start.html"/>
    <id>http://imys.net/20161110/vue-unit-test-start.html</id>
    <published>2016-11-10T03:08:14.000Z</published>
    <updated>2016-11-29T14:51:55.493Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨æ­å»ºä¸€ä¸ªé¡¹ç›®çš„å‰ç«¯å¼€å‘ç¯å¢ƒï¼Œå‡†å¤‡è¶æ­¤æŠŠä¸€äº›æ²¡ç”¨è¿‡çš„ä¸œè¥¿å°è¯•ä¸‹ï¼Œæ¯”å¦‚ï¼šå•å…ƒæµ‹è¯•ã€‚<br>ä½¿ç”¨<code>vue-cli</code>å¯ä»¥ç›´æ¥ç”Ÿæˆä¸€ä¸ªåŒ…å«<code>unit</code>ã€<code>e2e</code>æµ‹è¯•çš„å¼€å‘ç¯å¢ƒï¼Œä¸è¿‡è¿˜æ˜¯éœ€è¦å»äº†è§£å…¶ä¸­çš„ç»„ç»‡ç»“æ„ã€é…ç½®å’Œæ¨¡å—çš„ä½¿ç”¨ç­‰ã€‚</p><h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><p>æ²¡æœ‰ä¸€ç‚¹ç›¸å…³ç»éªŒï¼Œå…ˆæŠŠ<code>vue-cli</code>ç”Ÿæˆåçš„<code>test/unit</code>ç›®å½•æ‹¿åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ã€‚<br><a id="more"></a></p><p><code>test</code> ç›®å½•ç»“æ„:</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">â””â”€ test</div><div class="line">    â””â”€ unit</div><div class="line">        â”œâ”€ specs</div><div class="line">        â”œâ”€ .eslintrc</div><div class="line">        â”œâ”€ index.js</div><div class="line">        â””â”€ karma.conf.js</div></pre></td></tr></table></figure><p>ä¹‹ååœ¨<code>package.json</code>ä¸­æ‰¾åˆ°<code>karma</code>ç›¸å…³çš„æ¨¡å—ã€‚</p><ul><li><a href="http://karma-runner.github.io/0.13/index.html" target="_blank" rel="external">karma</a> ä¸€ä¸ª JavaScript æµ‹è¯•è¿è¡Œå™¨ï¼Œå…¶åœ¨æµ‹è¯•ä¸­çš„ä½œç”¨ç›¸å½“äºå¼€å‘æ„å»ºä¸­ä½¿ç”¨çš„<code>webpack</code>ã€‚</li><li><a href="https://github.com/webpack/karma-webpack" target="_blank" rel="external">karma-webpack</a> è¿æ¥<code>karma</code>å’Œ<code>webpack</code>çš„æ¡¥æ¢ã€‚ä¸ç»è¿‡<code>webpack</code>ç¼–è¯‘å‘½ä»¤æ˜¯æ–‡ä»¶æ˜¯æ— æ³•ç‹¬ç«‹è¿è¡Œçš„ï¼Œ<code>karma</code>éœ€è¦äº†è§£ä½ çš„<code>webpack</code>é…ç½®ï¼Œå†³å®šå¦‚ä½•å¤„ç†ä½ çš„æµ‹è¯•æ–‡ä»¶ã€‚</li><li><a href="https://github.com/karma-runner/karma-phantomjs-launcher" target="_blank" rel="external">karma-phantomjs-launcher</a> æ˜¯<code>phantomjs</code>åœ¨<code>karma</code>ä¸­çš„å¯åŠ¨å™¨ï¼Œç”±æ­¤å¼•å‡ºäº†<code>phantomjs</code>ã€‚<a href="https://github.com/ariya/phantomjs" target="_blank" rel="external">PhantomJS</a> æ˜¯ä¸€ä¸ªæ²¡æœ‰ç•Œé¢çš„ â€œæµè§ˆå™¨â€ ï¼Œå†…ç½®äº† JavaScript APIï¼Œæ”¯æŒå„ç§Webæ ‡å‡†ï¼šDOM å¤„ç†ã€CSS é€‰æ‹©å™¨ã€JSONã€Canvas å’Œ SVG ç­‰ã€‚åœ¨æŸ¥æ‰¾ç›¸å…³èµ„æ–™æ—¶ï¼Œä¹Ÿå‘ç°äº†å…¶ä»–çš„å¸¸è§„æµè§ˆå™¨<code>launcher</code>ï¼Œæ¯”å¦‚ï¼šChromeã€Firefoxã€Safariã€IE ç­‰ï¼Œä»¥åº”å¯¹ä¸åŒæµè§ˆå™¨æˆ–å¤šæµè§ˆå™¨çš„æµ‹è¯•éœ€æ±‚ã€‚è§<a href="http://karma-runner.github.io/0.13/config/browsers.html" target="_blank" rel="external">Browsers</a></li><li><a href="https://github.com/demerzel3/karma-sourcemap-loader" target="_blank" rel="external">karma-sourcemap-loader</a> <code>Karma</code>æ’ä»¶ï¼Œç”Ÿæˆæ–‡ä»¶çš„<code>sourcemap</code>ã€‚</li><li><a href="https://github.com/karma-runner/karma-mocha" target="_blank" rel="external">karma-mocha</a> è®©ä½ åœ¨ karma ä¸­ä½¿ç”¨ <a href="https://mochajs.org/" target="_blank" rel="external">Mocha</a> æµ‹è¯•æ¡†æ¶çš„æ’ä»¶ï¼Œä½¿ç”¨æ—¶è¿˜éœ€è¦å®‰è£…å‰ç½®ä¾èµ–<code>mocha</code>ã€‚</li><li><a href="https://github.com/domenic/sinon-chai" target="_blank" rel="external">karma-sinon-chai</a> è®©ä½ åœ¨<code>karma</code>ä¸­ä½¿ç”¨<code>sinon-chai</code>æ–­è¨€åº“çš„æ’ä»¶ï¼Œå‰ç½®ä¾èµ–æœ‰<code>sinon-chai</code>ã€<code>sinon</code>ã€<code>chai</code>â€¦ğŸ˜•</li><li><a href="https://github.com/mlex/karma-spec-reporter" target="_blank" rel="external">karma-spec-reporter</a> ç”¨äºå°†æµ‹è¯•ç»“æœæ˜¾ç¤ºåˆ°æ§åˆ¶å°ã€‚</li><li><a href="https://github.com/karma-runner/karma-coverage" target="_blank" rel="external">karma-coverage</a> ç”Ÿæˆä»£ç è¦†ç›–ç‡ã€‚</li></ul><p>å…¶ä¸­è¦ä½¿ç”¨<code>karma-phantomjs-launcher</code>ï¼Œéœ€è¦å…ˆå®‰è£…<code>PhantomJS</code>ï¼Œé€šè¿‡<code>phantomjs-prebuilt</code>å®‰è£…ã€‚</p><p>çœ‹åˆ°è¿™ä¸€å¤§å †ä¾èµ–ï¼Œæ„Ÿè§‰é¢å‰åˆæ˜¯ä¸€ä¸ªä¸äºšäº Webpack çš„æŠ€æœ¯æ ˆã€‚ä¹‹æ‰€ä»¥å»äº†è§£æ¯ä¸ªæ¨¡å—çš„ç”¨å¤„ï¼Œå°±æ˜¯ä¸ºäº†åœ¨å­¦ä¹ çš„æ—¶å€™ç›´æ’å¿ƒè„ï¼Œå¿½ç•¥é‚£äº›ä¸é‡è¦çš„æ¨¡å—ã€‚<br>ä»¥ä¸Šæ¥è¯´ï¼ŒKarma æ˜¯åŸºæœ¬çš„è¿è¡Œå™¨ï¼Œéœ€è¦äº†è§£å…¶é…ç½®å’Œä½¿ç”¨ã€‚æµ‹è¯•æ¡†æ¶ Mocha å’Œæ–­è¨€åº“ sinon-chai ç±»ä¼¼äºå¼€å‘ä¸­ä½¿ç”¨çš„ Lodashï¼Œæä¾›ä¸€ç³»åˆ—ç”¨äºæµ‹è¯•çš„å·¥å…·å‡½æ•°ã€‚å‰©ä¸‹çš„æŒ‰ç¤ºä¾‹é›†æˆå°±å¥½ã€‚</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>æ•´åˆä¸€æ¡å‘½ä»¤ã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">npm i -D karma karma-webpack phantomjs-prebuilt karma-phantomjs-launcher karma-sourcemap-loader mocha karma-mocha sinon chai sinon-chai karma-sinon-chai karma-spec-reporter karma-coverage</div></pre></td></tr></table></figure><p>PhantomJS å®‰è£…æ¯”è¾ƒæ…¢ï¼Œä¹Ÿå¯ä»¥å»å…¶<a href="http://phantomjs.org/download.html" target="_blank" rel="external">å®˜ç½‘ä¸‹è½½</a>ï¼Œå¹¶æ‰‹åŠ¨<a href="http://phantomjs.org/build.html" target="_blank" rel="external">é…ç½®ç¯å¢ƒå˜é‡</a>ã€‚</p><p>å®‰è£…å¥½äº†ï¼Œå…ˆè·‘ä¸€ä¸‹çœ‹çœ‹æ˜¯å¦å®‰è£…æ­£ç¡®ï¼Œåˆ°<code>package.json</code>çš„<code>scripts</code>ä¸­æ³¨å†Œä¸€ä¸ªå‘½ä»¤ï¼š<code>&quot;unit&quot;: &quot;karma start test/unit/karma.conf.js --single-run&quot;</code>ï¼Œç„¶åè¿è¡Œã€‚</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">npm run unit</div></pre></td></tr></table></figure><p>ç„¶åä¸å‡ºæ„æ–™çš„æŠ¥é”™äº†ï¼Œåªæ˜¯å°‘è£…äº†ä¸€ä¸ªæ¨¡å—<code>isparta-loader</code>ï¼Œæ˜¯ä¸€ä¸ªä»£ç è¦†ç›–å·¥å…·ï¼Œç»§ç»­å®‰è£…åè¿è¡ŒOKã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/vue-unit-1.jpg" alt="vue-unit-1"></div><div class="image-caption">vue-unit-1</div></figure><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>karma.conf.js æ–‡ä»¶å†…å®¹åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚<br><code>module.exports</code> ä»¥ä¸Šæ˜¯å¯¹ Webpack é…ç½®çš„å¤„ç†ï¼Œåƒ<code>webpack.dev.conf</code>å’Œ<code>webpack.prod.conf</code>é‚£æ ·ï¼Œåœ¨ä¸åŒçš„ç¯å¢ƒé‡Œä½¿ç”¨ä¸åŒçš„é…ç½®ã€‚åä¸€éƒ¨åˆ†å°±æ˜¯å¯¹ Karma çš„é…ç½®äº†ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params">config</span>) </span>&#123;</div><div class="line">    config.set(&#123;</div><div class="line">        <span class="comment">// è¦å¯åŠ¨çš„æµ‹è¯•æµè§ˆå™¨</span></div><div class="line">        browsers: [<span class="string">'PhantomJS'</span>],</div><div class="line">        <span class="comment">// æµ‹è¯•æ¡†æ¶</span></div><div class="line">        frameworks: [<span class="string">'mocha'</span>, <span class="string">'sinon-chai'</span>],</div><div class="line">        <span class="comment">// æµ‹è¯•æŠ¥å‘Šå¤„ç†</span></div><div class="line">        reporters: [<span class="string">'spec'</span>, <span class="string">'coverage'</span>],</div><div class="line">        <span class="comment">// è¦æµ‹è¯•çš„ç›®æ ‡æ–‡ä»¶</span></div><div class="line">        files: [<span class="string">'./index.js'</span>],</div><div class="line">        <span class="comment">// å¿½ç•¥çš„æ–‡ä»¶</span></div><div class="line">        exclude: [],</div><div class="line">        <span class="comment">// é¢„å¤„ç†æ–‡ä»¶</span></div><div class="line">        preprocessors: &#123;</div><div class="line">            <span class="string">'./index.js'</span>: [<span class="string">'webpack'</span>, <span class="string">'sourcemap'</span>]</div><div class="line">        &#125;,</div><div class="line">        <span class="comment">// webpack</span></div><div class="line">        webpack: webpackConfig,</div><div class="line">        <span class="attr">webpackMiddleware</span>: &#123;</div><div class="line">            <span class="attr">noInfo</span>: <span class="literal">true</span></div><div class="line">        &#125;,</div><div class="line">        <span class="comment">// Coverage options</span></div><div class="line">        coverageReporter: &#123;</div><div class="line">            <span class="attr">dir</span>: <span class="string">'./coverage'</span>,</div><div class="line">            <span class="attr">reporters</span>: [</div><div class="line">                &#123; <span class="attr">type</span>: <span class="string">'lcov'</span>, <span class="attr">subdir</span>: <span class="string">'.'</span> &#125;,</div><div class="line">                &#123; <span class="attr">type</span>: <span class="string">'text-summary'</span> &#125;</div><div class="line">            ]</div><div class="line">        &#125;,</div><div class="line">        <span class="comment">// true: è‡ªåŠ¨è¿è¡Œæµ‹è¯•å¹¶é€€å‡º</span></div><div class="line">        <span class="comment">// false: ç›‘æ§æ–‡ä»¶æŒç»­æµ‹è¯•</span></div><div class="line">        singleRun: <span class="literal">true</span>,</div><div class="line"></div><div class="line">        <span class="comment">// ä»¥ä¸‹æ˜¯ vue-cli æ²¡æœ‰ç”Ÿæˆçš„ä¸€äº›é…ç½®</span></div><div class="line"></div><div class="line">        <span class="comment">// æ–‡ä»¶åŒ¹é…çš„èµ·å§‹è·¯å¾„</span></div><div class="line">        <span class="comment">// basePath: '',</span></div><div class="line">        <span class="comment">// æœåŠ¡å™¨ç«¯å£</span></div><div class="line">        <span class="comment">// port: 9876,</span></div><div class="line">        <span class="comment">// è¾“å‡ºç€è‰²</span></div><div class="line">        <span class="comment">// colors: true,</span></div><div class="line">        <span class="comment">// æ—¥å¿—çº§åˆ«</span></div><div class="line">        <span class="comment">// LOG_DISABLE || LOG_ERROR || LOG_WARN || LOG_INFO || LOG_DEBUG</span></div><div class="line">        <span class="comment">// logLevel: config.LOG_INFO,</span></div><div class="line">        <span class="comment">// ç›‘æ§æ–‡ä»¶æ›´æ”¹</span></div><div class="line">        <span class="comment">// autoWatch: true,</span></div><div class="line">        <span class="comment">// è¶…æ—¶å¤„ç†ï¼Œ6så†…æ²¡æœ‰æ•è·æµè§ˆå™¨å°†ç»ˆæ­¢è¿›ç¨‹</span></div><div class="line">        <span class="comment">// captureTimeout: 6000</span></div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å…¶ä¸­å¯¹äºæµ‹è¯•æ–‡ä»¶å…¥å£æœ‰ç‚¹éš¾ä»¥ç†è§£ï¼Œä»…ä»…æ˜¯ä¸€ä¸ªè„šæœ¬æ–‡ä»¶ï¼Œè€Œä¸æ˜¯è·¯å¾„åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯é…ç½®æ–‡ä»¶åŒçº§çš„é‚£ä¸ª<code>index.js</code>ï¼Œåªæœ‰ 5 è¡Œä»£ç ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">Function</span>.prototype.bind = <span class="built_in">require</span>(<span class="string">'function-bind'</span>)</div><div class="line"></div><div class="line"><span class="keyword">const</span> testsContext = <span class="built_in">require</span>.context(<span class="string">'./specs'</span>, <span class="literal">true</span>, /\.spec$/)</div><div class="line">testsContext.keys().forEach(testsContext)</div><div class="line"></div><div class="line"><span class="keyword">const</span> srcContext = <span class="built_in">require</span>.context(<span class="string">'../../src'</span>, <span class="literal">true</span>, /^\.\/(?!main(\.js)?$)/)</div><div class="line">srcContext.keys().forEach(srcContext)</div></pre></td></tr></table></figure><p>çœ‹èµ·æ¥å¦‚æœä½¿ç”¨äº†é«˜ç‰ˆæœ¬çš„ NodeJs ç¬¬ä¸€è¡Œä»£ç æ˜¯å¯ä»¥å»æ‰äº†ã€‚</p><ul><li><code>testsContext</code>åŒ¹é…çš„æ˜¯<code>specs</code>ç›®å½•ï¼Œé‡Œé¢æ˜¯å­˜æ”¾çš„æ˜¯æµ‹è¯•ç”¨ä¾‹ï¼›</li><li><code>srcContext</code>åŒ¹é…çš„æ˜¯<code>src</code>ç›®å½•ï¼Œä»æ­£åˆ™ä¸Šçœ‹æ˜¯é™¤äº†<code>main.js</code>ä»¥å¤–çš„æ‰€æœ‰æ–‡ä»¶ã€‚</li></ul><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è„šæœ¬æ–‡ä»¶è¿™ç§æ–¹å¼è®¾ç½®åŒ¹é…çš„ç›®æ ‡æ–‡ä»¶ã€‚</p><h2 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h2><p>ç°åœ¨çœ‹èµ·æ¥ä¸€åˆ‡å¦¥å½“äº†ï¼Œå¯ä»¥å¼€å§‹å†™æµ‹è¯•ç”¨ä¾‹äº†ã€‚</p><p>æŠŠä»¥ä¸Šæ­¥éª¤åˆé‡å¤äº†ä¸€éï¼Œé›†æˆåˆ°äº†ä¸€ä¸ªè‡ªå·±å†™çš„ Demo é¡¹ç›®ä¸­ï¼Œç„¶åè¿è¡Œæµ‹è¯•ã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/vue-unit-2.jpg" alt="vue-unit-2"></div><div class="image-caption">vue-unit-2</div></figure><p>ä»€ä¹ˆé¬¼ï¼Œæ‰¾ä¸åˆ° <code>less</code> å˜é‡ã€‚</p><p>ä¸ºäº†éªŒè¯ä¸æ˜¯é…ç½®é—®é¢˜ï¼Œæˆ‘åœ¨ vue-cli ç”Ÿæˆé¡¹ç›®çš„ç»„ä»¶ä¸­ä½¿ç”¨ less å†™äº†ä¸ªæ ·å¼ï¼Œè¿è¡Œæµ‹è¯•å‡ºç°äº†ä¸€æ ·çš„é—®é¢˜ã€‚<br>æœ€åæ‰¾åˆ°äº†è¿™æ¡<a href="https://github.com/vuejs-templates/webpack/issues/163" target="_blank" rel="external">issue</a>ã€‚<br>ç¿»è¯‘äº†åŠå¤©ï¼Œæ„Ÿè§‰æ˜¯åŒ¹é…æ–‡ä»¶çš„é—®é¢˜ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">const</span> srcContext = <span class="built_in">require</span>.context(<span class="string">'../../src'</span>, <span class="literal">true</span>, /^\.\/(?!main(\.js)?$)/)</div></pre></td></tr></table></figure><p>åŸæ¥çš„æ­£åˆ™ä¼šåŒ¹é…é™¤äº†<code>main.js</code>ä»¥å¤–çš„æ‰€æœ‰æ–‡ä»¶ï¼Œæ‰€ä»¥æ ·å¼æ–‡ä»¶ä¹Ÿä¼šè¢«åŒ¹é…ä¸Šã€‚ä½¿ç”¨ less æ—¶ä¸€èˆ¬åªæœ‰ä¸€ä¸ªå˜é‡æ–‡ä»¶ï¼Œç„¶åä»ä¸€ä¸ª less å‡ºå£æ–‡ä»¶ä¸­è§£æï¼Œè€Œå•å…ƒæµ‹è¯•æœ¬èº«åšçš„å·¥ä½œæ˜¯å•æ–‡ä»¶æµ‹è¯•ï¼Œå•ä¸ª less æ–‡ä»¶è‚¯å®šæ˜¯æ‰¾ä¸åˆ°å˜é‡çš„ã€‚<br>ä¸è¿‡æ ·å¼æœ¬èº«æ˜¯ä¸ä¼šå¯¹é€»è¾‘äº§ç”Ÿå½±å“çš„ï¼Œå¯ä»¥ä¸å‚ä¸æµ‹è¯•ï¼Œå¹²è„†ç›´æ¥é”å®šç›®æ ‡æ–‡ä»¶åç¼€ï¼Œä¹Ÿå°±æ˜¯ vue ç»„ä»¶ã€‚</p><p>ä¿®æ”¹å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">const</span> srcContext = <span class="built_in">require</span>.context(<span class="string">'../../src'</span>, <span class="literal">true</span>, /\.vue$/)</div></pre></td></tr></table></figure><p>åˆšç¿»è¿‡ä¸€åº§å±±ï¼Œåˆé‡åˆ°ä¸€æ¡æ²³ã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/vue-unit-3.jpg" alt="vue-unit-3"></div><div class="image-caption">vue-unit-3</div></figure><p>çœ‹èµ·æ¥æ˜¯å› ä¸º API ä¸å…¼å®¹ï¼ŒPhantomJS ä¸­è¿˜æ²¡æœ‰é›†æˆ Promiseã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/vue-unit-4.jpg" alt="vue-unit-4"></div><div class="image-caption">vue-unit-4</div></figure><p>ä¸ºäº†é¿å…ç›¸ä¼¼çš„é—®é¢˜ï¼Œç´¢æ€§æŠŠ launcher æ¢æ‰äº†ï¼Œç”¨<code>karma-chrome-launcher</code>ã€‚<br>å®‰è£…åï¼Œæ›´æ”¹ Karma é…ç½®ä¸­çš„<code>browsers</code>å±æ€§å€¼ä¸º<code>[&#39;Chrome&#39;]</code>ï¼Œæµ‹è¯•è¿è¡ŒæˆåŠŸã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/vue-unit-5.png" alt="vue-unit-5"></div><div class="image-caption">vue-unit-5</div></figure><p>æœ‰ä¸€äº›é’è‰²çš„ LOGï¼Œç¬¬ä¸€æ¡ä½¿ç”¨ Vue çš„åº”è¯¥éƒ½å·²ç»ç†Ÿæ‚‰äº†ï¼Œæ˜¯æµè§ˆå™¨æ§åˆ¶å°è¾“å‡ºçš„ LOGï¼Œæ‰€ä»¥å…¶ä»–çš„ä¹Ÿæ˜¯æµè§ˆå™¨çš„æ—¥å¿—äº†ã€‚</p><p>ç¬¬ 1ã€3ã€4 æ¡ LOG æ˜¯æœ‰ä¸€ä¸ªæŒ‡ä»¤æ²¡æœ‰æ‰¾åˆ°ï¼Œç¬¬ 2 æ¡æ˜¯å…³äºè·¯ç”±çš„ã€‚æŒ‡ä»¤å’Œè·¯ç”±çš„å¼•å…¥æ˜¯åœ¨é¡¹ç›®å…¥å£çš„ js æ–‡ä»¶å†…ï¼Œå¯ä»¥é¢„çŸ¥å¦‚æœæˆ‘ä½¿ç”¨äº†å…¶ä»–ç±»åˆ«çš„ Vue æ’ä»¶ä¹Ÿä¼šæŠ¥å‡º ERRORã€‚<br>è¿˜æ˜¯æœ‰é—®é¢˜è¦è§£å†³å•Šï¼ğŸ˜’</p><h2 id="æµ‹è¯•ç”¨ä¾‹"><a href="#æµ‹è¯•ç”¨ä¾‹" class="headerlink" title="æµ‹è¯•ç”¨ä¾‹"></a>æµ‹è¯•ç”¨ä¾‹</h2><p>åˆæ¬¡æ¥è§¦æµ‹è¯•æ¡†æ¶å’Œæ–­è¨€ï¼Œå¯¹äºç»„ä»¶çš„æµ‹è¯•ç”¨ä¾‹ä¹Ÿè¿˜åœ¨æ‘¸ç´¢ä¸­ã€‚<br>ä»ä¾‹å­ä¸Šçœ‹ï¼Œå¤§æ¦‚æ€è·¯å¦‚ä¸‹ï¼š</p><ol><li>å¼•å…¥ä¸€ä¸ªç»„ä»¶ï¼›</li><li>åˆ›å»ºä¸€ä¸ªç”¨äºæµ‹è¯•çš„ Vue å®ä¾‹ï¼Œç„¶åç»„ä»¶æŒ‚ä¸Šå»ï¼›</li><li>å¯¹å®ä¾‹è¿›è¡Œæ¨¡æ‹Ÿæ“ä½œï¼Œç„¶åæ–­è¨€æœŸæœ›å€¼ã€‚</li></ol><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></div><div class="line"><span class="keyword">import</span> SearchView <span class="keyword">from</span> <span class="string">'src/components/SearchView'</span></div><div class="line"></div><div class="line">describe(<span class="string">'SearchView.vue'</span>, () =&gt; &#123;</div><div class="line">    it(<span class="string">'Input is normal'</span>, () =&gt; &#123;</div><div class="line">        <span class="keyword">const</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">            <span class="attr">el</span>: <span class="built_in">document</span>.createElement(<span class="string">'div'</span>),</div><div class="line">            <span class="attr">render</span>: <span class="function">(<span class="params">h</span>) =&gt;</span> h(SearchView)</div><div class="line">        &#125;)</div><div class="line"></div><div class="line">        vm.key = <span class="string">'æ›¾ç»çš„ä½ '</span></div><div class="line"></div><div class="line">        vm.$nextTick(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">            expect(vm.$el.querySelector(<span class="string">'.m-key'</span>).textContent).to.equal(<span class="string">'æ›¾ç»çš„ä½ '</span>)</div><div class="line">        &#125;)</div><div class="line">    &#125;)</div><div class="line">&#125;)</div></pre></td></tr></table></figure><p>å®é™…çš„é¡¹ç›®ä¸­ï¼Œé’ˆå¯¹å¤æ‚çš„é€»è¾‘æˆ–è€…å¼‚æ­¥æ“ä½œï¼Œæµ‹è¯•ä¸€å®šä¸ä¼šè¿™ä¹ˆç®€å•ã€‚ğŸ˜…<br>ä¸‹ä¸€æ­¥å‡†å¤‡æ‰¾ä¸€äº› Vue çš„å¼€æºé¡¹ç›®ï¼Œå­¦ä¹ ä¸€ä¸‹å…¶ä¸­çš„æµ‹è¯•ç”¨ä¾‹å†™æ³•ã€‚</p><p>End!</p>]]></content>
    
    <summary type="html">
    
      Vueå•å…ƒæµ‹è¯•é…ç½®ï¼ŒVue unit test, Vue Karma é…ç½®
    
    </summary>
    
    
      <category term="Vue" scheme="http://imys.net/tags/Vue/"/>
    
      <category term="Unit test" scheme="http://imys.net/tags/Unit-test/"/>
    
      <category term="å•å…ƒæµ‹è¯•" scheme="http://imys.net/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/"/>
    
      <category term="Karma" scheme="http://imys.net/tags/Karma/"/>
    
      <category term="Phantomjs" scheme="http://imys.net/tags/Phantomjs/"/>
    
  </entry>
  
  <entry>
    <title>å…³äº text-transform: capitalize å¤±æ•ˆçš„åœºæ™¯ä¸è§£å†³æ–¹æ¡ˆ</title>
    <link href="http://imys.net/20161031/text-transform-capitalize-not-working.html"/>
    <id>http://imys.net/20161031/text-transform-capitalize-not-working.html</id>
    <published>2016-10-31T05:39:02.000Z</published>
    <updated>2016-11-12T19:41:28.737Z</updated>
    
    <content type="html"><![CDATA[<p><code>text-transform</code> æ˜¯ä¸€ä¸ªå¯ä»¥å°†æ–‡å­—è¿›è¡Œå¤§å°å†™è½¬æ¢æˆ–å•è¯é¦–å­—ç¬¦å¤§å†™çš„ CSS å±æ€§ã€‚è‡ªä»çŸ¥é“äº†å®ƒï¼Œæˆ‘å°±å¼€å§‹å·æ‡’ä¸åœ¨ js ä¸­å»åœ¨è°ƒç”¨ç›¸å…³çš„è½¬æ¢å‡½æ•°äº†ã€‚</p><p>æ˜¨å¤©åœ¨ç»™å¤šè¯´æ‰©å±•ç”¨æˆ· UA åŠŸèƒ½æ—¶é‡åˆ°ä¸€ä¸ª <code>text-transform: capitalize</code> å¤±æ•ˆçš„é—®é¢˜ï¼Œç»è¿‡ä¸€ç•ªæµ‹è¯•ï¼Œæ‰¾åˆ°äº†é—®é¢˜çš„åŸå› ã€‚<br><a id="more"></a></p><h2 id="åœºæ™¯è¿˜åŸ"><a href="#åœºæ™¯è¿˜åŸ" class="headerlink" title="åœºæ™¯è¿˜åŸ"></a>åœºæ™¯è¿˜åŸ</h2><p>æ ¹æ®å½“æ—¶åœºæ™¯ï¼ŒæŠ½å–å…³é”® css å±æ€§ï¼š</p><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.capitalize</span> &#123;</div><div class="line">  <span class="attribute">text-transform</span>: capitalize</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.before</span><span class="selector-pseudo">:before</span> &#123;</div><div class="line">  <span class="attribute">content</span>: <span class="string">'hello'</span></div><div class="line">&#125;</div><div class="line"><span class="selector-class">.after</span><span class="selector-pseudo">:after</span> &#123;</div><div class="line">  <span class="attribute">content</span>: <span class="string">'world'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ç°æœ‰å¦‚ä¸‹çš„ HTMLï¼Œä½ ä»¬çŒœæœ€ç»ˆä¼šæ˜¯ä»€ä¹ˆç»“æœï¼Ÿ</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"capitalize"</span>&gt;</span>hello world<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"capitalize"</span>&gt;</span>HELLO WORLD<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"capitalize before"</span>&gt;</span>world<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"capitalize after"</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Hello World</div><div class="line">HELLO WORLD</div><div class="line">Helloworld</div><div class="line">Helloworld</div></pre></td></tr></table></figure><p>é—®é¢˜DEMOé“¾æ¥ï¼š<a href="https://jsfiddle.net/imys/2mb9ykL3/" target="_blank" rel="external">text-transform: capitalize å¤±æ•ˆdemo</a></p><h2 id="é—®é¢˜è§£æ"><a href="#é—®é¢˜è§£æ" class="headerlink" title="é—®é¢˜è§£æ"></a>é—®é¢˜è§£æ</h2><p>é€šè¿‡è¿è¡Œç»“æœå¯ä»¥å‘ç°å…¨å°å†™å•è¯ç»„åˆæ—¶ï¼Œè½¬æ¢æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œç•¥è¿‡ã€‚</p><h3 id="å¤§å†™å•è¯ç»„åˆ"><a href="#å¤§å†™å•è¯ç»„åˆ" class="headerlink" title="å¤§å†™å•è¯ç»„åˆ"></a>å¤§å†™å•è¯ç»„åˆ</h3><p>å…¨å¤§å†™å•è¯ç»„åˆï¼Œè½¬æ¢å¤±æ•ˆï¼ŸçœŸçš„æ˜¯è¿™æ ·å—ï¼Ÿ</p><p>é€šè¿‡æŸ¥é˜…ç›¸å…³æ–‡æ¡£ï¼Œå…³äº <code>capitalize</code> çš„ä»‹ç»ä¸ºï¼š<strong>å°†æ¯ä¸ªå•è¯çš„ç¬¬ä¸€ä¸ªå­—æ¯è½¬æ¢æˆå¤§å†™</strong>ã€‚<br>çœ‹æ¥æ˜¯æˆ‘ä»¬å¯¹å®ƒæœŸæœ›å¤ªé«˜äº†ï¼Œ<code>text-transform: capitalize</code>å¹¶ä¸èƒ½åƒ <code>lodash</code> åº“ä¸­çš„è½¬æ¢å‡½æ•°é‚£æ ·ï¼Œå°†å…¨å¤§å†™çš„çš„ <code>AAA</code> è½¬æ¢æˆä½ æœŸæœ›çš„ <code>Aaa</code>ã€‚</p><h3 id="å«æœ‰ä¼ªå…ƒç´ "><a href="#å«æœ‰ä¼ªå…ƒç´ " class="headerlink" title="å«æœ‰ä¼ªå…ƒç´ "></a>å«æœ‰ä¼ªå…ƒç´ </h3><p>è¿™ä¹Ÿæ˜¯æˆ‘é¢ä¸´åˆ°çš„é—®é¢˜ï¼Œæ¯ä¸ª UA æ ‡ç­¾ä¸Šçš„ tootip éƒ½æ˜¯æˆ‘ç”¨ä¼ªç±»æ¨¡æ‹Ÿçš„ã€‚<br>ç”±äºå½“æ—¶ä¼ªå…ƒç´ æ˜¯ç»å¯¹å®šä½çš„ï¼Œåœ¨è§†è§‰ä¸ŠçœŸçš„æ˜¯å½“ä½œäº†å¦å¤–çš„å…ƒç´ çœ‹å¾…ã€‚</p><p>è€Œåœ¨é—®é¢˜ DEMO ä¸­ï¼Œæˆ‘ä»¬è¿˜åŸäº†ä¼ªå…ƒç´ é»˜è®¤æ˜¾ç¤ºçš„ä½ç½®ï¼š<code>:before</code> å°±æ˜¯åœ¨åŸå§‹å†…å®¹å‰è¿½åŠ å†…å®¹ï¼Œ<code>:after</code> å°±æ˜¯åœ¨åŸå§‹å†…å®¹åè¿½åŠ å†…å®¹ã€‚<br><strong>ç”±äºæœ€åç”Ÿæˆçš„å†…å®¹ä¹‹é—´æ²¡æœ‰é—´éš™ï¼Œå¯¼è‡´ <code>text-transform</code> è½¬æ¢æ—¶å°†å…¶å½“ä½œä¸€ä¸ªå•è¯ã€‚</strong></p><p>ä¸ºäº†éªŒè¯æˆ‘çš„ç»“è®ºï¼Œæˆ‘åœ¨å«æœ‰ä¼ªå…ƒç´ çš„å†…å®¹å‰æˆ–ååŠ äº†ä¸ªç©ºæ ¼ï¼š</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"capitalize before"</span>&gt;</span> world<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"capitalize after"</span>&gt;</span>hello <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div></pre></td></tr></table></figure><p>æœ€åè½¬æ¢æˆåŠŸï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Hello World</div><div class="line">Hello World</div></pre></td></tr></table></figure><p><a href="https://jsfiddle.net/imys/2mb9ykL3/1/" target="_blank" rel="external">DEMO</a></p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p>è™½ç„¶æ‰¾åˆ°äº†é—®é¢˜çš„åŸå› ï¼Œä½†æ˜¯å®é™…åœºæ™¯ä¸­ä½¿ç”¨ä¼ªå…ƒç´ çš„åˆè¡·å°±æ˜¯è¦å°†ä¸€ä¸ªå…ƒç´ å½“ä½œå¤šä¸ªå…ƒç´ ä½¿ç”¨ï¼ŒHTML ä¸­åŠ ç©ºæ ¼ä¼šæœ‰åŠä¸ªä¸­æ–‡å­—ç¬¦å®½åº¦çš„ç©ºç™½ï¼Œä¹Ÿå°±ç­‰äºäº§ç”Ÿäº†ä¸å¿…è¦çš„è¾¹è·ã€‚</p><p>åšåˆ°è¿™é‡ŒçœŸæ˜¯æ„Ÿè§‰ä¸å¦‚ç›´æ¥å†™ä¸ª js è½¬æ¢å‡½æ•°ç®—äº†ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">capitalize</span>(<span class="params">string</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> string.charAt(<span class="number">0</span>).toUpperCase() + string.substr(<span class="number">1</span>).toLowerCase()</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å†™å‡ºæ¥åå¿½ç„¶å‘ç°è¿™æ®µä»£ç å®Œå…¨å¯ä»¥ç”¨ CSS å»â€œå®ç°â€ã€‚</p><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.capitalize</span> &#123;</div><div class="line">    <span class="attribute">text-transform</span>: lowercase;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.capitalize</span><span class="selector-pseudo">:first-letter</span> &#123;</div><div class="line">    <span class="attribute">text-transform</span>: uppercase;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä¸Šä¸ªæœˆæ—­å“¥åšå®¢æœ‰ç¯‡å¾ˆè¯¦ç»†çš„ <code>:first-letter</code> ä»‹ç»ï¼š<a href="http://www.zhangxinxu.com/wordpress/2016/09/css-first-letter-pseudo-element/" target="_blank" rel="external">å¼ é‘«æ—­ï¼šæ·±å…¥CSS :first-letterä¼ªå…ƒç´ åŠå…¶å®ä¾‹ç­‰</a></p><p>å…¶ä¸­æåˆ°äº† <code>:first-letter</code> å’Œ <code>:before</code> ä¹‹é—´çš„çŒ«è…»ï¼Œå°±æ˜¯è¯´ <code>:first-letter</code> ä¹Ÿç”Ÿæ•ˆäº <code>:before</code> ä¼ªå…ƒç´ ã€‚<br>ä¸è¿‡æˆ‘æµ‹è¯•åå‘ç°ï¼Œ<strong>å½“ <code>:before</code> ä¼ªå…ƒç´ è®¾ç½®ä¸ºç»å¯¹å®šä½æ—¶ï¼Œ<code>:first-letter</code>å°†åªä½œç”¨äºåŸå§‹å†…å®¹</strong>ã€‚</p><p><a href="https://jsfiddle.net/imys/x4ntopqr/" target="_blank" rel="external">:first-letterå’Œ:beforeç¤ºä¾‹demo</a></p><p>åˆ©ç”¨è¿™ä¸ªæœºåˆ¶ï¼Œæ€»ç®—å¯ä»¥ç»™è‡ªå·±ä¸€ä¸ªå®Œç¾çš„ç­”å¤äº†ã€‚</p><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.capitalize</span> &#123;</div><div class="line">  <span class="attribute">text-transform</span>: capitalize</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.before</span> &#123;</div><div class="line">  <span class="attribute">padding-left</span>: <span class="number">2.5em</span></div><div class="line">&#125;</div><div class="line"><span class="selector-class">.before</span><span class="selector-pseudo">:before</span> &#123;</div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">content</span>: <span class="string">'hello'</span></div><div class="line">&#125;</div><div class="line"><span class="selector-class">.before</span><span class="selector-pseudo">:first-letter</span> &#123;</div><div class="line">  <span class="attribute">text-transform</span>: uppercase</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.after</span><span class="selector-pseudo">:after</span> &#123;</div><div class="line">  <span class="attribute">position</span>: absolute;</div><div class="line">  <span class="attribute">content</span>: <span class="string">'world'</span>;</div><div class="line">  <span class="attribute">text-transform</span>: capitalize</div><div class="line">&#125;</div></pre></td></tr></table></figure><ul><li>é™„åŠ å†…å®¹åœ¨ <code>:before</code> æ—¶ï¼Œä½¿ç”¨ <code>:first-letter</code> + <code>uppercase</code> è§£å†³ï¼Œå¦‚æœåŸå§‹å†…å®¹æœ‰å¤§å†™ï¼Œéœ€è¦å†ç»™åŸæ ‡ç­¾åŠ  <code>lowercase</code>ï¼›</li><li>é™„åŠ å†…å®¹åœ¨ <code>:after</code> æ—¶ï¼Œç»™ <code>:after</code> å†åŠ  <code>capitalize</code>ã€‚</li></ul><p><a href="https://jsfiddle.net/imys/2mb9ykL3/2/" target="_blank" rel="external">DEMO</a></p><h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2>]]></content>
    
    <summary type="html">
    
      å…³äº text-transform: capitalize å¤±æ•ˆçš„åœºæ™¯ä¸è§£å†³æ–¹æ¡ˆ
    
    </summary>
    
    
      <category term="CSS" scheme="http://imys.net/tags/CSS/"/>
    
      <category term="CSS3" scheme="http://imys.net/tags/CSS3/"/>
    
      <category term="text-transform" scheme="http://imys.net/tags/text-transform/"/>
    
      <category term="capitalize" scheme="http://imys.net/tags/capitalize/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨â€œé˜Ÿåˆ—â€è§£å†³â€œæ’é˜Ÿâ€ä¸šåŠ¡åœºæ™¯</title>
    <link href="http://imys.net/20161027/use-queue-solve-continuous-request.html"/>
    <id>http://imys.net/20161027/use-queue-solve-continuous-request.html</id>
    <published>2016-10-27T09:21:23.000Z</published>
    <updated>2016-11-12T19:39:34.538Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸ºäº†è¾¾åˆ°æ“ä½œå˜åŒ–çš„å®æ—¶æ€§ï¼Œåœ¨å¤šé€‰æ‹©é¡¹çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå¾€å¾€ç‚¹å‡»ä¸€æ¬¡å°±ä¼šå‘é€ä¸€æ¬¡ HTTP è¯·æ±‚ã€‚<br>ä½†åŒæ—¶åˆé¢ä¸´å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨è¿ç»­ç‚¹å‡»åŒä¸€ä¸ªé€‰æ‹©é¡¹æ—¶ï¼Œå°±ä¼šè¿ç»­è§¦å‘é’ˆå¯¹æ­¤é¡¹çš„åˆ é™¤æˆ–æ·»åŠ é€»è¾‘ï¼Œè¿›è€Œè¿ç»­å‘é€ POST æˆ– DELETE è¯·æ±‚ã€‚<br>ç†æƒ³çš„çŠ¶æ€æ˜¯ä¸Šä¸€ä¸ªè¯·æ±‚ç»“æŸåæ‰å¼€å§‹ä¸‹ä¸€ä¸ªè¯·æ±‚ï¼Œä½†æ˜¯ç½‘ç»œè¯·æ±‚æ˜¯å¼‚æ­¥çš„ã€è¯·æ±‚è€—æ—¶æ˜¯ä¸å¯æ§çš„ï¼Œä¹Ÿå°±æœ‰å¯èƒ½åœ¨æ­¤é¡¹çš„æ·»åŠ è¯·æ±‚æœªå®Œæˆå‰ï¼Œåˆ é™¤è¯·æ±‚å…ˆå®Œæˆäº†ã€‚</p><p>æˆ‘è§‰å¾—ç”¨â€œæ’é˜Ÿâ€æ¥æè¿°è¿™ä¸ªåœºæ™¯çœŸæ˜¯å†å¥½ä¸è¿‡äº†ã€‚<br><a id="more"></a></p><h2 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h2><p>æ—¢ç„¶æœ‰äººè¦â€œæ’é˜Ÿâ€ï¼Œæˆ‘ä»¬å°±è¦å®šä¹‰ä¸€ä¸ªè§„åˆ™ï¼š<strong>å…ˆè¿›å…ˆå‡º</strong>ã€‚<br>ä¹Ÿå°±æ˜¯æ•°æ®ç»“æ„ä¸­çš„â€œé˜Ÿåˆ—â€äº†ã€‚</p><p>javascript ä¸­é˜Ÿåˆ—çš„å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// å®ç°1</span></div><div class="line"><span class="keyword">var</span> queue = []</div><div class="line"><span class="comment">// è¿›é˜Ÿ</span></div><div class="line">queue.push(<span class="number">1</span>)</div><div class="line">queue.push(<span class="number">2</span>)</div><div class="line">queue.push(<span class="number">3</span>)</div><div class="line"><span class="comment">// å‡ºé˜Ÿ</span></div><div class="line">queue.shift() <span class="comment">// 1</span></div><div class="line">queue.shift() <span class="comment">// 2</span></div><div class="line">queue.shift() <span class="comment">// 3</span></div><div class="line"></div><div class="line"><span class="comment">// å®ç°2</span></div><div class="line"><span class="keyword">var</span> queue2 = []</div><div class="line"><span class="comment">// è¿›é˜Ÿ</span></div><div class="line">queue2.unshift(<span class="number">1</span>)</div><div class="line">queue2.unshift(<span class="number">2</span>)</div><div class="line">queue2.unshift(<span class="number">3</span>)</div><div class="line"><span class="comment">// å‡ºé˜Ÿ</span></div><div class="line">queue2.pop() <span class="comment">// 1</span></div><div class="line">queue2.pop() <span class="comment">// 2</span></div><div class="line">queue2.pop() <span class="comment">// 3</span></div></pre></td></tr></table></figure><h2 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h2><p>å®šä¹‰ä¸€ä¸ªæ•°ç»„å­˜æ”¾æ¯ä¸€æ¬¡ç‚¹å‡»çš„ HTTP è¯·æ±‚ï¼Œæ­¤å¤–ä¸ç®¡ä½ ä½¿ç”¨ä½•ç§å¼€å‘æŠ€æœ¯éƒ½åº”è¯¥æœ‰ä¸ªå‘é€è¯·æ±‚çš„å‡½æ•°æˆ–åº“ï¼Œå¦‚æœæ˜¯åŸºäº promise å°±æ›´å¥½äº†ï¼Œè¿™é‡Œç®€å•ç”¨ XHR ä»£æ›¿ã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> requestQueue = []</div><div class="line"><span class="keyword">var</span> XHR = <span class="function"><span class="keyword">function</span>(<span class="params">method, url, param</span>) </span>&#123;&#125;</div></pre></td></tr></table></figure><p>ç‚¹å‡»æ“ä½œçš„å…¥å£å‡½æ•°ï¼Œå…ˆåˆ›å»ºè¯·æ±‚è¿›é˜Ÿã€‚<br>å› ä¸ºç¬¬äºŒæ¬¡è¯·æ±‚å¿…é¡»è¦åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚å®Œæˆä¹‹åï¼Œæ‰€ä»¥åªæœ‰é˜Ÿåˆ—ä¸­ä»…å­˜åœ¨ä¸€ä¸ªè¯·æ±‚æ—¶æ‰å»è§¦å‘æ›´æ–°ã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">myClick</span>(<span class="params">method, url, param</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> len = requestQueue.push(XHR(method, url, param))</div><div class="line"></div><div class="line">    <span class="keyword">if</span>(len === <span class="number">1</span>) &#123;</div><div class="line">        update()</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>æ‰§è¡Œçš„æ°¸è¿œæ˜¯é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªè¯·æ±‚ã€‚<br>å½“ä¸€ä¸ªè¯·æ±‚å®Œæˆåï¼Œå°±å‡ºé˜Ÿï¼Œé˜Ÿåˆ—ä¸­å‰©ä½™çš„è¯·æ±‚ä¾æ¬¡å‰è¿›ä¸€ä¸ªä½ç½®ã€‚<br>å¦‚æœå­˜åœ¨æœªå®Œæˆçš„è¯·æ±‚ï¼Œç»§ç»­è°ƒç”¨æ›´æ–°æ“ä½œã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">update</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    requestQueue[<span class="number">0</span>].then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</div><div class="line">        <span class="comment">// request success</span></div><div class="line">        requestQueue.shift()</div><div class="line">        requestQueue.length &amp;&amp; update()</div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      å¼€å‘å®è·µä¸­æ•°æ®ç»“æ„çš„åº”ç”¨ï¼Œä½¿ç”¨â€œé˜Ÿåˆ—â€è§£å†³éœ€è¦è¿ç»­è¯·æ±‚çš„ä¸šåŠ¡åœºæ™¯
    
    </summary>
    
    
      <category term="Promise" scheme="http://imys.net/tags/Promise/"/>
    
      <category term="Request" scheme="http://imys.net/tags/Request/"/>
    
      <category term="HTTP" scheme="http://imys.net/tags/HTTP/"/>
    
      <category term="Queue" scheme="http://imys.net/tags/Queue/"/>
    
      <category term="æ•°æ®ç»“æ„" scheme="http://imys.net/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>javaé¡¹ç›®ä¸‹åŸºäºwebpackçš„å‰ç«¯å¼€å‘ç¯å¢ƒæ„å»º</title>
    <link href="http://imys.net/20161013/java-webpack-dev-build.html"/>
    <id>http://imys.net/20161013/java-webpack-dev-build.html</id>
    <published>2016-10-13T06:05:56.000Z</published>
    <updated>2016-11-12T19:20:21.641Z</updated>
    
    <content type="html"><![CDATA[<p>æ ‡é¢˜å¯èƒ½ä¸æ˜¯å¾ˆæ°å½“ï¼Œæƒ³ä¸åˆ°ä¸€ä¸ªåˆé€‚çš„æ ‡é¢˜æ¥æ¦‚æ‹¬æˆ‘é‡åˆ°ä»¥åŠè§£å†³çš„é—®é¢˜ï¼Œæš‚ä¸”è¿™æ ·å§ã€‚</p><h2 id="é¡¹ç›®æè¿°"><a href="#é¡¹ç›®æè¿°" class="headerlink" title="é¡¹ç›®æè¿°"></a>é¡¹ç›®æè¿°</h2><p>æ˜¯ä¸€ä¸ªä¸å®Œå…¨ä¸åç«¯åˆ†ç¦»çš„åŸºäº webpack æ„å»ºçš„ Vue é¡¹ç›®ã€‚</p><p>é¡¹ç›®å…¥å£æ˜¯ä¸€ä¸ª jsp é¡µé¢ï¼Œå…¶ä¸­å¼•ç”¨äº†ä¸€äº› jsp æ¨¡ç‰ˆã€‚æˆ‘æƒ³æ˜¯å› ä¸ºæœ‰ä¸€äº›å†…å®¹éœ€è¦åç«¯ç›´å‡ºåˆ°é¡µé¢ä¸Šã€‚<br>è¯¥é¡µé¢ä¸Šå›ºå®šå¼•ç”¨äº† webpack æ‰“åŒ…å¥½çš„ css åŠ js æ–‡ä»¶è·¯å¾„ï¼Œå½“ç„¶ä¹ŸåŠ äº†åŠ¨æ€å‚æ•°ç”¨äºåˆ·æ–°ç‰ˆæœ¬æ›´æ–°åçš„å®¢æˆ·ç«¯ç¼“å­˜ã€‚</p><p>å¯ä»¥ä½¿ç”¨ <code>webpack</code> å‘½ä»¤æ‰“åŒ…ï¼Œæˆ–æ˜¯ç”¨ <code>webpack --progress --colors --watch</code> å‘½ä»¤å¯åŠ¨ç›‘å¬æ¨¡å¼åŠ¨æ€æ„å»ºã€‚<br><a id="more"></a></p><p>è¿™è®©å‰ç«¯å¼€å‘ç¯å¢ƒå˜çš„ä¸å¤Ÿå‹å¥½ï¼šç›‘å¬æ¨¡å¼ä¸‹ä¿®æ”¹æ–‡ä»¶åï¼Œæ˜¯éœ€è¦é€šè¿‡åˆ·æ–°é¡µé¢è·å–æ›´æ”¹çš„ã€‚<br>å¥½åƒå›åˆ°äº†ä¼ ç»Ÿçš„å‰ç«¯å¼€å‘ç¯å¢ƒä¸­ã€‚</p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p>ç”±äºå…¥å£é¡µé¢æ˜¯ç”±åç«¯æ¸²æŸ“ jsp ç”Ÿæˆçš„ï¼Œç”¨ <code>html-webpack-plugin</code> æ’ä»¶ç”Ÿæˆ html å¹¶æ³¨å…¥è„šæœ¬ã€æ ·å¼çš„æ³•å­è¡Œä¸é€šäº†ã€‚</p><p>çƒ­æ›¿æ¢æ„Ÿè§‰æ²¡æˆäº†ï¼Œå°±æƒ³åŠæ³•åŠ ä¸ªè‡ªåŠ¨åˆ·æ–°å§ã€‚</p><h3 id="webpack-dev-server"><a href="#webpack-dev-server" class="headerlink" title="webpack-dev-server"></a>webpack-dev-server</h3><p>å¼€å§‹ç”¨ <code>webpack-dev-server</code> ä»£ç†åç«¯æœåŠ¡å™¨ï¼Œå¯ä»¥å®ç°ç›‘å¬æ›´æ”¹ã€å®æ—¶æ„å»ºï¼Œä½†ç”±äºé¡µé¢ä¸Šçš„é¡µé¢æ ·å¼è„šæœ¬å¼•ç”¨ä¸ webpack æ„å»ºå¥½çš„æ–‡ä»¶è·¯å¾„åŒ¹é…ä¸ä¸Šï¼Œè¿˜æ˜¯è·å–ä¸åˆ°æ›´æ”¹ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</div><div class="line"><span class="keyword">var</span> webpackDevServer = <span class="built_in">require</span>(<span class="string">'webpack-dev-server'</span>)</div><div class="line"><span class="keyword">var</span> config = <span class="built_in">require</span>(<span class="string">'./webpack.config'</span>)</div><div class="line"></div><div class="line"><span class="keyword">var</span> server = <span class="keyword">new</span> webpackDevServer(webpack(config), &#123;</div><div class="line">    <span class="attr">hot</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">quiet</span>: <span class="literal">false</span>,</div><div class="line">    <span class="attr">stats</span>: &#123; </div><div class="line">        <span class="attr">chunks</span>: <span class="literal">false</span>,</div><div class="line">        <span class="attr">colors</span>: <span class="literal">true</span> </div><div class="line">    &#125;,</div><div class="line">    <span class="attr">proxy</span>: &#123;</div><div class="line">        <span class="string">'**'</span>: <span class="string">'http://localhost:8080'</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">historyApiFallback</span>: <span class="literal">true</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line">server.listen(<span class="number">3000</span>)</div></pre></td></tr></table></figure><p>è·‘äº† 3000 ç«¯å£ï¼Œé¡µé¢ä¸Šçš„æ–‡ä»¶å¼•ç”¨ä¾ç„¶æ˜¯ 8080 ç«¯å£ï¼Œå¥½åƒæ˜¯åœ¨åç«¯å°±å†™æ­»äº†ã€‚å³ä½¿æ˜¯æˆ‘ä¸´æ—¶æ”¹äº† jsp æ–‡ä»¶çš„å¼•ç”¨è·¯å¾„ï¼Œè¿˜æ˜¯éœ€è¦æ‰‹åŠ¨åˆ·æ–°ä¸‹é¡µé¢æ‰èƒ½è·å–æ›´æ”¹ã€‚</p><h3 id="browsersync"><a href="#browsersync" class="headerlink" title="browsersync"></a>browsersync</h3><p>æƒ³èµ·äº† gulp æ—¶ä»£ä¸€ç›´ç”¨çš„ <code>browsersync</code>ï¼Œç”¨å®ƒä»£ç†åç«¯æœåŠ¡ï¼Œç›‘å¬æ–‡ä»¶å˜æ›´å¹¶æ‰§è¡Œ <code>webpack</code> å‘½ä»¤ï¼Œåˆ·æ–°æµè§ˆå™¨ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">require</span>(<span class="string">'shelljs/global'</span>)</div><div class="line"><span class="keyword">var</span> bs = <span class="built_in">require</span>(<span class="string">'browser-sync'</span>).create()</div><div class="line"></div><div class="line">bs.init(&#123;</div><div class="line">    <span class="attr">proxy</span>: <span class="string">'http://localhost:8080'</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line">bs.watch(<span class="string">'./src/**/*.*'</span>).on(<span class="string">'change'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">    exec(<span class="string">'webpack'</span>, bs.reload)</div><div class="line">&#125;)</div></pre></td></tr></table></figure><p>ä½†è¿™æ ·æ¯æ¬¡æ‰§è¡Œ <code>webpack</code> å‘½ä»¤ï¼Œéƒ½ç›¸å½“äºå…¨æ–°ç¼–è¯‘ï¼Œæ‰€ä»¥é€Ÿåº¦å¾ˆæ…¢ã€‚ä»¥è¯¥é¡¹ç›®è€Œè¨€ï¼Œæ¯æ¬¡æ›´æ”¹åéœ€è¦ç­‰å¾… 6s æ‰åˆ·æ–°æµè§ˆå™¨ã€‚</p><p>è¿˜å®éªŒäº† gulp + webpack-streamï¼Œå±äºæ¢æ±¤ä¸æ¢è¯ï¼Œæ¯æ¬¡è¿˜æ˜¯å…¨æ–°ç¼–è¯‘ã€‚</p><p>ä»Šå¤©å¿½ç„¶æƒ³åˆ°ï¼Œç›´æ¥ç”¨ webpack çš„ç›‘å¬æ¨¡å¼å¯åŠ¨ï¼Œåœ¨æ¯æ¬¡ç¼–è¯‘ååˆ·æ–°æµè§ˆå™¨å°±å¯ä»¥äº†ã€‚ç›‘å¬æ¨¡å¼ä¸‹ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡æ˜¯å…¨æ–°ç¼–è¯‘ï¼Œä¹‹åä¼šç¼“å­˜æœªå˜åŒ–çš„æ¨¡å—ï¼Œæ‰€ä»¥é€Ÿåº¦å¾ˆå¿«ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</div><div class="line"><span class="keyword">var</span> webpackDevServer = <span class="built_in">require</span>(<span class="string">'webpack-dev-server'</span>)</div><div class="line"><span class="keyword">var</span> config = <span class="built_in">require</span>(<span class="string">'./webpack.config'</span>)</div><div class="line"><span class="keyword">var</span> bs = <span class="built_in">require</span>(<span class="string">'browser-sync'</span>).create()</div><div class="line"></div><div class="line"><span class="keyword">var</span> compiler = webpack(config)</div><div class="line"></div><div class="line">bs.init(&#123;</div><div class="line">    <span class="attr">proxy</span>: <span class="string">'http://localhost:8080'</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line">compiler.watch(&#123; </div><div class="line">    <span class="attr">aggregateTimeout</span>: <span class="number">300</span>,      <span class="comment">// 300ms å†…çš„æ–‡ä»¶æ›´æ”¹èšåˆåˆ°ä¸€æ¬¡æ„å»ºä¸­</span></div><div class="line">    ignored: <span class="regexp">/node_modules/</span>,    <span class="comment">// å¿½ç•¥å¤§æ–‡ä»¶æˆ–åŸºæœ¬ä¸ä¼šå˜æ›´çš„ç›®å½•</span></div><div class="line">    poll: <span class="literal">true</span>                  </div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, stats</span>) </span>&#123;</div><div class="line"></div><div class="line">    bs.reload()</div><div class="line"></div><div class="line">    <span class="built_in">console</span>.log(stats.toString(&#123;</div><div class="line">        <span class="attr">chunks</span>: <span class="literal">false</span>, </div><div class="line">        <span class="attr">colors</span>: <span class="literal">true</span></div><div class="line">    &#125;))</div><div class="line">&#125;)</div></pre></td></tr></table></figure><p>ç›‘å¬æ¨¡å¼é™¤äº†å‘½ä»¤è¡Œå¯åŠ¨å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>watch</code> æ–¹æ³•è°ƒç”¨ï¼Œè¿˜å¯ä»¥é€šè¿‡ <code>ignored</code> é…ç½®é¡¹å¿½ç•¥ä¸€äº›ä¸ä¼šå˜æ›´çš„ç›®å½•ã€‚<br>ä¹‹åæ¯æ¬¡ä¿å­˜æ–‡ä»¶ï¼Œåªéœ€è¦ 100ms å·¦å³å°±ä¼šåˆ·æ–°æµè§ˆå™¨ã€‚</p><h2 id="æ„Ÿå¹ä¸€å¥"><a href="#æ„Ÿå¹ä¸€å¥" class="headerlink" title="æ„Ÿå¹ä¸€å¥"></a>æ„Ÿå¹ä¸€å¥</h2><blockquote><p>å¦‚ä»Šçš„å‰ç«¯æŠŠå¤šå°‘æ—¶é—´éƒ½è€—åœ¨ç¯å¢ƒæ­å»ºä¸Šäº†~</p></blockquote>]]></content>
    
    <summary type="html">
    
      javaé¡¹ç›®ä¸‹åŸºäºwebpackçš„å‰ç«¯å¼€å‘ç¯å¢ƒæ„å»ºï¼Œå®æ—¶åˆ·æ–°é¢„è§ˆ
    
    </summary>
    
    
      <category term="Java" scheme="http://imys.net/tags/Java/"/>
    
      <category term="jsp" scheme="http://imys.net/tags/jsp/"/>
    
      <category term="Webpack" scheme="http://imys.net/tags/Webpack/"/>
    
      <category term="BrowserSync" scheme="http://imys.net/tags/BrowserSync/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•ä¸ºCanvasä¸­ç‰¹å®šå›¾å½¢ç»‘å®šäº‹ä»¶ï¼Ÿ</title>
    <link href="http://imys.net/20160808/canvas-event.html"/>
    <id>http://imys.net/20160808/canvas-event.html</id>
    <published>2016-08-08T06:43:38.000Z</published>
    <updated>2016-11-12T19:10:45.626Z</updated>
    
    <content type="html"><![CDATA[<p>Canvas æœ¬èº«ä¹Ÿå±äº HTMLElementï¼Œè‡ªç„¶ä¹Ÿæ˜¯æ”¯æŒå„ç§äº‹ä»¶ç»‘å®šçš„ã€‚<br>ä½†ç»˜åˆ¶åœ¨å…¶ä¸­çš„å›¾å½¢å¹¶ä¸ä½œä¸ºå…¶å­å…ƒç´ å­˜åœ¨ï¼Œè¿™å°±ä¸èƒ½æ–¹ä¾¿çš„ä¸º Canvas ä¸­çš„æŸä¸ªç‰¹å®šå›¾å½¢å»ç»‘å®šäº‹ä»¶ã€‚</p><p>æˆ‘ä»¬éƒ½çŸ¥é“ js ä¸­çš„äº‹ä»¶å§”æ‰˜ï¼Œå°†äº‹ä»¶ç»‘å®šåˆ°çˆ¶èŠ‚ç‚¹ä¸Šï¼Œå¾…åˆ°çˆ¶èŠ‚ç‚¹å“åº”äº‹ä»¶æ—¶ï¼ŒåŠ¨æ€åˆ¤æ–­å½“å‰å“åº”å…ƒç´ ä¸ºç›®æ ‡å­èŠ‚ç‚¹æ—¶å†æ‰§è¡Œå¯¹åº”çš„æ“ä½œã€‚</p><p>è¿™ä¸ªæ€æƒ³åŒæ ·ä¹Ÿå¯ä»¥ç”¨åœ¨ Canvas ä¸Šï¼Œåªéœ€è¦ä¸º <code>canvas</code> å…ƒç´ ç»‘å®šäº‹ä»¶ï¼Œäº‹ä»¶å“åº”æ—¶åˆ¤æ–­å½“å‰é¼ æ ‡ä½ç½®å¤„äºå“ªä¸ªå›¾å½¢ä¹‹ä¸Šï¼Œæ‰§è¡Œå¯¹åº”çš„æ“ä½œã€‚<br><a id="more"></a></p><h2 id="isPointInPath"><a href="#isPointInPath" class="headerlink" title="isPointInPath"></a>isPointInPath</h2><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">context.isPointInPath(x, y);</div></pre></td></tr></table></figure><p>ç†è®ºä¸Šè®²ï¼Œæƒ³è¦çŸ¥é“ä¸€ä¸ªç‚¹æ˜¯å¦å¤„äºä¸€ä¸ªå›¾å½¢ä¹‹ä¸­ï¼Œç°æˆçš„ç®—æ³•åº”è¯¥æ˜¯æœ‰å¾ˆå¤šäº†ã€‚ä¸è¿‡éš¾å¾— canvas æœ¬èº«å°±æä¾›äº†è¿™æ ·çš„å‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯å¦å¤„äºå½“å‰è·¯å¾„ä¸­ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> c = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>);</div><div class="line"><span class="keyword">var</span> ctx = c.getContext(<span class="string">'2d'</span>);</div><div class="line">ctx.rect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">200</span>, <span class="number">200</span>);</div><div class="line"><span class="built_in">console</span>.log(ctx.isPointInPath(<span class="number">50</span>, <span class="number">100</span>))  <span class="comment">// true</span></div></pre></td></tr></table></figure><p>å°±åƒè¿™æ ·ï¼Œå½“ä½ åˆ›å»ºä¸€ä¸ªçŸ©å½¢æ—¶ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªè·¯å¾„ï¼Œæ­¤æ—¶å°±å¯ä»¥è°ƒç”¨è¯¥æ–¹æ³•å»åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯å¦å­˜åœ¨äºè¯¥è·¯å¾„ã€‚</p><p>äº§ç”Ÿè·¯å¾„çš„å‡½æ•°è¿˜æœ‰å…¶ä»–ï¼Œæ¯”å¦‚ï¼š<code>lineTo()</code>ã€<code>clip()</code>ã€<code>arc()</code>ã€<code>arcTo()</code> ç­‰ã€‚</p><h2 id="å®ç°å›¾å½¢çš„äº‹ä»¶ç»‘å®š"><a href="#å®ç°å›¾å½¢çš„äº‹ä»¶ç»‘å®š" class="headerlink" title="å®ç°å›¾å½¢çš„äº‹ä»¶ç»‘å®š"></a>å®ç°å›¾å½¢çš„äº‹ä»¶ç»‘å®š</h2><p>å…ˆæ¥ä¸ªç®€å•çš„é¥¼å›¾å§ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"c"</span> <span class="attr">width</span>=<span class="string">"400"</span> <span class="attr">height</span>=<span class="string">"400"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'c'</span>);</div><div class="line"><span class="keyword">var</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</div><div class="line"><span class="keyword">var</span> r = canvas.width / <span class="number">2</span>;</div><div class="line"></div><div class="line">ctx.beginPath();</div><div class="line">ctx.arc(r, r, r, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">1</span>);</div><div class="line">ctx.fillStyle = <span class="string">'#2196f3'</span>; <span class="comment">//è“è‰²</span></div><div class="line">ctx.fill();</div><div class="line"></div><div class="line">ctx.beginPath();</div><div class="line">ctx.arc(r, r, r, <span class="built_in">Math</span>.PI * <span class="number">1</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</div><div class="line">ctx.fillStyle = <span class="string">'#f44336'</span>; <span class="comment">//çº¢è‰²</span></div><div class="line">ctx.fill();</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isInPath</span> (<span class="params">x, y</span>)</span>&#123;</div><div class="line">    ctx.arc(r, r, r, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">1</span>);</div><div class="line">    <span class="keyword">return</span> ctx.isPointInPath(x, y);</div><div class="line">&#125;</div><div class="line"></div><div class="line">canvas.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(isInPath(e.offsetX, e.offsetY)) &#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'hello'</span>)</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure><p>ç°åœ¨åˆ›å»ºä¸€ä¸ªçº¢è“æ‹¼æ¥çš„é¥¼å›¾ï¼Œ<code>isInPath</code> æ–¹æ³•åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯å¦å¤„äºè“è‰²åŒºã€‚ç†æƒ³çš„ç»“æœæ˜¯åªæœ‰å½“é¼ æ ‡ç‚¹å‡»åŒºåŸŸä¸ºè“è‰²åŒºåŸŸæ—¶æ‰è¾“å‡º <code>hello</code>ã€‚</p><p>ä½†äº‹å®ç¡®ä¸æ˜¯å¦‚æ­¤ï¼Œ<a href="https://jsfiddle.net/imys/7r4xes6v/1/" target="_blank" rel="external">ç¤ºä¾‹Demo</a>ã€‚æ— è®ºç‚¹å‡»çº¢è‰²è¿˜æ˜¯è“è‰²åŒºåŸŸå‡ä¼šè¾“å‡º <code>hello</code>ï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ</p><h3 id="è·¯å¾„"><a href="#è·¯å¾„" class="headerlink" title="è·¯å¾„"></a>è·¯å¾„</h3><p>æ—¢ç„¶ <code>isPointInPath(x, y)</code> çš„åŸºäºè·¯å¾„åˆ¤æ–­çš„ï¼Œé‚£æˆ‘ä»¬å°±ä»è·¯å¾„å…¥æ‰‹ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">ctx.arc(r, r, r, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">1</span>);</div><div class="line">ctx.fillStyle = <span class="string">'#2196f3'</span>;</div><div class="line">ctx.fill();</div><div class="line"></div><div class="line">ctx.arc(r, r, r, <span class="built_in">Math</span>.PI * <span class="number">1</span>, <span class="built_in">Math</span>.PI * <span class="number">2</span>);</div><div class="line">ctx.fillStyle = <span class="string">'#f44336'</span>;</div><div class="line">ctx.fill();</div></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬æŠŠç”»å›¾æ—¶çš„ <code>ctx.beginPath()</code> å»æ‰åï¼Œå‘ç°ç”Ÿæˆçš„å›¾å½¢å˜æˆä¸€ä¸ªçº¢è‰²çš„æ•´åœ†äº†ï¼š<a href="https://jsfiddle.net/imys/7r4xes6v/2/" target="_blank" rel="external">ç¤ºä¾‹Demo</a>ã€‚</p><p><code>beginPath()</code> ç”¨æ¥é‡ç½®è·¯å¾„ï¼Œç”±äºç¬¬ä¸€ä¸ªåŠåœ†ç”»å®Œè·¯å¾„æœªé‡ç½®ï¼Œç¬¬äºŒä¸ªåŠåœ†å°±ç»˜åˆ¶äº†ä¸¤æ¡è·¯å¾„ã€‚è¿™ä¼¼ä¹è§£é‡Šäº†ä¸Šä¸ªé—®é¢˜çš„ç­”æ¡ˆã€‚</p><p>åœ¨ <code>isInPath(x, y)</code> å‡½æ•°ä¸­ï¼Œç”±äºè·¯å¾„æ²¡æœ‰é‡ç½®ï¼Œæ‰€ä»¥æœ€ç»ˆæœ€ç»ˆåˆ¤æ–­çš„ä¸æ­¢æ˜¯ <code>ctx.arc(r, r, r, 0, Math.PI * 1)</code> è¿™ä¸ªè·¯å¾„ï¼Œè¿˜æœ‰æ–¹æ³•å¤–çš„ç”»çº¢è‰²åœ†çš„è·¯å¾„ã€‚ä¸¤ä¸ªè·¯å¾„åŠ ä¸€èµ·è‡ªç„¶å°±æ˜¯ä¸ªæ•´åœ†ï¼Œæ‰€ä»¥æ— è®ºè“è‰²åŒºè¿˜æ˜¯çº¢è‰²åŒºéƒ½ä¼šè¾“å‡ºã€‚</p><h3 id="æ­£ç¡®ç»“æœ"><a href="#æ­£ç¡®ç»“æœ" class="headerlink" title="æ­£ç¡®ç»“æœ"></a>æ­£ç¡®ç»“æœ</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isInPath</span> (<span class="params">x, y</span>)</span>&#123;</div><div class="line">    ctx.beginPath();</div><div class="line">    ctx.arc(r, r, r, <span class="number">0</span>, <span class="built_in">Math</span>.PI * <span class="number">1</span>);</div><div class="line">    <span class="keyword">return</span> ctx.isPointInPath(x, y)</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä¿®æ”¹ <code>isInPath</code> å‡½æ•°ï¼ŒåŠ å…¥é‡ç½®è·¯å¾„ï¼Œç»“æœæ­£ç¡®è¾“å‡ºï¼š<a href="https://jsfiddle.net/imys/58965umL/1/" target="_blank" rel="external">ç¤ºä¾‹Demo</a>ã€‚</p><h2 id="å®æˆ˜ç¤ºä¾‹"><a href="#å®æˆ˜ç¤ºä¾‹" class="headerlink" title="å®æˆ˜ç¤ºä¾‹"></a>å®æˆ˜ç¤ºä¾‹</h2><p><a href="https://jsfiddle.net/imys/48xx5fxu/2/" target="_blank" rel="external">é¼ æ ‡æ‚¬æµ®æ˜¾ç¤ºåŒºå—æ•°æ®çš„é¥¼å›¾</a>ã€‚</p>]]></content>
    
    <summary type="html">
    
      Canvasç»‘å®šäº‹ä»¶ï¼Œä¸ºCanvasä¸­ç‰¹å®šå›¾å½¢ç»‘å®šäº‹ä»¶
    
    </summary>
    
    
      <category term="Canvas" scheme="http://imys.net/tags/Canvas/"/>
    
      <category term="Html5" scheme="http://imys.net/tags/Html5/"/>
    
      <category term="Event" scheme="http://imys.net/tags/Event/"/>
    
  </entry>
  
  <entry>
    <title>VsCodeæ’ä»¶ï¼šä¸ƒç‰›å›¾åºŠå·¥å…·ï¼Œå†™æ–‡ç« æ›´å¿«ä¸€æ­¥</title>
    <link href="http://imys.net/20160726/vscode-extension-qiniu-upload.html"/>
    <id>http://imys.net/20160726/vscode-extension-qiniu-upload.html</id>
    <published>2016-07-26T01:53:52.000Z</published>
    <updated>2016-11-12T19:31:03.402Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>ä¸€ç›´ä»¥æ¥ï¼Œæˆ‘éƒ½å¾ˆå°‘åœ¨æ–‡ç« ä¸­åŠ æ’å›¾ã€‚å› ä¸ºæ¯åŠ ä¸€å¼ æ’å›¾ï¼Œæˆ‘éƒ½éœ€è¦å…ˆæŠŠå›¾ç‰‡ä¸Šä¼ åˆ°ä¸ƒç‰›ï¼Œç„¶åæ‰èƒ½è·å–å¤–é“¾æ’å…¥æ–‡ç« ã€‚</p><p>ä¹‹å‰å†™ Markdown ä¸€ç›´æ˜¯ç”¨çš„ Sublimeï¼Œç›´åˆ° Vscode æœ€è¿‘ä¸€æ¬¡æ›´æ–°æœ‰äº† Tabs ä¹‹åï¼Œä¾¿å¼€å§‹å°è¯•åœ¨å·¥ä½œä¸­ä½¿ç”¨ã€‚ä¸æœ€åˆçš„é¢„è§ˆç‰ˆç›¸æ¯”è¿›æ­¥è›®å¤§çš„ï¼Œèƒ½çœ‹åˆ°å¾ˆå¤š VS çš„å½±å­ã€‚ä¹‹å‰ä¹Ÿç”¨è¿‡ä¸€æ®µæ—¶é—´ Atomï¼Œè™½ç„¶ç•Œé¢æŒºå–œæ¬¢ï¼Œä½†å§‹ç»ˆæ²¡æœ‰åŸç”Ÿå®¢æˆ·ç«¯çš„æµç•…æ„Ÿã€‚åˆ°åº•å®¢æˆ·ç«¯è¿˜æ˜¯å¾®è½¯çš„å¼ºé¡¹ï¼ŒVscode è¿™æ–¹é¢èˆ’æœå¤šäº†ï¼Œå¯åŠ¨ä¸å¤§æ–‡ä»¶ç¼–è¾‘éƒ½ä¸æ¯” Sublime å·®ã€‚</p><p>Vscode æ˜¯åŸºäºæµè§ˆå™¨å†…æ ¸çš„è·¨å¹³å°ç¼–è¾‘å™¨ï¼Œåº•å±‚ä»£ç å¤§éƒ¨åˆ†éƒ½æ˜¯ TypeScriptï¼Œå½“ç„¶æœ€ç»ˆè¿˜æ˜¯ä¼šç¼–è¯‘ä¸º javascriptã€‚è¿™æ ·å¯¹äºä¸€ä¸ªå‰ç«¯è€Œè¨€å°±å€æ„Ÿäº²åˆ‡äº†ï¼Œå¯ä»¥è½»æ˜“çš„ä½¿ç”¨è‡ªå·±åƒé¥­çš„è¯­è¨€å»æ‰©å±•åŠŸèƒ½ã€‚</p><p>æ‰€ä»¥è¿™ä¸ª<a href="https://github.com/yscoder/vscode-qiniu-upload-image" target="_blank" rel="external">ä¸ƒç‰›å›¾åºŠå·¥å…·</a>å°±è¯ç”Ÿäº†ã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/vscode-qiniu-pv.gif" alt="vscode-qiniu-pv"></div><div class="image-caption">vscode-qiniu-pv</div></figure><a id="more"></a><h2 id="å¦‚ä½•å¼€å§‹æ’ä»¶ç¼–å†™"><a href="#å¦‚ä½•å¼€å§‹æ’ä»¶ç¼–å†™" class="headerlink" title="å¦‚ä½•å¼€å§‹æ’ä»¶ç¼–å†™"></a>å¦‚ä½•å¼€å§‹æ’ä»¶ç¼–å†™</h2><p>è¿™é‡Œè¿˜æ˜¯æœ‰å¿…è¦æŠŠè¿™ä¸ªæ’ä»¶ç¼–å†™è¿‡ç¨‹å›é¡¾ä¸€ä¸‹ï¼Œå› ä¸ºç°åœ¨å¯ä¾›å‚è€ƒçš„ä¸­æ–‡èµ„æ–™å®åœ¨ä¸å¤šã€‚<br>å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  <a href="http://www.cnblogs.com/caipeiyu/p/5507252.html" target="_blank" rel="external">vscodeç¼–å†™æ’ä»¶è¯¦ç»†è¿‡ç¨‹</a> æ¥å®Œæˆæ’ä»¶å¼€å‘ç¯å¢ƒéƒ¨ç½²å’Œåˆ›å»ºåŸºæœ¬é¡¹ç›®ã€‚</p><h2 id="é¡¹ç›®é…ç½®"><a href="#é¡¹ç›®é…ç½®" class="headerlink" title="é¡¹ç›®é…ç½®"></a>é¡¹ç›®é…ç½®</h2><p>ä»¥ Javascript ç¼–å†™æ’ä»¶ä¸ºä¾‹ï¼Œè¿™é‡Œæˆ‘å‡è®¾ä½ å·²ç»å»ºç«‹äº†ä¸€ä¸ªåŸºç¡€é¡¹ç›®ã€‚</p><p>å°±å¦‚æˆ‘ä»¬ç»å¸¸åœ¨ github ä¸Šè§åˆ°çš„å‰ç«¯æˆ– Node é¡¹ç›®ä¸€æ ·ï¼Œéƒ½æœ‰ä¸€ä¸ª <code>package.json</code> ç”¨äºæè¿°é¡¹ç›®ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>npm</code> å‘½ä»¤å®‰è£…ä½ éœ€è¦çš„ç¬¬ä¸‰æ–¹åº“ã€‚æ­¤å¤–è¿™ä¸ªæ–‡ä»¶ä¸­åˆåŒ…å«äº†ä¸€äº›ä¸“å±äº Vscode çš„é…ç½®é¡¹ã€‚</p><p>è¿™é‡Œä¸åœ¨å…³æ³¨å¸¸è§„çš„ <code>package.json</code> é…ç½®é¡¹ï¼Œåªä»‹ç» Vscode ç›¸å…³çš„ã€‚</p><h3 id="activationEvents"><a href="#activationEvents" class="headerlink" title="activationEvents"></a>activationEvents</h3><p>æ’ä»¶åœ¨ä½•æ—¶è¢«æ¿€æ´»ã€‚</p><ul><li><code>onLanguage:${language}</code>ï¼šæ‰“å¼€æŸç§æ ¼å¼çš„æ–‡ä»¶æ—¶</li><li><code>onCommand:${command}</code>ï¼šè¾“å…¥æŸç§å‘½ä»¤æ—¶ï¼ˆVscodeä¸­æŒ‰F1ï¼‰</li><li><code>onDebug:${type}</code>ï¼šè°ƒè¯•æŸç§è¯­è¨€ç±»å‹æ—¶</li><li><code>workspaceContains:${toplevelfilename}</code>ï¼šå½“ä½ çš„å·¥ä½œåŒºåŒ…å«æŸç§æ–‡ä»¶æ—¶ï¼Ÿ</li><li><code>*</code>ï¼šä»»ä½•æ—¶å€™ï¼Œç¼–è¾‘å™¨å¯åŠ¨å°±æ¿€æ´»</li></ul><p>æè¿°å¯èƒ½æœ‰è¯¯ï¼Œå¯¹åº”æ–‡æ¡£ï¼š<a href="https://code.visualstudio.com/docs/extensionAPI/activation-events" target="_blank" rel="external">Activation Events</a>ã€‚</p><h3 id="contributes"><a href="#contributes" class="headerlink" title="contributes"></a>contributes</h3><p>Contributes æ„æ€æ˜¯è´¡çŒ®ï¼Œè¿™ä¸ªå±æ€§ä¸­åŒ…å«çš„éƒ½æ˜¯å¯æ‰©å±•ç‚¹ã€‚</p><ul><li><code>keybindings</code>ï¼šç»‘å®šæŒ‰é”®æ¥æ‰§è¡ŒæŸä¸ªå‘½ä»¤</li><li><code>configuration</code>ï¼šå®šä¹‰ä½ çš„æ’ä»¶ä¸ªæ€§åŒ–é…ç½®</li><li><code>menus</code>ï¼šæ‰©å±•èœå•</li><li><code>commands</code>ï¼šç”¨å‘½ä»¤åæ‰§è¡ŒæŸä¸ªå‘½ä»¤</li><li>â€¦â€¦</li></ul><p>è¿™å››é¡¹åº”è¯¥æ˜¯æœ€å¸¸ç”¨çš„ï¼Œæ›´å¤šï¼š<a href="https://code.visualstudio.com/docs/extensionAPI/extension-points" target="_blank" rel="external">Contribution Points</a>ã€‚</p><p>OKï¼Œæœ‰äº†è¿™äº›ï¼Œå¤§æ¦‚å¯ä»¥ä¸ºä½ çš„æ’ä»¶ç¼–å†™ä½œæ„æ€äº†ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="comment">// æ’ä»¶ä½•æ—¶è¢«æ¿€æ´»</span></div><div class="line">  <span class="string">"activationEvents"</span>: [     </div><div class="line"></div><div class="line">      <span class="comment">// æ‰“å¼€ä¸€ä¸ª Markdown æ–‡ä»¶æ—¶ï¼Œæ’ä»¶å°†è¢«æ¿€æ´»</span></div><div class="line">    <span class="string">"onLanguage:markdown"</span>   </div><div class="line"></div><div class="line">  ],</div><div class="line">    <span class="comment">// æ’ä»¶å…¥å£æ–‡ä»¶</span></div><div class="line">  <span class="string">"main"</span>: <span class="string">"./extension"</span>,</div><div class="line"></div><div class="line">    <span class="comment">// æ‰©å±•ç‚¹</span></div><div class="line">  <span class="string">"contributes"</span>: &#123;</div><div class="line"></div><div class="line">      <span class="comment">// æŒ‰é”®ç»‘å®šï¼Œå½“ç¼–è¾‘åŒºå…·æœ‰ç„¦ç‚¹ä¸”è¯­è¨€ä¸º markdown æ—¶ï¼ŒæŒ‰ ctrl+q æ‰§è¡Œ extension.qiniu.uploadï¼Œä¹Ÿå¯é’ˆå¯¹ mac å¹³å°ç‹¬ç«‹é…ç½®</span></div><div class="line">    <span class="string">"keybindings"</span>: [&#123;</div><div class="line">        <span class="string">"command"</span>: <span class="string">"extension.qiniu.upload"</span>,</div><div class="line">        <span class="string">"key"</span>: <span class="string">"ctrl+q"</span>,</div><div class="line">        <span class="string">"mac"</span>: <span class="string">"ctrl+q"</span>,</div><div class="line">        <span class="string">"when"</span>: <span class="string">"editorTextFocus &amp;&amp; editorLangId == 'markdown'"</span> </div><div class="line">    &#125;],</div><div class="line"></div><div class="line">    <span class="comment">// æ’ä»¶é…ç½®å±æ€§ï¼Œå½“ä½ æƒ³è¦è·å– qiniu çš„é…ç½®æ—¶ï¼Œä»¥ä¸‹æ‰€æœ‰ qiniu.xx å±æ€§å°†åˆå¹¶äºä¸€ä¸ªå¯¹è±¡ä¸­</span></div><div class="line">    <span class="comment">// title å’Œ description å°†ä½œä¸ºæ³¨é‡Šå’Œå±æ€§æç¤ºåˆ†åˆ«åœ¨é»˜è®¤é…ç½®æ–‡ä»¶å’Œç”¨æˆ·é…ç½®æ–‡ä»¶ä¸­å‘ˆç°</span></div><div class="line">    <span class="string">"configuration"</span>: &#123;</div><div class="line">        <span class="string">"type"</span>: <span class="string">"object"</span>,</div><div class="line">        <span class="string">"title"</span>: <span class="string">"qiniu configuration"</span>,</div><div class="line">        <span class="string">"properties"</span>: &#123;</div><div class="line">            <span class="string">"qiniu.enable"</span>: &#123;</div><div class="line">                <span class="string">"type"</span>: <span class="string">"boolean"</span>,</div><div class="line">                <span class="string">"default"</span>: <span class="literal">false</span>,</div><div class="line">                <span class="string">"description"</span>: <span class="string">"ä¸ƒç‰›å›¾ç‰‡ä¸Šä¼ å·¥å…·å¼€å…³"</span></div><div class="line">            &#125;,</div><div class="line">            <span class="string">"qiniu.access_key"</span>: &#123;</div><div class="line">                <span class="string">"type"</span>: <span class="string">"string"</span>,</div><div class="line">                <span class="string">"default"</span>: <span class="string">""</span>,</div><div class="line">                <span class="string">"description"</span>: <span class="string">"ä¸€ä¸ªæœ‰æ•ˆçš„ä¸ƒç‰› AccessKey ç­¾åæˆæƒã€‚"</span></div><div class="line">            &#125;,</div><div class="line">            <span class="string">"qiniu.secret_key"</span>: &#123;</div><div class="line">                <span class="string">"type"</span>: <span class="string">"string"</span>,</div><div class="line">                <span class="string">"default"</span>: <span class="string">""</span>,</div><div class="line">                <span class="string">"description"</span>: <span class="string">"ä¸€ä¸ªæœ‰æ•ˆçš„ä¸ƒç‰› SecretKey ç­¾åæˆæƒã€‚"</span></div><div class="line">            &#125;,</div><div class="line">            <span class="string">"qiniu.bucket"</span>: &#123;</div><div class="line">                <span class="string">"type"</span>: <span class="string">"string"</span>,</div><div class="line">                <span class="string">"default"</span>: <span class="string">""</span>,</div><div class="line">                <span class="string">"description"</span>: <span class="string">"ä¸ƒç‰›å›¾ç‰‡ä¸Šä¼ ç©ºé—´."</span></div><div class="line">            &#125;,</div><div class="line">            <span class="string">"qiniu.remotePath"</span>: &#123;</div><div class="line">                <span class="string">"type"</span>: <span class="string">"string"</span>,</div><div class="line">                <span class="string">"default"</span>: <span class="string">"$&#123;fileName&#125;"</span>,</div><div class="line">                <span class="string">"description"</span>: <span class="string">"ä¸ƒç‰›å›¾ç‰‡ä¸Šä¼ è·¯å¾„ï¼Œå‚æ•°åŒ–å‘½åã€‚"</span></div><div class="line">            &#125;,</div><div class="line">            <span class="string">"qiniu.domain"</span>: &#123;</div><div class="line">                <span class="string">"type"</span>: <span class="string">"string"</span>,</div><div class="line">                <span class="string">"default"</span>: <span class="string">""</span>,</div><div class="line">                <span class="string">"description"</span>: <span class="string">"ä¸ƒç‰›å›¾åºŠåŸŸåã€‚"</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä»¥æˆ‘çš„ <code>package.json</code> ä¸ºä¾‹ï¼Œæè¿°äº†ä»¥ä¸‹ä¿¡æ¯ï¼š</p><ol><li>å½“ä½ æ‰“å¼€ä¸€ä¸ª Markdown æ–‡ä»¶æ—¶ï¼Œæ’ä»¶å°†è¢«æ¿€æ´»ã€‚</li><li>æ‰§è¡Œ <code>ctrl+Q</code> å°†å¯åŠ¨ä¸€ä¸ªå‘½ä»¤ï¼Œè¿˜æœ‰ä¸€ä¸ª <code>when</code> å±æ€§ï¼Œè¡¨ç¤ºé¢å¤–çš„å‘½ä»¤æ¿€æ´»æ¡ä»¶ã€‚</li><li>å› ä¸ºè¦ä¸Šä¼ åˆ°ä¸ƒç‰›ï¼Œæ‰€ä»¥éœ€è¦ä¸€äº›ä½ çš„ä¸ƒç‰›ç”¨æˆ·ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯ <code>configuration</code>ï¼Œè¿™å¯ä»¥åœ¨ä»£ç ä¸­æ–¹ä¾¿çš„è¯»å–åˆ°ã€‚</li></ol><p>æœ€åæˆ‘éœ€è¦ä»¥åˆé€‚çš„æ–¹å¼è·å–ä½ æƒ³ä¸Šä¼ çš„æœ¬åœ°å›¾ç‰‡ï¼Œä»¥ Markdown çš„å›¾ç‰‡æ ¼å¼å†™å…¥åˆ°ä½ çš„å…‰æ ‡ä½ç½®ã€‚</p><h2 id="ç¼–ç "><a href="#ç¼–ç " class="headerlink" title="ç¼–ç "></a>ç¼–ç </h2><p>æ’ä»¶çš„å…¥å£æ–‡ä»¶åªæœ‰ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯é…ç½®ä¸­çš„ <code>&quot;main&quot;: &quot;./extension&quot;</code>ã€‚</p><p>ä¸€ä¸ªåŸºç¡€çš„å…¥å£æ–‡ä»¶æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> vscode = <span class="built_in">require</span>(<span class="string">'vscode'</span>);</div><div class="line"><span class="comment">// æ’ä»¶æ¿€æ´»æ—¶æ‰§è¡Œ</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">activate</span>(<span class="params">context</span>) </span>&#123;</div><div class="line">    <span class="comment">// æ³¨å†Œå‘½ä»¤</span></div><div class="line">    <span class="keyword">var</span> disposable = vscode.commands.registerCommand(<span class="string">'extension.hello'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="comment">// ç¼–è¾‘å™¨ä¸Šæ–¹æ˜¾ç¤ºä¸€æ¡ä¿¡æ¯</span></div><div class="line">        vscode.window.showInformationMessage(<span class="string">'hello!'</span>);</div><div class="line">    &#125;)</div><div class="line"></div><div class="line">    <span class="comment">// åŠ å…¥é‡Šæ”¾é˜Ÿåˆ—ï¼Ÿ</span></div><div class="line">    context.subscriptions.push(disposable);</div><div class="line">&#125;</div><div class="line">exports.activate = activate;</div><div class="line"><span class="comment">// æ’ä»¶åœç”¨æ—¶æ‰§è¡Œ</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">deactivate</span>(<span class="params"></span>) </span>&#123;</div><div class="line">&#125;</div><div class="line">exports.deactivate = deactivate;</div></pre></td></tr></table></figure><p>é€šè¿‡è¿™ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥å‘ç° <code>vscode</code> æ˜¯ä¸ªå…³é”®çš„å¯¹è±¡ï¼Œæ’ä»¶èƒ½åšå¤šå°‘äº‹éƒ½å–å†³äºè¿™ä¸ªå¯¹è±¡å¯ä»¥æä¾›å¤šå°‘æ¥å£æ”¯æŒã€‚</p><p>æœ€åˆæˆ‘æ˜¯æƒ³é€šè¿‡å¤åˆ¶å‘½ä»¤å®ç°åŠŸèƒ½çš„ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·å¤åˆ¶ä¸€ä¸ªå›¾ç‰‡åˆ°ç¼–è¾‘å™¨ï¼Œç„¶åæ‹¦æˆªå‰ªè´´æ¿æ‹¿åˆ°å›¾ç‰‡è·¯å¾„ä¸Šä¼ ã€æ’å…¥æ–‡æ¡£ã€‚äº‹ä¸æ„¿è¿ï¼ŒVscode æ²¡æœ‰æä¾›è¿™æ–¹æ³•çš„æ¥å£æ”¯æŒï¼Œè§ï¼š<a href="https://github.com/Microsoft/vscode/issues/4972" target="_blank" rel="external">Issues: Clipboard access through Extensions API</a>ã€‚ä¸‹é¢æåˆ°ä¸€ä¸ªç¬¬ä¸‰æ–¹åŒ… <code>node-copy-paste</code> ä¹Ÿä»…èƒ½è®¿é—®å­—ç¬¦ä¸²ä¿¡æ¯ï¼Œåªå¥½ä½œç½¢ã€‚</p><p>Vscode çš„æ¥å£è°ƒç”¨å¤§æ¦‚åˆ†ä¸ºä¸¤ç±»ï¼šå‘½ä»¤è°ƒç”¨ï¼š<a href="https://code.visualstudio.com/docs/extensionAPI/vscode-api-commands" target="_blank" rel="external">Complex Commands API</a> å’Œå¯¹è±¡æ–¹æ³•è°ƒç”¨ï¼š<a href="https://code.visualstudio.com/docs/extensionAPI/vscode-api" target="_blank" rel="external">vscode namespace API</a>ã€‚</p><p>å‰è€…å¾ˆæ˜“ç”¨ï¼Œæ¯”å¦‚é¢„è§ˆ html çš„ç¤ºä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> success = <span class="keyword">await</span> commands.executeCommand(<span class="string">'vscode.previewHtml'</span>, Uri.parse(<span class="string">'file:///some/path/to/file.html'</span>));</div></pre></td></tr></table></figure><p>æ–‡æ¡£çš„ç¤ºä¾‹æ˜¯ TypeScript å†™çš„ï¼Œè½¬æ¢ä¸º ES5 åº”è¯¥æ˜¯è¿™æ ·ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> success = commands.executeCommand(<span class="string">'vscode.previewHtml'</span>, Uri.parse(<span class="string">'file:///some/path/to/file.html'</span>))</div><div class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">ret</span>)</span>&#123;</div><div class="line">        <span class="comment">// success</span></div><div class="line">    &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">        <span class="comment">// error</span></div><div class="line">    &#125;)</div></pre></td></tr></table></figure><p>å¦‚æœèƒ½è°ƒç”¨ä¸€ä¸ªé€‰æ‹©æ–‡ä»¶çš„çª—å£è·å–æœ¬åœ°å›¾ç‰‡è·¯å¾„æœ€å¥½ä¸è¿‡äº†ã€‚å¯æˆ‘ç¿»éäº†æ–‡æ¡£ï¼Œä¹Ÿåªæ‰¾åˆ°äº†ä¸€ä¸ªé€‰æ‹©æ–‡ä»¶å¤¹çš„å‘½ä»¤ <code>vscode.openFolder</code>ï¼Œç®€ç›´å°±æ˜¯ä¸æƒ³è®©ä½ å†™çš„å¤ªè½»æ¾ã€‚</p><p>æœ€ç»ˆåªèƒ½ä½¿ç”¨ä¸€ä¸ªè¾“å…¥æ¡†æ¥æ¥æ”¶æœ¬åœ°å›¾ç‰‡è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯é¢„è§ˆå›¾ä¸­çš„æ•ˆæœã€‚</p><p>ä»¥ä¸‹æ˜¯æˆ‘ç”¨åˆ°çš„ä¸€äº›APIï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// è·å–é…ç½®æ–‡ä»¶ä¸­çš„æ’ä»¶é…ç½®</span></div><div class="line">vscode.workspace.getConfiguration(<span class="string">'qiniu'</span>)</div><div class="line"></div><div class="line"><span class="comment">// æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯</span></div><div class="line">vscode.window.showErrorMessage(<span class="string">'error'</span>)</div><div class="line"></div><div class="line"><span class="comment">// æ˜¾ç¤ºä¸€ä¸ªè¾“å…¥æ¡†ï¼Œè¿”å› Promise å¯¹è±¡</span></div><div class="line">vscode.window.showInputBox(option)</div><div class="line"></div><div class="line"><span class="comment">// ç¼–è¾‘æ–‡ä»¶çš„å‡½æ•°ï¼Œå‚æ•°è¿˜æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°çš„å‚æ•°æ‰æ˜¯çœŸæ­£çš„å¯ä»¥ç”¨æ¥å¢åˆ æ–‡å­—çš„å¯¹è±¡</span></div><div class="line">vscode.window.activeTextEditor.edit(<span class="function"><span class="keyword">function</span>(<span class="params">textEditorEdit</span>) </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">// åœ¨å…‰æ ‡ä½ç½®æ’å…¥æ–‡æœ¬</span></div><div class="line">    <span class="comment">// textEditorEdit.insert(editor.selection.active, img);</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure><p>æœ€ç»ˆæŠ€æœ¯æ”¯æŒå…¶å®æ˜¯ <a href="http://developer.qiniu.com/code/v6/sdk/nodejs.html" target="_blank" rel="external">ä¸ƒç‰›SDK</a> ãƒ¾(ï½¥Ï‰ï½¥`ï½¡)ã€‚<br>å…·ä½“çš„ä»£ç å¯ä»¥å» Github ä¸Šçœ‹ã€‚</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>æ‰“åŒ…ã€å‘å¸ƒé‚£ç¯‡æ–‡ç« ä¸­ä¹Ÿæåˆ°äº†ï¼Œæˆ‘å·²ç»æ‰“åŒ…æ”¾åˆ°äº† Github ä»“åº“ä¸­ï¼Œå°±æ˜¯é‚£ä¸ª <code>Â·vsix</code> æ–‡ä»¶ã€‚ä½¿ç”¨ <code>Ctrl+O</code> é€‰æ‹©æ’ä»¶åŒ…å°±å¯ä»¥å®‰è£…äº†ï¼Œåœ¨ç”¨æˆ·é…ç½®æ–‡ä»¶ä¸­åŠ ä¸€ä¸‹ä½ çš„ä¸ƒç‰›é…ç½®ï¼Œé‡å¯ä¸‹å°±èƒ½ç”¨äº†ï¼Œå¿«æ·é”® <code>ctrl+q</code>ã€‚</p><p>åŒæ—¶å¯ä»¥é€šè¿‡ç¼–è¾‘å™¨å·¦ä¾§æ’ä»¶é¢æ¿åœ¨çº¿æœç´¢ <code>qiniu-upload-image</code> å®‰è£…ã€‚</p><p><strong>æ–‡ä»¶ -&gt; é¦–é€‰é¡¹ -&gt; ç”¨æˆ·è®¾ç½®</strong>ï¼Œåœ¨å³ä¾§åŒºåŸŸç¼–å†™æ’ä»¶é…ç½®è¦†ç›–é»˜è®¤é…ç½®ã€‚<br>é…ç½®æ–‡ä»¶ç¤ºä¾‹å¦‚ä¸‹ï¼Œå‚è€ƒä½ çš„ä¸ƒç‰›ç”¨æˆ·ä¿¡æ¯å¡«å†™ï¼š</p><figure class="highlight json"><table><tr><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"qiniu.enable"</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">"qiniu.access_key"</span>: <span class="string">"xxxxxxxxxxxxx"</span>,</div><div class="line">    <span class="attr">"qiniu.secret_key"</span>: <span class="string">"xxxxxxxxxxxxx"</span>,</div><div class="line">    <span class="attr">"qiniu.bucket"</span>: <span class="string">"yourBucket"</span>,</div><div class="line">    <span class="attr">"qiniu.remotePath"</span>: <span class="string">"$&#123;fileName&#125;"</span>,</div><div class="line">    <span class="attr">"qiniu.domain"</span>: <span class="string">"http://xxx.xxxxx.com"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ç¼–è¾‘å™¨ä¸­é¼ æ ‡æ‚¬æµ®ä¼šæ˜¾ç¤ºå±æ€§æç¤ºã€‚</p><p>Enjoy!</p>]]></content>
    
    <summary type="html">
    
      VsCodeæ’ä»¶ï¼šä¸ƒç‰›å›¾åºŠå·¥å…·ï¼Œå†™æ–‡ç« æ›´å¿«ä¸€æ­¥
    
    </summary>
    
    
      <category term="VsCode" scheme="http://imys.net/tags/VsCode/"/>
    
      <category term="Qiniu" scheme="http://imys.net/tags/Qiniu/"/>
    
      <category term="Markdown" scheme="http://imys.net/tags/Markdown/"/>
    
  </entry>
  
  <entry>
    <title>å¯¹å…ƒç´ ç‰¹æ€§å·§å¦™åˆ©ç”¨çš„ä¸€äº›ä¾‹å­</title>
    <link href="http://imys.net/20160715/clever-use-of-elements-feature.html"/>
    <id>http://imys.net/20160715/clever-use-of-elements-feature.html</id>
    <published>2016-07-15T01:10:40.000Z</published>
    <updated>2016-11-12T19:11:10.123Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ä¸€äº›æ¡†æ¶å’Œåº“ä¸­éƒ½å¯è§åˆ°ä¸€äº›åˆ›å»ºä¸€ä¸ªç©ºå…ƒç´ ï¼Œé€šè¿‡å¯¹è¯¥å…ƒç´ ç‰¹æ€§æµ‹è¯•æ¥åˆ¤å®šå½“å‰è¿è¡Œç¯å¢ƒæ˜¯å¦æ”¯æŒæŸç§ç‰¹æ€§çš„è¿ç”¨ã€‚<code>jQuery</code> ä¹Ÿæ˜¯ä»¥æ­¤æ¥ support å„ç§ç¯å¢ƒï¼Œä¸å…¶é€šè¿‡å¯è¢«éšæ„ä¿®æ”¹çš„ UA æµ‹è¯•ç¯å¢ƒå€’ä¸å¦‚ç›´æ¥åˆ›å»ºå…ƒç´ æµ‹è¯•æ¥çš„å‡†ç¡®ã€‚</p><p>æˆ‘ä»¬å¯åˆ©ç”¨å…ƒç´ æœ¬èº«ç‰¹æ€§å»åšçš„äº‹å¹¶ä¸æ­¢äº <strong>ç‰¹æ€§æµ‹è¯•</strong>ã€‚ç»†å¿ƒä¸€ç‚¹ï¼Œä½ ä¼šå‘ç°ä¸€äº›å…ƒç´ ç‹¬ä¸€æ— äºŒçš„ç‰¹æ€§å¯ä»¥è¢«å·§å¦™åˆ©ç”¨æ¥åšä¸€äº›å·¥ä½œã€‚<br><a id="more"></a></p><h2 id="HTMLè½¬ä¹‰"><a href="#HTMLè½¬ä¹‰" class="headerlink" title="HTMLè½¬ä¹‰"></a>HTMLè½¬ä¹‰</h2><p>åˆ›å»º <code>Option</code> å®ä¾‹ï¼Œä¼ å…¥è¦è¢«è½¬ä¹‰çš„å­—ç¬¦ä¸²ã€‚å› ä¸º <code>Option</code> æ„é€ å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°ä¸º <code>text</code>ï¼Œæ‰€ä»¥ä»»ä½ ä¼ å…¥ä»»ä½• <code>html</code> ä»£ç éƒ½ä¼šè¢«è½¬ä¹‰ä¸º <code>textNode</code>ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">new</span> Option(<span class="string">'&lt;div&gt;&lt;/div&gt;'</span>).innerHTML     <span class="comment">// "&amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;"</span></div></pre></td></tr></table></figure><p>åŒç†ï¼Œç»™ <code>div</code> çš„ <code>innerText</code> èµ‹å€¼ï¼Œå†é€šè¿‡ <code>innerHTML</code> å–ï¼Œä¹Ÿå¯ä»¥åšåˆ°ï¼Œåªæ˜¯çœ‹èµ·æ¥ä¸å¦‚ä¸€è¡Œä»£ç æ¥çš„å·§å¦™ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</div><div class="line">div.innerText = <span class="string">'&lt;a&gt;&lt;/a&gt;'</span>;</div><div class="line"><span class="built_in">console</span>.log(div.innerHTML)      <span class="comment">// "&amp;lt;a&amp;gt;&amp;lt;/a&amp;gt;"</span></div></pre></td></tr></table></figure><h2 id="è§£æURL"><a href="#è§£æURL" class="headerlink" title="è§£æURL"></a>è§£æURL</h2><p><code>a</code> æ ‡ç­¾å¤©ç”Ÿæ”¯æŒè¿™äº› URL å±æ€§ï¼Œæ˜¯ä¸æ˜¯åƒæäº† NodeJS ä¸­ URL å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</div><div class="line">a.href = <span class="string">'http://test.com:3000/a/b?k=1#dd'</span>;</div><div class="line"><span class="built_in">console</span>.log(a.protocol);    <span class="comment">// "http:"</span></div><div class="line"><span class="built_in">console</span>.log(a.host);        <span class="comment">// "test.com"</span></div><div class="line"><span class="built_in">console</span>.log(a.hostname)     <span class="comment">// "test.com"</span></div><div class="line"><span class="built_in">console</span>.log(a.port)         <span class="comment">// 3000</span></div><div class="line"><span class="built_in">console</span>.log(a.pathname)     <span class="comment">// "/a/b"</span></div><div class="line"><span class="built_in">console</span>.log(a.search)       <span class="comment">// "?k=1"</span></div><div class="line"><span class="built_in">console</span>.log(a.hash)         <span class="comment">// "#dd"</span></div></pre></td></tr></table></figure><h2 id="è·å–ä¸€ä¸²æ–‡å­—åœ¨æµè§ˆå™¨ä¸­æ‰€å çš„å®½åº¦"><a href="#è·å–ä¸€ä¸²æ–‡å­—åœ¨æµè§ˆå™¨ä¸­æ‰€å çš„å®½åº¦" class="headerlink" title="è·å–ä¸€ä¸²æ–‡å­—åœ¨æµè§ˆå™¨ä¸­æ‰€å çš„å®½åº¦"></a>è·å–ä¸€ä¸²æ–‡å­—åœ¨æµè§ˆå™¨ä¸­æ‰€å çš„å®½åº¦</h2><p>æƒ³çŸ¥é“å®½åº¦è¿˜ä¸ç®€å•ï¼Œæ‰”åˆ°æµè§ˆå™¨ä¸­è·‘ä¸€åœˆçœ‹çœ‹ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> tester = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</div><div class="line">tester.style.display = <span class="string">'inline-block'</span>;</div><div class="line">tester.innerHTML = <span class="string">'åšå®¢ï¼šimys.net'</span>;</div><div class="line"><span class="built_in">document</span>.body.appendChild(tester);</div><div class="line"><span class="built_in">console</span>.log(tester.offsetWidth)</div></pre></td></tr></table></figure><p><code>display</code> å±æ€§ä¸€å®šè¦è®¾ç½®ä¸º <code>inline-block</code>ã€‚å› ä¸º <code>div:display</code> é»˜è®¤ä¸º <code>block</code>ï¼Œå—çº§å…ƒç´ å®½åº¦é»˜è®¤ç­‰äºçˆ¶çº§å…ƒç´ å®½åº¦ï¼Œè¿™æ ·è·å–åˆ°çš„å®½åº¦å°±ä¸æ˜¯å­—ç¬¦çš„å®½åº¦äº†ã€‚</p><p>å½“ä½ æƒ³ç”¨ js å»æˆªæ–­ä¸€æ®µé•¿æ–‡å­—æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªä¾‹å­ã€‚</p><h2 id="åˆ¤æ–­canvasæ˜¯å¦ä¸ºç©º"><a href="#åˆ¤æ–­canvasæ˜¯å¦ä¸ºç©º" class="headerlink" title="åˆ¤æ–­canvasæ˜¯å¦ä¸ºç©º"></a>åˆ¤æ–­canvasæ˜¯å¦ä¸ºç©º</h2><p>ä¸¤ä¸ªç­‰å®½ç­‰é«˜å†…å®¹ç›¸åŒçš„ canvas æ‰€ç”Ÿæˆçš„ <code>dataURL</code> æ˜¯ç›¸åŒçš„ï¼Œè¿™æ ·æœ€ç»ˆæŠŠå¯¹è±¡çš„æ¯”è¾ƒè½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ¯”è¾ƒã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isCanvasBlank</span>(<span class="params">canvas</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> blank = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>);</div><div class="line">    blank.width = canvas.width;</div><div class="line">    blank.height = canvas.height;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> canvas.toDataURL() === blank.toDataURL();</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="è·å–Computed-styles"><a href="#è·å–Computed-styles" class="headerlink" title="è·å–Computed styles"></a>è·å–Computed styles</h2><p>è¿™é‡Œçš„ <code>Computed styles</code> ä¸æ˜¯æŒ‡ <code>getComputedStyle(element)</code> å‡½æ•°ç»“æœï¼Œè€Œæ˜¯åƒæµè§ˆå™¨ Dev Tools ä¸­ Styles é¢æ¿å³ä¾§çš„è®¡ç®—æ ·å¼ã€‚æ˜¯è¦è·å–æœ€ç»ˆè¢«æ ·å¼è¡¨å½±å“çš„ css å±æ€§ï¼Œä¸åŒ…æ‹¬æ ‡ç­¾é»˜è®¤å±æ€§å’Œ <code>user agent stylesheet</code>ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">filterInheritedStyles</span>(<span class="params">el</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> tester = <span class="built_in">document</span>.createElement(el.tagName);</div><div class="line">    <span class="built_in">document</span>.body.appendChild(tester);  <span class="comment">// å…ƒç´ å¿…é¡»æ’å…¥åˆ°æ–‡æ¡£ä¸­æ‰èƒ½è®¡ç®—å‡ºé»˜è®¤æ ·å¼</span></div><div class="line">    <span class="keyword">var</span> defaultStyle = <span class="built_in">window</span>.getComputedStyle(tester, <span class="literal">null</span>);</div><div class="line">    <span class="keyword">var</span> currentStyle = <span class="built_in">window</span>.getComputedStyle(el, <span class="literal">null</span>);</div><div class="line">    <span class="keyword">var</span> ret = &#123;&#125;;</div><div class="line"></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> k <span class="keyword">in</span> currentStyle) &#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span>(currentStyle.getPropertyValue(k) !== defaultStyle.getPropertyValue(k)) &#123;</div><div class="line">        </div><div class="line">            ret[k] = currentStyle.getPropertyValue(k);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">document</span>.body.removeChild(tester);</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªæ ‡ç­¾ç›¸åŒçš„ <code>Element</code> æ·»åŠ åˆ°æ–‡æ¡£ä¸­äº§ç”Ÿé»˜è®¤æ ·å¼ï¼Œä¸å½“å‰å…ƒç´ æ ·å¼é€ä¸ªæ¯”è¾ƒï¼Œè¿”å›ä¸ä¸€è‡´çš„æ ·å¼å±æ€§ã€‚</p><p>ä¸è¿‡è¿™ä¸ªå‡½æ•°è¿˜ä¸æ˜¯æœ€ç»ˆç‰ˆçš„ã€‚å½“ä¸€ä¸ªå…ƒç´ è¢«æ’å…¥åˆ°æ–‡æ¡£ä¸­æ—¶ï¼Œç”±äºæ²¡æœ‰æ·»åŠ  id ã€ class ã€style å±æ€§ï¼Œä¹Ÿå°±ä¸ä¼šå— id é€‰æ‹©å™¨ã€ç±»é€‰æ‹©å™¨ã€è¡Œå†…æ ·å¼å½±å“ï¼Œä½†æ˜¾ç„¶ä¼šå—æ ‡ç­¾é€‰æ‹©å™¨å½±å“ã€‚</p><p>æ‰€ä»¥å¦‚æœèƒ½åœ¨è¿”å›å€¼åŸºç¡€ä¸Šå¯¹æ ‡ç­¾é€‰æ‹©å™¨å±æ€§è¿›è¡Œè¿‡æ»¤ï¼Œæ‰æ˜¯æœ€ç»ˆç»“æœã€‚ä½†ç›®å‰é€šè¿‡ <code>document.styleSheets</code> åªé™äºè·å–å†…è”æ ·å¼è¡¨ä¸­è§„åˆ™ï¼Œå¯¹äºå¤–éƒ¨æ ·å¼è¡¨ä¸­çš„è§„åˆ™æ£€ç´¢è¿˜æ²¡æœ‰ä»€ä¹ˆå¥½çš„åŠæ³•ã€‚</p><hr><p>æš‚æ—¶åªçŸ¥é“è¿™ä¹ˆå¤šã€‚é’ˆå¯¹å‰ç«¯å¤æ‚çš„å®¢æˆ·ç¯å¢ƒï¼Œå•å°± <strong>ç‰¹æ€§æµ‹è¯•</strong> è€Œè¨€å·²ç»å¯ä»¥å¸®æˆ‘ä»¬è§£å†³å¾ˆå¤šé—®é¢˜äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      å¯¹å…ƒç´ ç‰¹æ€§å·§å¦™åˆ©ç”¨çš„ä¸€äº›æ¡ˆä¾‹
    
    </summary>
    
    
      <category term="Html" scheme="http://imys.net/tags/Html/"/>
    
      <category term="JavaScript" scheme="http://imys.net/tags/JavaScript/"/>
    
      <category term="æŠ€å·§" scheme="http://imys.net/tags/%E6%8A%80%E5%B7%A7/"/>
    
      <category term="Element" scheme="http://imys.net/tags/Element/"/>
    
  </entry>
  
  <entry>
    <title>è·å–ç§»åŠ¨è®¾å¤‡æ—‹è½¬æ–¹å‘çš„å‡ ä¸ªæ–¹æ¡ˆ</title>
    <link href="http://imys.net/20160622/screen-rotation-case.html"/>
    <id>http://imys.net/20160622/screen-rotation-case.html</id>
    <published>2016-06-22T01:02:03.000Z</published>
    <updated>2016-11-12T19:25:48.755Z</updated>
    
    <content type="html"><![CDATA[<p>æŸäº›åé—¨çš„ API çœŸæ˜¯æ²¡æœ‰éœ€æ±‚ä¸€è¾ˆå­éƒ½ä¸çŸ¥é“å•Šã€‚</p><p>åˆ†äº«ä¸€ä¸‹æœ€è¿‘å¯¹äºè·å–ç§»åŠ¨è®¾å¤‡æ—‹è½¬æ–¹å‘çš„æ¢ç´¢ã€‚</p><h2 id="deviceorientation"><a href="#deviceorientation" class="headerlink" title="deviceorientation"></a>deviceorientation</h2><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'deviceorientation'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">   <span class="built_in">console</span>.log(<span class="string">'absolute: '</span> + e.absolute)</div><div class="line">   <span class="built_in">console</span>.log(<span class="string">'alpha: '</span> + e.alpha)</div><div class="line">   <span class="built_in">console</span>.log(<span class="string">'beta: '</span> + e.beta)</div><div class="line">   <span class="built_in">console</span>.log(<span class="string">'gamma: '</span> + e.gamma)</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>ä¹‹å‰åœ¨ segmentfault å›ç­”è¿‡ç›¸å…³é—®é¢˜ï¼Œå½“æ—¶æ˜¯ä» MDN ç¿»å‡ºäº†è¿™ä¸ªäº‹ä»¶ã€‚</p><p><a href="https://segmentfault.com/q/1010000005630022?share_user=1030000002791361" target="_blank" rel="external">åŸè´´ï¼šh5 é¡µé¢å¦‚ä½•è·å–æ‰‹æœºé™€èºä»ªçš„å‚æ•°</a></p><p>è¯¥äº‹ä»¶åœ¨ç§»åŠ¨ç«¯å…¼å®¹è¾ƒå¥½ï¼šAndroid Webview 4.3+ã€Chrome for Android 5.0ã€iOS 8.4+ï¼Œæ®æˆ‘æµ‹è¯•å¾®ä¿¡ä¹Ÿæ˜¯æ”¯æŒçš„ã€‚<br>æ²¡æœ‰åœ¨ä½ç«¯æœºä¸Šæµ‹è¯•è¿‡ï¼Œå¯èƒ½è¯¥äº‹ä»¶ä¼šä¾èµ–è®¾å¤‡ä¼ æ„Ÿå™¨ï¼Œå¯ä»¥åŠ ä¸ª <code>&#39;ondeviceorientation&#39; in window</code> åˆ¤æ–­ä¸€ä¸‹ã€‚</p><p>è¯¥äº‹ä»¶è§¦å‘é¢‘ç‡é«˜ï¼Œé€‚åˆå¯¹è®¾å¤‡æ—‹è½¬ç²¾åº¦è¦æ±‚è¾ƒé«˜çš„åœºæ™¯æˆ–æ˜¯ 3d åœºæ™¯ç­‰ï¼Œæ¯”å¦‚ä¸Šé¢é—®é¢˜ä¸­çš„å¹³è¡¡çƒã€‚<br><a id="more"></a></p><h2 id="orientationchange"><a href="#orientationchange" class="headerlink" title="orientationchange"></a>orientationchange</h2><blockquote><p><a href="https://developer.mozilla.org/en-US/docs/Web/Events/orientationchange" target="_blank" rel="external">å½“è®¾å¤‡çš„æ–¹å‘æ”¹å˜æ—¶ï¼Œè§¦å‘è¯¥äº‹ä»¶ã€‚</a></p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"orientationchange"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'angle: '</span> + screen.orientation.angle);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>è¯¥äº‹ä»¶æ˜¯åŸºäº 2d å¹³é¢è§’åº¦è§¦å‘ï¼Œè¾“å‡ºä»…æœ‰ <code>0ã€90ã€270</code> 3ä¸ªæ•°å€¼ï¼Œå¯ä»¥ç”¨æ¥çŸ¥æ™“å½“å‰è®¾å¤‡çš„æ‰‹æŒæ–¹å‘ã€‚<br>è‡³äºä¸ºä»€ä¹ˆæ²¡æœ‰ 360 è¿™ä¸ªè§’åº¦ï¼Œå¯èƒ½è·Ÿè®¾å¤‡æœ‰å…³ã€‚æˆ‘çš„æ‰‹æœºæ€ä¹ˆè½¬éƒ½åˆ°ä¸äº† 360 åº¦ï¼Œä¹Ÿå°±æ˜¯ç«–å±æ—¶æ— æ³•ç¿»è½¬ã€‚</p><p>è§¦å‘è¿™ä¸ªäº‹ä»¶éœ€è¦è®¾å¤‡å¼€å¯å±å¹•æ—‹è½¬ï¼Œæˆ–è€…å«å±å¹•é”å®šï¼Œä¸åŒçš„è®¾å¤‡å«æ³•ä¸ä¸€æ ·ã€‚</p><p>å…¼å®¹æ€§æ˜¯ä¸ªå¤§é—®é¢˜ï¼Œç›®å‰åªå‘ç°æ‰‹æœºä¸Šçš„ Chrome å¯ä»¥ä½¿ç”¨ï¼Œå¾®ä¿¡ã€iOSã€ä»¥åŠä¸€äº›åŒæ ¸å›½äº§æµè§ˆå™¨éƒ½ä¸å…¼å®¹ã€‚</p><h2 id="screen-orientation"><a href="#screen-orientation" class="headerlink" title="screen.orientation"></a>screen.orientation</h2><p>é€šè¿‡ä¸Šä¸ªäº‹ä»¶è®©æˆ‘å‘ç°äº†<code>screen.orientation</code>ï¼Œåœ¨æ§åˆ¶å°è¾“å‡ºåï¼Œå‘ç°å®ƒä¹Ÿæœ‰äº‹ä»¶æ”¯æŒã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(screen.orientation)  <span class="comment">// &#123;angle: 0, type: "landscape-primary", onchange: null&#125;</span></div><div class="line"></div><div class="line">screen.orientation.onchange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'angle: '</span> + screen.orientation.angle);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>é€šè¿‡å¯¹è¯¥å¯¹è±¡è¾“å‡ºï¼Œå‘ç°ä¹Ÿå¯ä»¥ä½¿ç”¨ screen.orientation.type åˆ¤æ–­è®¾å¤‡æ–¹å‘ã€‚</p><ul><li>landscape-primary | landscape-secondaryï¼šæ¨ªå±ï¼›</li><li>portrait-primary | portrait-secondary: ç«–å±ï¼›</li><li>primary è¡¨ç¤ºå‘ä¸Šæˆ–å‘å³ï¼Œsecondary è¡¨ç¤ºå‘å·¦æˆ–å‘ä¸‹ã€‚</li></ul><p>ä¹‹åæµ‹è¯•è¯¥äº‹ä»¶ï¼Œæ‰‹æœº Chrome å’Œå›½äº§åŒæ ¸æµè§ˆå™¨é€šè¿‡ï¼Œç”Ÿäº§ç¯å¢ƒä¸‹ä½¿ç”¨è¿˜ä¸å¤Ÿç†æƒ³ã€‚</p><h2 id="window-onresize"><a href="#window-onresize" class="headerlink" title="window.onresize"></a>window.onresize</h2><p>å®Œå…¨æ˜¯çµæœºä¸€åŠ¨æƒ³åˆ°çš„ï¼Œè®¾å¤‡æ—‹è½¬ä¼šä½¿å±å¹•å®½é«˜ç½®æ¢ï¼Œè‡ªç„¶å°±ä¼šè§¦å‘ resize äº‹ä»¶ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'innerWidth: '</span> + <span class="keyword">this</span>.innerWidth + <span class="string">' innerHeight: '</span> + <span class="keyword">this</span>.innerHeight);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>é€šè¿‡å±å¹•å®½é«˜æ¯”è¾ƒæ¥åˆ¤æ–­æ¨ªå±è¿˜æ˜¯ç«–å±ï¼Œè®¾å¤‡å…¼å®¹åº¦æ¯‹å®¹ç½®ç–‘ã€‚</p><h2 id="Media-Queries"><a href="#Media-Queries" class="headerlink" title="Media Queries"></a>Media Queries</h2><p>æœ€åå°±æ˜¯ css3 åª’ä½“æŸ¥è¯¢äº†ã€‚</p><figure class="highlight css"><table><tr><td class="code"><pre><div class="line">@<span class="keyword">media</span> screen and (orientation: portrait)&#123;</div><div class="line">    <span class="comment">/* æ¨ªå± */</span></div><div class="line">&#125;</div><div class="line">@<span class="keyword">media</span> screen and (orientation: landscape)&#123;</div><div class="line">    <span class="comment">/* ç«–å± */</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å¦‚æœä»…ä»…æ˜¯ä¸ºäº†é’ˆå¯¹å±å¹•æ–¹å‘æ·»åŠ æ ·å¼çš„è¯ï¼Œä½¿ç”¨åª’ä½“æŸ¥è¯¢æ˜¯æœ€ä½³æ–¹æ¡ˆäº†ã€‚</p><p>ç§»åŠ¨ç«¯ä½¿ç”¨ä¹Ÿæ²¡æœ‰å…¼å®¹é—®é¢˜ï¼Œåª’ä½“æŸ¥è¯¢ä» IE9 å°±å¼€å§‹æ”¯æŒäº†ã€‚</p><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2><p><a href="/demo/screenRotation.html">Demo</a></p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/1466565951.png" alt="æµ‹è¯•Demo"></div><div class="image-caption">æµ‹è¯•Demo</div></figure>]]></content>
    
    <summary type="html">
    
      ç§»åŠ¨è®¾å¤‡æ—‹è½¬æ–¹å‘, ç§»åŠ¨ç«¯å±å¹•æ—‹è½¬æ–¹å‘
    
    </summary>
    
    
      <category term="Html5" scheme="http://imys.net/tags/Html5/"/>
    
      <category term="Mobile" scheme="http://imys.net/tags/Mobile/"/>
    
      <category term="deviceorientation" scheme="http://imys.net/tags/deviceorientation/"/>
    
      <category term="orientation" scheme="http://imys.net/tags/orientation/"/>
    
  </entry>
  
  <entry>
    <title>javascripté«˜é˜¶å‡½æ•°ä»‹ç»</title>
    <link href="http://imys.net/20160530/javascript-advanced-functions.html"/>
    <id>http://imys.net/20160530/javascript-advanced-functions.html</id>
    <published>2016-05-30T15:02:08.000Z</published>
    <updated>2016-11-12T19:20:15.898Z</updated>
    
    <content type="html"><![CDATA[<p>javascript è¯­è¨€çš„ç‰¹è‰²ä¹‹ä¸€ä¾¿æ˜¯å‡½æ•°å³å¯¹è±¡ï¼Œå› æ­¤ä¾¿æ»¡è¶³äº†é«˜çº§å‡½æ•°çš„æ¡ä»¶ã€‚</p><h2 id="é«˜é˜¶å‡½æ•°"><a href="#é«˜é˜¶å‡½æ•°" class="headerlink" title="é«˜é˜¶å‡½æ•°"></a>é«˜é˜¶å‡½æ•°</h2><p>åœ¨ã€Šjavascriptè®¾è®¡æ¨¡å¼å’Œå¼€å‘å®è·µã€‹ä¸­æ˜¯è¿™æ ·å®šä¹‰çš„ã€‚</p><ul><li>å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°è¢«ä¼ é€’ï¼›</li><li>å‡½æ•°å¯ä»¥ä½œä¸ºè¿”å›å€¼è¾“å‡ºã€‚</li></ul><p>å®é™…ä¸Šæˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­ä¼šç»å¸¸ç”¨åˆ°é«˜é˜¶å‡½æ•°ã€‚</p><p>æ¥ä¸‹æ¥é€šè¿‡å‡ ä¸ªç»å…¸çš„åº”ç”¨æ¡ˆä¾‹ï¼Œå¸¦ä½ è®¤çŸ¥<code>é«˜é˜¶å‡½æ•°</code>ã€‚<br><a id="more"></a></p><h3 id="å›è°ƒå‡½æ•°"><a href="#å›è°ƒå‡½æ•°" class="headerlink" title="å›è°ƒå‡½æ•°"></a>å›è°ƒå‡½æ•°</h3><p>æèµ·å›è°ƒï¼Œç»å…¸çš„åº”ç”¨è«è¿‡äº Ajax å¼‚æ­¥è¯·æ±‚ã€‚</p><p>ä»¥ jQuery ä¸ºä¾‹ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> getData = <span class="function"><span class="keyword">function</span>(<span class="params">url, callback</span>) </span>&#123;</div><div class="line">    $.get(url, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">        callback(data);</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ç”±äºç½‘ç»œè¯·æ±‚æ—¶é—´çš„ä¸å›ºå®šæ€§ï¼Œæˆ‘ä»¬ä¸èƒ½ç¡®å®šè¯·æ±‚å®Œæˆçš„å…·ä½“æ—¶é—´ï¼Œé‚£ä¹ˆè§£å†³çš„åŠæ³•å°±æ˜¯ä¼ é€’ä¸€ä¸ªå¤„ç†å‡½æ•°ä½œä¸ºå‚æ•°åˆ°è¯·æ±‚æ•°æ®çš„æ–¹æ³•ä¸­ï¼Œè¯·æ±‚å®Œæˆåæ‰§è¡Œå›è°ƒå‡½æ•°ã€‚</p><h3 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h3><p>AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰æ˜¯è‘—åçš„<code>Java Spring</code>æ¡†æ¶ä¸­çš„æ ¸å¿ƒæ¦‚å¿µä¹‹ä¸€ã€‚é€šè¿‡æ­¤ç¼–ç¨‹æ¨¡å¼å¯ä»¥åœ¨ä¿æŒä¸»é€»è¾‘ä»£ç ä¸å˜çš„å‰æä¸‹ï¼Œè¿›è¡Œé¢å¤–çš„åŠŸèƒ½æ‹“å±•ã€‚</p><p>åœ¨ Java ä¸­ä½¿ç”¨ AOP å¾€å¾€è¦é€šè¿‡ä¸€äº›é«˜çº§ç‰¹æ€§æ¥å®ç°ï¼Œè€Œ javascript å°±ç®€å•å¤šäº†ã€‚</p><p>æ¯”å¦‚æµ‹è¯•ä¸€ä¸ªå‡½æ•°çš„æ‰§è¡Œæ•ˆç‡ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> service = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'åŠŸèƒ½é€»è¾‘...'</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> test = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> time_start;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">before</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            time_start = (+<span class="keyword">new</span> <span class="built_in">Date</span>());</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">'è®¡æ—¶å¼€å§‹...'</span>);</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">after</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">var</span> end = (+<span class="keyword">new</span> <span class="built_in">Date</span>()) - time_start;</div><div class="line">            <span class="built_in">console</span>.log(<span class="string">'è®¡æ—¶ç»“æŸï¼Œç”¨æ—¶ï¼š'</span> + end);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;)();</div><div class="line"></div><div class="line"><span class="keyword">var</span> aop = <span class="function"><span class="keyword">function</span>(<span class="params">fn, proxy</span>)</span>&#123;</div><div class="line">    proxy.before &amp;&amp; proxy.before();</div><div class="line">    fn();</div><div class="line">    proxy.after &amp;&amp; proxy.after();</div><div class="line">&#125;</div><div class="line"></div><div class="line">aop(service, test);</div><div class="line"><span class="comment">//   è®¡æ—¶å¼€å§‹...</span></div><div class="line"><span class="comment">//   åŠŸèƒ½é€»è¾‘...</span></div><div class="line"><span class="comment">//   è®¡æ—¶ç»“æŸï¼š1</span></div></pre></td></tr></table></figure><h3 id="æŸ¯é‡ŒåŒ–"><a href="#æŸ¯é‡ŒåŒ–" class="headerlink" title="æŸ¯é‡ŒåŒ–"></a>æŸ¯é‡ŒåŒ–</h3><blockquote><p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒæŸ¯é‡ŒåŒ–ï¼ˆè‹±è¯­ï¼šCurryingï¼‰ï¼Œåˆè¯‘ä¸ºå¡ç‘åŒ–æˆ–åŠ é‡ŒåŒ–ï¼Œæ˜¯æŠŠæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°ï¼ˆæœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›æ¥å—ä½™ä¸‹çš„å‚æ•°è€Œä¸”è¿”å›ç»“æœçš„æ–°å‡½æ•°çš„æŠ€æœ¯ã€‚</p></blockquote><p>è¿™æ¦‚å¿µç€å®è®©æˆ‘ç¢ç£¨äº†åŠå¤©ï¼Œè½¬æ¢æˆä»£ç å¤§æ¦‚æ˜¯è¿™æ ·çš„ã€‚</p><pre><code>fn(1, 2, 3, 4)  -&gt;  fn(1)(2)(3)(4)()
</code></pre><p>å‡è®¾è¿™ä¸ªå‡½æ•°æ˜¯ç”¨äºæ±‚å’Œï¼Œé‚£ä¹ˆå°±æ˜¯æŠŠæœ¬æ¥æ¥æ”¶å¤šä¸ªå‚æ•°ä¸€æ¬¡æ€§æ±‚å’Œçš„å‡½æ•°æ”¹æˆäº†æ¥æ”¶å•ä¸€å‚æ•°é€ä¸ªæ±‚å’Œçš„å‡½æ•°ã€‚è¿™æ ·æ˜¯ä¸æ˜¯å®¹æ˜“ç†è§£äº†ã€‚</p><p>æ¥å®ç°ä¸€ä¸ªæŸ¯é‡ŒåŒ–æ±‚å’Œå‡½æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> currying = <span class="function"><span class="keyword">function</span>(<span class="params">fn</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> args = [];</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">if</span>(!!<span class="built_in">arguments</span>.length) &#123;</div><div class="line">            [].push.apply(args, <span class="built_in">arguments</span>);</div><div class="line">            <span class="keyword">return</span> <span class="built_in">arguments</span>.callee;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> fn.apply(<span class="keyword">this</span>, args);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> sum = (<span class="function"><span class="keyword">function</span>(<span class="params">num</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> ret = <span class="number">0</span>;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="built_in">arguments</span>.length; i &lt; len; i++) &#123;</div><div class="line">            ret += <span class="built_in">arguments</span>[i];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line">&#125;)();</div><div class="line"></div><div class="line"><span class="keyword">var</span> newSum = currying(sum);</div><div class="line"></div><div class="line">newSum(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>)(<span class="number">4</span>)()  <span class="comment">// 10</span></div></pre></td></tr></table></figure><p>çœ‹èµ·æ¥æŒºå·§å¦™ï¼Œä½†æ˜¯è¿™ç§æ¡ˆä¾‹æ˜æ‘†ç€å°±åƒä¸ä»å®é™…å‡ºå‘çš„é¢è¯•é¢˜ã€‚é‚£å†çœ‹ä¸‹ä¸€ä¸ªä¾‹å­ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> find = <span class="function"><span class="keyword">function</span>(<span class="params">arr, el</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> arr.indexOf(el) !== <span class="number">-1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä¸€ä¸ªç®€å•çš„å‡½æ•°ç”¨äºæŸ¥è¯¢æ•°ç»„ä¸­æ˜¯å¦æŸä¸ªå€¼ï¼Œæ¯æ¬¡ä½¿ç”¨éƒ½éœ€è¦è¿™æ ·è°ƒç”¨ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">find(arr, <span class="number">1</span>);</div><div class="line"></div><div class="line">find(arr, <span class="number">2</span>);</div></pre></td></tr></table></figure><p>æ—¢ç„¶ arr æ˜¯ä¸ªå›ºå®šå‚æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å…ˆä¿å­˜ä¸€ä¸ªæ¥æ”¶è¿‡ arr çš„å‡½æ•°ï¼Œå†ç”¨è¿™ä¸ªå‡½æ•°å»å¤„ç†å˜åŒ–çš„å‚æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> newFind = currying(find)(arr);</div><div class="line"></div><div class="line">newFind(<span class="number">1</span>);</div><div class="line">newFind(<span class="number">2</span>);</div></pre></td></tr></table></figure><h3 id="åæŸ¯é‡ŒåŒ–"><a href="#åæŸ¯é‡ŒåŒ–" class="headerlink" title="åæŸ¯é‡ŒåŒ–"></a>åæŸ¯é‡ŒåŒ–</h3><p>ä¸æŸ¯é‡ŒåŒ–ç›¸å¯¹åº”ã€‚</p><ul><li>æŸ¯é‡ŒåŒ–æ˜¯ä¸ºäº†ç¼©å°é€‚ç”¨èŒƒå›´ï¼Œåˆ›å»ºä¸€ä¸ªé’ˆå¯¹æ€§æ›´å¼ºçš„å‡½æ•°ï¼›</li><li>åæŸ¯é‡ŒåŒ–åˆ™æ˜¯æ‰©å¤§é€‚ç”¨èŒƒå›´ï¼Œåˆ›å»ºä¸€ä¸ªåº”ç”¨èŒƒå›´æ›´å¹¿çš„å‡½æ•°ã€‚</li></ul><p>å¯¹åº”çš„ä»£ç è½¬æ¢å°±å˜æˆè¿™æ ·ã€‚</p><pre><code>fn(1)(2)(3)(4)  -&gt;  fn(1, 2, 3, 4)
</code></pre><p>å®ä¾‹</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">Array</span>.forEach = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> fn = [].pop.call(<span class="built_in">arguments</span>);</div><div class="line">    <span class="keyword">var</span> arr = <span class="built_in">arguments</span>.length &gt; <span class="number">1</span> ? <span class="built_in">arguments</span> : <span class="built_in">arguments</span>[<span class="number">0</span>];</div><div class="line">    <span class="keyword">return</span> [].forEach.call(arr, fn);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">Array</span>.forEach(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(i);     <span class="comment">// 1 2 3</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="built_in">Array</span>.forEach(<span class="string">'123'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(i);     <span class="comment">// 1 2 3</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="built_in">Array</span>.forEach(&#123;</div><div class="line">    <span class="string">'0'</span>: <span class="number">1</span>,</div><div class="line">    <span class="string">'1'</span>: <span class="number">2</span>,</div><div class="line">    <span class="string">'2'</span>: <span class="number">3</span>,</div><div class="line">    <span class="string">'length'</span>: <span class="number">3</span></div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(i);     <span class="comment">// 1 2 3</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>ç±»æ•°ç»„å€Ÿç”¨ Array åŸå‹å‡½æ•°ï¼Œæ˜¯å¾ˆå¸¸è§çš„åº”ç”¨äº†ã€‚è¿™ä¸ªä¾‹å­åº”ç”¨ call å‡½æ•°æå–å‡ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå¯ä»¥æ¥æ”¶æ›´å¤šçš„å‚æ•°å’Œç±»å‹ï¼Œé€‚ç”¨æ€§æ›´å¹¿ã€‚</p><h3 id="å‡½æ•°èŠ‚æµ"><a href="#å‡½æ•°èŠ‚æµ" class="headerlink" title="å‡½æ•°èŠ‚æµ"></a>å‡½æ•°èŠ‚æµ</h3><p>å‡½æ•°èŠ‚æµä¹Ÿä¸ç®—å¾ˆå‰å®³çš„æŠ€å·§äº†ï¼Œå¹³å¸¸å†™ä»£ç ä¸¥è°¨çš„äººåº”è¯¥éƒ½æœ‰æ­¤ç±»åº”ç”¨çš„ç»å†ã€‚</p><p>æ¯”å¦‚é¡µé¢æ»šåŠ¨åŠ è½½æ•°æ®çš„åœºæ™¯ã€‚</p><p>å½“é¡µé¢æ»šåŠ¨åˆ°åº•éƒ¨æ—¶ï¼Œä¼šè§¦å‘ Ajax å»è¯·æ±‚æ•°æ®ï¼›å½“é¡µé¢æ»šåŠ¨é¢‘ç¹æ—¶ï¼Œå°±å¯èƒ½å‡ºç°ä¸Šä¸ªè¯·æ±‚è¿˜æœªç»“æŸåˆå¼€å§‹äº†ä¸€ä¸ªæ–°çš„è¯·æ±‚ã€‚<br>è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨å‡½æ•°èŠ‚æµäº†ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> getData = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> onAjax = <span class="literal">false</span>;     <span class="comment">// æ˜¯å¦å¼€å§‹ ajax</span></div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>)</span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span>(!onAjax) &#123;</div><div class="line"></div><div class="line">            onAjax = <span class="literal">true</span>;</div><div class="line"></div><div class="line">            $.get(<span class="string">'/xxx'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">                callback(data);</div><div class="line">                onAjax = <span class="literal">false</span>;</div><div class="line">            &#125;);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;)();</div><div class="line"></div><div class="line">$(<span class="built_in">window</span>).scroll(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">if</span>(æ»šåŠ¨åˆ°åº•éƒ¨) &#123;</div><div class="line">        getData(render);</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h3 id="åˆ†æ—¶å‡½æ•°"><a href="#åˆ†æ—¶å‡½æ•°" class="headerlink" title="åˆ†æ—¶å‡½æ•°"></a>åˆ†æ—¶å‡½æ•°</h3><p>ä¸å‡½æ•°èŠ‚æµä¸€æ ·ï¼Œåˆ†æ—¶å‡½æ•°ä¹Ÿæ˜¯ç”¨æ¥è§£å†³å‡½æ•°é¢‘ç¹æ‰§è¡Œå¸¦æ¥çš„æ€§èƒ½é—®é¢˜ã€‚<br>ä¸åŒçš„æ˜¯ï¼Œå‡½æ•°èŠ‚æµåœºæ™¯ä¸ºè¢«åŠ¨è°ƒç”¨ï¼Œåˆ†æ—¶å‡½æ•°ä¸ºä¸»åŠ¨è°ƒç”¨ã€‚</p><p>å°±ç®—ä¸€ä¸ªåˆ—è¡¨å±•ç¤ºé¡µé¢æ²¡æœ‰ä½¿ç”¨åˆ†é¡µç»„ä»¶ï¼Œä¹Ÿä¼šåƒä¸Šä¸ªä¾‹å­é‚£æ ·è§¦å‘å¼åˆ†ç»„æ¸²æŸ“ã€‚è€Œå¦‚æœçœŸçš„é‡åˆ°éœ€è¦ä¸€æ¬¡æ€§æŠŠæ‰€æœ‰æ•°æ®æ¸²æŸ“åˆ°åˆ—è¡¨æ—¶ï¼Œå¤§é‡çš„ DOM åˆ›å»ºä¼šå¯¹æµè§ˆå™¨é€ æˆæå¤§å¼€é”€ï¼Œæˆ–å¡é¡¿ã€æˆ–å‡æ­»ç­‰ã€‚</p><ul><li>è¯¥å¤„ç†æ˜¯å¦å¿…é¡»åŒæ­¥å®Œæˆï¼Ÿ</li><li>æ•°æ®æ˜¯å¦å¿…é¡»æŒ‰é¡ºåºå®Œæˆï¼Ÿ</li></ul><p>å¦‚æœä»¥ä¸Šä¸¤ä¸ªé—®é¢˜éƒ½ä¸ºâ€œå¦â€çš„è¯ï¼Œä¸ºä½•ä¸å°è¯•åˆ†å‰²è¿™ä¸ªå¤„ç†è¿‡ç¨‹ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">//  arr: æºæ•°æ®</span></div><div class="line"><span class="comment">//  process: å¤„ç†å‡½æ•°</span></div><div class="line"><span class="comment">//  count: æ¯æ¬¡æŠ½å–ä¸ªæ•°</span></div><div class="line"><span class="keyword">var</span> chunk = <span class="function"><span class="keyword">function</span>(<span class="params">arr, process, count</span>)</span>&#123;</div><div class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="built_in">Math</span>.min(count, arr.length); i++) &#123;</div><div class="line">            process(arr.shift());</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">if</span>(arr.length &gt; <span class="number">0</span>) &#123;</div><div class="line">            setTimeout(<span class="built_in">arguments</span>.callee, <span class="number">100</span>);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;, <span class="number">100</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ï¼Œä½¿ç”¨å®šæ—¶å™¨å–å‡ºä¸‹ä¸€æ‰¹è¦å¤„ç†çš„é¡¹ç›®è¿›è¡Œå¤„ç†ï¼Œæ¥ç€åœ¨è®¾ç½®å¦ä¸€ä¸ªå®šæ—¶å™¨ã€‚</p><blockquote><p>ä¸€æ—¦æŸä¸ªå‡½æ•°éœ€è¦èŠ± 50ms ä»¥ä¸Šçš„æ—¶é—´å®Œæˆï¼Œé‚£ä¹ˆæœ€å¥½çœ‹çœ‹èƒ½å¦å°†ä»»åŠ¡åˆ†å‰²ä¸ºä¸€ç³»åˆ—å¯ä»¥ä½¿ç”¨å®šæ—¶å™¨çš„å°ä»»åŠ¡ã€‚</p></blockquote><h3 id="æƒ°æ€§åŠ è½½"><a href="#æƒ°æ€§åŠ è½½" class="headerlink" title="æƒ°æ€§åŠ è½½"></a>æƒ°æ€§åŠ è½½</h3><p>å½“ä½ é€›ç½‘åº—å‘ç°äº†å¿ƒæ€¡çš„å•†å“æ—¶ï¼Œæ˜¯ç«‹åˆ»æ”¶è—æˆ–åŠ è´­ç‰©è½¦ï¼Œè¿˜æ˜¯ç­‰åˆ°ä¹°çš„æ—¶å€™å†æœç´¢ç›¸å…³å•†å“ä¸€ä¸ªä¸€ä¸ªçš„æ‰¾åˆ°å®ƒï¼Ÿ</p><p>æµè§ˆå™¨ç‰¹å¾æ£€æµ‹æ˜¯å‰ç«¯å¼€å‘ä¸­å¿…ä¸å¯å°‘çš„ï¼Œæ¯”å¦‚è¿”å›é¡¶éƒ¨ï¼Œæˆ‘ä»¬éœ€è¦åŒºåˆ†ç«ç‹å’Œå…¶ä»–æµè§ˆå™¨æ¥å†³å®š scrollTop åº”å½“è®¾ç½®ç»™è°ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// æ–°æ‰‹</span></div><div class="line"><span class="keyword">var</span> gotop = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(<span class="regexp">/firefox/i</span>.test(navigator.userAgent)) &#123;</div><div class="line">        <span class="built_in">document</span>.documentElement.scrollTop = <span class="number">0</span>;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">document</span>.body.scrollTop = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// è€å¸æœº</span></div><div class="line"><span class="keyword">var</span> gotop = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> isFF = <span class="regexp">/firefox/i</span>.test(navigator.userAgent);</div><div class="line">    <span class="keyword">var</span> docEl = <span class="built_in">document</span>[ isFF ? <span class="string">'documentElement'</span> : <span class="string">'body'</span> ];</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        docEl.scrollTop = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">&#125;)();</div></pre></td></tr></table></figure><p>æµè§ˆå™¨çš„ç‰¹å¾æ˜¯ä¿æŒä¸å˜çš„ï¼Œæ—¢ç„¶å¦‚æ­¤ä¸ºä»€ä¹ˆä¸ä¸€å¼€å§‹å°±ä¿å­˜ä¸‹æ¥å‘¢ã€‚</p><p>ä¸æ­¤åŒç†ï¼Œæ—¥å¸¸ç¼–ç¨‹ä¸­è¦æ³¨æ„ç¼“å­˜é‚£äº›ç»å¸¸ä½¿ç”¨ã€æ”¹å˜è¾ƒå°‘æˆ–ä¸åšæ”¹å˜çš„å†…å®¹ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="http://www.ituring.com.cn/book/1632" target="_blank" rel="external">ã€ŠJavaScriptè®¾è®¡æ¨¡å¼ä¸å¼€å‘å®è·µã€‹</a></li><li><a href="http://www.ituring.com.cn/book/946" target="_blank" rel="external">ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ ç¬¬ä¸‰ç‰ˆ</a></li><li><a href="https://llh911001.gitbooks.io/mostly-adequate-guide-chinese/content/ch4.html" target="_blank" rel="external">JSå‡½æ•°å¼ç¼–ç¨‹æŒ‡å— - æŸ¯é‡ŒåŒ–</a></li><li>ã€Šç¼–å†™é«˜è´¨é‡ä»£ç ï¼šæ”¹å–„JavaScriptç¨‹åºçš„188ä¸ªå»ºè®®ã€‹</li></ul>]]></content>
    
    <summary type="html">
    
      javascripté«˜é˜¶å‡½æ•°ä»‹ç»
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://imys.net/tags/JavaScript/"/>
    
      <category term="Function" scheme="http://imys.net/tags/Function/"/>
    
  </entry>
  
  <entry>
    <title>Hexoæ·»åŠ ç«™å†…æœç´¢åŠŸèƒ½åˆæ­¥å®Œæˆ</title>
    <link href="http://imys.net/20160511/hexo-search.html"/>
    <id>http://imys.net/20160511/hexo-search.html</id>
    <published>2016-05-11T08:08:50.000Z</published>
    <updated>2016-11-12T19:07:36.170Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸æ­¢ä¸€æ¬¡æœ‰åŒå­¦åœ¨ <a href="https://github.com/yscoder/hexo-theme-indigo/issues" target="_blank" rel="external">Issues</a>ã€é‚®ä»¶ç­‰æ¸ é“ä¸­å‘æˆ‘åé¦ˆ<strong>å¢åŠ ç«™å†…æœç´¢åŠŸèƒ½</strong>ã€‚æœ¬æ¥å‡†å¤‡ä»€ä¹ˆæ—¶å€™æä¸ª 2.0 ç‰ˆçš„ä¸»é¢˜å†åŠ ä¸Šè¿™äº›æ–°åŠŸèƒ½ï¼Œå¯ä¸€ç›´æ²¡ä»€ä¹ˆå¤ªå¥½çš„æƒ³æ³•ï¼Œåæ­£ä¹Ÿæ˜¯æŠ˜è…¾ï¼Œå°±æŠŠæœç´¢åŠŸèƒ½åšäº†ä¸€ä¸‹ã€‚</p><h2 id="æœç´¢æ–¹æ¡ˆ"><a href="#æœç´¢æ–¹æ¡ˆ" class="headerlink" title="æœç´¢æ–¹æ¡ˆ"></a>æœç´¢æ–¹æ¡ˆ</h2><p>é’ˆå¯¹æ— æ•°æ®åº“çš„é™æ€åšå®¢æœç´¢æ–¹æ¡ˆä¸€èˆ¬æœ‰ä¸¤ç§ï¼š</p><ol><li>ç¬¬ä¸‰æ–¹æœç´¢æœåŠ¡ï¼›</li><li>åºåˆ—åŒ–ç«™ç‚¹å†…å®¹ä½œä¸ºæ•°æ®æºï¼Œç„¶åè‡ªå·±å†™æŸ¥è¯¢æ–¹æ³•ã€‚<a id="more"></a></li></ol><h2 id="ç¬¬ä¸‰æ–¹æœç´¢æœåŠ¡"><a href="#ç¬¬ä¸‰æ–¹æœç´¢æœåŠ¡" class="headerlink" title="ç¬¬ä¸‰æ–¹æœç´¢æœåŠ¡"></a>ç¬¬ä¸‰æ–¹æœç´¢æœåŠ¡</h2><h3 id="åŸºäºæœç´¢å¼•æ“çš„"><a href="#åŸºäºæœç´¢å¼•æ“çš„" class="headerlink" title="åŸºäºæœç´¢å¼•æ“çš„"></a>åŸºäºæœç´¢å¼•æ“çš„</h3><p>åŒ…æ‹¬ Google å’Œç™¾åº¦æä¾›çš„ç«™å†…æœç´¢ï¼Œæ¯”å¦‚ Hexo æ–‡æ¡£ä¸­çš„è¾…åŠ©å‡½æ•° <a href="https://hexo.io/zh-cn/docs/helpers.html#search-form" target="_blank" rel="external">search-form</a> å°±æä¾›äº†ä¸€ä¸ª Google æœç´¢æ¡†ã€‚æœç´¢ç»“æœå–å†³äºè¯¥æœç´¢å¼•æ“å¯¹ä½ ç«™ç‚¹çš„æ”¶å½•æƒ…å†µã€‚</p><p>æŠ›å¼€å…¶ä»–åŸå› æ¥è®²ï¼Œæ²¡æœ‰é¢œå€¼çš„æœç´¢æœåŠ¡æˆ‘æ˜¯ä¸ä¼šè€ƒè™‘çš„ã€‚</p><p>æ¥ç€æˆ‘å®éªŒäº†ä¸€ä¸‹åœ¨ Hexo ä¸­æœ‰ç”¨æˆ·åŸºç¡€çš„ <strong>Swiftype</strong> å’Œ Hexo å®˜ç½‘ä½¿ç”¨çš„ <strong>Algolia</strong>ã€‚</p><h3 id="Swiftype"><a href="#Swiftype" class="headerlink" title="Swiftype"></a>Swiftype</h3><p><a href="https://swiftype.com/" target="_blank" rel="external">Swiftype</a> å®‰è£…å¾ˆç®€å•ï¼Œå…³äºå…¶åœ¨ Hexo ä¸­ä½¿ç”¨çš„æ–‡ç« ä»‹ç»ä¹Ÿå¾ˆå¤šï¼Œæˆ‘åªè¯´ä¸‹ä½¿ç”¨ä½“éªŒã€‚</p><p>é…åˆæˆ‘è‡ªå®šä¹‰çš„æœç´¢æ¡†æ ·å¼ï¼Œå¤–è§‚å±•ç°è¿˜ç®—è¿‡å…³ã€‚</p><p>å¯ä»¥å¯¹è‰²è°ƒè¿›è¡Œä¿®æ”¹ï¼Œç”±äºæ˜¯åœ¨å•é¡µé¢å±•ç¤ºæœç´¢ç»“æœï¼Œå°±ç®—ä¸æä¾›å¤–è§‚ä¿®æ”¹ä¹Ÿå¯ä»¥è‡ªå·±é‡å†™ css ï¼Œç±»ä¼¼å¤šè¯´ã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/Swiftype-colors.jpg" alt="Swiftype-colors"></div><div class="image-caption">Swiftype-colors</div></figure><p>æœç´¢ç»“æœçš„å±•ç¤ºå¯ä»¥è‡ªå®šä¹‰ï¼ŒåŒ…æ‹¬å†…å®¹å¸ƒå±€ã€å­—æ®µæ’åˆ—ã€åˆ†é¡µç­‰ã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/Swiftype-results.jpg" alt="Swiftype-results"></div><div class="image-caption">Swiftype-results</div></figure><p>æœç´¢ç»“æœå®¹å™¨å¯å®Œå…¨è‡ªå®šä¹‰ï¼Œå¯è®¾ç½®å•é¡µæˆ–æ–°é¡µé¢æ˜¾ç¤ºæœç´¢ç»“æœï¼Œå¯¹å¤–è§‚çš„æ§åˆ¶åŠ›æ›´å¼ºã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/Swiftype-container.jpg" alt="Swiftype-container"></div><div class="image-caption">Swiftype-container</div></figure><p>å¯ä»¥è®¾ç½®å­—æ®µæƒé‡ï¼Œæ¯”å¦‚ä¼˜å…ˆå±•ç¤ºæ–‡ç« æ ‡é¢˜çš„åŒ¹é…ç»“æœã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/Swiftype-sort.jpg" alt="Swiftype-sort"></div><div class="image-caption">Swiftype-sort</div></figure><p>å¯ä»¥å•ç‹¬ä¸ºæŸä¸ªå…³é”®å­—æœç´¢ç»“æœè¿›è¡Œç®¡ç†ï¼Œæ¯”å¦‚æ’åºã€ç½®é¡¶ã€åˆ é™¤ç­‰ç­‰ï¼Œè¯è¯´æŸåº¦æ¨å¹¿ä¸å°±æ˜¯è¿™æ ·å—ã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/Swiftype-rank.jpg" alt="Swiftype-rank"></div><div class="image-caption">Swiftype-rank</div></figure><p>å¯ä»¥è®¾ç½®æŠ“å–è§„åˆ™ï¼Œæ¯”å¦‚åªæŠ“å–æ–‡ç« é¡µã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/Swiftype-rules.jpg" alt="Swiftype-rules"></div><div class="image-caption">Swiftype-rules</div></figure><p>é»˜è®¤çš„å­—æ®µåŒ¹é…ä¸æ»¡æ„ï¼Œä¸‹å›¾æ˜¯å¯¹<code>hexo</code>çš„æœç´¢ç»“æœã€‚Swiftype çš„<code>body</code>å­—æ®µé»˜è®¤æŠ“å–æ•´ä¸ªé¡µé¢ï¼Œæˆ‘æ¯ä¸ªé¡µé¢çš„å·¦ä¾§ footer éƒ½æœ‰<code>hexo</code>è¿™ä¸ªå•è¯ï¼Œåœ¨æˆ‘è®¾ç½®äº†åªæŠ“å–æ–‡ç« é¡µåï¼Œåšå®¢ä¸€å…± 46 ç¯‡æ–‡ç« ä¹Ÿå°±åŒ¹é…äº† 46 ä¸ªç»“æœã€‚æˆ‘æœŸæœ›å®ƒåªå¯¹æ–‡ç« å†…å®¹æ£€ç´¢ï¼Œè¿™æ ·æ›´ç²¾å‡†ã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/Swiftype-show.jpg" alt="Swiftype-show"></div><div class="image-caption">Swiftype-show</div></figure><p>å¦‚æœèƒ½è‡ªå®šä¹‰æŠ“å–å­—æ®µï¼ŒæŒ‡å®šæŠ“å–å†…å®¹å½“ç„¶æ˜¯æå¥½çš„ã€‚Swiftype æ–‡æ¡£ä¸­ä¹Ÿæä¾›äº†è¿™æ–¹é¢å†…å®¹ï¼Œ<a href="https://swiftype.com/documentation/crawler_quick_start" target="_blank" rel="external">Crawler</a>ã€‚</p><p>å¤§æ¦‚çœ‹äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰ <strong>Content Inclusion/Exclusion</strong> å’Œ <strong>Meta Tags</strong> æ–¹å¼åº”è¯¥èƒ½æ»¡è¶³éœ€æ±‚ã€‚æˆ‘ä¹Ÿå°è¯•äº†ä¸€ä¸‹ï¼Œå‘ç°æ²¡æ•ˆæœï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯è¦é‡æ–°æŠ“å–æ‰ç”Ÿæ•ˆã€‚</p><p>è®¾ç½®é‡æ–°æŠ“å–åç­‰äº† 1 ä¸ªå°æ—¶è¿˜æ²¡ä»€ä¹ˆæ•ˆæœï¼Œæˆ‘åªå¥½å…ˆè¿›è¡Œä¸‹ä¸€æ­¥äº†ã€‚</p><h3 id="Algolia"><a href="#Algolia" class="headerlink" title="Algolia"></a>Algolia</h3><p><a href="https://www.algolia.com/" target="_blank" rel="external">Algolia</a> æˆ‘åªæ³¨å†Œäº†è´¦æˆ·ï¼Œç„¶åå°±æ²¡æœ‰ç„¶åäº†ã€‚ã€‚ã€‚å› ä¸ºæˆ‘å‡†å¤‡ä½¿ç”¨æ–¹æ¡ˆ2äº†ã€‚</p><p>ä» Algolia ç®¡ç†ç•Œé¢å’Œæ–‡æ¡£ä¸Šæ¥çœ‹ä¸ä¼šæ¯” Swiftype å·®ï¼Œå¯ç•™ä½œå¤‡é€‰ã€‚</p><h2 id="è‡ªå®šä¹‰æœç´¢"><a href="#è‡ªå®šä¹‰æœç´¢" class="headerlink" title="è‡ªå®šä¹‰æœç´¢"></a>è‡ªå®šä¹‰æœç´¢</h2><p>æ²¡æœ‰æ•°æ®åº“çš„å‰æä¸‹å®ç°æŸ¥è¯¢ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ•°æ®æ–‡ä»¶åšæ•°æ®æºã€‚Hexo ä¸­ä¹Ÿæœ‰è¿™æ–¹é¢çš„å…ˆé©±è€…ï¼Œåœ¨ <a href="https://hexo.io/plugins/" target="_blank" rel="external">Hexo-Plugins</a> é¡µå¯ä»¥æ‰¾åˆ°ç”Ÿæˆæ•°æ®æ–‡ä»¶çš„ä¸¤ä¸ªæ’ä»¶ï¼Œ<a href="https://github.com/alexbruno/hexo-generator-json-content" target="_blank" rel="external">hexo-generator-json-content</a> å’Œ <a href="https://github.com/PaicHyperionDev/hexo-generator-search" target="_blank" rel="external">hexo-generator-search</a>ã€‚</p><p>hexo-generator-json-content ç”Ÿæˆçš„æ•°æ®æ–‡ä»¶ä¸º<code>json</code>æ ¼å¼ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">meta: &#123;</div><div class="line">    <span class="attr">title</span>: hexo.config.title,</div><div class="line">    <span class="attr">subtitle</span>: hexo.config.subtitle,</div><div class="line">    <span class="attr">description</span>: hexo.config.description,</div><div class="line">    <span class="attr">author</span>: hexo.config.author,</div><div class="line">    <span class="attr">url</span>: hexo.config.url</div><div class="line">&#125;,</div><div class="line"><span class="attr">pages</span>: [&#123; <span class="comment">//-&gt; all pages</span></div><div class="line">  title: page.title,</div><div class="line">  <span class="attr">slug</span>: page.slug,</div><div class="line">  <span class="attr">date</span>: page.date,</div><div class="line">  <span class="attr">updated</span>: page.updated,</div><div class="line">  <span class="attr">comments</span>: page.comments,</div><div class="line">  <span class="attr">permalink</span>: page.permalink,</div><div class="line">  <span class="attr">path</span>: page.path,</div><div class="line">  <span class="attr">excerpt</span>: page.excerpt, <span class="comment">//-&gt; only text ;)</span></div><div class="line">  keywords: <span class="literal">null</span> <span class="comment">//-&gt; it needs settings</span></div><div class="line">  text: page.content, <span class="comment">//-&gt; only text minified ;)</span></div><div class="line">  raw: page.raw, <span class="comment">//-&gt; original MD content</span></div><div class="line">  content: page.content <span class="comment">//-&gt; final HTML content</span></div><div class="line">&#125;],</div><div class="line"><span class="attr">posts</span>: [&#123; <span class="comment">//-&gt; only published posts</span></div><div class="line">  title: post.title,</div><div class="line">  <span class="attr">slug</span>: post.slug,</div><div class="line">  <span class="attr">date</span>: post.date,</div><div class="line">  <span class="attr">updated</span>: post.updated,</div><div class="line">  <span class="attr">comments</span>: post.comments,</div><div class="line">  <span class="attr">permalink</span>: post.permalink,</div><div class="line">  <span class="attr">path</span>: post.path,</div><div class="line">  <span class="attr">excerpt</span>: post.excerpt, <span class="comment">//-&gt; only text ;)</span></div><div class="line">  keywords: <span class="literal">null</span> <span class="comment">//-&gt; it needs settings</span></div><div class="line">  text: post.content, <span class="comment">//-&gt; only text minified ;)</span></div><div class="line">  raw: post.raw, <span class="comment">//-&gt; original MD content</span></div><div class="line">  content: post.content, <span class="comment">//-&gt; final HTML content</span></div><div class="line">  categories: [&#123;</div><div class="line">    <span class="attr">name</span>: category.name,</div><div class="line">    <span class="attr">slug</span>: category.slug,</div><div class="line">    <span class="attr">permalink</span>: category.permalink</div><div class="line">  &#125;],</div><div class="line">  <span class="attr">tags</span>: [&#123;</div><div class="line">    <span class="attr">name</span>: tag.name,</div><div class="line">    <span class="attr">slug</span>: tag.slug,</div><div class="line">    <span class="attr">permalink</span>: tag.permalink</div><div class="line">  &#125;]</div><div class="line">&#125;]</div></pre></td></tr></table></figure><p>hexo-generator-search ç”Ÿæˆçš„æ•°æ®æ–‡ä»¶ä¸º<code>xml</code>æ ¼å¼ã€‚</p><figure class="highlight xml"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">search</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">entry</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Post title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://yourposturl.html<span class="tag">&lt;/<span class="name">url</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">content</span> <span class="attr">type</span>=<span class="string">"html"</span>&gt;</span>helloworldhelloworldhelloworldhelloworldhelloworldhelloworld<span class="tag">&lt;/<span class="name">content</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">entry</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Post title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://yourposturl.html<span class="tag">&lt;/<span class="name">url</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">content</span> <span class="attr">type</span>=<span class="string">"html"</span>&gt;</span>helloworldhelloworldhelloworldhelloworldhelloworldhelloworld<span class="tag">&lt;/<span class="name">content</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">search</span>&gt;</span></div></pre></td></tr></table></figure><p>å¯¹äº js è¯­è¨€æ¥è¯´è¿˜æ˜¯è§£æ json æ›´æ–¹ä¾¿ï¼Œå¦‚æœéœ€è¦ç”¨<code>xml</code>åšæ•°æ®æ–‡ä»¶æˆ‘å®Œå…¨å¯ä»¥ä½¿ç”¨å·²æœ‰çš„<a href="/atom.xml">atom.xml</a>ã€‚</p><p><a href="https://github.com/alexbruno/hexo-generator-json-content" target="_blank" rel="external">hexo-generator-json-content</a> ç”Ÿæˆçš„<code>json</code>æ•°æ®å†…å®¹æŒºå…¨çš„ï¼Œä¸è¿‡å¹¶ä¸æ˜¯æˆ‘éƒ½éœ€è¦çš„ã€‚å¯ä»¥é€šè¿‡æ·»åŠ ç«™ç‚¹é…ç½®è®¾ç½®ä½ éœ€è¦ç”Ÿæˆçš„å­—æ®µã€‚</p><p><code>meta</code>æ˜¯ç«™ç‚¹ä¿¡æ¯ï¼Œ<code>pages</code>æ˜¯é™¤æ–‡ç« é¡µä»¥å¤–çš„é¡µé¢ä¿¡æ¯ï¼Œè¿™éƒ½æ˜¯æˆ‘ä¸éœ€è¦çš„ï¼Œæˆ‘åªè¦æ±‚æœç´¢æ–‡ç« é¡µã€‚</p><p>æ­¤å¤–ï¼Œæ–‡ç« é¡µçš„å­—æ®µä¹Ÿå¯ä»¥æ ¹æ®éœ€æ±‚å‡å°‘ï¼Œä»¥å‡å°æ•°æ®æ–‡ä»¶å¤§å°ã€‚ä¸‹å›¾å¯ä»¥ç›´è§‚çœ‹å‡ºæ¯ä¸ªå­—æ®µè¡¨ç¤ºçš„å†…å®¹ã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/hexo-generator-json-content.jpg" alt="hexo-generator-json-content"></div><div class="image-caption">hexo-generator-json-content</div></figure><ul><li><code>slug</code>ã€<code>comments</code>ã€<code>link</code>ã€<code>keywords</code>ã€<code>categories</code>éƒ½æ˜¯æ— å†…å®¹æˆ–ä¸éœ€è¦çš„å­—æ®µï¼›</li><li><code>date</code>å’Œ<code>updated</code>ã€<code>path</code>å’Œ<code>permalink</code>ç•™å…¶ä¸€å³å¯ï¼›</li><li><code>excerpt</code>å¯ä»¥ä¸è¦ï¼Œå› ä¸ºæˆ‘ä»¬è¦æ£€ç´¢æ–‡ç« å…¨æ–‡ï¼›</li><li><code>raw</code>æ˜¯<code>markdown</code>å…ƒæ•°æ®ï¼Œ<code>content</code>æ˜¯åŒ…å«<code>html</code>æ ‡ç­¾çš„æ–‡ç« å†…å®¹ï¼Œå¤„ç†èµ·æ¥æœ€æ–¹ä¾¿çš„æ˜¯<code>text</code>çº¯æ–‡æœ¬ã€‚</li></ul><p>æœ€åçš„é…ç½®å¦‚ä¸‹ï¼Œéœ€è¦æ”¾åˆ°<code>hexo/_config.yml</code>ä¸­ã€‚</p><figure class="highlight yml"><table><tr><td class="code"><pre><div class="line"><span class="attr">jsonContent:</span></div><div class="line"><span class="attr">  meta:</span> <span class="literal">false</span></div><div class="line"><span class="attr">  pages:</span> <span class="literal">false</span></div><div class="line"><span class="attr">  posts:</span></div><div class="line"><span class="attr">    title:</span> <span class="literal">true</span></div><div class="line"><span class="attr">    date:</span> <span class="literal">true</span></div><div class="line"><span class="attr">    path:</span> <span class="literal">true</span></div><div class="line"><span class="attr">    text:</span> <span class="literal">true</span></div><div class="line"><span class="attr">    raw:</span> <span class="literal">false</span></div><div class="line"><span class="attr">    content:</span> <span class="literal">false</span></div><div class="line"><span class="attr">    slug:</span> <span class="literal">false</span></div><div class="line"><span class="attr">    updated:</span> <span class="literal">false</span></div><div class="line"><span class="attr">    comments:</span> <span class="literal">false</span></div><div class="line"><span class="attr">    link:</span> <span class="literal">false</span></div><div class="line"><span class="attr">    permalink:</span> <span class="literal">false</span></div><div class="line"><span class="attr">    excerpt:</span> <span class="literal">false</span></div><div class="line"><span class="attr">    categories:</span> <span class="literal">false</span></div><div class="line"><span class="attr">    tags:</span> <span class="literal">true</span></div></pre></td></tr></table></figure><p>æ¥ç€å°±æ˜¯å®ç°æŸ¥è¯¢æ–¹æ³•å¹¶æŠŠç»“æœæ¸²æŸ“åˆ°é¡µé¢ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// xhråŠ è½½æ•°æ®</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadData</span>(<span class="params">callback</span>) </span>&#123;</div><div class="line">    <span class="comment">// ç•¥...</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// åŒ¹é…æ–‡ç« å†…å®¹è¿”å›ç»“æœ</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">matcher</span>(<span class="params">post, regExp</span>) </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">// åŒ¹é…ä¼˜å…ˆçº§ï¼štitle &gt; tags &gt; text</span></div><div class="line">    <span class="keyword">return</span> regExp.test(post.title) || post.tags.some(<span class="function"><span class="keyword">function</span>(<span class="params">tag</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> regExp.test(tag.name);</div><div class="line">    &#125;) || regExp.test(post.text);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// æ¸²æŸ“åˆ°é¡µé¢</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">render</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">    <span class="comment">// ç•¥...</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// æŸ¥è¯¢</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">search</span>(<span class="params">key</span>) </span>&#123;</div><div class="line">    <span class="comment">// å…³é”®å­— =&gt; æ­£åˆ™ï¼Œç©ºæ ¼éš”å¼€çš„çœ‹ä½œå¤šä¸ªå…³é”®å­—</span></div><div class="line">    <span class="comment">// a b c =&gt; /a|b|c/gmi</span></div><div class="line">    <span class="keyword">var</span> regExp = <span class="keyword">new</span> <span class="built_in">RegExp</span>(key.replace(<span class="regexp">/[ ]/g</span>, <span class="string">'|'</span>), <span class="string">'gmi'</span>);</div><div class="line"></div><div class="line">    loadData(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">var</span> result = data.filter(<span class="function"><span class="keyword">function</span>(<span class="params">post</span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> matcher(post, regExp);</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">        render(result);</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>æ­£åˆ™åŠ ä¸Š<code>filter</code>ã€<code>some</code>ä¸¤ä¸ªæ•°ç»„è¿‡æ»¤å‡½æ•°ï¼Œå°±è¿™ä¹ˆç®€å•ã€‚ä¹Ÿæ²¡æƒ³åšå¤ªå¤æ‚ï¼Œå¦åˆ™åŒ¹é…ç»“æœé«˜äº®ã€åŒ¹é…ç‰‡æ®µæˆªå–åˆå¤ŸæŠ˜è…¾åŠå¤©ã€‚</p><p>å®Œæˆåå°±æ˜¯ç°åœ¨åšå®¢çš„æœç´¢äº†ï¼ŒPC ç«¯æµ®åŠ¨é¢æ¿æ˜¾ç¤ºï¼ŒMobile ç«¯å…¨å±æ˜¾ç¤ºã€‚</p>]]></content>
    
    <summary type="html">
    
      Hexo search, Hexoæ–‡ç« æœç´¢, Hexoç«™å†…æœç´¢
    
    </summary>
    
    
      <category term="Hexo" scheme="http://imys.net/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Vueä¸­çš„æ•°æ®äº¤äº’</title>
    <link href="http://imys.net/20160503/vue-data-interaction.html"/>
    <id>http://imys.net/20160503/vue-data-interaction.html</id>
    <published>2016-05-03T09:39:44.000Z</published>
    <updated>2016-11-12T19:31:18.041Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨ Vue ä¸­é€šå¸¸ä»¥ä¸€ä¸ª Vue å®ä¾‹æ¥è¡¨ç¤ºä¸€ä¸ªåº”ç”¨ï¼Œä¸€ä¸ªåº”ç”¨ç”±è‹¥å¹²ä¸ªç»„ä»¶æ‹¼è£…è€Œæˆã€‚<br>æ²¡é”™ï¼Œå°±åƒâ€œè£…æœºâ€ä¸€æ ·ã€‚å½“ä½ æŠŠä¸»æ¿ã€CPUã€æ˜¾å¡ã€å†…å­˜ã€æ•£çƒ­å™¨ã€SSDã€ç”µæºç­‰æ‘†æ”¾åˆ°æœºç®±çš„å„ä¸ªä½ç½®åï¼Œå¾ˆæ˜æ˜¾äº§ç”Ÿäº†ä¸€ä¸ªæ˜ç¡®çš„éœ€æ±‚ï¼šæˆ‘æ€ä¹ˆè®©è¿™äº›ä¸œè¥¿ååŒå·¥ä½œï¼Ÿ<br>å›åˆ° Vue ä¸­ï¼Œå¤„ç†ä¸åŒç»„ä»¶ä¹‹é—´çš„æ•°æ®æˆ–çŠ¶æ€æ˜¯ä¸€ä»¶ç»å¸¸é‡åˆ°çš„äº‹ã€‚<br><a id="more"></a></p><p>å¥½åœ¨ <a href="http://cn.vuejs.org/guide/" target="_blank" rel="external">Vueçš„æ–‡æ¡£</a> è¶³å¤Ÿè¯¦ç»†ã€‚å…³äºç»„ä»¶äº¤äº’çš„éƒ¨åˆ†ï¼Œå¦‚æœæ²¡æœ‰å®é™…éœ€æ±‚ï¼Œæˆ‘è¡¨ç¤ºéš¾ä»¥æ˜ç™½<code>props</code>ä»¥åŠè‡ªå®šä¹‰äº‹ä»¶ç­‰ä½¿ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆã€‚</p><h2 id="Props"><a href="#Props" class="headerlink" title="Props"></a>Props</h2><p><code>props</code>æ˜¯å®šä¹‰åœ¨å­ç»„ä»¶ä¸­çš„å±æ€§ï¼Œç”¨æ¥å®šä¹‰æœŸæœ›ä»çˆ¶ç»„ä»¶ä¼ ä¸‹æ¥çš„æ•°æ®ã€‚</p><p>ä»å®é™…åœºæ™¯ç€æ‰‹ï¼Œå†™ä¸€ä¸ªç®€å•çš„éœ€æ±‚ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- å­ç»„ä»¶æ¨¡æ¿ --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;helloWorld&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- çˆ¶ç»„ä»¶æ¨¡æ¿ --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"text"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">child</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div></pre></td></tr></table></figure><p>å½“çˆ¶ç»„ä»¶ä¸­è¾“å…¥å†…å®¹æ—¶æ˜¾ç¤ºåˆ°å­ç»„ä»¶ä¸­ã€‚</p><p>è¿™æ—¶ï¼Œæˆ‘éœ€è¦åœ¨å­ç»„ä»¶ä¸­å£°æ˜ä¸€ä¸ª props å±æ€§æ¥æ¥æ”¶çˆ¶ç»„ä»¶ä¸­è¾“å…¥çš„å†…å®¹ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// å­ç»„ä»¶</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">    <span class="attr">props</span>: &#123;</div><div class="line">        <span class="attr">helloWorld</span>: <span class="built_in">String</span></div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// çˆ¶ç»„ä»¶</span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">    <span class="attr">components</span>: &#123;</div><div class="line">        <span class="attr">child</span>: <span class="built_in">require</span>(<span class="string">'child'</span>)</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">data</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">text</span>: <span class="string">''</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure><p>è¿˜éœ€è¦å‘Šè¯‰å­ç»„ä»¶ï¼Œå®ƒçš„ props å¯¹åº”çˆ¶ç»„ä»¶ä¸­çš„å“ªä¸ªæ•°æ®ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- åœ¨å­ç»„ä»¶ä¸Šæ ‡è®° --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">child</span> <span class="attr">:hello-world</span>=<span class="string">"text"</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div></pre></td></tr></table></figure><blockquote><p>camelCase æ ¼å¼å±æ€§ç”¨ä½œ HTML ç‰¹æ€§æ—¶éœ€è¦è½¬æ¢æˆ kebab-case æ ¼å¼ã€‚</p></blockquote><p>å½“å‰éœ€æ±‚è½»æ¾çš„è§£å†³äº†ï¼</p><p>æœ‰æ²¡æœ‰å‘ç° props å¥½åƒæ˜¯å•å‘çš„ï¼Œçˆ¶ -&gt; å­ï¼Ÿ</p><p>ä¸ï¼Œå¹¶ä¸æ˜¯ã€‚åªæ˜¯é»˜è®¤æ˜¯å•å‘çš„ã€‚å¯ä»¥é€šè¿‡æ·»åŠ é¢å¤–çš„ä¿®é¥°ç¬¦æ¥æ˜¾ç¤ºå¼ºåˆ¶åŒå‘æˆ–å•è¯ç»‘å®šã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- åŒå‘ç»‘å®š --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">child</span> <span class="attr">:hello-world.sync</span>=<span class="string">"text"</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- å•æ¬¡ç»‘å®š --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">child</span> <span class="attr">:hello-world.once</span>=<span class="string">"text"</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div></pre></td></tr></table></figure><p>è€Œæ­£åƒ Vue æ–‡æ¡£ä¸­æ‰€è¯´çš„ï¼Œé»˜è®¤å•å‘ç»‘å®šæ˜¯<strong>ä¸ºäº†é˜²æ­¢å­ç»„ä»¶æ— æ„ä¿®æ”¹äº†çˆ¶ç»„ä»¶çš„çŠ¶æ€â€”â€”è¿™ä¼šè®©åº”ç”¨çš„æ•°æ®æµéš¾ä»¥ç†è§£ã€‚</strong></p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœå½“å‰å­ç»„ä»¶è®¾ç½®ä¸ºåŒå‘ç»‘å®šï¼Œå¦æœ‰å…¶ä»–çš„å­ç»„ä»¶ä¾èµ–çˆ¶ç»„ä»¶çš„<code>helloWorld</code>å±æ€§ã€‚è¿™ç§å…³ç³»ä¸‹å¦‚æœå­ç»„ä»¶ä¿®æ”¹äº†æ•°æ®ï¼ŒåŠ¿å¿…å¼•èµ·å…¶ä»–å­ç»„ä»¶çš„çŠ¶æ€æ”¹å˜ã€‚æŸäº›åœºæ™¯ä¸‹æˆ‘ä»¬å¹¶ä¸å¸Œæœ›å‘ç”Ÿè¿™ç§æƒ…å†µã€‚</p><h2 id="è‡ªå®šä¹‰äº‹ä»¶"><a href="#è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="è‡ªå®šä¹‰äº‹ä»¶"></a>è‡ªå®šä¹‰äº‹ä»¶</h2><p>ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶ä¹Ÿå¯ä»¥å®ç°çˆ¶å­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œé€šè¿‡äº‹ä»¶è§¦å‘çš„å½¢å¼æ¥ä¼ é€’æ•°æ®ã€‚</p><ul><li>ä½¿ç”¨<code>$on()</code>ç›‘å¬äº‹ä»¶ï¼›</li><li>ä½¿ç”¨<code>$emit()</code>åœ¨å®ƒä¸Šé¢è§¦å‘äº‹ä»¶ï¼›</li><li>ä½¿ç”¨<code>$dispatch()</code>æ´¾å‘äº‹ä»¶ï¼Œäº‹ä»¶æ²¿ç€çˆ¶é“¾å†’æ³¡ï¼›</li><li>ä½¿ç”¨<code>$broadcast()</code>å¹¿æ’­äº‹ä»¶ï¼Œäº‹ä»¶å‘ä¸‹ä¼ å¯¼ç»™æ‰€æœ‰çš„åä»£ã€‚</li></ul><p>ç°åœ¨å˜æ›´éœ€æ±‚ï¼ŒæŠŠè¾“å…¥æ¡†æ‹¿å‡ºæ¥ä½œä¸ºå­ç»„ä»¶Bã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- å­ç»„ä»¶Bæ¨¡æ¿ --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> &gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- çˆ¶ç»„ä»¶æ¨¡æ¿ --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">child-b</span>&gt;</span><span class="tag">&lt;/<span class="name">child-b</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">child</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div></pre></td></tr></table></figure><p>å½“å­ç»„ä»¶Bå†…å®¹å˜åŒ–æ—¶ï¼Œæˆ‘åº”å½“é€šçŸ¥çˆ¶ç»„ä»¶ï¼šå¤´å„¿ï¼Œæˆ‘çš„å·¥ä½œå®Œæˆäº†ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"text"</span> @<span class="attr">change</span>=<span class="string">"onInput"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">    <span class="attr">data</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">text</span>: <span class="string">''</span></div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">methods</span>: &#123;</div><div class="line">        <span class="attr">onInput</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span>(<span class="keyword">this</span>.text.trim()) &#123;</div><div class="line">                <span class="keyword">this</span>.$dispatch(<span class="string">'child-next'</span>, <span class="keyword">this</span>.text);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure><p>çˆ¶ç»„ä»¶æ”¶åˆ°é€šçŸ¥åï¼Œå¹¿æ’­ç»™å…¶ä»–éœ€è¦çš„å­ç»„ä»¶ï¼šBå·²ç»å®ŒæˆXXXäº†ï¼Œå‰©ä¸‹çš„ä¸œè¥¿äº¤ç»™ä½ äº†ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">    <span class="attr">components</span>: &#123;</div><div class="line">        <span class="attr">child</span>: <span class="built_in">require</span>(<span class="string">'child'</span>),</div><div class="line">        <span class="string">'child-b'</span>: <span class="built_in">require</span>(<span class="string">'childB'</span>)</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">events</span>: &#123;</div><div class="line">        <span class="string">'child-next'</span>: <span class="function"><span class="keyword">function</span> (<span class="params">text</span>) </span>&#123;</div><div class="line">            <span class="keyword">this</span>.$broadcast(<span class="string">'child-finish'</span>, text);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure><p>æˆ–è€…ä¸ºäº†èƒ½ä»çˆ¶ç»„ä»¶ä¸­ç›´è§‚çš„çœ‹å‡ºäº‹ä»¶æ¥æºï¼Œå¯ä»¥ä½¿ç”¨æ˜¾ç¤ºå£°æ˜ç»‘å®šäº‹ä»¶ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">child-b</span> @<span class="attr">child-next</span>=<span class="string">"handle"</span>&gt;</span><span class="tag">&lt;/<span class="name">child-b</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">child</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">    <span class="attr">components</span>: &#123;</div><div class="line">        <span class="attr">child</span>: <span class="built_in">require</span>(<span class="string">'child'</span>),</div><div class="line">        <span class="string">'child-b'</span>: <span class="built_in">require</span>(<span class="string">'childB'</span>)</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">methods</span>: &#123;</div><div class="line">        <span class="attr">handle</span>: <span class="function"><span class="keyword">function</span> (<span class="params">text</span>) </span>&#123;</div><div class="line">            <span class="keyword">this</span>.$broadcast(<span class="string">'child-finish'</span>, text);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure><p>æ¥æ”¶å¹¿æ’­çš„å­ç»„ä»¶ï¼Œéœ€è¦æ·»åŠ å¯¹åº”çš„å¤„ç†äº‹ä»¶ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;helloWorld&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">    <span class="attr">data</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">helloWorld</span>: <span class="string">''</span></div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">events</span>: &#123;</div><div class="line">        <span class="string">'child-finish'</span>: <span class="function"><span class="keyword">function</span> (<span class="params">text</span>) </span>&#123;</div><div class="line">            <span class="keyword">this</span>.helloWorld = text;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure><p>ä¸ props æ–¹å¼ç›¸æ¯”ï¼Œè‡ªå®šä¹‰äº‹ä»¶çš„æ–¹å¼å„ä¸ªç»„ä»¶çš„æ•°æ®ç‹¬ç«‹ï¼Œä¸ä¼šè¢«çˆ¶æˆ–å­ç»„ä»¶è½»æ˜“ä¿®æ”¹ã€‚å› ä¸ºæˆ‘ä»¬èƒ½æ§åˆ¶åœ¨ä½•æ—¶è¿›è¡Œäº‹ä»¶æ´¾å‘å’Œå¹¿æ’­ã€‚</p><p>å½“ç„¶è¿™ä¸¤ç§æ–¹å¼å¹¶ä¸å†²çªï¼Œå¯ä»¥ç»“åˆä½¿ç”¨æ¥åˆ›é€ æœ€ä½³å®è·µã€‚</p><h2 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h2><p>æœ€åå°±æ˜¯ä½¿ç”¨å¤§æ€å™¨ <a href="http://vuejs.github.io/vuex/" target="_blank" rel="external">Vuex</a> äº†ã€‚</p><p>ä¸ç®¡æ˜¯<code>props</code>è¿˜æ˜¯<code>è‡ªå®šä¹‰äº‹ä»¶</code>ï¼Œå¦‚æœæ•°æ®è¦ç”±å­ç»„ä»¶åˆ°å¦ä¸€ä¸ªå­ç»„ä»¶ä¸­ï¼Œéƒ½è¦è¿›è¡Œçˆ¶ç»„ä»¶çš„ä¸­è½¬ã€‚éšç€é¡¹ç›®çš„é€æ­¥å¢å¤§ï¼Œæ•°æ®æµä¹Ÿä¼šå˜å¾—å¤æ‚ï¼Œéš¾ä»¥ç®¡ç†å’Œå‘ç°é—®é¢˜ã€‚</p><p>è€Œ Vuex å°±æ˜¯ç‹¬ç«‹çš„ä¸€ä¸ªæ•°æ®ç®¡ç†å±‚ã€‚ä½ éœ€è¦æŠŠç»„ä»¶çš„æœ¬åœ°çŠ¶æ€å’Œåº”ç”¨çŠ¶æ€åŒºåˆ†å¼€æ¥ï¼ŒæŠŠåº”ç”¨çŠ¶æ€äº¤ç”± Vuex æ¥ç®¡ç†ï¼Œæ–¹ä¾¿æ¯ä¸€ä¸ªç»„ä»¶å»äº¤æ¢æ•°æ®æ›´æ–°çŠ¶æ€ã€‚</p><p><a href="http://vuejs.github.io/vuex/zh-cn/tutorial.html" target="_blank" rel="external">è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­</a></p>]]></content>
    
    <summary type="html">
    
      vueç»„ä»¶æ•°æ®äº¤äº’, vueè·¯ç”±æ•°æ®äº¤äº’, vuex
    
    </summary>
    
    
      <category term="Vue" scheme="http://imys.net/tags/Vue/"/>
    
      <category term="Vuex" scheme="http://imys.net/tags/Vuex/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ä¸ªHTMLå…ƒç´ å¯ä»¥åšä»€ä¹ˆï¼Ÿ</title>
    <link href="http://imys.net/20160413/one-element-can-do-much.html"/>
    <id>http://imys.net/20160413/one-element-can-do-much.html</id>
    <published>2016-04-13T08:37:53.000Z</published>
    <updated>2016-11-12T19:24:25.423Z</updated>
    
    <content type="html"><![CDATA[<p>è‡ª CSS3 é—®ä¸–ä»¥æ¥ï¼Œåœ¨å¹¿å¤§å¼€å‘è€…çš„æ™ºæ…§ä¸‹è¯ç”Ÿäº†å¾ˆå¤šåˆ›é€ æ€§çš„è®¾è®¡ï¼Œå¦‚ï¼š<a href="http://www.html5cn.org/article-8663-1.html" target="_blank" rel="external">18ä¸ªä½ å¯èƒ½ä¸ç›¸ä¿¡æ˜¯ç”¨CSSåˆ¶ä½œå‡ºæ¥çš„ä¸œè¥¿</a>ã€‚ä¸ªäººå¹³æ—¶ä¹Ÿå–œæ¬¢æ”¶è—è¿™äº›æœ‰è¶£çš„ä¸œè¥¿ï¼Œå…¶ä¸­ä¸€äº›è®¾è®¡å¯¹å•ä¸ª HTML å…ƒç´ çš„æé™åˆ©ç”¨ï¼Œå¾ˆå€¼å¾—æˆ‘ä»¬å»å­¦ä¹ ã€‚</p><p>ä»¥ä¸‹å°±æ¥è¯´ä¸€è¯´è¿™äº›ç¥å¥‡çš„<strong>é»‘ç§‘æŠ€</strong>ã€‚</p><a id="more"></a><h2 id="ä¼ªå…ƒç´ "><a href="#ä¼ªå…ƒç´ " class="headerlink" title="ä¼ªå…ƒç´ "></a>ä¼ªå…ƒç´ </h2><p>ä¼ªå…ƒç´ æ˜¯æ¯”è¾ƒå¸¸è§çš„å•å…ƒç´ åˆ©ç”¨äº†ï¼Œ<code>:before</code>ä¸<code>:after</code>åŸºæœ¬ä¸Šæ”¯æŒæ™®é€šå…ƒç´ çš„æ‰€æœ‰ CSS å±æ€§ï¼Œå®ƒä½¿ 1 ä¸ªå…ƒç´ å¯ä»¥å½“ä½œ 3 ä¸ªå…ƒç´ æ¥ä½¿ç”¨ã€‚</p><p>æ¯”å¦‚åˆ¶ä½œä¸€ä¸ªå•å…ƒç´ çš„èœå•å›¾æ ‡ï¼Œä¸‰æ¡çº¿ã€‚</p><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.icon-menu</span> &#123;</div><div class="line">    <span class="attribute">position</span>: relative;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.icon-menu</span>,</div><div class="line"><span class="selector-class">.icon-menu</span><span class="selector-pseudo">:before</span>,</div><div class="line"><span class="selector-class">.icon-menu</span><span class="selector-pseudo">:after</span> &#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">1em</span>;</div><div class="line">    <span class="attribute">height</span>: .<span class="number">25em</span>;</div><div class="line">    <span class="attribute">background</span>: <span class="number">#666</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.icon-menu</span><span class="selector-pseudo">:before</span>,</div><div class="line"><span class="selector-class">.icon-menu</span><span class="selector-pseudo">:after</span> &#123;</div><div class="line">    <span class="attribute">content</span>: <span class="string">''</span>;</div><div class="line">    <span class="attribute">position</span>: absolute;</div><div class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.icon-menu</span><span class="selector-pseudo">:before</span> &#123;</div><div class="line">    <span class="attribute">top</span>: .<span class="number">3125em</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.icon-menu</span><span class="selector-pseudo">:after</span> &#123;</div><div class="line">    <span class="attribute">top</span>: .<span class="number">625em</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>åœ¨è¾…ä»¥åœ†è§’ã€CSSä¸‰è§’ç­‰ï¼Œä¸€äº›çœ‹èµ·æ¥å¤æ‚çš„å›¾æ ‡ä¹Ÿä¸æ˜¯ä¸èƒ½å®ç°ã€‚<br>Github æ—©å·²æœ‰ css å›¾æ ‡çš„é¡¹ç›®äº†ï¼š<a href="https://github.com/zzap/Cikonss" target="_blank" rel="external">Cikonss</a>ã€‚</p><p>å®é™…åœºæ™¯ä¸­çš„åº”ç”¨ä¸é™äºæ­¤ï¼Œå¦‚ï¼šä¸‹æ‹‰èœå•ä¸Šçš„ä¸‰è§’ç®­å¤´ã€æ—¶é—´çº¿ä¸Šçš„åœ†ç‚¹æ ‡è®°ï¼ˆåœ¨æˆ‘çš„åšå®¢å½’æ¡£é¡µå°±æ˜¯æ­¤ç§ï¼‰ç­‰ã€‚<br>å½“ä½ éœ€è¦æ·»åŠ ä¸€äº›æ— å†…å®¹çš„ä¿®é¥°æ€§å…ƒç´ æ—¶ï¼Œä½ å°±è¯¥æƒ³åˆ°ä½¿ç”¨ä¼ªå…ƒç´ ã€‚ä½†ä¹Ÿä¸æ˜¯è¯´æœ‰å†…å®¹çš„ç”¨ä¼ªå…ƒç´ æ— æ³•å®ç°ï¼Œä¸€äº›é™æ€çš„å±•ç¤ºå†…å®¹ä¹Ÿå¯ä»¥ç”¨ï¼Œå¯ä»¥åˆ©ç”¨ä¼ªå…ƒç´ <code>content</code>å±æ€§ã€‚</p><p>æ¯”å¦‚ä¸€ä¸ªå¸¦ç»Ÿè®¡æ•°é‡çš„<code>badge</code>ï¼Œå¯¹åº”çš„ html å¯ä»¥è¿™æ ·å†™ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">data-count</span>=<span class="string">"10"</span> <span class="attr">class</span>=<span class="string">"badge"</span>&gt;</span>æ¶ˆæ¯<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure><p>åœ¨ css ä¸­åˆ©ç”¨ä¼ªå…ƒç´ å±•ç¤ºè‡ªå®šä¹‰å±æ€§ã€‚</p><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.badge</span><span class="selector-pseudo">:after</span> &#123;</div><div class="line">    <span class="attribute">content</span>: <span class="built_in">attr</span>(data-count);</div><div class="line">   <span class="comment">/* ... */</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><p>æˆ‘çš„åšå®¢ PC ç«¯æ–‡ç« é¡µå³ä¾§çš„åˆ†äº«æ‰€ç”¨çš„ tips å°±æ˜¯åˆ©ç”¨ä¼ªå…ƒç´ çº¯ css å®ç°çš„ã€‚</p><h2 id="border"><a href="#border" class="headerlink" title="border"></a>border</h2><p><code>border</code>å®ç° css å›¾å½¢çš„æ¡ˆä¾‹å·²ç»å±¡è§ä¸é²œäº†ï¼Œå®é™…åº”ç”¨ä¸­å¸¸ç”¨çš„è¿˜æ˜¯ä¸‰è§’å½¢ã€‚</p><p>æ—¢ç„¶æåˆ°äº†<code>border</code>ï¼Œä¹Ÿåº”è¯¥é¡ºå¸¦æä¸‹<code>outline</code>ã€‚ä¸¤è€…éƒ½å¯ä»¥è‚†æ„çš„å®ç°å„ç§é•¿çŸ­ç²—ç»†çš„çº¿æ¡ï¼Œä¸€äº›ç‰¹æ®Šçš„åœºæ™¯ä¸­ä¸€æ¡ç²—è¾¹æ¡†å°±å¯å½“ä½œä¸€ä¸ªçŸ©å½¢æ¥åˆ©ç”¨ã€‚è¿˜æ‹¿èœå•å›¾æ ‡æ¥è¯´ï¼Œè®¾ç½®ä¸Šä¸‹ä¸¤ä¸ªè¾¹æ¡†æ ·å¼ï¼Œoutline åœ¨ç”»ä¸Šä¸€æ¡ï¼Œå¯ä»¥é€šè¿‡<code>outline-offset</code>æ¥è°ƒæ•´é—´è·ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿèƒ½å‡‘å‡ºä¸€ä¸ªå›¾æ ‡å‘¢ã€‚</p><p>é™¤äº†ä½¿ç”¨<code>border</code>ç»˜åˆ¶å¤šè¾¹å½¢å¤–ï¼Œå…¶å®æ‰‡å½¢ã€å¼§çº¿ä¹Ÿæ˜¯å¯ä»¥å¾ˆå®¹æ˜“å®ç°çš„ã€‚</p><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="comment">/* æ‰‡å½¢ */</span></div><div class="line"><span class="selector-class">.sector</span> &#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</div><div class="line">    <span class="attribute">border</span>: <span class="number">30px</span> solid <span class="number">#000</span>;</div><div class="line">    <span class="attribute">border-top-color</span>: transparent;</div><div class="line">    <span class="attribute">border-bottom-color</span>: transparent;</div><div class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* å¼§çº¿ */</span></div><div class="line"><span class="selector-class">.arc</span> &#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">40px</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</div><div class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</div><div class="line">    <span class="attribute">border-top-color</span>: transparent;</div><div class="line">    <span class="attribute">border-bottom-color</span>: transparent;</div><div class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å…·ä½“æ˜¯ä»€ä¹ˆæ•ˆæœï¼Œè‡ªæµ‹å§ã€‚</p><p>æ‰‡å½¢ã€å¼§çº¿å¯ä»¥è½»æ˜“çš„åˆ¶ä½œä¸€ä¸ª loading æ•ˆæœï¼š<a href="http://cssload.net/" target="_blank" rel="external">csså®ç°çš„å„ç§loadingæ•ˆæœ</a>ã€‚</p><h2 id="box-shadow"><a href="#box-shadow" class="headerlink" title="box-shadow"></a>box-shadow</h2><p><code>box-shadow</code>å¯ä»¥è®¾ç½®å…ƒç´ é˜´å½±æ•ˆæœï¼Œä¸”å¯ä»¥è®¾ç½®å¤šç»„å€¼ã€‚ä½†æ˜¯æˆ‘ä¸‡ä¸‡æ²¡æœ‰æƒ³åˆ°å®ƒå±…ç„¶å¼ºå¤§å¦‚æ–¯ï¼š<a href="http://codepen.io/HugoGiraudel/pen/gpcwa" target="_blank" rel="external">1ä¸ªå…ƒç´ å®ç°çš„åƒç´ ç”»</a>ã€‚</p><p>å…ˆçœ‹ä¸‹<code>box-shadow</code>çš„æ–‡æ¡£ä»‹ç»å‹å‹æƒŠã€‚</p><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-tag">box-shadow</span>: <span class="selector-attr">[inset]</span> <span class="selector-tag">offset-x</span> <span class="selector-tag">offset-y</span> <span class="selector-attr">[blur]</span> <span class="selector-attr">[spread]</span> <span class="selector-attr">[color]</span>;</div></pre></td></tr></table></figure><table><thead><tr><th style="text-align:center">å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center">inset</td><td>å¯é€‰ï¼Œé»˜è®¤é˜´å½±åœ¨è¾¹æ¡†å¤–ã€‚ä½¿ç”¨insetåï¼Œé˜´å½±åœ¨è¾¹æ¡†å†…ï¼ˆå³ä½¿æ˜¯é€æ˜è¾¹æ¡†ï¼‰ï¼ŒèƒŒæ™¯ä¹‹ä¸Šå†…å®¹ä¹‹ä¸‹ã€‚</td></tr><tr><td style="text-align:center">offset-x/offset-y</td><td>å¿…éœ€ï¼Œç”¨æ¥è®¾ç½®é˜´å½±åç§»é‡ã€‚<code>offset-x</code>è®¾ç½®æ°´å¹³åç§»é‡ï¼Œå¦‚æœæ˜¯è´Ÿå€¼åˆ™é˜´å½±ä½äºå…ƒç´ å·¦è¾¹ã€‚<code>offset-y</code>è®¾ç½®å‚ç›´åç§»é‡ï¼Œå¦‚æœæ˜¯è´Ÿå€¼åˆ™é˜´å½±ä½äºå…ƒç´ ä¸Šé¢ã€‚å¦‚æœä¸¤è€…éƒ½æ˜¯ 0ï¼Œé‚£ä¹ˆé˜´å½±ä½äºå…ƒç´ åé¢ã€‚è¿™æ—¶å¦‚æœè®¾ç½®äº†<code>blur</code>æˆ–<code>spread</code>åˆ™æœ‰æ¨¡ç³Šæ•ˆæœã€‚</td></tr><tr><td style="text-align:center">blur</td><td>å¯é€‰ï¼Œæ¨¡ç³Šè·ç¦»ã€‚å€¼è¶Šå¤§ï¼Œç³Šç³Šé¢ç§¯è¶Šå¤§ï¼Œé˜´å½±å°±è¶Šå¤§è¶Šæ·¡ã€‚ ä¸èƒ½ä¸ºè´Ÿå€¼ã€‚é»˜è®¤ä¸º 0ï¼Œæ­¤æ—¶é˜´å½±è¾¹ç¼˜é”åˆ©ã€‚</td></tr><tr><td style="text-align:center">spread</td><td>å¯é€‰ï¼Œé˜´å½±çš„å¤§å°ã€‚å–æ­£å€¼æ—¶ï¼Œé˜´å½±æ‰©å¤§ï¼›å–è´Ÿå€¼æ—¶ï¼Œé˜´å½±æ”¶ç¼©ã€‚é»˜è®¤ä¸º0ï¼Œæ­¤æ—¶é˜´å½±ä¸å…ƒç´ åŒæ ·å¤§ã€‚</td></tr><tr><td style="text-align:center">color</td><td>å¯é€‰ï¼Œé˜´å½±çš„é¢œè‰²ã€‚</td></tr></tbody></table><p>å¹³å¸¸ä½¿ç”¨ä¸­ä¸€èˆ¬ä¼šè®¾ç½® 4 ä¸ªå€¼æ¥å®ç°é˜´å½±æ•ˆæœï¼Œå³<code>offset-x</code>ã€<code>offset-y</code>ã€<code>blur</code>ã€<code>color</code>ã€‚ä»å±æ€§ä»‹ç»ä¸­çœ‹å½“<code>blur</code>çœç•¥åï¼Œé»˜è®¤å€¼ä¸º 0ï¼Œè¾¹ç¼˜é”‹åˆ©ï¼Œä¹Ÿå°±æ˜¯å°æ–¹å—çš„æ•ˆæœã€‚è€Œé€šè¿‡è®¾ç½®æ¯ä¸€ç»„<code>offset-x</code>ã€<code>offset-y</code>çš„åç§»å€¼ï¼ŒåŠ ä¸Šä¸åŒçš„é¢œè‰²è®¾ç½®ï¼Œçš„ç¡®æ˜¯å®ç°åƒç´ ç”»çš„ç»å¦™ä¹‹æƒ³ã€‚</p><p>å½“å‰åšå®¢çš„<a href="/404">404é¡µé¢</a>å°±æ˜¯ç”¨<code>box-shadow</code>å †å å‡ºæ¥çš„ã€‚</p><p>ç›¸å…³èµ„æºåˆ†äº«ï¼š</p><ul><li><a href="http://a.singlediv.com/" target="_blank" rel="external">singlediv</a></li><li><a href="https://css-tricks.com/examples/ShapesOfCSS/" target="_blank" rel="external">csså›¾å½¢</a></li><li><a href="http://yusugomori.com/projects/css-sans/fonts" target="_blank" rel="external">26ä¸ªå­—æ¯</a></li></ul><p>åŸæ¥è¿™ä¸ªä¸–ç•Œè¿˜æœ‰å¦å¤–ä¸€ç§ cssï¼š<strong>åˆ«äººæ‰‹ä¸­çš„ css</strong>ã€‚</p>]]></content>
    
    <summary type="html">
    
      ä¸€ä¸ªæ ‡ç­¾å¯ä»¥å®ç°ä»€ä¹ˆæ•ˆæœï¼Œä¸€ä¸ªæ ‡ç­¾å¯ä»¥åšä»€ä¹ˆ
    
    </summary>
    
    
      <category term="Html" scheme="http://imys.net/tags/Html/"/>
    
      <category term="CSS" scheme="http://imys.net/tags/CSS/"/>
    
      <category term="CSS3" scheme="http://imys.net/tags/CSS3/"/>
    
  </entry>
  
  <entry>
    <title>CSSå®ç”¨Tips</title>
    <link href="http://imys.net/20160406/css-tips.html"/>
    <id>http://imys.net/20160406/css-tips.html</id>
    <published>2016-04-06T09:42:48.000Z</published>
    <updated>2016-11-12T19:11:43.513Z</updated>
    
    <content type="html"><![CDATA[<p>ä½œä¸ºè‡ªå·±åšå‰ç«¯å¼€å‘ä»¥æ¥çš„CSSçˆ¬å‘æ€»ç»“ï¼Œå†…å®¹åå‘PCç«¯ï¼Œä¸å®šæœŸè¡¥å……ã€‚<br>åªä½œæç¤ºï¼Œä¸æ·±è°ˆã€‚</p><h2 id="ç›’å­æ¨¡å‹"><a href="#ç›’å­æ¨¡å‹" class="headerlink" title="ç›’å­æ¨¡å‹"></a>ç›’å­æ¨¡å‹</h2><p>1ã€åŒºåˆ†<code>content-box</code>å’Œ<code>border-box</code>çš„å°ºå¯¸è®¡ç®—ã€‚</p><p>2ã€è¡Œçº§å…ƒç´ æ— å®½é«˜ï¼Œä½†å¯è®¾å†…å¤–è¾¹è·ã€‚</p><p>3ã€å¤–è¾¹è·<code>margin</code>å¯è®¾è´Ÿå€¼ï¼Œå†…è¾¹è·<code>padding</code>ä¸å¯ä»¥ã€‚</p><p>4ã€å½“å†…å¤–è¾¹è·å€¼ä¸ºç™¾åˆ†æ¯”æ—¶æ˜¯ç›¸å¯¹äºå…ƒç´ å®½åº¦è®¡ç®—çš„ã€‚</p><p>5ã€<code>border</code>æ˜¯ä¸ªå¥½ç©çš„ä¸œè¥¿ï¼Œå…³é”®å­—ï¼š<strong>cssä¸‰è§’å½¢</strong>ã€‚</p><a id="more"></a><h2 id="å®šä½ä¸å¸ƒå±€"><a href="#å®šä½ä¸å¸ƒå±€" class="headerlink" title="å®šä½ä¸å¸ƒå±€"></a>å®šä½ä¸å¸ƒå±€</h2><p>1ã€æ·»åŠ äº†<code>position: absolute</code>ä¸<code>float</code>æ ·å¼åï¼Œå…ƒç´ ä¼šéšå¼æ”¹å˜<code>display</code>å±æ€§ä¸º<code>inline-block</code>ï¼Œå¯ä»¥è®¾ç½®å®½é«˜å±æ€§ï¼Œä¸éœ€è¦å†æ˜¾ç¤ºè®¾ç½®<code>display</code>ã€‚</p><p>2ã€æ¸…é™¤æµ®åŠ¨ï¼Œä¸€èˆ¬æœ‰<code>clear: both/left/right</code>å’Œ<code>overflow: hidden</code>ã€‚é¦–é€‰<code>clear</code>ï¼Œå¦‚æœç›®æ ‡åŒºå—å­˜åœ¨æº¢å‡ºå…ƒç´ æ—¶ï¼Œä¼šè¢«<code>overflow: hidden</code>æˆªæ–­ã€‚</p><p>3ã€ç»å¯¹å®šä½çš„å…ƒç´ ï¼Œåœ¨<code>top</code>ã€<code>right</code>ã€<code>bottom</code>ã€<code>left</code>å±æ€§æœªè®¾ç½®æ—¶ï¼Œé»˜è®¤ä¸º<code>auto</code>ï¼Œåœ¨æ–‡æ¡£æµä¸­ç´§è·Ÿå‰ä¸€ä¸ªå…ƒç´ ã€‚è¿™ä¸ªç‰¹æ€§é€šå¸¸å¯ä»¥å®ç°ä¸€äº›ç¥å¥‡çš„æ•ˆæœã€‚</p><p>4ã€å°½é‡ä¸ºæ¯ä¸€ä¸ªå®šä½å…ƒç´ åˆç†åˆ†é…<code>z-index</code>ï¼Œç‰¹åˆ«æ˜¯<code>relative</code>å…ƒç´ ã€‚æŒ‰çº§åˆ«ä¸€èˆ¬ä¸ºï¼šä¸»ä½“å†…å®¹ &lt; ä¸‹æ‹‰åˆ—è¡¨ã€æ—¥å†ç­‰ä¸ä¸»ä½“ç´§å¯†è”ç³»çš„å†…å®¹ &lt; æµ®åŠ¨çš„å¤´éƒ¨æˆ–å·¦å³å¯¼èˆªã€å·¥å…·æ ç­‰ &lt; é®ç½©ã€æ¨¡æ€çª—å£ç­‰ã€‚éµå¾ªè¿™ä¸ªè§„åˆ™èƒ½å°‘è¸©å¾ˆå¤šå‘ã€‚</p><p>5ã€ç»å¯¹å®šä½çš„å…ƒç´ å¯ä»¥æº¢å‡ºæ·»åŠ äº†<code>overflow: hidden</code>çš„çˆ¶å®¹å™¨ä¸”ä¸è¢«æˆªæ–­ï¼›ç»å¯¹å®šä½çš„èµ·å§‹ç‚¹æ˜¯å‚ç…§ç¦»å…¶æœ€è¿‘çš„ç¥–å…ˆå®šä½å…ƒç´ ï¼Œä¸€ç›´åˆ°<code>body</code>ã€‚</p><p>6ã€éšè—å…ƒç´ ä¸€èˆ¬ç”¨<code>display: none</code>ã€<code>visibility: hidden</code>ï¼Œä½¿ç”¨CSS3è¿‡æ¸¡å’ŒåŠ¨ç”»æ—¶é¦–é€‰<code>visibility</code>ã€‚å› ä¸º<code>display</code>åªæœ‰ä¸¤ä¸ªçŠ¶æ€æ”¹å˜<code>none -&gt; block/inline-block/...</code>ï¼Œæ²¡æœ‰å€¼åŸŸçš„å˜åŒ–ï¼ˆæˆ‘æ˜¯è¿™ä¹ˆç†è§£çš„ï¼‰ï¼Œ<code>visibility</code>åœ¨åº•å±‚å®ç°ä¸­æ˜¯æœ‰ä¸€ä¸ª 0-1 çš„å˜åŒ–ã€‚</p><p>7ã€å½“IE&lt;=7æ—¶ï¼Œé‡åˆ°å®šä½å¸ƒå±€é—®é¢˜ï¼Œä½ å¯èƒ½éœ€è¦äº†è§£<code>haslayout</code>ä¸<strong>å±‚å ä¸Šä¸‹æ–‡</strong>ã€‚</p><p>8ã€åœ¨ç§»åŠ¨ç«¯å¼€å‘ä¸­ï¼Œä½¿ç”¨<code>Flexbox</code>æ–°æ—§è¯­æ³•æ··åˆæ˜¯å¾ˆå¥½ç”¨çš„å¸ƒå±€è§£å†³æ–¹æ¡ˆã€‚</p><h2 id="é€‰æ‹©å™¨"><a href="#é€‰æ‹©å™¨" class="headerlink" title="é€‰æ‹©å™¨"></a>é€‰æ‹©å™¨</h2><p>1ã€ä¸€äº›ç®€å•çš„äº¤äº’æ•ˆæœå°±ä¸éœ€è¦ç”¨jså»å®ç°äº†ï¼Œçµæ´»ä½¿ç”¨é€‰æ‹©å™¨å°±å¯ä»¥æå®šã€‚å¦‚ï¼šé¼ æ ‡æ‚¬æµ®äºä¸€ä¸ªå…ƒç´ æ—¶æ˜¾ç¤ºæŸä¸ªå­å…ƒç´ æˆ–å…„å¼Ÿå…ƒç´ ã€è¾“å…¥æ¡†å…·æœ‰ç„¦ç‚¹æ—¶æ˜¾ç¤ºè¾“å…¥æç¤ºã€CSSæ¨¡æ‹Ÿå•å¤é€‰æ¡†ç­‰ã€‚</p><p>2ã€jqueryä¸­æœ‰çš„é€‰æ‹©å™¨ï¼ŒåŸºæœ¬ä¸Šä¹Ÿèƒ½åœ¨CSSä¸­ä½¿ç”¨æˆ–æ‰¾åˆ°æ›¿ä»£æ–¹æ¡ˆã€‚</p><p>3ã€é“¾æ¥çš„ä¼ªç±»æ ·å¼è¦æŒ‰ç…§<code>link</code>ã€<code>visited</code>ã€<code>hover</code>ã€<code>active</code>é¡ºåºè®¾ç½®ï¼Œç§»åŠ¨ç«¯ç”¨<code>active</code>ä»£æ›¿<code>hover</code>ã€‚</p><p>4ã€é™¤äº†é¦–å…ƒç´ ã€æœ«å…ƒç´ å¤–ï¼Œè¿˜æœ‰é¦–è¡Œé€‰æ‹©å™¨<code>:first-line</code>å’Œé¦–å­—ç¬¦é€‰æ‹©å™¨<code>:first-letter</code>ã€‚</p><p>5ã€ä½¿ç”¨å­å…ƒç´ ä¼ªç±»é€‰æ‹©å™¨<code>:nth-child(n)</code>å¯ä»¥æŒ‰ç…§ä½ çš„è§„åˆ™é€‰å–ä»»æ„ç»„åˆçš„å­å…ƒç´ ã€‚</p><p>6ã€ä¼ªå…ƒç´ é€‰æ‹©å™¨<code>:before/:after</code>å¯ä»¥æŠŠä¸€ä¸ªå…ƒç´ å½“ä½œä¸‰ä¸ªå…ƒç´ ä½¿ç”¨ï¼Œéœ€æ³¨æ„æŸäº›å…ƒç´ ä¸æ”¯æŒè¯¥é€‰æ‹©å™¨ã€‚å…¶å±æ€§<code>content</code>ä¸ºå¿…è®¾å€¼ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–ä½¿ç”¨<code>attr()</code>æ’å…¥å…ƒç´ å±æ€§å€¼ã€ä½¿ç”¨<code>url()</code>æ’å…¥å›¾åƒç­‰ã€‚</p><h2 id="æ’ç‰ˆä¸ä¿®é¥°"><a href="#æ’ç‰ˆä¸ä¿®é¥°" class="headerlink" title="æ’ç‰ˆä¸ä¿®é¥°"></a>æ’ç‰ˆä¸ä¿®é¥°</h2><p>1ã€æ–‡æœ¬å¤„ç†ï¼šå¤§å°å†™è½¬æ¢<code>text-transform</code>ã€æ–‡å­—æˆªæ–­<code>text-overflow</code>ã€æ”¹å˜æ–‡æœ¬æµæ–¹å‘<code>direction</code>ã€ä¹¦å†™æ–¹å‘<code>writing-mode</code>ã€æ¢è¡Œå¤„ç†<code>white-space</code>ç­‰ã€‚</p><p>2ã€å½“<code>font-weight</code>è®¾ä¸ºæ•°å€¼æ—¶ï¼Œéœ€è¦å¯¹åº”çš„å­—ä½“æœ‰è¯¥æ•°å€¼å­—é‡æ”¯æŒï¼Œå¦åˆ™æ— æ•ˆã€‚<code>bold</code>ç­‰ä»·äº700æ•°å€¼ã€‚</p><p>3ã€å‚ç›´å¯¹é½<code>vertical-align</code>æ˜¯ä¸ªèµ„æ·±å¥‡è‘©ï¼Œå„ä¸ªæµè§ˆå™¨è§£æå‡æœ‰å·®å¼‚ã€‚é™¤äº†ä¸€äº›å›ºæœ‰å±æ€§å€¼å¤–ï¼Œè¿˜å¯ä»¥è®¾æ•°å€¼ã€ç™¾åˆ†æ¯”ã€‚</p><p>4ã€ä½ æƒ³è®¾ç½®2ä¸ªè¾¹æ¡†å—ï¼Ÿä½¿ç”¨<code>outline</code>å§ã€‚</p><p>5ã€æµè§ˆå™¨å­—ä½“æœ€å°åŸºå‡†æ˜¯12pxã€‚</p><p>6ã€è®¾è®¡å›¾ä¸­çš„ä¸€äº›å­—ä½“æ•ˆæœï¼Œå¯ä»¥å°è¯•ç”¨<code>text-shadow</code>å®ç°ï¼Œå‡å°‘å›¾ç‰‡åº”ç”¨ã€‚</p><p>7ã€ä½¿ç”¨CSS3æ—¶éµå¾ªæ¸è¿›å¢å¼ºåŸåˆ™ï¼Œå¯¹äºä¸æ”¯æŒçš„æµè§ˆå™¨ä¿è¯å¸ƒå±€æ— é”™ä¹±ã€åŠŸèƒ½æ­£å¸¸ä½¿ç”¨ã€‚</p>]]></content>
    
    <summary type="html">
    
      CSSå®ç”¨Tips
    
    </summary>
    
    
      <category term="CSS" scheme="http://imys.net/tags/CSS/"/>
    
      <category term="CSS3" scheme="http://imys.net/tags/CSS3/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨HTML5 history APIå¢å¼ºç§»åŠ¨ç«¯ç”¨æˆ·ä½“éªŒ</title>
    <link href="http://imys.net/20160316/use-history-pushState.html"/>
    <id>http://imys.net/20160316/use-history-pushState.html</id>
    <published>2016-03-16T06:42:51.000Z</published>
    <updated>2016-11-12T19:30:03.195Z</updated>
    
    <content type="html"><![CDATA[<h2 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h2><p>æœ€è¿‘åšçš„ä¸€ä¸ªå›¾ç‰‡æµè§ˆåŠŸèƒ½ï¼Œè¯·è‡ªè¡Œè„‘è¡¥æ‰‹æœºå›¾åº“ã€å¾®åšæŸ¥çœ‹å›¾ç‰‡ç­‰åœºæ™¯ã€‚<br>åŠŸèƒ½åšå¥½ä¹‹åï¼Œé©¬ä¸Šæœ‰åŒå­¦ååº”ï¼š<strong>è¿›å…¥å›¾ç‰‡æµè§ˆå±‚æ—¶ï¼Œå¦‚æœç”¨æˆ·è§¦æ‘¸æ‰‹æœºåé€€æŒ‰é’®ï¼Œæ•´ä¸ªé¡µé¢éƒ½ä¼šè¿”å›ï¼Œèƒ½å¦åœ¨è§¦æ‘¸è¿”å›æ—¶åªå…³é—­æµè§ˆå±‚ï¼Ÿ</strong></p><p>ä¸€èˆ¬ç§»åŠ¨ç«¯ä¼šå¯¹ WebView åšä¸€äº›é»˜è®¤çš„è®¾ç½®ï¼Œæ¯”å¦‚ Hook ç”¨æˆ·è§¦æ‘¸åé€€æŒ‰é’®ï¼Œè°ƒç”¨ WebView åé€€æ–¹æ³•ã€‚æ—¢ç„¶å¦‚æ­¤ï¼Œå°±å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œé€šè¿‡æ“çºµæµè§ˆè®°å½•ä½¿ç”¨æˆ·è§¦æ‘¸åé€€å…³é—­æµè§ˆå±‚ã€‚</p><h2 id="history"><a href="#history" class="headerlink" title="history"></a>history</h2><p>æƒ³è¦æ“çºµæµè§ˆè®°å½•ï¼Œå°±ä¸å¾—ä¸æ<code>history</code>å¯¹è±¡äº†ã€‚é€šè¿‡å¸¸ç”¨çš„<code>back()</code>ã€<code>forward()</code>ã€<code>go()</code>æ–¹æ³•å°±å¯ä»¥è‡ªç”±çš„æ§åˆ¶æµè§ˆå™¨è·³è½¬åˆ°ä»»æ„ä¸€ä¸ªå†å²è®°å½•ã€‚<br>è€Œåœ¨ HTML5 ä¸­ï¼Œhistory åˆæ·»åŠ ä¸€äº›æ–°çš„æˆå‘˜ï¼Œå…è®¸ä½ å¯¹æµè§ˆè®°å½•è¿›è¡Œæ·»åŠ å’Œä¿®æ”¹å´ä¸ä¼šåˆ·æ–°é¡µé¢ï¼Œè¿™å°±æ˜¯è§£å†³é—®é¢˜çš„å…³é”®äº†ã€‚</p><ul><li><code>history.pushState(stateObj, title, url)</code> ç”¨äºåˆ›å»ºæ–°å†å²è®°å½•ï¼›</li><li><code>history.replaceState(stateObj, title, url)</code> ç”¨äºä¿®æ”¹å½“å‰å†å²è®°å½•ï¼›</li><li><code>history.state</code> è¯»å–å½“å‰çŠ¶æ€ï¼Œåˆ›å»ºå†å²è®°å½•æ—¶ä¼šæ·»åŠ çŠ¶æ€å¯¹è±¡ï¼›</li><li><code>window.onpopstate</code> æ˜¯ä¸€ä¸ªäº‹ä»¶ï¼Œå½“å†å²è®°å½•è¢«ä¿®æ”¹æ—¶ä¼šè§¦å‘ã€‚</li></ul><a id="more"></a><h2 id="ç®€å•å®ç°"><a href="#ç®€å•å®ç°" class="headerlink" title="ç®€å•å®ç°"></a>ç®€å•å®ç°</h2><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"container"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><p>å°±æŠŠè¿™ä¸ª div çœ‹ä½œä¸€ä¸ªå›¾ç‰‡æµè§ˆå±‚å§ï¼Œæ ·å¼è„‘è¡¥ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Demo</span>(<span class="params">id</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.el = <span class="built_in">document</span>.getElementById(id);</div><div class="line">&#125;</div><div class="line"></div><div class="line">Demo.prototype = &#123;</div><div class="line">    <span class="attr">constructor</span>: Demo,</div><div class="line">    <span class="attr">show</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="comment">// å¤„ç†æ˜¾ç¤ºçš„ä»£ç ...</span></div><div class="line">        <span class="keyword">this</span>.el.classList.add(<span class="string">'in'</span>);</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">hide</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="comment">// å¤„ç†éšè—çš„ä»£ç ...</span></div><div class="line">        <span class="keyword">this</span>.el.classList.remove(<span class="string">'in'</span>);</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">useState</span>: &#123;</div><div class="line">        <span class="attr">show</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">            <span class="comment">// å‚æ•°1æ˜¯ Object ç±»å‹ï¼Œå¯ä»¥è¢« history.state è¯»å–</span></div><div class="line">            <span class="comment">// å‚æ•°2æ˜¯æ ‡é¢˜ï¼Œåœ¨ä¸€äº›æµè§ˆå™¨ä¸­ä¼šè¢«å¿½ç•¥ï¼Œè±¡å¾æ€§çš„ä¼ ç©ºå°±å¯ä»¥äº†</span></div><div class="line">            <span class="comment">// å‚æ•°3æ˜¯æ–°è®°å½•çš„åœ°å€ï¼Œä¼šåœ¨æœ«å°¾è¿½åŠ ï¼Œå¦‚ï¼šhttp://test.com/demo</span></div><div class="line">            history.pushState(&#123; <span class="attr">page</span>: <span class="string">'demo'</span> &#125;, <span class="string">''</span>, <span class="string">'/demo'</span>);</div><div class="line"></div><div class="line">            <span class="comment">// è°ƒç”¨çœŸæ­£çš„æ˜¾ç¤ºæ–¹æ³•</span></div><div class="line">            <span class="keyword">this</span>.show();</div><div class="line">        &#125;,</div><div class="line">        <span class="attr">hide</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="comment">// è¿”å›ä¸Šä¸€æ¡å†å²è®°å½•</span></div><div class="line">            history.back();</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">bindEvent</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">var</span> _this = <span class="keyword">this</span>,</div><div class="line">            handelShow = <span class="keyword">this</span>.show,</div><div class="line">            handelHide = <span class="keyword">this</span>.hide,</div><div class="line">            imgs = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'img'</span>),</div><div class="line">            <span class="comment">// å‡è®¾å›¾ç‰‡æµè§ˆå±‚ä¸Šæœ‰ä¸€ä¸ª .back åé€€æŒ‰é’®</span></div><div class="line">            back = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'back'</span>)[<span class="number">0</span>];</div><div class="line"></div><div class="line">        <span class="comment">// åŠ ä¸ªåˆ¤æ–­é¿å…å…¼å®¹æ€§é—®é¢˜</span></div><div class="line">        <span class="keyword">if</span>(history.pushState) &#123;</div><div class="line"></div><div class="line">            <span class="comment">// å¦‚æœå¯ä»¥ä½¿ç”¨ history API å°±é‡æ–°èµ‹å€¼ handelShow å’Œ handelHide</span></div><div class="line">            handleShow = <span class="keyword">this</span>.useState.show.bind(<span class="keyword">this</span>);</div><div class="line">            handleHide = <span class="keyword">this</span>.useState.hide.bind(<span class="keyword">this</span>);</div><div class="line"></div><div class="line">            <span class="comment">// history.state å˜åŒ–æ—¶è§¦å‘ï¼Œå‡è®¾åˆå§‹ URL = http://test.com</span></div><div class="line">            <span class="built_in">window</span>.onpopstate = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">                <span class="comment">// è¿™é‡Œçš„ e.state å’Œ history.state ç­‰ä»·çš„</span></div><div class="line">                <span class="keyword">if</span>(!e.state) &#123;</div><div class="line"></div><div class="line">                    <span class="comment">// æ— çŠ¶æ€æ—¶éšè—</span></div><div class="line">                    _this.hide();</div><div class="line">                    <span class="built_in">console</span>.log(<span class="built_in">document</span>.location);     <span class="comment">// http://test.com</span></div><div class="line"></div><div class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span>(e.state.page === <span class="string">'demo'</span>) &#123;</div><div class="line"></div><div class="line">                    <span class="comment">// å¦‚æœæ˜¯è‡ªå·±å®šä¹‰çš„çŠ¶æ€å°±æ˜¾ç¤º</span></div><div class="line">                    _this.show();</div><div class="line">                    <span class="built_in">console</span>.log(<span class="built_in">document</span>.location);     <span class="comment">// http://test.com/demo</span></div><div class="line"></div><div class="line">                &#125;</div><div class="line">            &#125;;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">// ç»™å›¾ç‰‡ç»‘å®šäº‹ä»¶</span></div><div class="line">        [].forEach.call(imgs, <span class="function"><span class="keyword">function</span>(<span class="params">img</span>)</span>&#123;</div><div class="line"></div><div class="line">            img.addEventListener(<span class="string">'touchstart'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">                handelShow();</div><div class="line">            &#125;);</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">        <span class="comment">// å›¾ç‰‡æµè§ˆå±‚ä¸Šçš„åé€€äº‹ä»¶</span></div><div class="line">        back.addEventListener(<span class="string">'touchstart'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            handelHide();</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// è°ƒç”¨</span></div><div class="line"><span class="keyword">new</span> Demo(<span class="string">'container'</span>);</div></pre></td></tr></table></figure><p>æ‰§è¡Œ<code>history.pushState()</code>æ—¶ä¸ä¼šè§¦å‘<code>window.onpopstate</code>ï¼Œåªæœ‰å‰è¿›<code>forward()</code>ã€åé€€<code>back()</code>æ—¶æ‰ä¼šè§¦å‘ï¼Œæ‰€ä»¥åœ¨ä¹‹åè¿˜éœ€è¦è°ƒç”¨æ˜¾ç¤ºçš„æ–¹æ³•ã€‚<br>å¯¹äºä¸æ”¯æŒ<code>history.pushState</code>çš„æµè§ˆå™¨æ‰§è¡Œçš„è¿˜æ˜¯åŸæ¥çš„æ˜¾ç¤ºå’Œéšè—æ–¹æ³•ï¼Œ<code>handleShow</code>å’Œ<code>handleHide</code>åœ¨åˆ¤æ–­å†…æ‰è¢«é‡æ–°èµ‹å€¼ã€‚<br>é€šè¿‡åœ¨<code>window.onpopstate</code>åˆ¤æ–­<code>history.state</code>æ¥æ‰§è¡Œä¸åŒçš„æ“ä½œï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥åˆ¤æ–­<code>location</code>ã€‚</p><p>ä»¥ä¸Šä»£ç æœªç»æµ‹è¯•ï¼Œåªä½œæ€è·¯å±•ç¤ºï¼Œæ³¨é‡Šè¯´æ˜äº†ä¸€åˆ‡ã€‚</p><h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><p>åœ¨ SPA åœºæ™¯ä¸­ï¼Œhistory æ—©å·²å¤§æ˜¾ç¥é€šã€‚ä¸<code>history.state</code>ç›¸ä¼¼çš„è¿˜æœ‰<code>location.hash</code>ï¼Œä¹Ÿæœ‰å…¶å¯¹åº”çš„äº‹ä»¶<code>window.onhashchange</code>ï¼Œä¸€èˆ¬ç”¨äºå¤„ç† IE ä½ç‰ˆæœ¬çš„å…¼å®¹ã€‚<br>æŠ›å¼€æœ¬ç¯‡æè¿°çš„åŠŸèƒ½éœ€æ±‚ï¼Œç±»ä¼¼çš„åœºæ™¯ä¹Ÿå¯ä»¥è¿ç”¨ã€‚æ¯”å¦‚å·¦ä¾§å¯¼èˆªåœ¨åŸç”ŸAPPéƒ½æ˜¯å¯ä»¥é€šè¿‡è§¦æ‘¸è¿”å›æ¥å…³é—­ï¼Œåœ¨æµè§ˆå™¨ä¸­ä¹Ÿå¯ä»¥æ¨¡æ‹Ÿè¿™ç§æ“ä½œä½“éªŒã€‚</p>]]></content>
    
    <summary type="html">
    
      ä½¿ç”¨HTML5 history APIå¢å¼ºç§»åŠ¨ç«¯ç”¨æˆ·ä½“éªŒ
    
    </summary>
    
    
      <category term="Html5" scheme="http://imys.net/tags/Html5/"/>
    
      <category term="ç”¨æˆ·ä½“éªŒ" scheme="http://imys.net/tags/%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C/"/>
    
      <category term="History" scheme="http://imys.net/tags/History/"/>
    
  </entry>
  
  <entry>
    <title>é˜¿é‡Œäº‘æ­å»ºGitæœåŠ¡ï¼Œå®ç°Hexoè‡ªåŠ¨éƒ¨ç½²</title>
    <link href="http://imys.net/20160303/hexo-nginx-auto-deploy.html"/>
    <id>http://imys.net/20160303/hexo-nginx-auto-deploy.html</id>
    <published>2016-03-03T08:33:19.000Z</published>
    <updated>2016-11-12T19:07:27.842Z</updated>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨ gitcafe pages æ›´æ–°åšå®¢åªéœ€è¦æ•²å‡ æ¡å‘½ä»¤ï¼Œå¦‚æœå› ä¸ºåšå®¢æ¬åˆ°äº†é˜¿é‡Œäº‘ï¼Œå´æ²¡æœ‰åŸæ¥æ“ä½œæ–¹ä¾¿ï¼Œé‚£ä¾¿å¾—ä¸å¿å¤±äº†ã€‚<br>æ‰€ä»¥å°±å‡†å¤‡åœ¨æœåŠ¡å™¨ä¸Šå»ºä¸ª Git è¿œç¨‹ä»“åº“ï¼Œç”¨ Git Hooks å®ç°è‡ªåŠ¨éƒ¨ç½²ã€‚</p><h2 id="Git-Hooks"><a href="#Git-Hooks" class="headerlink" title="Git Hooks"></a>Git Hooks</h2><p>Git Hooks å°±æ˜¯ä¸€äº›è§¦å‘ç‰¹å®šäº‹ä»¶çš„è„šæœ¬ã€‚æ¯”å¦‚ commitã€pushã€merge ç­‰ç­‰ï¼Œä¹ŸåŒºåˆ†æœ¬åœ° Hooks å’ŒæœåŠ¡ç«¯ Hooksã€‚<br>æˆ‘è¿™æ¬¡ä½¿ç”¨çš„æ˜¯<code>post-receive</code>ã€‚</p><blockquote><p>å½“ç”¨æˆ·åœ¨æœ¬åœ°ä»“åº“æ‰§è¡Œ<code>git-push</code>å‘½ä»¤æ—¶ï¼ŒæœåŠ¡å™¨ä¸Šè¿œç¨‹ä»“åº“å°±ä¼šå¯¹åº”æ‰§è¡Œ<code>git-receive-pack</code>å‘½ä»¤ï¼Œè€Œ<code>git-receive-pack</code>å‘½ä»¤ä¼šè°ƒç”¨<code>pre-receive</code>é’©å­ã€‚</p></blockquote><p>è¿™éœ€è¦åœ¨æœåŠ¡å™¨ä¸Šå»ºç«‹ä¸€ä¸ª Git è¿œç¨‹ä»“åº“ï¼Œå’Œä¸€ä¸ªç”¨äºè·å–æ›´æ–°ï¼ˆgit pullï¼‰çš„æœ¬åœ°ä»“åº“ã€‚</p><p>è¿œç¨‹ä»“åº“ï¼šæœ€åŸå§‹çš„ç‰ˆæœ¬åº“ï¼Œæ‰€æœ‰çš„æœ¬åœ°ä»“åº“å°±å¯ä»¥å…‹éš†è¿™ä¸ªä»“åº“ã€‚å°±åƒä½ åœ¨ Github åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªè¿œç¨‹ä»“åº“ã€‚<br>æœ¬åœ°ä»“åº“ï¼šè¿™ä¸ªå°±æ˜¯å¹³å¸¸çš„å·¥ä½œç›®å½•ï¼Œå®¹æ˜“ç†è§£ã€‚<br><a id="more"></a></p><p>æ€»ä½“çš„æµç¨‹ä¸ºï¼š</p><ol><li>æœ¬åœ°æ‰§è¡Œ<code>git push</code>ï¼›</li><li>Git æœåŠ¡å™¨æ›´æ–°å¹¶ Hookï¼›</li><li>æ‰§è¡Œ<code>pre-receive</code>è„šæœ¬ï¼Œå‘½ä»¤ä¸ºï¼šå®šä½åˆ°æœåŠ¡å™¨æœ¬åœ°ä»“åº“ç›®å½•ï¼Œæ‰§è¡Œ<code>git pull</code>ã€‚</li></ol><p>æˆ‘çš„ git å·²ç»å®‰è£…äº†ï¼ŒUbuntu å®‰è£…å¾ˆç®€å•ï¼š</p><pre><code>sudo apt-get install git
</code></pre><p>åˆ›å»º git ç”¨æˆ·ï¼Œç”¨æ¥è¿è¡Œ git æœåŠ¡ï¼š</p><pre><code>sudo adduser git
</code></pre><p>ç”¨ git ç”¨æˆ·è¿è¡Œè²Œä¼¼æ˜¯çº¦å®šä¿—æˆçš„äº‹ï¼Œåƒ github ä¸€ä¸ªä»“åº“çš„ URL ä¸º<code>git@github.com:user/project.git</code>ï¼Œ@ ç¬¦å·å‰é¢çš„ git å°±æ˜¯è¿è¡Œ git æœåŠ¡çš„ç”¨æˆ·åã€‚</p><p>åˆå§‹åŒ–è¿œç¨‹ä»“åº“ï¼š</p><p>æˆ‘çš„ç›®å½•åä¸º<code>website</code>ï¼Œä»“åº“åä¸º<code>blog</code>ï¼Œä»¥æ­¤ä¸ºä¾‹ã€‚</p><pre><code>cd /website
sudo git init --bare blog.git
</code></pre><p>è¿œç¨‹ä»“åº“åä»¥<code>.git</code>ç»“å°¾ã€‚è¿˜éœ€è¦ç»™ git ç”¨æˆ·è®¾ç½®è¯¥ç›®å½•çš„æƒé™ï¼š</p><pre><code>sudo chown -R git:git blog.git
</code></pre><p>å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œç¦ç”¨ shell ç™»å½•ï¼š</p><pre><code>vi /etc/passwd
</code></pre><p>æ‰¾åˆ°è¿™ä¸€è¡Œï¼š</p><pre><code>git:x:1002:1002:,,,:/home/git:/bin/bash
</code></pre><p>ä¿®æ”¹ä¸ºï¼š</p><pre><code>git:x:1002:1002:,,,:/home/git:/usr/bin/git-shell
</code></pre><p>å¯ä»¥ä½¿ç”¨<code>git-shell</code>ï¼Œé€šè¿‡<code>ssh</code>ä½¿ç”¨ gitï¼Œä½†æ— æ³•ä½¿ç”¨ shell ç™»å½•ã€‚</p><p>åˆ›å»ºè¯ä¹¦ç™»å½•ï¼ŒæŠŠæœ¬åœ°å…¬é’¥æ·»åŠ åˆ°<code>/home/git/.ssh/authorized_keys</code>ã€‚<br>ä¸è¿‡é»˜è®¤çš„<code>id_rsa</code>å…¬é’¥ä¸€èˆ¬éƒ½è¢«å ç”¨äº†ï¼Œå¯ä»¥å†å»ºä¸ªå…¶ä»–åå­—ï¼Œåˆ›å»º<code>.ssh/config</code>åŒºåˆ†ã€‚</p><p>åˆå§‹åŒ–æœåŠ¡å™¨æœ¬åœ°ä»“åº“ï¼š</p><p>æˆ‘æ˜¯åœ¨è¿œç¨‹ä»“åº“æ—è¾¹å»ºç«‹çš„ã€‚</p><pre><code>cd /website
git clone blog.git
</code></pre><p>å› ä¸ºæ˜¯åœ¨åŒä¸€å°ç”µè„‘ä¸Šï¼Œæ‰€ä»¥å…‹éš†ç›´æ¥ä½¿ç”¨æœ¬åœ°è·¯å¾„ã€‚è¿™å°†ä¼šåœ¨<code>website</code>ç”Ÿæˆä¸€ä¸ªåä¸º<code>blog</code>æœ¬åœ°ä»“åº“ã€‚</p><pre><code>ls -la
</code></pre><p>å¯ä»¥çœ‹åˆ°å½“å‰è·¯å¾„ä¸‹æœ‰ä¸€ä¸ª<code>blog.git</code>ç›®å½•å’Œä¸€ä¸ª<code>blog</code>ç›®å½•ã€‚</p><p>è€ƒè™‘åˆ° git-hooks è¿è¡Œä½¿ç”¨çš„æ˜¯ git ç”¨æˆ·ï¼Œä¹Ÿå¯¹æœåŠ¡å™¨æœ¬åœ°ä»“åº“æˆæƒï¼š</p><pre><code>chown -R git:git blog
</code></pre><p>è®¾ç½® hook æ‰§è¡Œè„šæœ¬ï¼š</p><pre><code>vi blog.git/hooks/post-receive
</code></pre><p>è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><pre><code>#!/bin/sh
cd /website/blog
git pull origin master
</code></pre><p>å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯å®šä½åˆ°æœåŠ¡å™¨æœ¬åœ°ä»“åº“ç„¶åæ‹‰å–æ›´æ–°ã€‚</p><p>ä¿å­˜åèµ‹äºˆå¯æ‰§è¡Œæƒé™ï¼š</p><pre><code>chmod +x blog.git/hooks/post-receive
</code></pre><p>ç°åœ¨å¯ä»¥åœ¨æœ¬åœ°ï¼ˆä½ çš„ç”µè„‘ä¸Šï¼‰è¿›è¡Œæµ‹è¯•äº†ã€‚</p><p>æ‰¾ä¸€ä¸ªç›®å½•ï¼Œè¿›è¡Œç‰ˆæœ¬åº“å…‹éš†ï¼š</p><pre><code>git clone git@server:/website/blog.git
</code></pre><p>server æ˜¯ä½ çš„æœåŠ¡å™¨åŸŸåæˆ–è€…IPã€‚</p><p>å› ä¸ºä»“åº“è¿˜æ²¡æœ‰å†…å®¹ï¼Œæ‰€ä»¥ä¼šæ˜¾ç¤ºï¼š<code>You appear to have cloned an empty repository.</code> ä½ å…‹éš†äº†ä¸€ä¸ªç©ºä»“åº“ã€‚</p><p>ç°åœ¨å¯ä»¥éšä¾¿åˆ›å»ºç‚¹ä¸œè¥¿ï¼Œpush åˆ°è¿œç¨‹ä»“åº“ï¼Œç„¶ååˆ°<code>/website/blog</code>ç›®å½•ä¸‹çœ‹çœ‹æœ‰æ²¡æœ‰å˜åŒ–ã€‚</p><p>æˆ‘åœ¨æ“ä½œçš„æ—¶å€™é‡åˆ°ä¸€ä¸ªé”™è¯¯ï¼š<strong>fatal: Not a git repository: â€˜.â€™</strong></p><blockquote><p>å› ä¸º hook è„šæœ¬æ‰§è¡Œäº† cd ä¹‹åï¼Œç»§ç»­æ‰§è¡Œ git è¯­å¥æ‹‰å–çš„æ—¶å€™è¿˜æ˜¯åœ¨ hooks æ–‡ä»¶å¤¹ä¸‹ï¼Œè€Œä¸æ˜¯ cd çš„æ–‡ä»¶è·¯å¾„ã€‚</p></blockquote><p>ä¿®æ”¹åçš„è„šæœ¬å¦‚ä¸‹ï¼š</p><pre><code>#!/bin/sh
unset GIT_DIR #è¿˜åŸç¯å¢ƒå˜é‡
cd /website/blog
git pull origin master
</code></pre><p>ç°åœ¨å·²ç»å®ç°æœ¬åœ°åˆ°è¿œç¨‹æœåŠ¡å™¨çš„åŒæ­¥äº†ï¼Œåªå·®ä¸€ä¸ª Web æœåŠ¡å™¨äº†ã€‚</p><h2 id="Nginxå®‰è£…é…ç½®"><a href="#Nginxå®‰è£…é…ç½®" class="headerlink" title="Nginxå®‰è£…é…ç½®"></a>Nginxå®‰è£…é…ç½®</h2><p>ç›®å‰æˆ‘çš„åšå®¢åœ¨ gitcafe ä¸Šï¼Œåœ¨ URL åé¢éšä¾¿åŠ ç‚¹åç¼€è¿›å…¥ 404 é¡µé¢ï¼Œå¯ä»¥æ¸…æ¥šçš„çœ‹åˆ° nginx/1.8.0 çš„å­—æ ·ã€‚ä»¥åè¿˜è¦ç©è´Ÿè½½å‡è¡¡ï¼ŒæœåŠ¡å™¨è‚¯å®šå°±é€‰å®ƒäº†ã€‚</p><pre><code>sudo apt-get install nginx
</code></pre><p>çœ‹äº†å¾ˆå¤šæ–‡ç« ï¼Œå‘ç°å…¶ä¸­æè¿°çš„ Nginx çš„æ–‡ä»¶ç»“æ„éƒ½ä¸å¤ªä¸€æ ·ï¼Œçœ‹æ¥è·Ÿç³»ç»Ÿç¯å¢ƒæœ‰å…³ç³»ã€‚<br>æˆ‘çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼Œç¯å¢ƒæ˜¯é˜¿é‡Œäº‘ Ubuntu 14.04 ï¼š</p><ul><li>æ‰€æœ‰çš„é…ç½®æ–‡ä»¶éƒ½åœ¨<code>/etc/nginx</code>ä¸‹ï¼Œå¹¶ä¸”æ¯ä¸ªè™šæ‹Ÿä¸»æœºå·²ç»å®‰æ’åœ¨äº†<code>/etc/nginx/sites-available</code>ä¸‹</li><li>å¯åŠ¨ç¨‹åºæ–‡ä»¶åœ¨<code>/usr/sbin/nginx</code></li><li>æ—¥å¿—æ”¾åœ¨äº†<code>/var/log/nginx</code>ä¸­ï¼Œåˆ†åˆ«æ˜¯<code>access.log</code>å’Œ<code>error.log</code></li><li>åœ¨<code>/etc/init.d/</code>ä¸‹åˆ›å»ºäº†å¯åŠ¨è„šæœ¬<code>nginx</code></li><li>é»˜è®¤çš„è™šæ‹Ÿä¸»æœºçš„ç›®å½•è®¾ç½®åœ¨<code>/usr/share/nginx/html</code></li></ul><p>å¯åŠ¨ Nginx ï¼š</p><pre><code>sudo /etc/init.d/nginx start
</code></pre><p>é»˜è®¤çš„æœåŠ¡å™¨é…ç½®æ˜¯ 80 ç«¯å£ï¼Œå¦‚æœä½ æ²¡æœ‰å…¶ä»–çš„ Web Server åœ¨è¿è¡Œï¼Œæ‰“å¼€æœåŠ¡å™¨åŸŸåæˆ– IP åº”è¯¥å¯ä»¥çœ‹åˆ°<strong>Welcome to nginx!</strong></p><p>ç°åœ¨å®šä½åˆ°é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹é…ç½®ï¼š</p><pre><code>vi /etc/nginx/nginx.conf
</code></pre><p>æ‰¾åˆ°<code>server { ... }</code>åŒºåŸŸï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">server &#123;</div><div class="line">    listen      80;     #ç«¯å£</div><div class="line">    server_name localhost yoursite.com;     #åŸŸåæˆ–IP</div><div class="line">    root        /website/blog;      #ç«™ç‚¹æ ¹ç›®å½•</div><div class="line">    charset     utf-8;              #æ–‡ä»¶ç¼–ç </div><div class="line">    index       index.html index.htm;    #é¦–é¡µ</div><div class="line"></div><div class="line">    error_page  404     /404.html;   #404é¡µé¢</div><div class="line">    error_page  500 502 503 504     /50x.html;   #æœåŠ¡ç«¯é”™è¯¯é¡µé¢</div><div class="line"></div><div class="line">    #urlè®¿é—®åŒ¹é…è·¯å¾„ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ª</div><div class="line">    location / &#123;</div><div class="line">        index       index.html index.htm;</div><div class="line">        root        /website/blog;   #è¿™é‡Œå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„æˆ–è€…ç›¸å¯¹è·¯å¾„ï¼ŒåŸºäºç«™ç‚¹æ ¹ç›®å½•</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å¯ä»¥ç”¨ä¸€æ¡å‘½ä»¤æµ‹è¯•é…ç½®æ˜¯å¦æ­£ç¡®ï¼š</p><pre><code>nginx -t -c /etc/nginx/nginx.conf
</code></pre><p>é‡å¯ Nginx æœåŠ¡å™¨ä½¿é…ç½®ç”Ÿæ•ˆï¼š</p><pre><code>/etc/init.d/nginx restart
</code></pre><p>ç°åœ¨å¼€å§‹éƒ¨ç½² Hexoã€‚</p><h2 id="Hexo-éƒ¨ç½²"><a href="#Hexo-éƒ¨ç½²" class="headerlink" title="Hexo éƒ¨ç½²"></a>Hexo éƒ¨ç½²</h2><p>åŸæ¥çš„ Hexo ä½¿ç”¨çš„æ˜¯ hexo-deployer-git æ’ä»¶ï¼Œä¼šåœ¨ Hexo ä¸‹ç”Ÿæˆä¸€ä¸ª .deploy_git ç›®å½•ï¼Œä»è¿™ä¸ªç›®å½•ä¸Šä¼ åˆ° pages åˆ†æ”¯ã€‚<br>ç°åœ¨æˆ‘è§‰å¾—ä¸éœ€è¦è¿™ä¸ªæ’ä»¶äº†ï¼Œå¯ä»¥ç›´æ¥åœ¨ public ç›®å½•ä¸‹åˆå§‹åŒ– git ä»“åº“ç„¶åä¸Šä¼ ã€‚</p><pre><code>cd hexo/public
git init
git add -A
git commit -m &apos;add myBlog&apos;
git remote add origin git@server:/website/blog.git
git push origin master
</code></pre><p>è¿™æ—¶å€™æ‰“å¼€ç«™ç‚¹ï¼Œå°±å¯ä»¥çœ‹åˆ°åšå®¢äº†ã€‚</p><p>æˆ‘çš„åŸŸåè¿˜æ²¡æœ‰å¤‡æ¡ˆï¼Œä¹‹å‰æ³¨å†Œçš„åŸŸåæœ‰å¤‡æ¡ˆå·ï¼Œéœ€è¦è¿åˆ°é˜¿é‡Œäº‘ã€‚<br>å¥½åƒå®¡æ ¸æœŸé—´éœ€è¦å…³ç«™ï¼ŒçœŸæ˜¯éº»çƒ¦ã€‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/00137583770360579bc4b458f044ce7afed3df579123eca000" target="_blank" rel="external">å»–é›ªå³°-æ­å»ºGitæœåŠ¡å™¨</a></li><li><a href="http://icyleaf.com/2012/03/apps-auto-deploy-with-git/" target="_blank" rel="external">ä½¿ç”¨ Git Hooks å®ç°è‡ªåŠ¨é¡¹ç›®éƒ¨ç½²</a></li><li><a href="http://www.nginx.cn/doc/index.html" target="_blank" rel="external">Nginxä¸­æ–‡æ–‡æ¡£</a></li></ul>]]></content>
    
    <summary type="html">
    
      Hexoè‡ªåŠ¨éƒ¨ç½²ï¼Œé˜¿é‡Œäº‘Ubuntuå®‰è£…é…ç½®Nginx
    
    </summary>
    
    
      <category term="Hexo" scheme="http://imys.net/tags/Hexo/"/>
    
      <category term="Nginx" scheme="http://imys.net/tags/Nginx/"/>
    
      <category term="Linux" scheme="http://imys.net/tags/Linux/"/>
    
      <category term="éƒ¨ç½²" scheme="http://imys.net/tags/%E9%83%A8%E7%BD%B2/"/>
    
  </entry>
  
  <entry>
    <title>é˜¿é‡Œäº‘Linux-UbuntuæŠ˜è…¾è®°</title>
    <link href="http://imys.net/20160220/start-linux-on-aliyun.html"/>
    <id>http://imys.net/20160220/start-linux-on-aliyun.html</id>
    <published>2016-02-20T08:25:34.000Z</published>
    <updated>2016-11-12T19:27:58.353Z</updated>
    
    <content type="html"><![CDATA[<p>è§‚æœ›é˜¿é‡Œäº‘å¾ˆä¹…äº†ï¼Œç»ˆäºåœ¨è¿™ä¸ªæ˜¥èŠ‚æ¥äº†åï¼Œä¸€å’¬ç‰™ã€ä¸€ç‹ å¿ƒã€ä¸€è·ºè„šå°±ä¹°ä¸‹äº†ä¸€å° ECSã€‚ä¸åˆ†æ˜¼å¤œçš„æŠ˜è…¾äº†å‡ å¤©åï¼Œç»ˆäºåœ¨å‡ å¤©å‰é…ç½®å¥½äº†è‡ªå·±æœŸæœ›çš„ä½¿ç”¨ç¯å¢ƒã€‚<br>ç”±äºæœ¬äººåˆæ¬¡æ¥è§¦ Linuxï¼Œé…ç½®æœŸé—´ä¸‰åº¦åˆå§‹åŒ–ç£ç›˜ï¼ˆç­‰ä»·äºæ‰‹æœºæ¢å¤å‡ºå‚è®¾ç½®ï¼‰ï¼Œå¯ä»¥è¯´æ˜¯ä¸€æ­¥ä¸€ä¸ªå‘çš„èµ°ä¸‹æ¥çš„ã€‚ç°è¶çƒ­æ‰“é“å¯¹æœ€åä¸€æ¬¡æ­£ç¡®çš„å®‰è£…é…ç½®åšä¸€ä¸‹æ€»ç»“ï¼Œç»™åäººä¹˜å‡‰å§ã€‚</p><h2 id="é€‰æ‹©é…ç½®"><a href="#é€‰æ‹©é…ç½®" class="headerlink" title="é€‰æ‹©é…ç½®"></a>é€‰æ‹©é…ç½®</h2><p>ä½œä¸ºå¼€å‘è€…ï¼Œé€‰æ‹© Linux æ˜¯æ¯‹åº¸ç½®ç–‘çš„ã€‚</p><p>CPU å•æ ¸2Gï¼Œå¯¹äºæˆ‘ç›®å‰æ¥è¯´ç»å¯¹æ˜¯å¤Ÿç”¨äº†ã€‚æˆ‘ä¼šç”¨æ¥åšä»€ä¹ˆï¼Ÿå½“ç„¶æ˜¯çæŠ˜è…¾äº†ï¼ä¸€å°è¿œç¨‹æœåŠ¡å™¨å°±ç›¸å½“äºä½ å¤šäº†ä¸€å°24å°æ—¶ä¸å…³æœºçš„ç”µè„‘ï¼Œå¯ä»¥æŒ‚ç‚¹æœ‰è¶£çš„æœåŠ¡è·‘ç€ï¼Œæ¯”å¦‚çˆ¬è™«ä¹‹ç±»ã€‚æˆ–è€…å½“ä¸ªä»£ç ä»“åº“ï¼Œç”¨æ¥é¡¹ç›®æ¼”ç¤ºã€‚å½“ç„¶ï¼Œåšå®¢ä¹Ÿè‚¯å®šä¼šè¿è¿‡å»çš„ã€‚<br>å¸¦å®½ 2Gï¼Œä¸çŸ¥é“å¸¦å®½æå‡æ˜¯ä¸æ˜¯ä¼šå½±å“è¿œç¨‹æ¡Œé¢é€Ÿåº¦ã€‚<br>å¯¹äº Linux çš„è¯¸å¤šç‰ˆæœ¬ä¹‹é—´çš„ä¼˜åŠ£ï¼Œæˆ‘ä¹Ÿä¸ç”šäº†è§£ï¼Œå°±é€‰äº†ä¸ªè€³æ¿¡ç›®æŸ“è¾ƒå¤šçš„ Ubuntuï¼Œç‰ˆæœ¬è‡ªç„¶æ˜¯é€‰æœ€æ–°ç‰ˆçš„64ä½ã€‚<br>Linux è‡ªå¸¦ 20G ç³»ç»Ÿç›˜ï¼Œå¦å¤–æˆ‘åˆåŠ äº†ä¸€å— 100G äº‘ç›˜ï¼Œæ„Ÿè§‰ç°åœ¨è¿˜ç”¨ä¸äº†è¿™ä¹ˆå¤§ç©ºé—´ã€‚</p><p>ä»¥ä¸Šé…ç½®ä¸€å¹´çš„ä»·æ ¼æ˜¯ 1200+ï¼Œæˆ‘é€‰æ‹©çš„åœ°åŸŸæ˜¯é’å²›ï¼Œæ¯”å›½å†…å…¶ä»–åœ°åŸŸç›¸å¯¹ä¾¿å®œç‚¹ã€‚å¦å¤–ä»˜æ¬¾çš„æ—¶å€™å¡«å†™æ¨èç å¯ä»¥ä¼˜æƒ  10%ï¼Œè¿™æ˜¯æˆ‘çš„æ¨èç ï¼š<strong>rg2j5m</strong>ã€‚å½“ç„¶ä½ ä½¿ç”¨æˆ‘çš„æ¨èç ä»˜æ¬¾åæˆ‘å°†å¾—åˆ°ä¸€å®šçš„è¿”æ¯”ä»£é‡‘å·ï¼Œå¯ä»¥ç”¨æ¥è´­ä¹°é˜¿é‡Œäº‘çš„äº§å“ã€‚<br><a id="more"></a></p><h2 id="ç›®çš„"><a href="#ç›®çš„" class="headerlink" title="ç›®çš„"></a>ç›®çš„</h2><p>æœ¬æ–‡æœ€ç»ˆå°†ä¼šé…ç½®å®Œæˆè¿™æ ·ä¸€ä¸ª Linux ä½¿ç”¨ç¯å¢ƒï¼š</p><ol><li>GNOME ä¸­æ–‡å›¾å½¢ç•Œé¢ï¼›</li><li>Windows è¿œç¨‹æ¡Œé¢è¿æ¥ï¼›</li><li>Nodejs å®‰è£…ã€‚</li></ol><h2 id="æ›´æ–°è½¯ä»¶æº"><a href="#æ›´æ–°è½¯ä»¶æº" class="headerlink" title="æ›´æ–°è½¯ä»¶æº"></a>æ›´æ–°è½¯ä»¶æº</h2><p>ä¸ç®¡æ˜¯ä»é˜¿é‡Œäº‘è¿æ¥ç®¡ç†ç»ˆç«¯è¿˜æ˜¯ç”¨çš„ Putty ç­‰ SSH è¿æ¥å·¥å…·ï¼Œæ€»ä¹‹ä½ ç°åœ¨åº”è¯¥å·²ç»æ‰“å¼€ä¸€ä¸ªé»‘çª—å£äº†ã€‚<br>å¼€å§‹ç¬¬ä¸€æ­¥ã€‚</p><pre><code>sudo apt-get update
</code></pre><p><code>apt-get</code>æ˜¯ä¸€ä¸ªåŒ…ç®¡ç†å·¥å…·ï¼Œåœ¨ Ubuntu ç¯å¢ƒä¸‹ï¼Œä¼šæ˜¯ä½ ä»¥åç»å¸¸ç”¨åˆ°çš„å‘½ä»¤ä¹‹ä¸€ï¼Œç±»ä¼¼äº Nodejs ç¯å¢ƒä¸‹çš„<code>npm</code>ã€‚<br>apt-get å‘½ä»¤ä¸€èˆ¬éœ€è¦ root æƒé™æ‰§è¡Œï¼Œæ‰€ä»¥ä¸€èˆ¬è·Ÿç€<code>sudo</code>å‘½ä»¤ã€‚æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœä½ çš„ä¸€ä¸ªå‘½ä»¤è¿è¡Œå¤±è´¥ï¼Œå¯ä»¥åŠ ä¸Š<code>sudo</code>å‘½ä»¤å†å°è¯•ä¸‹ï¼Œä¹Ÿè®¸å°±ç¥å¥‡çš„æˆåŠŸäº†ã€‚</p><p>Linux ç³»ç»ŸåŸºæœ¬ä¸Šåˆ†ä¸¤å¤§ç±»ï¼š</p><ol><li>RedHatç³»åˆ—ï¼šRedhatã€Centosã€Fedoraç­‰ï¼Œä½¿ç”¨ <code>yum</code>ï¼›</li><li>Debianç³»åˆ—ï¼šDebianã€Ubuntuç­‰ï¼Œä½¿ç”¨ <code>apt-get</code>ã€‚</li></ol><p>apt-get å¸¸ç”¨å‘½ä»¤ï¼š</p><ul><li><code>update</code> æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨</li><li><code>upgrade</code> å‡çº§è½¯ä»¶åŒ…</li><li><code>install pkg</code> å®‰è£…è½¯ä»¶åŒ…</li><li><code>remove</code> ç§»é™¤è½¯ä»¶åŒ…</li></ul><p>å‚è€ƒï¼š<a href="http://www.cnblogs.com/pswzone/archive/2012/04/09/2438885.html" target="_blank" rel="external">apt-getçš„æ›´å¤šä½¿ç”¨</a></p><blockquote><p>åœ¨æŸ¥æ‰¾ Linux ç›¸å…³èµ„æ–™æ—¶ï¼Œå°½é‡å¸¦ä¸Šç³»ç»Ÿç¯å¢ƒä¸ç‰ˆæœ¬ï¼Œä¸åŒç‰ˆæœ¬ç¯å¢ƒä¸‹å‡ºç°é—®é¢˜çš„è§£å†³åŠæ³•ä¸ä¸€å®šé€‚ç”¨ã€‚</p></blockquote><h2 id="GNOME-å®‰è£…"><a href="#GNOME-å®‰è£…" class="headerlink" title="GNOME å®‰è£…"></a>GNOME å®‰è£…</h2><p>å®‰è£… x-window çš„åŸºç¡€ï¼š</p><pre><code>sudo apt-get install x-window-system-core
</code></pre><p>å®‰è£… GNOME ç™»å½•ç®¡ç†å™¨ï¼š</p><pre><code>sudo apt-get install gdm
</code></pre><p>å®‰è£… Ubuntu çš„æ¡Œé¢ï¼š</p><pre><code>sudo apt-get install ubuntu-desktop
</code></pre><p>å®‰è£… GNOME åŸºç¡€è½¯ä»¶ï¼š</p><pre><code>sudo apt-get install GNOME-core
</code></pre><p>OKï¼ç°åœ¨ä»é˜¿é‡Œäº‘è¿æ¥ç®¡ç†ç»ˆç«¯ç™»å½•çš„è¯ï¼Œå°±å¯ä»¥çœ‹åˆ° GNOME æ¼‚äº®çš„ç™»å½•ç•Œé¢ã€‚<br>å¦‚æœè¿˜æ˜¯é»‘å±çš„è¯ï¼Œæ‰§è¡Œ<code>startX</code>å‘½ä»¤ã€‚</p><blockquote><p>startX å³ä¸ºå¯åŠ¨ x-window æœåŠ¡ï¼Œé€‚ç”¨äºä»»ä½•å›¾å½¢ç•Œé¢çš„å¯ç”¨ã€‚</p></blockquote><p>åœ¨ Ubuntu ç¯å¢ƒä¸‹å½“ç„¶ä¸æ­¢ GNOME ä¸€ç§å›¾å½¢ç•Œé¢ï¼Œå¸¸è§çš„è¿˜æœ‰ KDEã€XFCE ç­‰ï¼Œä»ç¬¬2ä¸ªæ­¥éª¤å¼€å§‹å¯¹åº”å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">sudo apt-get install kdm æˆ– xdm</div><div class="line">sudo apt-get install Kubunut-desktop æˆ– Xubuntu-desktop</div></pre></td></tr></table></figure><p>æˆ‘æ²¡æœ‰ä½¿ç”¨ç»éªŒï¼Œä¸çŸ¥é“å­°ä¼˜å­°åŠ£ï¼Œæœ‰å…´è¶£ï¼Œå¯è‡ªè¡Œå°è¯•ã€‚<br>ä¸è¿‡è¿™ä¸‰ç§æ¡Œé¢æˆ‘å€’æ˜¯éƒ½å®‰è£…è¿‡ï¼Œä¹‹æ‰€ä»¥æœ€åé€‰æ‹© GNOME å®Œå…¨æ˜¯æ’ä¸Šäº†ï¼Œå› ä¸ºæˆ‘ä¸‰åº¦åˆå§‹åŒ–ç£ç›˜ã€‚å¯¹ï¼Œæ˜¯å·§åˆï¼<br>ä»ç•Œé¢ç¾è§‚ä¸Šçœ‹ï¼Œæˆ‘æ›´å€¾å‘äºæœ€åçš„ GNOMEã€‚</p><h2 id="è®¾ç½®ä¸­æ–‡ç¯å¢ƒ"><a href="#è®¾ç½®ä¸­æ–‡ç¯å¢ƒ" class="headerlink" title="è®¾ç½®ä¸­æ–‡ç¯å¢ƒ"></a>è®¾ç½®ä¸­æ–‡ç¯å¢ƒ</h2><p>è¿™ä¸ªå‘æˆ‘çˆ¬äº†å¾ˆä¹…ï¼</p><p>å¦‚æœä½ çš„äººå“å¥½ï¼Œè¯·ä½¿ç”¨æœ€ç®€å•çš„ç•Œé¢è®¾ç½®æ–¹å¼æ¥åˆ‡æ¢è¯­è¨€ç¯å¢ƒã€‚</p><ol><li>System Settings -&gt; Language Support è¿›æ¥ä¼šæœ‰ä¸€ä¸ªå¼¹å‡ºæ¡†è‡ªåŠ¨å®‰è£…è¯­è¨€æ›´æ–°ï¼Œç›´æ¥å…³æ‰</li><li>Install/Remove Languagesâ€¦ -&gt; Chinese Simplified å‹¾é€‰ -&gt; Apply Changes</li><li>ä»ä¸Šé¢åˆ—è¡¨é‡ŒæŠŠæ±‰è¯­æ‹‰åˆ°ç¬¬ä¸€ä½ï¼Œå¦‚æœå¯ä»¥çš„è¯ï¼ˆåæ­£æˆ‘æ˜¯æ€ä¹ˆéƒ½æ‹‰ä¸ä¸Šå»ï¼‰</li><li>é€‰é¡¹å¡ Text -&gt; åˆ—è¡¨é‡Œé€‰æ‹©æ±‰è¯­ -&gt; Apply System-Wideâ€¦</li><li>æ³¨é”€åç™»å½•å°±æ˜¯æ±‰è¯­äº†</li></ol><p>è€Œæˆ‘æ˜¯ä½¿ç”¨å‘½ä»¤çš„æ–¹å¼å¼ºè¡Œè®¾ç½®çš„ã€‚ä¸Šé¢çš„æ­¥éª¤æœ€å¥½å…ˆå°è¯•ä¸‹ï¼Œæˆ‘ä¹Ÿä¸ç¡®å®šç›´æ¥ä½¿ç”¨å‘½ä»¤å½¢å¼è®¾ç½®èƒ½å¦æˆåŠŸã€‚</p><p>å®‰è£…ä¸­æ–‡çš„æ”¯æŒ</p><pre><code>sudo apt-get install language-selector language-env language-pack-zhv
</code></pre><p>ä½¿å®‰è£…ç”Ÿæ•ˆï¼Œé…ç½®åŒºåŸŸï¼Œçœ‹åˆ°<code>zh_CN.UTF-8... up-to-date</code>å°±è¡¨ç¤ºæˆåŠŸäº†</p><pre><code>dpkg-reconfigure locales 
</code></pre><p>å°†æœ¬åœ°é»˜è®¤è¯­è¨€æ”¹ä¸ºä¸­æ–‡</p><pre><code>LC_ALL=zh_CN.UTF-8
</code></pre><p>é…ç½®ç³»ç»Ÿç¯å¢ƒ</p><pre><code>sudo vi /var/lib/locales/supported.d/zh
</code></pre><p>åŠ å…¥ä»¥ä¸‹é…ç½®å‚æ•°ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">zh_CN.GB18030 GB18030</div><div class="line">zh_CN.GBK GBK</div><div class="line">zh_CN.GB2312 GB2312</div><div class="line">zh_CN.GB18031 GB18031</div><div class="line">zh_HK.BIG5 BIG5</div><div class="line">zh_TW.BIG5 BIG5</div></pre></td></tr></table></figure><p>ç”Ÿæˆlocaleï¼ˆä¿å­˜åœ¨/usr/lib/locale/ä¸­ï¼‰ï¼š</p><pre><code>sudo locale-gen
</code></pre><p>ç¼–è¾‘<code>vi /etc/profile</code>ï¼š</p><pre><code>export LC_ALL=&quot;zh_CN.GB18030&quot;
</code></pre><p>ç¼–è¾‘<code>vi /etc/default/locale</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">#LANG=&quot;zh_CN.UTF-8&quot;</div><div class="line">#LANGUAGE=&quot;zh_CN:zh&quot;</div><div class="line">LC_ALL=&quot;zh_CN.GB18030&quot;</div><div class="line">LANG=&quot;zh_CN.GB18030&quot;</div><div class="line">LANGUAGE=&quot;zh_CN.GB18030:zh_CN.GB2312:zh_CN&quot;</div><div class="line">SUPPORTED=&quot;zh_CN.GB18030:zh_CN:zh:en_US.UTF-8:en_US:en&quot;</div><div class="line">SYSFONT=&quot;lat0-sun16&quot;</div><div class="line">SYSFONTACM=&quot;8859-15&quot;</div></pre></td></tr></table></figure><p>æ·»åŠ ä¸ªäººç³»ç»Ÿå˜é‡ï¼Œå½“ GNOME å¯åŠ¨åï¼Œä¼šè¯»å–è¿™ä¸ªæ–‡ä»¶é‡Œé¢çš„è®¾ç½®ï¼š<code>vi ~/.profile</code></p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">export G_FILENAME_ENCODING=GB18030</div><div class="line">export G_BROKEN_FILENAMES=1</div></pre></td></tr></table></figure><p>æ³¨é”€é‡æ–°ç™»å½•æˆ–é‡å¯ç”Ÿæ•ˆã€‚</p><p>åœ¨ä»¥ä¸Šçš„æ­¥éª¤ä¸­ç”¨åˆ°äº†<code>vi</code>å‘½ä»¤ï¼Œè¿è¡Œåå¯ä»¥åœ¨ shell ç¯å¢ƒä¸­ç¼–è¾‘æ–‡ä»¶ã€‚è‘—åçš„ VIM ç¼–è¾‘å™¨å°±æ˜¯åœ¨ VI çš„åŸºç¡€ä¸Šæ”¹è¿›çš„ã€‚<br>ä»¥ä¸‹è¿™äº›æ“ä½œå¯èƒ½è®©ä½ å¾ˆå¿«ä¸Šæ‰‹ VIï¼Œæ¯”å¦‚å¯¹è·¯å¾„ä¸º<code>/a</code>æ–‡ä»¶è¿›è¡Œç¼–è¾‘ã€‚</p><ol><li>æ‰§è¡Œ<code>vi /a</code>æ‰“å¼€æ–‡ä»¶ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºï¼›</li><li>æŒ‰é”®ç›˜ç¼–è¾‘åŠŸèƒ½é”®<code>insert</code>ä½¿æ–‡ä»¶è¿›å…¥è¾“å…¥æ¨¡å¼ï¼Œç°åœ¨å¯å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œåƒä½¿ç”¨ä»»æ„æ–‡æœ¬ç¼–è¾‘å™¨ä¸€æ ·ï¼›</li><li>æŒ‰<code>esc</code>é€€å‡ºè¾“å…¥æ¨¡å¼ï¼Œè¿›å…¥æŒ‡ä»¤æ¨¡å¼ï¼›</li><li>è¾“å…¥<code>:wq!</code>å¯¹ä¿®æ”¹çš„æ–‡ä»¶è¿›è¡Œä¿å­˜å¹¶é€€å‡ºï¼›</li><li>å¦‚æœæ–‡ä»¶æ²¡æœ‰è¿›è¡Œä¿®æ”¹ï¼Œè¾“å…¥<code>:q</code>é€€å‡ºï¼›å¦‚æœè¦æ”¾å¼ƒä¿®æ”¹ï¼Œè¾“å…¥<code>:q!</code>é€€å‡ºã€‚</li></ol><p>å‚è€ƒï¼š<a href="http://www.cnblogs.com/88999660/articles/1581524.html" target="_blank" rel="external">Linuxä¸‹viå‘½ä»¤å¤§å…¨</a></p><h2 id="è¿œç¨‹æ¡Œé¢è¿æ¥"><a href="#è¿œç¨‹æ¡Œé¢è¿æ¥" class="headerlink" title="è¿œç¨‹æ¡Œé¢è¿æ¥"></a>è¿œç¨‹æ¡Œé¢è¿æ¥</h2><p>é˜¿é‡Œäº‘çš„ç½‘é¡µç‰ˆè¿æ¥ç®¡ç†ç»ˆç«¯åœ¨å›¾å½¢ç•Œé¢ä¸‹éå¸¸å¡ï¼Œä¸€å®šè®©ä½ å¾ˆä¸çˆ½ã€‚<br>è®©æˆ‘ä»¬å¼€å§‹æœ‰è¶£çš„éƒ¨åˆ†å§ï¼</p><p>å®‰è£… Xrdpï¼š</p><pre><code>sudo apt-get install xrdp vnc4server xbase-clients
</code></pre><p>å®‰è£… dconf-editorï¼š</p><pre><code>sudo apt-get install dconf-editor
</code></pre><p>è¿è¡Œ dconf-editorï¼š</p><pre><code>dconf-editor
</code></pre><p>å±•å¼€<code>org -&gt; GNOME -&gt; desktop -&gt; remote-access</code>ï¼›<br>åªæ‰“å¼€<code>enabled</code>å’Œ<code>notify-on-connect</code>ï¼Œå…¶ä»–éƒ½å…³æ‰ï¼›<br>ä¿®æ”¹<code>vnc-password</code>ï¼Œè¿™æ˜¯ä½ çš„è¿œç¨‹ç™»å½•å¯†ç ï¼›<br>å¯åŠ¨è¿œç¨‹æ¡Œé¢è¿æ¥ï¼šWindows ä¸Šï¼ŒæŒ‰<code>win + R</code>è¿è¡Œ<code>mstsc</code>ï¼›<br>è¾“å…¥ä½ çš„æœåŠ¡å™¨ IP å’Œç”¨æˆ·åè¿æ¥ï¼›<br>ç™»é™†æ¨¡å¼é€‰<code>vnc-any</code>ï¼ŒIPå’Œå¯†ç è¾“å…¥è¿æ¥æˆåŠŸã€‚</p><p>å¦‚æœä½ ä¾ç„¶è§‰å¾—å¡çš„è¯ï¼Œå¯ä»¥å¯¹è¿œç¨‹è¿æ¥åšä»¥ä¸‹é…ç½®ã€‚</p><ol><li>å¯åŠ¨è¿œç¨‹æ¡Œé¢è¿æ¥ -&gt; æ˜¾ç¤ºé€‰é¡¹</li><li>æ˜¾ç¤º -&gt; é¢œè‰²å¯è¿›è¡Œé™çº§è°ƒæ•´ï¼Œè¿˜å¯ä»¥åœ¨æ˜¾ç¤ºè®¾ç½®è°ƒæ•´è¿œç¨‹æ¡Œé¢çª—å£å¤§å°</li><li>ä½“éªŒ -&gt; è¿›è¡Œè¿æ¥å’ŒåŠŸèƒ½çš„é™çº§è°ƒæ•´</li></ol><p>è¿™äº›è°ƒæ•´éœ€è¦ç»“åˆæœåŠ¡å™¨é…ç½®å’Œç½‘ç»œæ¡ä»¶è¿›è¡Œåˆç†çš„é€‰æ‹©ã€‚</p><p>å¦å¤–è¿˜æœ‰ä¸€ç§åŸºäº XFCE æ¡Œé¢ç¯å¢ƒçš„è¿æ¥æ–¹å¼ï¼Œè¿™åœ¨æˆ‘ç¬¬ä¸€å›åˆå°±å°è¯•è¿‡ï¼Œä¹Ÿæ˜¯å¯è¡Œçš„ã€‚<br>å‚è€ƒï¼š<a href="http://jingyan.baidu.com/article/8ebacdf0cdc64949f75cd555.html" target="_blank" rel="external">Windows 7è¿œç¨‹æ¡Œé¢è¿æ¥Ubuntu 14.04</a></p><h2 id="Nodejs-å®‰è£…"><a href="#Nodejs-å®‰è£…" class="headerlink" title="Nodejs å®‰è£…"></a>Nodejs å®‰è£…</h2><p>Nodejs çš„å®‰è£…æœ‰å¾ˆå¤šç§ï¼Œæœ€ç®€å•çš„å°±æ˜¯åœ¨æœåŠ¡å™¨æµè§ˆå™¨é‡Œé¢ä» Nodejs ç½‘ç«™ä¸­é€‰æ‹©å¯¹åº”ç‰ˆæœ¬ä¸‹è½½ï¼Œå…¶æ¬¡è¿˜å¯ä»¥ä¸‹è½½æºç ç¼–è¯‘ä»¥åŠä»è½¯ä»¶ä¸­å¿ƒ(apt-get)å®‰è£…ç­‰ã€‚</p><p>æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ NVM å®‰è£…ï¼Œå®ƒæ˜¯ä¸€ä¸ª Node ç‰ˆæœ¬ç®¡ç†å™¨ã€‚</p><p>å®‰è£… Gitï¼š</p><pre><code>sudo apt-get install git
</code></pre><p>å®‰è£… NVMï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">cd ~/å®‰è£…è·¯å¾„</div><div class="line">git clone https://github.com/creationix/nvm.git</div></pre></td></tr></table></figure><p>è®¾ç½® NVM ä¸‹è½½æºä¸ºæ·˜å®é•œåƒï¼š</p><pre><code>NVM_NODEJS_ORG_MIRROR=https://npm.taobao.org/dist nvm install 0.11.11
</code></pre><p>é…ç½® NVVM çš„ç›¸å…³ç¯å¢ƒå˜é‡ï¼Œç¼–è¾‘<code>~/.bashrc</code>ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">source ~/git/nvm/nvm.sh</div><div class="line">export NVM_NODEJS_ORG_MIRROR=https://npm.taobao.org/dist</div></pre></td></tr></table></figure><p>å®‰è£… Nodejsï¼Œ<code>nvm install version</code>ï¼š</p><pre><code>nvm install v4.2.4
</code></pre><p>åŒæ—¶å¯ä»¥å®‰è£…ä¸‹<code>cnpm</code>ï¼Œä»æ·˜å®é•œåƒå®‰è£…æ¨¡å—ï¼š</p><pre><code>npm install -g cnpm --registry=https://registry.npm.taobao.org
</code></pre><p>å¼€å§‹è¿›è¡ŒæœåŠ¡å™¨è¿æ¥æµ‹è¯•ï¼Œä»¥ä¸‹ä¸æ˜¯å¿…é¡»è¦åšçš„ã€‚</p><p>å®‰è£… Express ç”Ÿæˆå™¨ï¼š</p><pre><code>cnpm install express-generator -g
</code></pre><p>ç”Ÿæˆæµ‹è¯•åº”ç”¨ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">cd ~/demo</div><div class="line">express test</div></pre></td></tr></table></figure><p>å®‰è£…æ‰€æœ‰ä¾èµ–åŒ…ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">cd test</div><div class="line">cnpm install</div></pre></td></tr></table></figure><p>å¯åŠ¨æµ‹è¯•åº”ç”¨ï¼š</p><pre><code>npm start
</code></pre><p>ä»æœ¬åœ°æ‰“å¼€<code>http://æœåŠ¡å™¨IP:3000</code>å¯ä»¥çœ‹åˆ° <strong>Welcome to Express</strong>ï¼Œå°±è¯æ˜æœåŠ¡å™¨è¿æ¥æˆåŠŸã€‚</p><h2 id="æ„Ÿè°¢"><a href="#æ„Ÿè°¢" class="headerlink" title="æ„Ÿè°¢"></a>æ„Ÿè°¢</h2><ul><li><a href="http://blog.csdn.net/sunnylgz/article/details/40779973" target="_blank" rel="external">Windowsä½¿ç”¨VNC viewerè®¿é—®Ubuntu 14.04è¿œç¨‹æ¡Œé¢çš„ç®€å•æ–¹æ³•</a></li><li><a href="http://www.cnblogs.com/huangfenghit/archive/2011/05/08/2040201.html" target="_blank" rel="external">http://www.cnblogs.com/huangfenghit/archive/2011/05/08/2040201.html</a></li><li><a href="https://cnodejs.org/topic/5338c5db7cbade005b023c98" target="_blank" rel="external">å¿«é€Ÿæ­å»º Node.js å¼€å‘ç¯å¢ƒä»¥åŠåŠ é€Ÿ npmå¿«é€Ÿæ­å»º Node.js å¼€å‘ç¯å¢ƒä»¥åŠåŠ é€Ÿ npm</a></li></ul><p>å½“ç„¶ï¼Œå®é™…å‚è€ƒçš„æ–‡ç« è¿œæ¯”è¿™å¤šçš„å¤šã€‚ä¸è¿‡ï¼Œæ˜¯è¿™å‡ ç¯‡æ–‡ç« åœ¨é‡è¦çš„é˜¶æ®µå¸¦æˆ‘ç™»ä¸Šäº‘ç«¯ã€‚<br>é—æ†¾çš„æ˜¯å®‰è£…è¿‡ç¨‹ä¸­æ²¡æœ‰æˆªå›¾ï¼Œåªæ˜¯å‡­è®°å¿†æŠŠè¿™äº›ä¸œè¥¿ä¸²è¿èµ·æ¥äº†ï¼Œå®é™…æ“ä½œä¸­éš¾å…æœ‰è¯¯ï¼Œè§è°…ï¼</p>]]></content>
    
    <summary type="html">
    
      é˜¿é‡Œäº‘Linux-Ubuntuç¯å¢ƒé…ç½®ï¼Œé˜¿é‡Œäº‘Linuxå®‰è£…Nodejsï¼ŒUbuntuè¿œç¨‹æ¡Œé¢, GNOMEå›¾å½¢ç•Œé¢å®‰è£…å’Œä¸­æ–‡ç¯å¢ƒé…ç½®
    
    </summary>
    
    
      <category term="Nodejs" scheme="http://imys.net/tags/Nodejs/"/>
    
      <category term="Linux" scheme="http://imys.net/tags/Linux/"/>
    
      <category term="Ubuntu" scheme="http://imys.net/tags/Ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>å†™ä¸€ä¸ªæ­Œæ›²ä¸‹è½½å·¥å…·</title>
    <link href="http://imys.net/20160215/download-music-by-nodejs.html"/>
    <id>http://imys.net/20160215/download-music-by-nodejs.html</id>
    <published>2016-02-15T08:33:31.000Z</published>
    <updated>2016-11-12T19:04:38.947Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘æœ‰æœ‹å‹æ‰¾æˆ‘å¸®ä»–ä¸‹è½½æ­Œæ›²ï¼Œæœç„¶åœ¨å…¶ä»–äººçœ¼é‡Œï¼Œç¨‹åºå‘˜ç®€ç›´æ˜¯â€œæ— æ‰€ä¸èƒ½â€çš„å­˜åœ¨å•Šã€‚<br>ä¸è¿‡ï¼Œè¿™ä¸ªéœ€æ±‚å¯¹äºç¨‹åºå‘˜æ¥è®²ï¼Œè¿˜ç®—æ˜¯æ¯”è¾ƒæ­£å¸¸çš„ï¼Œæ¯”é‚£äº›æ‰¾ä½ â€œåˆ·QBâ€ã€â€œç›—å·â€ä»€ä¹ˆçš„å¼ºå¤šäº†ã€‚</p><p>è¦æ˜¯æ”¾åˆ°ä»¥å‰ä¸‹è½½æ­Œæ›²ï¼Œç›´æ¥å›ä¸€å¥â€œæœç™¾åº¦â€å®Œäº‹ï¼Œè¿‘å¹´æ¥æ­Œæ›²ç‰ˆæƒé€æ¸è¢«é‡è§†äº†ï¼Œä¸€äº›æ­Œæ›²é€æ¸å˜ä¸ºä¼šå‘˜ä¸‹è½½æˆ–è€…æ”¶è´¹ä¸‹è½½ã€‚ä¸è¿‡å¥½æ­¹è¿˜æ˜¯å¯ä»¥åœ¨çº¿æ’­æ”¾çš„ï¼Œåªè¦èƒ½æ’­æ”¾ï¼Œé‚£æƒ³æ‰¾åˆ°æ­Œæ›²æ–‡ä»¶å°±å¾ˆç®€å•äº†ã€‚</p><p>å¯ä»¥ä»<strong>å¼€å‘è€…å·¥å…· - Network</strong> é‡Œæ‰¾éŸ³ä¹æ–‡ä»¶çš„è¯·æ±‚é“¾æ¥ï¼Œæˆ–è€…æ‰“å¼€æµè§ˆå™¨æœ¬åœ°ç¼“å­˜æ–‡ä»¶å¤¹æ‰¾å¤§æ–‡ä»¶ã€‚</p><p>ä¸ºäº†é˜²æ­¢ä»¥åæœ‰æœ‹å‹å‘å‡ºé‡å¤éœ€æ±‚ï¼Œæˆ‘å†³å®šå†™ä¸€ä¸ªå·¥å…·å‡ºæ¥ã€‚</p><p>è¿™å…¶ä¸­æ¶‰åŠåˆ°äº†è·¨åŸŸè®¿é—®ã€é¡µé¢å†…å®¹æŠ“å–ï¼Œæœ€ç»ˆå†³å®šç”¨<code>express</code>å’Œ<code>cheerio</code>æ¥æï¼ŒæœåŠ¡ç«¯ä¸å­˜åœ¨è·¨åŸŸé—®é¢˜ã€‚</p><p>è¯•äº†ä¸€äº›éŸ³ä¹ç½‘ç«™çš„æ­Œæ›²æœç´¢å’Œæ’­æ”¾åï¼Œæœ€ç»ˆæŠŠç›®æ ‡ç„å‡†äº†<strong>é…·æˆ‘éŸ³ä¹</strong>ã€‚</p><a id="more"></a><h2 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h2><p>é…·æˆ‘çš„æ­Œæ›²æœç´¢å°±æ˜¯ä¸€ä¸ªè¡¨å•æäº¤ï¼Œé¡µé¢è·³è½¬ï¼ŒæœåŠ¡ç«¯ç›´æ¥è¾“å‡ºä¸€ä¸ªåŒ…å«æœç´¢ç»“æœçš„é¡µé¢ï¼Œè¿™ä¸ªé¡µé¢çš„ URL åŒ…å«äº†æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚</p><p><a href="http://sou.kuwo.cn/ws/NSearch?type=music&amp;key=æ›¾ç»çš„ä½ " target="_blank" rel="external">http://sou.kuwo.cn/ws/NSearch?type=music&amp;key=æ›¾ç»çš„ä½ </a></p><p>å­—æ®µ<code>type</code>è¡¨ç¤ºæœç´¢ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯¥é¡µé¢ä¸Šçš„ 7 ä¸ªæ ‡ç­¾é¡µã€‚</p><p>å¯¹åº”å…³ç³»å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">all         --ç»¼åˆ</div><div class="line">artist      --æ­Œæ‰‹</div><div class="line">music       --æ­Œæ›²</div><div class="line">album       --ä¸“è¾‘</div><div class="line">mv          --MV</div><div class="line">playlist    --æ­Œå•</div><div class="line">lyric       --æ­Œè¯</div></pre></td></tr></table></figure></p><p>å¯¹äºç›®å‰çš„éœ€æ±‚æ¥è¯´ï¼Œ<code>type=music</code>å·²ç»è¶³å¤Ÿäº†ã€‚</p><p><code>key</code>æ˜¯æœç´¢å…³é”®å­—ã€‚è¯¥é¡µç­¾ä¸‹è¿˜æœ‰ä¸€ä¸ªå‚æ•°<code>pn</code>è¡¨ç¤ºé¡µæ•°ï¼Œæ¯é¡µæœ€å¤šæ˜¾ç¤º 25 é¡¹ï¼Œè¯¥å‚æ•°çœç•¥è¡¨ç¤ºç¬¬ä¸€é¡µã€‚</p><p>è¯¥é¡µé¢çš„æœç´¢åˆ—è¡¨å’Œåˆ†é¡µå‡ä¸ºåç«¯ç›´å‡ºï¼Œæƒ³è¦å°è£…è‡ªå·±çš„æ¥å£åªå¥½è·å–æ•´ä¸ªé¡µé¢å†…å®¹ï¼Œç„¶åè§£æ DOM ï¼Œç»„æˆè‡ªå·±éœ€è¦çš„æ•°æ®ã€‚</p><h3 id="æ¨¡ç‰ˆ"><a href="#æ¨¡ç‰ˆ" class="headerlink" title="æ¨¡ç‰ˆ"></a>æ¨¡ç‰ˆ</h3><p>views/index.html</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">"key"</span> <span class="attr">value</span>=<span class="string">"æ›¾ç»çš„ä½ "</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"search"</span>&gt;</span>æœç´¢<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">id</span>=<span class="string">"list"</span>&gt;</span><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"page"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://apps.bdimg.com/libs/jquery/1.9.0/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure><p>æ¨¡ç‰ˆä½¿ç”¨çš„ ejsã€‚</p><h3 id="è·¯ç”±"><a href="#è·¯ç”±" class="headerlink" title="è·¯ç”±"></a>è·¯ç”±</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// é¡µé¢æ¸²æŸ“</span></div><div class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line">    res.render(<span class="string">'index'</span>, &#123;</div><div class="line">        <span class="attr">title</span>: <span class="string">'Music'</span></div><div class="line">    &#125;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// æœç´¢</span></div><div class="line">app.get(<span class="string">'/search/:key/:pn'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line"></div><div class="line">&#125;);</div></pre></td></tr></table></figure><h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><p>é€»è¾‘å¾ˆç®€å•ï¼Œç‚¹å‡»æœç´¢æ—¶å–æ–‡æœ¬æ¡†çš„å€¼ ajax è¯·æ±‚<code>/search/:key/:pn</code>è·å–æ•°æ®æ¸²æŸ“<code>#list</code>å’Œ<code>#page</code>ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> $key = $(<span class="string">'#key'</span>),</div><div class="line">        $so = $(<span class="string">'#search'</span>),</div><div class="line">        $list = $(<span class="string">'#list'</span>),</div><div class="line">        $page = $(<span class="string">'#page'</span>);</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params">key, pn</span>) </span>&#123;</div><div class="line"></div><div class="line">        $.getJSON(<span class="string">'/search/'</span> + key + <span class="string">'/'</span> + pn, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line"></div><div class="line">            <span class="comment">// æ¸²æŸ“ #list å’Œ #page</span></div><div class="line"></div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">search</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> key = $.trim($key.val());</div><div class="line"></div><div class="line">        <span class="keyword">if</span>(!key) &#123;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        getData(key, <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    $so.click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        search();</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    $key.keyup(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span>(event.keyCode === <span class="number">13</span>) &#123;</div><div class="line">            search();</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">&#125;.call(<span class="keyword">this</span>));</div></pre></td></tr></table></figure><p>æ ¹æ®å‰ç«¯çš„éœ€æ±‚ï¼Œåç«¯è¾“å‡ºçš„æ•°æ®æ ¼å¼åº”è¯¥æ˜¯è¿™æ ·çš„ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">list</span>: [],</div><div class="line">    <span class="attr">page</span>: <span class="string">''</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å¼€å§‹å°è£…å¯¹åº”æ ¼å¼çš„æ•°æ®ã€‚</p><p>é€šè¿‡å¼€å‘è€…å·¥å…· - Elements å¯ä»¥æ‰¾åˆ°é…·æˆ‘æœç´¢ç»“æœé¡µé¢çš„åˆ—è¡¨å’Œåˆ†é¡µçš„ Domã€‚å¯ä»¥ä½¿ç”¨ http æ¨¡å—å»è¯·æ±‚è¿™ä¸ªé¡µé¢ï¼Œæ‹¿åˆ°æ•´ä¸ªé¡µé¢æ–‡æ¡£ï¼Œä½¿ç”¨ cheerio é€‰å–å¯¹åº”çš„ Dom æ¥ç»„è£…æˆæˆ‘ä»¬éœ€è¦çš„æ•°æ®ã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/dmn-1.jpg" alt="ç›¸å…³Dom"></div><div class="image-caption">ç›¸å…³Dom</div></figure><p>æ­Œæ›²åˆ—è¡¨çš„é€‰æ‹©å™¨ä¸º<code>.m_list ul</code>ï¼Œåˆ†é¡µçš„é€‰æ‹©å™¨ä¸º<code>.page</code>ã€‚<br>å½“ç„¶ï¼Œä½¿ç”¨ç±»é€‰æ‹©å™¨æ—¶è¦ç¡®å®šè¯¥ç±»åœ¨é¡µé¢å†…æ˜¯å”¯ä¸€çš„ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// æœç´¢</span></div><div class="line">app.get(<span class="string">'/search/:key/:pn'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">// http://sou.kuwo.cn/ws/NSearch?type=music&amp;key=æ›¾ç»çš„ä½ &amp;pn=1</span></div><div class="line"></div><div class="line">    <span class="keyword">var</span> key = req.params.key,</div><div class="line">        pn = req.params.pn,</div><div class="line">        option = &#123;</div><div class="line">            <span class="attr">host</span>: <span class="string">'sou.kuwo.cn'</span>,</div><div class="line">            <span class="attr">port</span>: <span class="number">80</span>,</div><div class="line">            <span class="attr">path</span>: <span class="string">'/ws/NSearch?'</span> + querystring.stringify(&#123;</div><div class="line">                <span class="attr">type</span>: <span class="string">'music'</span>,</div><div class="line">                <span class="attr">key</span>: key,</div><div class="line">                <span class="attr">pn</span>: pn</div><div class="line">            &#125;),</div><div class="line">            <span class="attr">method</span>: <span class="string">'GET'</span></div><div class="line">        &#125;;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> req2 = http.request(option, <span class="function"><span class="keyword">function</span>(<span class="params">res2</span>) </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">var</span> body = <span class="string">''</span>;</div><div class="line"></div><div class="line">        res2.setEncoding(<span class="string">'utf8'</span>);</div><div class="line">        res2.on(<span class="string">'data'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">            body += data;</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">        res2.on(<span class="string">'end'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">            <span class="comment">// è§£æ html</span></div><div class="line">            <span class="keyword">var</span> $ = cheerio.load(body),</div><div class="line">                $list = $(<span class="string">'.m_list ul li'</span>),</div><div class="line">                $page = $(<span class="string">'.page'</span>),</div><div class="line">                list = [];</div><div class="line"></div><div class="line">            $list.each(<span class="function"><span class="keyword">function</span>(<span class="params">i, el</span>) </span>&#123;</div><div class="line">                <span class="keyword">var</span> $<span class="keyword">this</span> = $(el);</div><div class="line"></div><div class="line">                list.push(&#123;</div><div class="line">                    <span class="attr">id</span>: <span class="built_in">parseInt</span>($<span class="keyword">this</span>.find(<span class="string">'input[name="musicNum"]'</span>).val()),</div><div class="line">                    <span class="attr">name</span>: $<span class="keyword">this</span>.find(<span class="string">'.m_name a'</span>).attr(<span class="string">'title'</span>),</div><div class="line">                    <span class="attr">album</span>: $<span class="keyword">this</span>.find(<span class="string">'.a_name a'</span>).attr(<span class="string">'title'</span>),</div><div class="line">                    <span class="attr">singer</span>: $<span class="keyword">this</span>.find(<span class="string">'.s_name a'</span>).attr(<span class="string">'title'</span>)</div><div class="line">                &#125;);</div><div class="line">            &#125;);</div><div class="line"></div><div class="line">            $page.find(<span class="string">'a'</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">i, el</span>) </span>&#123;</div><div class="line">                <span class="keyword">var</span> $<span class="keyword">this</span> = $(el),</div><div class="line">                    href = $<span class="keyword">this</span>.attr(<span class="string">'href'</span>);</div><div class="line"></div><div class="line">                <span class="keyword">if</span> (href !== <span class="string">'#@'</span>) &#123;</div><div class="line">                    <span class="keyword">var</span> num = href.split(<span class="string">'='</span>).reverse()[<span class="number">0</span>];</div><div class="line">                    $<span class="keyword">this</span>.attr(<span class="string">'data-option'</span>, <span class="built_in">JSON</span>.stringify(&#123;</div><div class="line">                        <span class="attr">key</span>: key,</div><div class="line">                        <span class="attr">pn</span>: num</div><div class="line">                    &#125;));</div><div class="line">                &#125;</div><div class="line"></div><div class="line">                $<span class="keyword">this</span>.attr(<span class="string">'href'</span>, <span class="string">'javascript:;'</span>);</div><div class="line">            &#125;);</div><div class="line"></div><div class="line">            res.send(&#123;</div><div class="line">                <span class="attr">page</span>: $page.html(),</div><div class="line">                <span class="attr">list</span>: list</div><div class="line">            &#125;);</div><div class="line"></div><div class="line">        &#125;);</div><div class="line"></div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    req2.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(e);</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    req2.end();</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>æ­Œæ›²çš„æ•°æ®é¡¹å–äº† idã€æ­Œåã€ä¸“è¾‘ã€æ­Œæ‰‹ã€‚<br>åˆ†é¡µçš„ Dom ç»“æ„æ¯”è¾ƒç®€å•ï¼Œæˆ‘ç›´æ¥æŠŠåˆ†é¡µå†…çš„<code>a:href</code>å±æ€§æ›¿æ¢äº†ï¼Œæ·»åŠ è‡ªå®šä¹‰æ•°æ®ç”¨äºå‰ç«¯ç‚¹å‡»é‡æ¸²æŸ“ï¼Œç›´æ¥è¿”å›æ•´ä¸ªåˆ†é¡µçš„ HTMLã€‚</p><p>ä»¥ä¸Šä»£ç å¼•ç”¨çš„æ¨¡å—æœ‰<code>http</code>ã€<code>querystring</code>ã€<code>cheerio</code>ã€‚<br>ä¸å¾—ä¸è¯´<code>cheerio</code>ç”¨æ¥çˆ¬é¡µé¢å®åœ¨æ˜¯å¤ªæ£’äº†ï¼</p><p>ä»¥ä¸Šä»£ç åœ¨ä¸€ä¸ªè¯·æ±‚å¤„ç†é€»è¾‘ä¸­åˆå‘å‡º http è¯·æ±‚ï¼Œæ˜¾ç„¶å¯ä»¥å°è£…å‡ºä¸€ä¸ªè¯·æ±‚æ¨¡å—ï¼Œä»¥å¤‡å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚</p><p>lib/request.js</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> req = http.request(options, <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</div><div class="line"></div><div class="line">            <span class="keyword">var</span> body = <span class="string">''</span>;</div><div class="line"></div><div class="line">            res.setEncoding(<span class="string">'utf8'</span>);</div><div class="line">            res.on(<span class="string">'data'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">                body += data;</div><div class="line">            &#125;);</div><div class="line"></div><div class="line">            res.on(<span class="string">'end'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">                resolve(body);</div><div class="line">            &#125;);</div><div class="line"></div><div class="line">        &#125;);</div><div class="line"></div><div class="line">        req.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">            reject(e);</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">        req.end();</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>æ·»åŠ ä¸€ä¸ª request æ¨¡å—ç”¨äº http è¯·æ±‚ï¼Œä»¥ Promise æ–¹å¼è¿”å›ã€‚<br>è¿™æ ·æœç´¢çš„å¤„ç†é€»è¾‘ä»£ç å°±å˜æˆè¿™æ ·ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">app.get(<span class="string">'/search/:key/:pn'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">// http://sou.kuwo.cn/ws/NSearch?type=music&amp;key=æ›¾ç»çš„ä½ &amp;pn=1</span></div><div class="line"></div><div class="line">    <span class="keyword">var</span> key = req.params.key,</div><div class="line">        pn = req.params.pn,</div><div class="line">        option = &#123;</div><div class="line">            <span class="attr">host</span>: <span class="string">'sou.kuwo.cn'</span>,</div><div class="line">            <span class="attr">port</span>: <span class="number">80</span>,</div><div class="line">            <span class="attr">path</span>: <span class="string">'/ws/NSearch?'</span> + querystring.stringify(&#123;</div><div class="line">                <span class="attr">type</span>: <span class="string">'music'</span>,</div><div class="line">                <span class="attr">key</span>: key,</div><div class="line">                <span class="attr">pn</span>: pn</div><div class="line">            &#125;),</div><div class="line">            <span class="attr">method</span>: <span class="string">'GET'</span></div><div class="line">        &#125;;</div><div class="line"></div><div class="line">    request(option).then(<span class="function"><span class="keyword">function</span>(<span class="params">body</span>) </span>&#123;</div><div class="line"></div><div class="line">        <span class="comment">// è§£æ html</span></div><div class="line">        <span class="keyword">var</span> $ = cheerio.load(body),</div><div class="line">            $list = $(<span class="string">'.m_list ul li'</span>),</div><div class="line">            $page = $(<span class="string">'.page'</span>),</div><div class="line">            list = [];</div><div class="line"></div><div class="line">        $list.each(<span class="function"><span class="keyword">function</span>(<span class="params">i, el</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> $<span class="keyword">this</span> = $(el);</div><div class="line"></div><div class="line">            list.push(&#123;</div><div class="line">                <span class="attr">id</span>: <span class="built_in">parseInt</span>($<span class="keyword">this</span>.find(<span class="string">'input[name="musicNum"]'</span>).val()),</div><div class="line">                <span class="attr">name</span>: $<span class="keyword">this</span>.find(<span class="string">'.m_name a'</span>).attr(<span class="string">'title'</span>),</div><div class="line">                <span class="attr">album</span>: $<span class="keyword">this</span>.find(<span class="string">'.a_name a'</span>).attr(<span class="string">'title'</span>),</div><div class="line">                <span class="attr">singer</span>: $<span class="keyword">this</span>.find(<span class="string">'.s_name a'</span>).attr(<span class="string">'title'</span>)</div><div class="line">            &#125;);</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">        $page.find(<span class="string">'a'</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">i, el</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> $<span class="keyword">this</span> = $(el),</div><div class="line">                href = $<span class="keyword">this</span>.attr(<span class="string">'href'</span>);</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (href !== <span class="string">'#@'</span>) &#123;</div><div class="line">                <span class="keyword">var</span> num = href.split(<span class="string">'='</span>).reverse()[<span class="number">0</span>];</div><div class="line">                $<span class="keyword">this</span>.attr(<span class="string">'data-option'</span>, <span class="built_in">JSON</span>.stringify(&#123;</div><div class="line">                    <span class="attr">key</span>: key,</div><div class="line">                    <span class="attr">pn</span>: num</div><div class="line">                &#125;));</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            $<span class="keyword">this</span>.attr(<span class="string">'href'</span>, <span class="string">'javascript:;'</span>);</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">        res.send(&#123;</div><div class="line">            <span class="attr">page</span>: $page.html(),</div><div class="line">            <span class="attr">list</span>: list</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">    &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(e);</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>æ•°æ®æœ‰äº†ï¼Œå¼€å§‹å†™å‰ç«¯é¡µé¢æ¸²æŸ“éƒ¨åˆ†ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params">key, pn</span>) </span>&#123;</div><div class="line"></div><div class="line">    $.getJSON(<span class="string">'/search/'</span> + key + <span class="string">'/'</span> + pn, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">var</span> body = <span class="string">''</span>;</div><div class="line">        data.list.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">v, i</span>) </span>&#123;</div><div class="line">            body +=<span class="string">'&lt;li&gt;&lt;a href="download/'</span>+ v.id +<span class="string">'"&gt;'</span>+ v.name +<span class="string">'  '</span>+ v.album +<span class="string">'  '</span>+ v.singer +<span class="string">'&lt;/a&gt;&lt;/li&gt;'</span>;</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">        $list.html(body);</div><div class="line">        $page.html(data.page);</div><div class="line"></div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>æ¯æ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•éƒ½ä¼šè·å–æ•°æ®æ¸²æŸ“åˆ—è¡¨å’Œåˆ†é¡µã€‚<br>æ­Œæ›²åˆ—è¡¨çš„æ¯ä¸€é¡¹ç›´æ¥ä½¿ç”¨äº† a é“¾æ¥ï¼Œç‚¹å‡»ç›´æ¥ä¸‹è½½æ­Œæ›²ï¼Œä¼šæœ‰ä¸€ä¸ªæ–°çš„è·¯ç”±<code>/download/:id</code>ã€‚</p><p>åˆ†é¡µå†…çš„ a é“¾æ¥å·²ç»åŠ ä¸Šäº†è‡ªå®šä¹‰æ•°æ®ï¼Œç›´æ¥æ·»åŠ ç‚¹å‡»äº‹ä»¶æ‹¿åˆ°æ•°æ®è°ƒç”¨<code>getData</code>æ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">$page.on(<span class="string">'click'</span>, <span class="string">'a[data-option]'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> option = $(<span class="keyword">this</span>).data(<span class="string">'option'</span>);</div><div class="line">    getData(option.key, option.pn);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>è‡³æ­¤ï¼Œæœç´¢åŠ åˆ†é¡µå°±å…¨éƒ¨å®Œæˆäº†ã€‚</p><h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p>åœ¨é…·æˆ‘çš„é¡µé¢ä¸­ç‚¹å‡»æ­Œæ›²åå¯ä»¥è·³è½¬åˆ°ä¸€ä¸ªæ­Œæ›²æ’­æ”¾é¡µï¼Œè¯¥é¡µé¢ URL æ ¼å¼ä¸º<code>http://www.kuwo.cn/yinyue/100062/</code>ï¼Œå…¶ä¸­çš„ 100062 å°±æ˜¯æ­Œæ›²IDäº†ã€‚<br>å¯¹äºèµ„æºæ–‡ä»¶ï¼Œç›´æ¥åˆ†æ Networkï¼Œæ‰¾åˆ°èµ„æºæ–‡ä»¶è¯·æ±‚å’Œæ­Œæ›²IDä¹‹é—´çš„å…³ç³»ï¼ŒæœŸæœ›å¯ä»¥ç›´æ¥è·å–åˆ°èµ„æºæ–‡ä»¶çš„é“¾æ¥ã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/dmn-2.jpg" alt="é…·æˆ‘Network"></div><div class="image-caption">é…·æˆ‘Network</div></figure><p>æœ€ç»ˆåˆ†æç»“æœï¼š</p><p>ID100062 çš„èµ„æºæ–‡ä»¶åæ˜¯ 1058000744.aacã€‚<br>æœ‰ä¸€ä¸ªè¯·æ±‚ <a href="http://antiserver.kuwo.cn/anti.s?rid=MUSIC_100062&amp;format=aac|mp3&amp;type=convert_url&amp;response=url" target="_blank" rel="external">http://antiserver.kuwo.cn/anti.s?rid=MUSIC_100062&amp;format=aac|mp3&amp;type=convert_url&amp;response=url</a> çš„ç»“æœä¸º <a href="http://win.web.ra03.sycdn.kuwo.cn/07baab80f0a6dd9b3a091879b308ae68/56c2840e/resource/a1/48/63/96/1058000744.aac" target="_blank" rel="external">http://win.web.ra03.sycdn.kuwo.cn/07baab80f0a6dd9b3a091879b308ae68/56c2840e/resource/a1/48/63/96/1058000744.aac</a>ã€‚</p><p>è¿™æ ·æˆ‘ä»¬ç›´æ¥ç”¨æ­Œæ›²IDå»è¯·æ±‚<code>http://antiserver.kuwo.cn/anti.s</code>å°±èƒ½è·å¾—æ­Œæ›²é“¾æ¥äº†ã€‚</p><p>é…·æˆ‘çš„é»˜è®¤è¯·æ±‚ä¸º<code>.aac</code>æ ¼å¼ï¼Œåº”è¯¥æ˜¯å’Œå‚æ•°<code>format=aac|mp3</code>æœ‰å…³ï¼Œå¯ä»¥æ”¹æˆ<code>format=mp3|aac</code>ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">app.get(<span class="string">'/download/:id'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line">    <span class="comment">// http://antiserver.kuwo.cn/anti.s?rid=MUSIC_100062&amp;format=aac|mp3&amp;type=convert_url&amp;response=url</span></div><div class="line"></div><div class="line">    <span class="keyword">var</span> option = &#123;</div><div class="line">        <span class="attr">host</span>: <span class="string">'antiserver.kuwo.cn'</span>,</div><div class="line">        <span class="attr">port</span>: <span class="number">80</span>,</div><div class="line">        <span class="attr">path</span>: <span class="string">'/anti.s?rid=MUSIC_'</span> + req.params.id + <span class="string">'&amp;format=mp3|aac&amp;type=convert_url&amp;response=url'</span>,</div><div class="line">        <span class="attr">method</span>: <span class="string">'GET'</span></div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    request(option).then(<span class="function"><span class="keyword">function</span>(<span class="params">body</span>) </span>&#123;</div><div class="line">        res.redirect(body);</div><div class="line">    &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(e);</div><div class="line">    &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>request æ¨¡å—åˆæ´¾ä¸Šç”¨åœºäº†ï¼Œç”±äºè¯¥è¯·æ±‚ç›´æ¥è¿”å›äº†æ­Œæ›²é“¾æ¥ï¼Œæˆ‘å°±ç›´æ¥é‡å®šå‘åˆ°è¯¥é“¾æ¥äº†ã€‚<br>ä¸ºäº†ä½¿æ­Œæ›²åœ¨æ–°çª—å£æ‰“å¼€ï¼Œå‰ç«¯é¡µé¢åˆ—è¡¨é¡¹ä¸­çš„ a é“¾æ¥è¦æ·»åŠ <code>target=&quot;_blank&quot;</code>ã€‚</p><h2 id="æˆæœå±•ç¤º"><a href="#æˆæœå±•ç¤º" class="headerlink" title="æˆæœå±•ç¤º"></a>æˆæœå±•ç¤º</h2><h3 id="æˆªå›¾"><a href="#æˆªå›¾" class="headerlink" title="æˆªå›¾"></a>æˆªå›¾</h3><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/dmn-3.jpg" alt="DownloadMusic"></div><div class="image-caption">DownloadMusic</div></figure><h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><p><a href="https://github.com/yscoder/DownloadMusic" target="_blank" rel="external">Github - DownloadMusic</a></p>]]></content>
    
    <summary type="html">
    
      ä½¿ç”¨nodejsä¸‹è½½æ­Œæ›², expressåº”ç”¨, cheerioè§£æç½‘é¡µ
    
    </summary>
    
    
      <category term="Nodejs" scheme="http://imys.net/tags/Nodejs/"/>
    
      <category term="Express" scheme="http://imys.net/tags/Express/"/>
    
      <category term="Cheerio" scheme="http://imys.net/tags/Cheerio/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘ä¸ºä»€ä¹ˆé€‰æ‹©äº†å‰ç«¯ï¼Ÿ</title>
    <link href="http://imys.net/20160207/end-2015.html"/>
    <id>http://imys.net/20160207/end-2015.html</id>
    <published>2016-02-07T05:43:14.000Z</published>
    <updated>2016-11-12T19:06:15.387Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åˆå‡ºèŒ…åº"><a href="#åˆå‡ºèŒ…åº" class="headerlink" title="åˆå‡ºèŒ…åº"></a>åˆå‡ºèŒ…åº</h2><p>å‰å¹´çš„è…ŠæœˆäºŒåä¹æˆ‘æ¥åˆ°äº†ä¸Šä¼ ç®€å†åçš„ç¬¬ä¸€ä¸ªé¢è¯•é€šçŸ¥ï¼Œäºæ˜¯å»å¹´åˆå…­æ²¡åˆ°ï¼Œæˆ‘å°±æ”¶æ‹¾å¥½ä¸œè¥¿æ¥éƒ‘å·äº†ã€‚</p><p>æˆ‘å½“æ—¶çš„æ±‚èŒæ„å‘å†™çš„æ˜¯ï¼š.NET/JAVA/å‰ç«¯ã€‚<br>ä¸çŸ¥é“å“ªå„¿æ¥çš„è‡ªä¿¡ï¼Œæˆ‘å°±æ˜¯æ„Ÿè§‰è‡ªå·±å¹²ä»€ä¹ˆéƒ½å¯ä»¥ã€‚æˆ‘ä»æ¥éƒ½è§‰å¾—ä¸€ä¸ªç¨‹åºå‘˜ä¸åº”è¯¥è¢«è¯­è¨€å’ŒæŠ€æœ¯æ‰€æ ‡è®°ã€‚åœ¨è¿™ä¸ªè¡Œä¸šï¼Œå­¦ä¹ èƒ½åŠ›å†³å®šäº†ä½ èƒ½èµ°å¤šè¿œã€‚</p><p>äº‹å®ä¸Šï¼Œæˆ‘æ ¹æœ¬å°±æ˜¯ä¸€ä¸ªåˆšå‡ºç‚‰çš„èœé¸Ÿã€‚é‚£ä¸ªæ—¶å€™å·²ç»æœ‰ä¸€å¹´å¤šçš„ç é¾„ï¼Œçœ‹èµ·æ¥ä»€ä¹ˆéƒ½ä¼šç‚¹ï¼Œä¹Ÿèƒ½å†™å‡ºä¸€äº›è®©åˆå­¦è€…æ„Ÿè§‰å¼ç‚¸å¤©çš„ä¸œè¥¿æ¥ã€‚å¯æ˜¯å¯¹äºå¾ˆå¤šä¸œè¥¿çš„ç†è§£éƒ½ä¸å¤Ÿæ·±ï¼Œæ„Ÿè§‰å°±æ˜¯å­¦äº†ä¸€äº›æ‚ä¸ƒæ‚å…«çš„æ‹›å¼ï¼Œæ‰€çŸ¥ç§ç§ä¹Ÿéƒ½è¿˜åœ¨åŸºæœ¬åº”ç”¨çš„å±‚é¢ã€‚<br>è¿™äº›ä¹Ÿç»ˆäºåœ¨é¢è¯•çš„æ—¶å€™æš´æ¼äº†ã€‚</p><p>ç”±äºæˆ‘çš„æ±‚èŒå²—ä½å¤šï¼Œé¢è¯•æœºä¼šä¹Ÿå¤šã€‚å†™ç®€å†çš„æ—¶å€™è¿˜æƒ³æŠŠå®‰å“ä¹Ÿå†™ä¸Šï¼Œå°è¯•å†™è¿‡ä¸€ä¸ªAPPï¼Œæ„Ÿè§‰ä»£ç è·Ÿ java swing å·®ä¸å¤šï¼Œä¸Šæ‰‹ä¹Ÿä¸éš¾ã€‚å½“æ—¶è·¨å¹³å°å‘¼å£°å¾ˆå¤§ï¼Œè¿˜æ˜¯å†³å®šèµ° WEB è·¯çº¿ã€‚</p><a id="more"></a><h2 id="é¢è¯•æŒ«æŠ˜"><a href="#é¢è¯•æŒ«æŠ˜" class="headerlink" title="é¢è¯•æŒ«æŠ˜"></a>é¢è¯•æŒ«æŠ˜</h2><p>ä¸åˆ°ä¸€å‘¨çš„æ—¶é—´ï¼Œå¤§æ¦‚é¢è¯•äº†å…­ä¸ƒå®¶å…¬å¸ï¼Œç°åœ¨æ‰€åœ¨æ˜¯é¢è¯•çš„ç¬¬ä¸‰å®¶ã€‚å¹¶ä¸æ˜¯è¿™å®¶å…¬å¸çš„å¾…é‡æœ‰å¤šå¥½ï¼Œè€Œæ˜¯æœ‰ä¸€å®¶å…¬å¸æ‰“å‡»åˆ°äº†æˆ‘ï¼ˆè™½ç„¶æˆ‘ä¸æœï¼‰ã€‚</p><p>é‚£å®¶å…¬å¸é¢è¯•çš„æ˜¯å‰ç«¯ï¼Œè¿˜æ˜¯æˆ‘æ¯”è¾ƒçœ‹å¥½çš„ä¸€å®¶ã€‚<br>æ‡‚åç«¯çš„å»é¢è¯•å‰ç«¯ä¸€èˆ¬æ˜¯å¾ˆå—æ¬¢è¿çš„ï¼Œæˆ‘ä¹Ÿè¿™ä¹ˆè®¤ä¸ºçš„ã€‚è™½ç„¶å½“æ—¶å¯¹äºåŸå‹ã€ä½œç”¨åŸŸã€é—­åŒ…ç­‰ä¸€äº›è¿›é˜¶çŸ¥è¯†éƒ½ä¸€å¤´é›¾æ°´ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯ç©å‡ºäº† java ç¼–ç¨‹çš„æ„Ÿè§‰ã€‚æˆ‘è¿˜å†™äº†ç±»ã€å¯¹è±¡ã€ç»§æ‰¿ã€ç®€å•å·¥å‚æ¨¡å¼ï¼Œç¡¬æ˜¯ç”¨ js å®ç°äº†ä¸€ä¸ªæ£‹ç‰Œæ¸¸æˆçš„è§„åˆ™ã€‚æœ€åå¯¼å¸ˆå‘Šè¯‰æˆ‘ï¼Œé¢å‘å¯¹è±¡è¿ç”¨çš„ä¸é”™ï¼Œç¼–ç¨‹å¥—è·¯æ˜¯ä¸åŒºåˆ†è¯­è¨€çš„ï¼Œä½†æ˜¯è§„åˆ™å¦‚æœå†™åˆ°å‰ç«¯æ˜¯ä¸æ˜¯å°±ä¸å®‰å…¨äº†ã€‚<br>ä¹Ÿå¯¹ï¼Œæˆ‘å¼€ä¸ªæ§åˆ¶å°ï¼Œæ”¹ç‚¹å˜é‡ä¸å°±æ— æ•Œäº†ã€‚</p><p>æ‰€ä»¥è¯´ï¼Œå½“æ—¶çš„æˆ‘å¯¹äºé¢è¯•å‰ç«¯æœ‰ç€ç›²ç›®çš„è‡ªä¿¡ã€‚</p><p>ä¸€åˆ°é‚£è¾¹å°±å¼€å§‹åšç¬”è¯•äº†ã€‚<br>è¯¥å…¬å¸é€¼æ ¼å¾ˆé«˜ï¼Œä¸¤å¥—é¢è¯•é¢˜ï¼Œä¸€å¥—ä¸­æ–‡ï¼Œä¸€å¥—è‹±æ–‡ï¼Œæˆ‘å½“æ—¶æ‡µé€¼äº†ã€‚ç„¶åå‘ HR ç¡®è®¤å¯ä»¥ä¸åšè‹±æ–‡æ‰æ”¾ä¸‹äº†å¿ƒã€‚<br>è¿™æ˜¾ç„¶æ˜¯ä¸€ä¸ªå¯¹è‹±è¯­æ°´å¹³çš„æ£€æµ‹ï¼Œè‡³äºæˆ‘çš„è‹±æ–‡æ°´å¹³ï¼Ÿæˆ‘å¯ä»¥è¿™ä¹ˆè¯´ï¼Œè°·æ­Œæ‡‚çš„æˆ‘éƒ½æ‡‚ï¼</p><p>é¢è¯•é¢˜ä¹Ÿéƒ½å¾ˆåŸºç¡€ï¼Œæ¯”å¦‚ HTML æ ‡ç­¾çš„ä½¿ç”¨ï¼ˆè€ƒå¯Ÿæ–‡æ¡£ç»“æ„è¯­ä¹‰åŒ–ï¼‰ã€HTML5 å’Œ CSS3 å¸¸ç”¨æ ‡ç­¾å’Œå±æ€§ï¼ˆè€ƒå¯Ÿå¯¹æ–°æŠ€æœ¯çš„äº†è§£ï¼‰ã€å®ç°æŸç§éœ€æ±‚è¦å¦‚ä½•å†™æ ·å¼ï¼ˆè€ƒå¯ŸåŸºæœ¬åŠŸï¼‰ã€å¦‚ä½•è§£å†³æŸç§é¡µé¢ å…¼å®¹æ€§é—®é¢˜ï¼ˆè€ƒå¯Ÿç»éªŒï¼‰ã€js è¯­è¨€åŸºç¡€å’Œ jquery çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•çš„æŒæ¡ï¼ˆä¹Ÿæ˜¯åŸºæœ¬åŠŸï¼‰ï¼Œè¿˜æœ‰åˆ¤æ–­ js ä»£ç çš„æ‰§è¡Œç»“æœï¼ˆè€ƒå¯Ÿå¯¹ js è¯­è¨€çš„æŒæ¡ï¼‰ã€‚</p><p>æˆ‘æ˜¯ä¸€é¢˜ä¸è½çš„å†™å®Œäº†ï¼Œä¸æ±‚å¯¹ï¼Œåªæ±‚å®Œæ•´ã€‚<br>åœ¨å†™é¢˜çš„è¿‡ç¨‹ä¸­æˆ‘å·²ç»å‘ç°äº†è‡ªå·±çš„ä¸è¶³ã€‚ä¸»è¦æ˜¯é¡µé¢å…¼å®¹æ€§å’Œ js è¯­è¨€åŸºç¡€ã€‚<br>å­¦ä¹ è¿‡ç¨‹ä¸­éƒ½æ˜¯åç«¯ä¸ºä¸»ï¼Œä½œä¸ºå¤„å¥³åº§ï¼Œå‰ç«¯æˆ‘ä¹Ÿä¼šç”¨CSS3ã€jqç‰¹æ•ˆä»¥åŠbootstrapä¹‹ç±»çš„æ¡†æ¶æ‰“æ‰®çš„æ¼‚æ¼‚äº®äº®çš„ã€‚æˆ‘æ€ä¹ˆå¯èƒ½å»æƒ³ä»€ä¹ˆé¡µé¢å…¼å®¹æ€§é—®é¢˜ã€‚å†™ jsï¼Œå¤§æ¦‚é™¤äº†åˆ¤æ–­ã€å¾ªç¯ã€å®šä¹‰å˜é‡å’Œå‡½æ•°å°±å…¨æ˜¯ä¸€è‚¡è„‘å„¿ jq äº†ã€‚</p><p>ä¸è¶³æ˜¯ä¸è¶³ï¼Œæˆ‘ç›¸ä¿¡è¿™äº›æˆ‘éƒ½æ˜¯å¯ä»¥åœ¨ä»¥åçš„å·¥ä½œä¸­å¿«é€ŸæŒæ¡çš„ã€‚æˆ‘è¿˜æ˜¯å¯¹é¢è¯•æˆåŠŸæŠ±æœ‰å¸Œæœ›çš„ã€‚</p><p>åšå®Œé¢è¯•é¢˜åï¼ŒHR å«äº†ä¸€ä¸ªå°ä¼™å­è¿›æ¥ï¼Œçœ‹æ¥æ˜¯è¦è¿›è¡ŒçœŸæ­£çš„è€ƒéªŒäº†ã€‚è¯´ä¸€ä¸‹å°è±¡æ·±åˆ»çš„å‡ ä¸ªé—®é¢˜ã€‚</p><p>é—®æˆ‘<strong>ä¸ºä»€ä¹ˆè¦åšå‰ç«¯ï¼Ÿ</strong><br>çš„ç¡®ï¼Œæˆ‘çš„ç®€å†ä¸Šåç«¯æŠ€æœ¯å±…å¤šï¼Œä¸çŸ¥é“ä¸€äº›äººæ˜¯ä¸æ˜¯ä¼šä»¥ä¸ºæˆ‘æ˜¯äºŒå‚»å­ã€‚<br>æˆ‘è„±å£è€Œå‡ºï¼š<strong>å‰ç«¯å¥½ç©ï¼</strong>è¿™æ˜¯æ¥è‡ªå¿ƒåº•çš„ç­”æ¡ˆã€‚</p><p>éš¾é“å‰ç«¯ä¸å¥½ç©å—ï¼Ÿ<br>ç”¨ winformã€swing å†™ç•Œé¢çš„æ—¶å€™å¤ªç—›è‹¦äº†ã€‚è€Œåœ¨å‰ç«¯ç®€ç›´å°±æ²¡æœ‰å®ç°ä¸äº†çš„ï¼ŒåŠ ä¸Šæ–°çš„ h5ã€css3 åˆè®©ç½‘é¡µå¢æ·»è®¸å¤šè¡¨ç°åŠ›ã€‚å­¦åç«¯ä¸ä»£è¡¨æˆ‘ä¸å…³æ³¨å‰ç«¯ï¼Œé€šè¿‡ä¸€äº›æŠ€æœ¯ç¤¾åŒºå’Œåšå®¢ï¼Œæˆ‘å¯æ˜¯çŸ¥é“å‰ç«¯è¿›å…¥äº†ä¸€ä¸ªæ€æ ·çš„æ—¶ä»£ã€‚è¿™è®©æˆ‘æ„Ÿè§‰å‰ç«¯å¤§æœ‰å¯ä¸ºï¼<br>è¿™ä¹Ÿæ˜¯æˆ‘åœ¨æ±‚èŒæ„å‘å†™ä¸Šå‰ç«¯çš„ç†ç”±ä¹‹ä¸€ã€‚è¿˜æœ‰ä¸€ä¸ªç†ç”±æ˜¯ CURD å†™çƒ¦äº†ï¼Œå‰ç«¯ç›´æ¥å¤„ç†æ•°æ®åˆç†çš„å±•ç¤ºç»™ç”¨æˆ·ï¼Œæ›´èƒ½æœ‰æˆå°±æ„Ÿï¼</p><p>é—®äº†ä¸€ä¸ªæˆ‘ä»æ¥æ²¡æœ‰å…³å¿ƒè¿‡çš„é—®é¢˜ï¼Œ<strong>js æœ‰å“ªå‡ ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼Ÿ</strong><br>æˆ‘å›ç­”çš„æ˜¯ï¼šæ•´å‹ã€æµ®ç‚¹å‹ã€å¸ƒå°”å‹å’Œå­—ç¬¦ä¸²ï¼Œè¿˜æ˜¯ååˆ†è‚¯å®šçš„è¯­æ°”ã€‚ä»åç«¯çš„è§’åº¦è€ƒè™‘ï¼ŒåŸºæœ¬ç±»å‹å°±æ˜¯ä¸éœ€è¦ç”¨<code>new</code>æ¥å£°æ˜ï¼Œå› ä¸ºçŸ¥é“æœ‰ä¸€ä¸ª<code>parseFloat</code>å‡½æ•°ï¼Œç†æ‰€å½“ç„¶çš„ä»¥ä¸º<code>float</code>æ˜¯ä¸€ç§æ•°æ®ç±»å‹ã€‚è€Œæ­£ç¡®ç­”æ¡ˆä¸­çš„<code>undefined</code>ã€<code>null</code>å±…ç„¶ä¼šæ˜¯æ•°æ®ç±»å‹ï¼Œè¿™å¯¹äºä½¿ç”¨å¼ºç±»å‹è¯­è¨€çš„æˆ‘æ ¹æœ¬æ˜¯éš¾ä»¥ç†è§£çš„ã€‚</p><p>è¿˜ç°åœºçœ‹äº†æˆ‘çš„ä»£ç ï¼Œå°±æ˜¯æ£‹ç‰Œæ¸¸æˆé‚£ä¸ªã€‚<br>å¼€å¤´å°±æŒ‡ç€<code>$().ready(function(){ })</code>è¯´æˆ‘å†™çš„ä¸å¯¹ï¼Œ<code>$()</code>é‡Œé¢åº”è¯¥å†™å‚æ•°ã€å†™<code>window</code>ã€‚æˆ‘ä¸ç½®å¯å¦ã€‚<br>ç„¶åå¯¹æˆ‘å†™çš„ç±»å’Œç»§æ‰¿æå‡ºè´¨ç–‘ã€‚ç»§æ‰¿çš„å®ç°æœ‰å¤šç§ï¼Œæˆ‘è¿˜æ˜¯çŸ¥é“çš„ã€‚æˆ‘å†™çš„è¿™ç§åº”è¯¥æ˜¯å°‘è§çš„ï¼Œä½†ä¹Ÿä¸è‡³äºè¯´æœ‰ä»€ä¹ˆé”™è¯¯ã€‚<br>ç›´åˆ°æˆ‘ç°åœ¨çœ‹çœ‹å½“æ—¶çš„ä»£ç ï¼Œéƒ½æ¯”æˆ‘ä»¬å…¬å¸åç«¯å†™çš„ js å¼ºå¤šäº†ã€‚</p><p>é—®äº†æˆ‘ js å¸¸ç”¨çš„å‡½æ•°ä»¥åŠè°ƒç”¨æ–¹å¼ã€‚<br>æˆ‘å›ç­”çš„ä¸å¤Ÿå¥½ï¼Œå¹³å¸¸è¿˜æ˜¯å¤ªä¾èµ– jqï¼Œæˆ–è€…ä½¿ç”¨çš„æ—¶å€™æŸ¥æ–‡æ¡£ã€‚ä¸€äº›ç­”æ¡ˆéƒ½æ˜¯çŒœçš„ï¼Œå› ä¸ºè¯­è¨€çš„å…±é€šæ€§ï¼Œä½ å‡ ä¹å¯ä»¥ç¡®å®š java ä¸­æŸäº›ç±»çš„ä¸€äº›å‡½æ•°ï¼Œjs ä¸­ä¹Ÿæœ‰ã€‚</p><p>æˆ‘è¯´ç”¨çš„æ—¶å€™æŸ¥ä¸‹ä¸å°±è¡Œäº†ï¼Œä»–è¯´ä½ æŸ¥å“ªå„¿ï¼Œæˆ‘è¯´ w3cSchoolã€‚<br>ç„¶åæˆ‘æ¸…æ¥šçš„è®°å¾—ä»–é‚£å†™æ»¡ä¸€è„¸ hehe çš„è¡¨æƒ…ã€‚:-)</p><p>æœ€åæ˜¯ç°åœºç¼–ç ï¼Œå†’æ³¡æ’åºã€‚<br>æˆ‘å½“æ—¶ä¹Ÿæ˜¯æ…Œäº†ï¼Œè¿ä¸ªå†’æ³¡éƒ½æ²¡å†™æ­£ç¡®ï¼Œé¢è¯•å®Œä¸‹æ¥¼æ‰æç„¶å¤§æ‚Ÿï¼Œæ˜¯å†…å±‚å¾ªç¯æ¡ä»¶å†™é”™äº†ã€‚</p><p>ä»–é—®æˆ‘æœ‰æ²¡æœ‰ä»€ä¹ˆé—®é¢˜è¦é—®ä»–çš„ã€‚<br>æˆ‘ä¸€è„¸å¾®ç¬‘çš„çœ‹ç€ä»–ï¼Œé—®ï¼šä½ å·¥ä½œå¤šä¹…äº†ï¼Ÿ :-)<br>ä»–ä¸€è„¸ä¸çˆ½ï¼Œæœ‰ç‚¹ä¸è€çƒ¦çš„è¯´ï¼š2å¹´äº†ã€‚ ä¸€ ä¸€+</p><p>èµ°çš„æ—¶å€™ HR è¯´å›å»ç­‰é€šçŸ¥ï¼Œç»“æœåŠè·¯ä¸Šå°±æ”¶åˆ°çŸ­ä¿¡ç»™æˆ‘ç”»ä¸Šå¥å·äº†ã€‚</p><h2 id="é˜´å·®é˜³é”™"><a href="#é˜´å·®é˜³é”™" class="headerlink" title="é˜´å·®é˜³é”™"></a>é˜´å·®é˜³é”™</h2><p>ä¹‹åçš„å‡ ä¸ªé¢è¯•ä¹Ÿä¸ç†æƒ³ï¼Œéƒ‘å·å¾ˆå¤šå°ä½œåŠçš„ç½‘ç»œå…¬å¸ï¼Œè¿›å»å°±æ˜¯å‘ã€‚</p><p>è€Œæˆ‘ç°åœ¨æ‰€åœ¨çš„å…¬å¸ï¼Œå½“æ—¶ç»™æˆ‘çš„å·¥èµ„çœŸçš„ä¸é«˜ï¼Œå®Œå…¨å°±æ˜¯æŠŠæˆ‘å½“åˆå­¦è€…ã€‚<br>æˆ‘æœ€åˆå»çš„æ—¶å€™ä»¥ä¸ºé¢è¯•çš„èŒä½æ˜¯ .NETï¼Œæ¯ä¸ªè¦é¢è¯•çš„å…¬å¸æˆ‘éƒ½ä¼šæå‰åšåŠŸè¯¾äº†è§£è¯¥å…¬å¸è¡Œä¸šå’ŒæŠ€æœ¯ç±»åˆ«ã€‚<br>ç»“æœæ¥é¢è¯•æˆ‘çš„äººï¼Œå°±æ˜¯æˆ‘ç°åœ¨çš„é¢†å¯¼ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜¯å«æˆ‘æ¥åšå‰ç«¯ã€‚</p><p>ä¹Ÿæ²¡åšä»€ä¹ˆç¬”è¯•ï¼Œä¸è¿‡ç™»è®°è¡¨å¡«äº†åŠå¤©ï¼ŒæŸ¥æˆ·å£ä¸€æ ·ã€‚<br>é¢è°ˆä¹Ÿæ²¡é—®æˆ‘ä»€ä¹ˆç‰¹åˆ«éš¾çš„é—®é¢˜ï¼Œæ›´å¤šçš„æ˜¯é—®äº†æˆ‘å¯¹æ–°æŠ€æœ¯çš„äº†è§£ã€‚è¿™ç‚¹æˆ‘è¿˜æ˜¯å¾ˆè®©äººæ»¡æ„çš„ï¼Œå¹¶ä¸”æˆ‘è¡¨ç°å‡ºäº†è¶³å¤Ÿçš„å…´è¶£ã€‚â€œä¸€è°ˆæŠ€æœ¯ï¼Œä¸¤çœ¼æ”¾å…‰â€ï¼Œè¯´çš„å°±æ˜¯é‚£æ—¶çš„æˆ‘äº†ã€‚<br>é¢†å¯¼è¿˜æ˜¯æˆ‘çš„è€ä¹¡ã€‚</p><p>ç¬¬äºŒæ¬¡å»çš„æ—¶å€™ï¼Œå°±æ˜¯åœ¨ä¹‹å‰çš„é¢è¯•å¤±è´¥ä¹‹åäº†ã€‚</p><p>é‚£å¤©å›å»ä¹‹åæˆ‘å°±æŠŠé¢è¯•ä¸­å­˜åœ¨çš„ç–‘é—®æŸ¥æ‰¾äº†ä¸‹ç­”æ¡ˆã€‚<br>å¯¹äºè¿™æ ·çš„é¢è¯•ç»“æœè™½ç„¶ä¸æ»¡æ„ï¼Œä½†æ˜¯å´èŒå‘äº†æˆ‘èµ°å‰ç«¯ä¹‹è·¯çš„å¿ƒæ€ã€‚<br><strong>é™Œç”Ÿçš„é¢†åŸŸå¾€å¾€æœ‰ç€è‡´å‘½çš„è¯±æƒ‘ã€‚</strong>å¦‚æœè¯´ç°åœ¨æœ‰æ¸¸æˆå¼€å‘çš„å·¥ä½œæ„¿æ„è¦æˆ‘ï¼Œç»™æˆ‘è¾ƒä½çš„å·¥èµ„æˆ‘ä¹Ÿæ„¿æ„å»ã€‚</p><p>è¿™æ¬¡æ¥å°±æ˜¯ç¡®å®šæ„å‘çš„ã€‚</p><p>å› ä¸ºè–ªèµ„ç»™çš„ä½ï¼Œæˆ‘é—®åˆ°äº†æ¶¨è–ªåˆ¶åº¦ã€‚<br>ä»–è¡¨ç¤ºåŠå¹´æ¶¨ä¸€æ¬¡å›ºå®šè–ªèµ„ã€‚<br>æˆ‘ç»§ç»­è¿½é—®äº†æœ‰æ²¡æœ‰å¯èƒ½ç»™äºˆä¼˜ç§€çš„äººæ¶¨æ›´é«˜çš„å·¥èµ„ï¼Œæˆ‘è¡¨ç¤ºè‡ªå·±èƒ½å¤Ÿå¿«é€Ÿçš„æˆé•¿èµ·æ¥ã€‚<br>ä»–è¡¨ç¤ºå¦‚æœè¯•ç”¨æœŸè¡¨ç°å¥½ï¼Œå¯ä»¥æ¶¨å¤šç‚¹ã€‚</p><p>æœ€åä»–ä»‹ç»äº†ä¸‹å…¬å¸çŠ¶å†µä»¥åŠè¡Œä¸šåœ°ä½ï¼Œä»¥åŠå½“å‰å›¢é˜Ÿæ­£åœ¨è¿›è¡Œçš„é¡¹ç›®ï¼Œå¹¶ä¸”å‘æˆ‘è¡¨ç¤ºæœ‰ç§»åŠ¨ç«¯å¼€å‘é¡¹ç›®ã€‚<br>å½“æˆ‘çŸ¥é“ç›®å‰ä»–ä»¬å›¢é˜Ÿï¼Œä¹Ÿå°±æ˜¯æˆ‘ç°åœ¨çš„å›¢é˜Ÿï¼Œæ­£åœ¨åšæ•´ç«™æ”¹ç‰ˆçš„æ—¶å€™ï¼Œæˆ‘å†³å®šç•™ä¸‹æ¥äº†ã€‚<br>æ—¢ç„¶æˆ‘è¦è¸å…¥å‰ç«¯ï¼Œé‚£ä¹ˆè¿™æ¬¡æ•´ç«™æ”¹ç‰ˆå°±æ˜¯ä¸€æ¬¡å¾ˆå¥½çš„å®è·µæœºä¼šï¼Œåº”è¯¥å¯ä»¥ä»å¤´åˆ°å°¾ç³»ç»Ÿçš„å­¦ä¹ å¾ˆå¤šä¸œè¥¿ã€‚<br><strong>å°±å½“æ˜¯ä¸€æ¬¡å‘å·¥èµ„çš„åŸ¹è®­äº†ã€‚</strong></p><p>å¥½åƒæœ‰ç‚¹æ··ä¹±ï¼Œæˆ‘ä¹Ÿå¿˜äº†æ˜¯ä¸€æ¬¡è°ˆå¥½è¿˜æ˜¯å»äº†ä¸¤æ¬¡ã€‚</p><h2 id="ç„‰çŸ¥éç¦"><a href="#ç„‰çŸ¥éç¦" class="headerlink" title="ç„‰çŸ¥éç¦"></a>ç„‰çŸ¥éç¦</h2><p>æœ€åä¸è°¦è™šçš„è¯´ï¼Œæˆ‘ä»¬å…¬å¸æ˜¯çœŸçš„èµšåˆ°äº†ã€‚ç›®å‰å…¬å¸ 3 ä¸ªå‰ç«¯ï¼Œjs åŸºæœ¬éƒ½æ˜¯æˆ‘å†™çš„ï¼Œæˆ–è€…æ˜¯ä»–ä»¬ä¿©å¤åˆ¶æˆ‘çš„ä»£ç åˆ°å…¶ä»–åœ°æ–¹ã€‚æˆ‘æ‰¿æ‹…äº†å‰ç«¯çš„å¤§éƒ¨åˆ†å·¥ä½œï¼Œåœ¨åç«¯çš„é…åˆä¸Šä¹Ÿæœ‰ç€ç»å¯¹çš„ä¼˜åŠ¿ã€‚</p><p>æˆ‘ä¹Ÿèµšåˆ°äº†ï¼Œå› ä¸ºè¿™ä¸ªå¹³å°ï¼Œè®©æˆ‘å®Œæˆäº†å¾ˆå¤šå®è·µã€‚åæ­£è¿™é‡Œå‰ç«¯æ²¡æœ‰æ¯”æˆ‘å¼ºçš„ï¼Œä¹Ÿä¸æ€•æœ‰äººå¯¹æˆ‘æœ‰ä½•è§æ•™ã€‚</p><p>è¿™ä¸ª MD æ˜¯å¹´å‰åˆ›å»ºçš„ï¼Œç›´åˆ°ä»Šå¤©æˆ‘æ‰å†™å®Œã€‚â•®(â•¯â–½â•°)â•­</p>]]></content>
    
    <summary type="html">
    
      é¢è¯•ç»å†ï¼Œæˆ‘ä¸ºä»€ä¹ˆé€‰æ‹©äº†å‰ç«¯
    
    </summary>
    
    
      <category term="å‰ç«¯" scheme="http://imys.net/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="é¢è¯•" scheme="http://imys.net/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘åˆšçŸ¥é“çš„ Promise</title>
    <link href="http://imys.net/20160203/js-promise.html"/>
    <id>http://imys.net/20160203/js-promise.html</id>
    <published>2016-02-03T03:19:47.000Z</published>
    <updated>2016-11-12T19:22:43.242Z</updated>
    
    <content type="html"><![CDATA[<p>æœ‰æ—¶å€™ï¼Œä½ ä¼šå‘ç°æ»¡ä¸–ç•Œéƒ½æ˜¯æŸä¸ªå­—çœ¼ã€‚</p><p><strong>Promise</strong>ï¼Œå°±æ˜¯è¿™ä¸ªå®¶ä¼™ã€‚ç®€ç›´é˜´é­‚ä¸æ•£ï¼Œèµ°åˆ°å“ªå„¿éƒ½èƒ½çœ‹åˆ°å®ƒã€‚<code>fetch</code>ã€<code>koa</code>ä¸­éƒ½æœ‰TAçš„èº«å½±ï¼Œè€Œæˆ‘å´å¯¹TAä¸€æ— æ‰€çŸ¥ã€‚<br>æœç´¢TAçš„æ–‡ç« ä»‹ç»ï¼Œç¬¬ä¸€é¡µä¸­æœ€æ—©çš„ä¸€ç¯‡æ–‡ç« å·²ç»æ˜¯2011å¹´äº†ã€‚é‚£æ˜¯ä¸ªæˆ‘è¿˜ä¸ä¼š<code>HelloWorld</code>çš„å¹´ä»£å•Šï¼</p><h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><p>Promise å¯¹è±¡ç”¨äºå»¶è¿Ÿ(deferred) è®¡ç®—å’Œå¼‚æ­¥(asynchronous ) è®¡ç®—ã€‚ä¸€ä¸ªPromiseå¯¹è±¡ä»£è¡¨ç€ä¸€ä¸ªè¿˜æœªå®Œæˆï¼Œä½†é¢„æœŸå°†æ¥ä¼šå®Œæˆçš„æ“ä½œã€‚</p><p>çœ‹æ¦‚å¿µå¾ˆè¿·ç³Šï¼Œç›´æ¥çœ‹å®ä¾‹ç†è§£å§ã€‚</p><a id="more"></a><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">$http</span>(<span class="params">url</span>)</span>&#123;</div><div class="line"></div><div class="line">  <span class="keyword">var</span> core = &#123;</div><div class="line"></div><div class="line">    <span class="attr">ajax</span> : <span class="function"><span class="keyword">function</span> (<span class="params">method, url, args</span>) </span>&#123;</div><div class="line"></div><div class="line">      <span class="keyword">var</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>( <span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">var</span> client = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">        <span class="keyword">var</span> uri = url;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (args &amp;&amp; (method === <span class="string">'POST'</span> || method === <span class="string">'PUT'</span>)) &#123;</div><div class="line">          uri += <span class="string">'?'</span>;</div><div class="line">          <span class="keyword">var</span> argcount = <span class="number">0</span>;</div><div class="line">          <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> args) &#123;</div><div class="line">            <span class="keyword">if</span> (args.hasOwnProperty(key)) &#123;</div><div class="line">              <span class="keyword">if</span> (argcount++) &#123;</div><div class="line">                uri += <span class="string">'&amp;'</span>;</div><div class="line">              &#125;</div><div class="line">              uri += <span class="built_in">encodeURIComponent</span>(key) + <span class="string">'='</span> + <span class="built_in">encodeURIComponent</span>(args[key]);</div><div class="line">            &#125;</div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        client.open(method, uri);</div><div class="line">        client.send();</div><div class="line"></div><div class="line">        client.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">          <span class="keyword">if</span> (<span class="keyword">this</span>.status &gt;= <span class="number">200</span> &amp;&amp; <span class="keyword">this</span>.status &lt; <span class="number">300</span>) &#123;</div><div class="line">            resolve(<span class="keyword">this</span>.response);</div><div class="line">          &#125; <span class="keyword">else</span> &#123;</div><div class="line">            reject(<span class="keyword">this</span>.statusText);</div><div class="line">          &#125;</div><div class="line">        &#125;;</div><div class="line">        client.onerror = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">          reject(<span class="keyword">this</span>.statusText);</div><div class="line">        &#125;;</div><div class="line">      &#125;);</div><div class="line"></div><div class="line">      <span class="keyword">return</span> promise;</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line"></div><div class="line"></div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">get</span> : <span class="function"><span class="keyword">function</span>(<span class="params">args</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> core.ajax(<span class="string">'GET'</span>, url, args);</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">post</span> : <span class="function"><span class="keyword">function</span>(<span class="params">args</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> core.ajax(<span class="string">'POST'</span>, url, args);</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">put</span> : <span class="function"><span class="keyword">function</span>(<span class="params">args</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> core.ajax(<span class="string">'PUT'</span>, url, args);</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">delete</span> : <span class="function"><span class="keyword">function</span>(<span class="params">args</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> core.ajax(<span class="string">'DELETE'</span>, url, args);</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">$http(<span class="string">'http://url/api'</span>).get(&#123;</div><div class="line">    <span class="attr">id</span>: <span class="number">111</span></div><div class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">    <span class="comment">// success</span></div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">    <span class="comment">// error</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>ä»¥ä¸Šæ˜¯ä¸€ä¸ªåŸºäº Promise çš„ ajax å®ç°ï¼Œè°ƒç”¨å½¢å¼è·Ÿ vue-resource å¦‚å‡ºä¸€è¾™ï¼ˆæœç„¶åˆæ˜¯å¤§ç¥ä»¬åš¼çƒ‚çš„ç©æ„å„¿ï¼‰ã€‚</p><p>Promise çš„æ„é€ å‡½æ•°å¯ä»¥å¸¦æœ‰1ä¸ªå‚æ•°ï¼Œå®ƒæ˜¯å¸¦æœ‰<code>resolve</code>ã€<code>reject</code>ä¸¤ä¸ªå‚æ•°çš„å‡½æ•°å¯¹è±¡ï¼Œå¦‚ä»¥ä¸Š<code>core.ajax</code>å‡½æ•°ä¸­åˆ›å»ºçš„ Promise å¯¹è±¡ã€‚<br>å…¶ä¸­ resolve ç”¨äºå¤„ç†æ‰§è¡ŒæˆåŠŸçš„åœºæ™¯ï¼Œreject ç”¨äºå¤„ç†æ‰§è¡Œå¤±è´¥çš„åœºæ™¯ã€‚<br>åœ¨æˆåŠŸä¸å¤±è´¥çš„å¤„ç†é˜¶æ®µ hook åˆ°ä¸€ä¸ª Promise å¯¹è±¡ä¸­ï¼Œæœ€åé€šè¿‡<code>then</code>æ–¹æ³•æ¥çœŸæ­£çš„å¤„ç†è¿”å›ç»“æœã€‚</p><ul><li><code>Promise.prototype.then(onFulfilled[, onRejected])</code></li><li><code>Promise.prototype.catch(onRejected)</code></li></ul><p>å¹¶ä¸æ˜¯æ‰€æœ‰çš„å¤±è´¥åœºæ™¯éƒ½éœ€è¦åœ¨<code>then</code>æ–¹æ³•ä¸­å¤„ç†ï¼Œåœ¨å…¶åç»§ç»­è¿½åŠ <code>catch</code>æ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">$http(<span class="string">'http://url/api'</span>).get(&#123;</div><div class="line">    <span class="attr">id</span>: <span class="number">111</span></div><div class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">    <span class="comment">// success</span></div><div class="line">&#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">    <span class="comment">// error</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>ç”±äº<code>then</code>å’Œ<code>catch</code>ä»ç„¶è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥å‡ºç°å¤šä¸ª<code>then</code>æˆ–<code>catch</code>æ¥å¤„ç†ä¸åŒçš„ä¸šåŠ¡åœºæ™¯ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">$http(<span class="string">'http://url/api'</span>).get(&#123;</div><div class="line">    <span class="attr">id</span>: <span class="number">111</span></div><div class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> handleA(data);</div><div class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">    <span class="comment">// æ­¤å¤„ data ä¸º handleA æ–¹æ³•å¤„ç†åçš„æ•°æ®</span></div><div class="line">    <span class="keyword">return</span> handleB(data);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h2 id="ä¸ºä½•è¦ç”¨"><a href="#ä¸ºä½•è¦ç”¨" class="headerlink" title="ä¸ºä½•è¦ç”¨"></a>ä¸ºä½•è¦ç”¨</h2><p>å’‹ä¸€çœ‹ Promise å°±æ˜¯ä¸€ä¸ªåŒ…è£…å¥½çš„ä»£ç†å¯¹è±¡ã€‚<strong>ä¸è¿‡å®ƒçš„å‡ºç°ç©¶ç«Ÿæ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ</strong></p><p>åœ¨ Promise å‡ºç°ä¹‹å‰ï¼Œå¦‚æœä½ çš„é€»è¾‘ä¸­å‡ºç°äº†å¼‚æ­¥æ“ä½œï¼Œè€Œåˆéœ€è¦åœ¨å¼‚æ­¥æ“ä½œå¤–è·å–å¼‚æ­¥æ“ä½œå†…çš„ç»“æœï¼Œä¸å¤–ä¹æ˜¯è¦ä½¿ç”¨å›è°ƒäº†ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getList</span>(<span class="params">callback</span>) </span>&#123;</div><div class="line">    $.get(yourApi, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">        callback(data);</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä½¿ç”¨ Promise å‘¢ï¼Ÿ</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getList</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>( <span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">        $.get(yourApi, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">            resolve(data);</div><div class="line">        &#125;).error(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">            reject(data);</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä½¿ç”¨ Promise ä»£ç†äº†åŸæ¥æ‰€éœ€è¦çš„å›è°ƒçš„ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡è€Œä¸æ˜¯ä¼ å…¥å›è°ƒå‚æ•°çš„æ–¹æ³•å½¢å¼æ›´ç›´è§‚å’Œå®¹æ˜“ç†è§£ã€‚<br>åœ¨ä¹‹åçš„ç¼–ç¨‹ä¸­ï¼Œå½“ç›®æ ‡æ–¹æ³•è¿”å›äº†ä¸€ä¸ª Promise å¯¹è±¡ï¼Œæˆ‘ä»¬å°±çŸ¥é“å‘ç”Ÿäº†å¼‚æ­¥æ“ä½œï¼Œéœ€è¦é€šè¿‡ then æ–¹æ³•æ¥å¤„ç†åœºæ™¯éœ€æ±‚ã€‚</p><p>åˆ°æ­¤ä¸ºæ­¢ï¼ŒPromise ç»™æˆ‘çš„æ„Ÿè§‰ä¹Ÿåªä¸è¿‡æ˜¯è¯­æ³•ç³–ç½¢äº†ï¼Œè¿™ç§å½¢å¼çš„å†™æ³•æˆ‘ä¹Ÿå¯ä»¥å°è£…å‡ºæ¥å•Šã€‚<br>æ¥ä¸‹æ¥æ‰æ˜¯å…¶çœŸæ­£çš„ä¼˜ç‚¹ã€‚</p><p>æ¯”å¦‚å¼‚æ­¥å¤„ç†å¤šä¸ªçš„è¯·æ±‚ç»“æœï¼ŒåŸå§‹å†™æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params">callback</span>)</span>&#123;</div><div class="line">    $.get(<span class="string">'/ApiA'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">dataA</span>)</span>&#123;</div><div class="line">        $.get(<span class="string">'/ApiB'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">dataB</span>)</span>&#123;</div><div class="line">            $.get(<span class="string">'/ApiC'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">dataC</span>)</span>&#123;</div><div class="line">                callback(dataA, dataB, dataC);</div><div class="line">            &#125;);</div><div class="line">        &#125;);</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å½“ç„¶ä»¥ä¸Šæ˜¯ä¸€ç§æ¯”è¾ƒè ¢çš„å†™æ³•ï¼Œå½“è¯·æ±‚æ•°é‡å‘ç”Ÿå˜åŒ–æ—¶çš„æ—¶å€™ï¼Œè¿™æ®µä»£ç å°±éœ€è¦ä¿®æ”¹äº†ã€‚<br>å¯ä»¥ç”¨é€’å½’ä¼˜åŒ–ä¸‹ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params">url, callback</span>)</span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">if</span>(url <span class="keyword">instanceof</span> <span class="built_in">Array</span>) &#123;</div><div class="line">        <span class="keyword">var</span> i = <span class="number">0</span>,</div><div class="line">            len = url.length,</div><div class="line">            dataArr = [],</div><div class="line"></div><div class="line">            eachLoad = <span class="function"><span class="keyword">function</span>(<span class="params">url</span>)</span>&#123;</div><div class="line"></div><div class="line">                $.get(url, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line"></div><div class="line">                    dataArr.push(data);</div><div class="line"></div><div class="line">                    <span class="keyword">if</span>(i++ <span class="xml"><span class="tag">&lt; <span class="attr">len</span> <span class="attr">-</span> <span class="attr">1</span>) &#123;</span></span></div><div class="line">                        <span class="attr">eachLoad</span>(<span class="attr">url</span>[<span class="attr">i</span>]);</div><div class="line">                    &#125; <span class="attr">else</span> &#123;</div><div class="line">                        <span class="attr">callback.apply</span>(<span class="attr">null</span>, <span class="attr">dataArr</span>);</div><div class="line">                    &#125;</div><div class="line">                &#125;);</div><div class="line">            &#125;;</div><div class="line"></div><div class="line">        <span class="attr">eachLoad</span>(<span class="attr">url</span>[<span class="attr">i</span>]);</div><div class="line"></div><div class="line">    &#125; <span class="attr">else</span> &#123;</div><div class="line">        $<span class="attr">.get</span>(<span class="attr">url</span>, <span class="attr">function</span>(<span class="attr">data</span>)&#123;</div><div class="line">            <span class="attr">callback</span>(<span class="attr">data</span>);</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä½¿ç”¨ Promise è§£å†³ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> promiseA = $http(<span class="string">'/List'</span>).get(&#123;</div><div class="line">        <span class="attr">id</span>: <span class="number">111</span></div><div class="line">    &#125;),</div><div class="line">    promiseB = $http(<span class="string">'/List'</span>).get(&#123;</div><div class="line">        <span class="attr">id</span>: <span class="number">222</span></div><div class="line">    &#125;);</div><div class="line"></div><div class="line"><span class="built_in">Promise</span>.all([promiseA, promiseB]).then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</div><div class="line">    <span class="comment">// do...</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>ä½¿ç”¨<code>Promise.all</code>æ–¹æ³•ä¸€æ¬¡æ€§å¤„ç†å¤šä¸ªæ“ä½œã€‚</p><p>Promise å±äº ES6 ç‰¹æ€§ï¼Œç›®å‰åœ¨ IE ä¸­è¿˜ä¸èƒ½ç”¨ï¼Œä¸è¿‡å„å¤§æ¡†æ¶ä¹Ÿéƒ½æœ‰è‡ªå·±çš„å®ç°ã€‚</p><h2 id="jQuery-ä¸­çš„-Promise"><a href="#jQuery-ä¸­çš„-Promise" class="headerlink" title="jQuery ä¸­çš„ Promise"></a>jQuery ä¸­çš„ Promise</h2><p>jQuery ä¸­å¾ˆå¤šå¼‚æ­¥æ“ä½œéƒ½ä¼šè¿”å›ä¸€ä¸ªå»¶è¿Ÿå¯¹è±¡<code>$.Deferred</code>ï¼Œè¯¥å¯¹è±¡å…·æœ‰ä¸€ç³»åˆ—çš„æ“ä½œæ–¹æ³•ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// animate</span></div><div class="line">$(<span class="string">'div'</span>).animate(&#123;</div><div class="line">    <span class="attr">width</span>: <span class="string">'50%'</span></div><div class="line">&#125;, <span class="number">300</span>).done(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// å½“å»¶è¿ŸæˆåŠŸæ—¶è°ƒç”¨</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// ajax</span></div><div class="line">$.get(<span class="string">'/List'</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// succee</span></div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// error</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// when</span></div><div class="line">$.when($.ajax(<span class="string">'/List1'</span>), $.ajax(<span class="string">'/List2'</span>)).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// succee</span></div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// error</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// è¿˜æœ‰å¾ˆå¤šï¼Œå¯ä»¥å» jQuery Api ä¸­çœ‹ã€‚</span></div></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="external">javascriptæ ‡å‡†åº“-Promise | MDN</a></li><li><a href="http://www.infoq.com/cn/news/2011/09/js-promise" target="_blank" rel="external">JavaScriptå¼‚æ­¥ç¼–ç¨‹çš„Promiseæ¨¡å¼</a></li><li><a href="http://liubin.org/promises-book/" target="_blank" rel="external">JavaScript Promiseè¿·ä½ ä¹¦</a></li></ul>]]></content>
    
    <summary type="html">
    
      ES6 Promiseä»‹ç»
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://imys.net/tags/JavaScript/"/>
    
      <category term="ES6" scheme="http://imys.net/tags/ES6/"/>
    
      <category term="Promise" scheme="http://imys.net/tags/Promise/"/>
    
      <category term="async" scheme="http://imys.net/tags/async/"/>
    
  </entry>
  
  <entry>
    <title>ä½ ä»¥ä¸ºä½ å†™çš„1pxå°±æ˜¯1pxå—ï¼Ÿ</title>
    <link href="http://imys.net/20160127/mobile-1px.html"/>
    <id>http://imys.net/20160127/mobile-1px.html</id>
    <published>2016-01-27T14:33:05.000Z</published>
    <updated>2016-11-12T19:23:37.434Z</updated>
    
    <content type="html"><![CDATA[<p>â€œè¿™ä¸€è¡Œçš„åˆ†å‰²çº¿é«˜äº†ä¸€ç‚¹ã€‚â€<br>å¥½çš„ï¼Œå‡å°è¡Œé«˜, åŠ ç‚¹ä¸Šä¸‹å†…è¾¹è·ã€‚</p><p>â€œè¿™å‡ ä¸ªå…ƒç´ è¦ä¸¤ç«¯å¯¹é½ã€‚â€<br>å¥½çš„ï¼Œflexæ²¡æœ‰è§£å†³ä¸äº†çš„å¸ƒå±€ï¼Œ<code>justify-content: space-between;</code>æå®šã€‚</p><p>â€¦â€¦</p><p>â€œè¿™ä¸ªå›¾æ ‡é¢œè‰²ä¸å¯¹ï¼Œåº”è¯¥æ˜¯#999ã€‚â€<br>å¥½çš„ï¼Œæˆ‘æ”¹â€¦ç­‰ç­‰ï¼Œæ˜æ˜å°±æ˜¯ #999 å•Šï¼Œè¿™åˆ†æ˜æ˜¯æƒ³è¢«æ‰“è„¸çš„èŠ‚å¥ã€‚æ‰“å¼€é¡µé¢ï¼Œå³é”®å›¾æ ‡ï¼Œå®¡æŸ¥å…ƒç´ ï¼Œæˆªå›¾ã€‚<br>æ˜¯ä¸æ˜¯ 999 ï¼Ÿæ˜¯ä¸æ˜¯ 999 ï¼Ÿï¼Ÿæ˜¯ä¸æ˜¯ 999 ï¼Ÿï¼Ÿï¼Ÿ</p><p>â€œæ‰€æœ‰çš„ä¸‹è¾¹æ¡†éƒ½åº”è¯¥æ˜¯1pxã€‚â€<br>æˆ‘çœ‹åˆ°è¿™ä¸ªé—®é¢˜çš„ç¬é—´ï¼Œæ„Ÿè§‰åƒåœ¨ä¾®è¾±æˆ‘çš„æ™ºå•†ã€‚è¾¹æ¡† 1px è¿™ä¹ˆå¸¸ç”¨çš„æ ·å¼ï¼Œæˆ‘è¿˜ä¼šå†™é”™ä¸æˆï¼Ÿ</p><p>æ­£å½“å‡†å¤‡ç»§ç»­â€œæ‰“è„¸â€æ—¶ï¼Œçªç„¶æˆ‘çš„å¥½å¥‡å¿ƒä¸Šæ¥äº†ã€‚å…³äº <strong>1px è¾¹æ¡†åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šçœ‹èµ·æ¥æ¯”è¾ƒç²—</strong> è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¹Ÿæ›¾ç»æƒ³è¿‡ã€‚<br>å› ä¸ºé¡µé¢å…¶ä»–å†…å®¹çœ‹èµ·æ¥éƒ½æ˜¯æ­£å¸¸çš„ï¼Œæ‰€ä»¥æˆ‘ä¸€ç›´è§‰å¾—è¿™æ˜¯ç§»åŠ¨è®¾å¤‡æµè§ˆå™¨çš„æ¸²æŸ“é—®é¢˜ï¼Œå±äºå¤–éƒ¨åŸå› ã€‚<br>ä¹Ÿæ›¾è®¾ç½®è¿‡ .5px ï¼Œä½†æ˜¾ç„¶æµè§ˆå™¨å¹¶ä¸ä¹°è´¦ã€‚<br><a id="more"></a></p><p>æœç´¢å…³é”®å­—<strong>1px border</strong>ï¼Œæ‰¾åˆ°äº†é—®é¢˜æ‰€åœ¨ã€‚</p><h2 id="devicePixelRatio"><a href="#devicePixelRatio" class="headerlink" title="devicePixelRatio"></a>devicePixelRatio</h2><p>è¯´æ¥æƒ­æ„§ï¼Œå…³äº devicePixelRatioï¼Œæˆ‘ä¹Ÿç®—æ˜¯æœ‰ä½¿ç”¨ç»éªŒçš„äººäº†ï¼Œæ€ä¹ˆå°±æ²¡æœ‰æƒ³åˆ°å‘¢ã€‚</p><p>ç®€å•ä¸¾ä¾‹ä¸€ä¸‹ï¼Œæˆ‘çš„ MX5 åˆ†è¾¨ç‡æ˜¯ 1920*1080ï¼Œä½†æ˜¯å®é™…å±å¹•ç‰©ç†åƒç´ æ˜¯ 640*360ï¼Œæ¢ç®—å¾—å‡º devicePixelRatio = 3ã€‚<br>ä¹Ÿå°±æ˜¯è¯´å±å¹•ä¸­çš„<code>1ç‚¹ = 3px</code>ã€‚</p><p>è®¾è®¡å¸ˆæå‡ºçš„å›¾æ ‡é¢œè‰²ä¸å¯¹çš„é—®é¢˜ä¹Ÿåœ¨äºæ­¤ï¼Œå› ä¸ºé¢œè‰²ä¹Ÿå—ç›Šäºåˆ†è¾¨ç‡ã€‚</p><h2 id="viewport"><a href="#viewport" class="headerlink" title="viewport"></a>viewport</h2><p>è¿™ä¸€åˆ‡éƒ½æ˜¯ viewport åœ¨ä½œæ€ªï¼</p><p>æˆ‘ä»¬åœ¨å¼€å‘æ‰‹æœºé¡µé¢æ—¶ï¼Œéƒ½ä¼šè¿™æ ·è®¾ç½®ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"</span>&gt;</span></div></pre></td></tr></table></figure><ul><li><code>width=device-width</code>: è®¾ç½®æµè§ˆå™¨å†…å®¹å®½åº¦ä¸ºè®¾å¤‡ç‰©ç†åƒç´ å®½åº¦ã€‚</li><li><code>initial-scale=1</code>: ç¼©æ”¾æ¯”ä¸º1ï¼Œåé¢ä¸¤ä¸ªå±æ€§ä¸ºæœ€å¤§å’Œæœ€å°ç¼©æ”¾æ¯”ã€‚</li><li><code>user-scalable=no</code>: ç¦æ­¢ç”¨æˆ·æ‰‹åŠ¨ç¼©æ”¾ã€‚</li></ul><p>ç”¨ 1920*1080 åˆ†è¾¨ç‡çš„æ‰‹æœºæ‰“å¼€ä¸€ä¸ªæ²¡æœ‰æ·»åŠ  viewport çš„PCç«™ç‚¹ï¼Œæ¨ªå±çŠ¶æ€æ˜¯å¯ä»¥å®Œæ•´çš„å‡ºé¡µé¢å†…å®¹çš„ã€‚å› ä¸ºè¿™ä¸ªæ—¶å€™çš„ 1px å°±æ˜¯ 1pxã€‚</p><h2 id="è¿˜åŸåˆ†è¾¨ç‡"><a href="#è¿˜åŸåˆ†è¾¨ç‡" class="headerlink" title="è¿˜åŸåˆ†è¾¨ç‡"></a>è¿˜åŸåˆ†è¾¨ç‡</h2><p>çŸ¥é“äº†é—®é¢˜çš„åŸå› å°±å¯¹ç—‡ä¸‹è¯äº†ã€‚</p><p>å¯ä»¥æ ¹æ®<code>window.devicePixelRatio</code>æ¥åŠ¨æ€ä¿®æ”¹å±å¹•ç¼©æ”¾æ¯”ï¼Œè¿˜åŸçœŸå®åˆ†è¾¨ç‡ã€‚<br>è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ã€‚</p><p><strong>åˆ†è¾¨ç‡è¿˜åŸäº†ï¼Œé‚£å²‚ä¸æ˜¯æ‰€æœ‰å…ƒç´ çš„å°ºå¯¸æ•°å€¼éƒ½éœ€è¦é‡æ–°è®¡ç®—äº†ï¼Ÿ</strong><br>å¦‚æœä½ çš„ css æ²¡æœ‰ä½¿ç”¨ em å’Œ rem ä¸ºå•ä½çš„è¯ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œä¸€ä¸ªä¸€ä¸ªæ…¢æ…¢æ”¹å§ã€‚<br>è€Œä½¿ç”¨ em å’Œ rem ä¸ºå•ä½å°±ç®€å•å¤šäº†ï¼Œåªéœ€è¦åŠ¨æ€ä¿®æ”¹æ ¹å…ƒç´ å­—ä½“å¤§å°å°±è¡Œäº†ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;<span class="name">%=title</span> %&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">id</span>=<span class="string">"vp"</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> vp = <span class="built_in">document</span>.getElementById(<span class="string">'vp'</span>);</div><div class="line">        dpr = <span class="built_in">window</span>.devicePixelRatio,</div><div class="line">        html = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'html'</span>)[<span class="number">0</span>],</div><div class="line">        vpVlue = <span class="string">'width=device-width, initial-scale=X, maximum-scale=X, minimum-scale=X, user-scalable=no'</span>;</div><div class="line"></div><div class="line">    <span class="keyword">if</span>(dpr) &#123;</div><div class="line">        vp.content = vpVlue.replace(<span class="regexp">/X/g</span>, (<span class="number">1</span> / dpr));</div><div class="line">        html.style.fontSize = (<span class="number">14</span> * dpr) + <span class="string">'px'</span>;</div><div class="line">    &#125;</div><div class="line">&#125;)();</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div></pre></td></tr></table></figure><p>è¿™å¯ä»¥ç›´æ¥åŠ åˆ°å¤´éƒ¨æ¨¡ç‰ˆä¸­ã€‚</p><p>å…³äº<strong>ä¿®æ”¹æ ¹å…ƒç´ å­—ä½“å¤§å°</strong>ä¹Ÿå¯ä»¥ä½¿ç”¨ cssåª’ä½“æŸ¥è¯¢çš„æ–¹å¼ã€‚</p><figure class="highlight css"><table><tr><td class="code"><pre><div class="line">@<span class="keyword">media</span> (-webkit-min-device-pixel-ratio: <span class="number">2</span>) &#123;</div><div class="line">    <span class="selector-tag">html</span> &#123;</div><div class="line">        <span class="attribute">font-size</span>: <span class="number">28px</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">@<span class="keyword">media</span> (-webkit-min-device-pixel-ratio: <span class="number">3</span>) &#123;</div><div class="line">    <span class="selector-tag">html</span> &#123;</div><div class="line">        <span class="attribute">font-size</span>: <span class="number">42px</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å½©è›‹"><a href="#å½©è›‹" class="headerlink" title="å½©è›‹"></a>å½©è›‹</h2><p>æœ¬æ¥ js ä»£ç æˆ‘æ˜¯æ”¾åˆ° body é—­åˆå‰çš„ã€‚<br>viewport åˆå§‹ç¼©æ”¾å€¼æ˜¯ 1 ï¼Œæ ¹å…ƒç´ åˆå§‹å­—ä½“å¤§å°æ˜¯ 14pxï¼Œæˆ‘çš„æ‰‹æœº devicePixelRatio æ˜¯ 3ã€‚æŒ‰ç…§æµè§ˆå™¨åŠ è½½é¡ºåºï¼Œç­‰æ‰§è¡Œåˆ° js å‰ï¼Œé¡µé¢å†…å®¹åº”è¯¥ 1/3 çš„å¤§å°ï¼›æ‰§è¡Œå®Œ js åï¼Œé¡µé¢æ¢å¤å®é™…å¤§å°ï¼Œæ•´ä¸ªé¡µé¢å±…ç„¶å‡ºç°äº†ç±»ä¼¼äº<code>transform: scale(1)</code>èˆ¬çš„è¿‡æ¸¡æ•ˆæœã€‚</p><p>ä¸ºäº†è®©ç”¨æˆ·æ›´æ—©çš„çœ‹åˆ°é¡µé¢å†…å®¹ï¼Œæˆ‘è¿˜æ˜¯å†³å®šæ”¾åˆ°å¤´éƒ¨äº†ã€‚</p><h2 id="é—®é¢˜æ›´æ–°"><a href="#é—®é¢˜æ›´æ–°" class="headerlink" title="é—®é¢˜æ›´æ–°"></a>é—®é¢˜æ›´æ–°</h2><p>ä»¥ä¸Šçš„æ€è·¯å’Œä»£ç ç¡®å®è§£å†³äº†é—®é¢˜ï¼Œè‡³å°‘æˆ‘åœ¨æ‰‹æœºæµè§ˆå™¨ä¸Šæµ‹è¯•æ˜¯OKçš„ã€‚ä¹‹ååœ¨ APP ä¸­åµŒå…¥åå‘ç°æ²¡æœ‰æ•ˆæœï¼Œé¡µé¢å†…å®¹éƒ½å› ä¸ºå­—å·ä¿®æ”¹è¢«æ”¾å¤§äº†ã€‚<br>æˆ‘æ€€ç–‘æ˜¯å®‰å“ç«¯çš„æŸäº›é…ç½®çš„åŸå› ï¼Œä½†æ˜¯ä¸äº†è§£çš„äº‹åˆä¸å¥½ä¹±å‘è¨€ã€‚</p><p>æœ€åæŠ½äº†ä¸€ä¸ªé—²å·¥å¤«ï¼ŒæŠŠå®‰å“ç¯å¢ƒæ­äº†èµ·æ¥ï¼Œçœ‹ç€ WebView çš„APIï¼Œè‡ªå·±å†™äº†ä¸ªæµ‹è¯•DEMOã€‚<br>é—®é¢˜è§£å†³äº†ã€‚</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">webview.getSettings().setUseWideViewPort(true);  // è‡ªé€‚åº”æ‰‹æœºå±å¹•</div></pre></td></tr></table></figure><p>ä»æ–¹æ³•åå°±å¾ˆå®¹æ˜“ç†è§£è¿™ä¸ªé…ç½®é¡¹ä¸ viewport å­˜åœ¨ç€å…³ç³»ã€‚<br>é—®é¢˜è§£å†³äº†ï¼Œæˆ‘è¦å»å®‰å“é‚£è¾¹è£…é€¼äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      è§£å†³ç§»åŠ¨ç«¯1px borderï¼Œå›¾ç‰‡æ¨¡ç³Šç­‰é—®é¢˜
    
    </summary>
    
    
      <category term="CSS" scheme="http://imys.net/tags/CSS/"/>
    
      <category term="devicePixelRatio" scheme="http://imys.net/tags/devicePixelRatio/"/>
    
      <category term="em" scheme="http://imys.net/tags/em/"/>
    
      <category term="Mobile" scheme="http://imys.net/tags/Mobile/"/>
    
      <category term="Webview" scheme="http://imys.net/tags/Webview/"/>
    
      <category term="Viewport" scheme="http://imys.net/tags/Viewport/"/>
    
  </entry>
  
  <entry>
    <title>Hexoåšå®¢æ”¹ç‰ˆè®°å½•</title>
    <link href="http://imys.net/20160118/hexo-blog-update-log.html"/>
    <id>http://imys.net/20160118/hexo-blog-update-log.html</id>
    <published>2016-01-18T01:02:18.000Z</published>
    <updated>2016-11-12T19:07:13.187Z</updated>
    
    <content type="html"><![CDATA[<p>æ¯å½“æˆ‘æŠŠä¹‹å‰ç«‹ä¸‹çš„ flag æ‰§è¡Œçš„æ—¶å€™ï¼Œéƒ½æ„Ÿè§‰æ˜¯ä¸€ä»¶å¾ˆéª„å‚²çš„äº‹ï¼Œå¤ªå¤šçš„è®¡åˆ’è¢«æˆ‘ç”¨å„ç§æ¥å£æ‰¼æ€åœ¨æ‘‡ç¯®ä¸­äº†ã€‚</p><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>åœ¨ Android æ›´æ–°åˆ° 5.0 åï¼Œæˆ‘å°±å¯¹è§¦æ‘¸åé¦ˆè¿™ä¸€ç‚¹å¾ˆæ„Ÿå…´è¶£ã€‚ä¹Ÿå°è¯•æ¨¡æ‹Ÿè¿‡ï¼Œä½†æ˜¯æœ€åçš„æ•ˆæœéƒ½ä¸å¤ªæ»¡æ„ã€‚<br>å¶ç„¶çš„ä¸€æ¬¡åœ¨ githubä¸Š çœ‹åˆ°äº† Materialize è¿™ä¸ªé¡¹ç›®ï¼Œæ‰çŸ¥é“äº†è°·æ­Œçš„<code>Material Design(åŸè´¨åŒ–è®¾è®¡)</code> è®¾è®¡è§„èŒƒã€‚è€Œååœ¨å…¬å¸å¬åˆ°è®¾è®¡å¸ˆæåˆ°è¿™ä¸ªä¸œè¥¿æ—¶ï¼Œçªç„¶æœ‰ç§è·Ÿä¸Šäº†æ½®æµçš„æ„Ÿè§‰ã€‚</p><p>å°±åƒä¸€äº›æ–‡ç« ä¸­æåˆ°çš„ï¼Œ<strong>å³ä½¿ä½ ä¸æ‡‚è®¾è®¡ï¼Œä½†æ˜¯ç…§ç€æ ·å¼å»åšï¼Œä¹Ÿä¸ä¼šå¤ªä¸‘ã€‚</strong><br>è¿™æ˜¾ç„¶å¾ˆå¯¹æˆ‘çš„èƒƒå£ã€‚<br><a id="more"></a></p><h2 id="æ”¹ç‰ˆå†…å®¹"><a href="#æ”¹ç‰ˆå†…å®¹" class="headerlink" title="æ”¹ç‰ˆå†…å®¹"></a>æ”¹ç‰ˆå†…å®¹</h2><p>é™¤äº†åšå®¢é£æ ¼æ”¹ç‰ˆå¤–ï¼Œä¹Ÿæ”¹å˜äº†ä»¥ä¸‹ä¸€äº›å†…å®¹ã€‚</p><h3 id="Hexo-toc"><a href="#Hexo-toc" class="headerlink" title="Hexo toc"></a>Hexo toc</h3><p>åœ¨æˆ‘åˆšä½¿ç”¨ Hexo ä¸ä¹…æ—¶ï¼Œè¿˜æ›¾ä¸“é—¨å†™äº†ä¸€ç¯‡æ–‡ç« ä»‹ç» hexo-toc æ’ä»¶çš„ä½¿ç”¨ã€‚ä¸è¿‡æœ€è¿‘åœ¨æˆ‘å‡çº§äº† hexo-toc æ’ä»¶åï¼Œå‘ç°å·²ç»ä¸éœ€è¦åƒæˆ‘å†™çš„é‚£ä¹ˆéº»çƒ¦äº†ã€‚è¿™è¿˜ä¸æ˜¯é‡ç‚¹ã€‚<br>å› ä¸ºåšå®¢å¸ƒå±€ç»“æ„è¦æœ‰å¾ˆå¤§å˜åŒ–ï¼Œå¾ˆå¤šæ¨¡ç‰ˆæˆ‘éƒ½éœ€è¦é‡å†™ã€‚æ‰€ä»¥å°±éœ€è¦æŸ¥é˜… Hexo æ–‡æ¡£å¯»æ‰¾ä¸€äº›å¯åˆ©ç”¨çš„èµ„æ–™ã€‚<br>å°±åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘å±…ç„¶å‘ç°äº† Hexo å±…ç„¶æœ‰ç”Ÿæˆ toc çš„è¾…åŠ©æ–¹æ³•ã€‚å¥½æ°”å¥½æ°”ï¼Œä¹Ÿä¸æ˜¯ç¬¬ä¸€æ¬¡ç¿»æ–‡æ¡£äº†ï¼Œä¹‹å‰å±…ç„¶éƒ½æ²¡æ³¨æ„åˆ°ã€‚</p><p>ä¸ hexo-toc æ’ä»¶æ¯”ï¼Œè¿™ä¸ªè¾…åŠ©æ–¹æ³•æ›´åŠ ä¾¿åˆ©ã€‚<a href="https://hexo.io/docs/helpers.html#toc" target="_blank" rel="external">æ–‡æ¡£é“¾æ¥</a><br>hexo-toc éœ€è¦åœ¨ç¼–è¾‘æ—¶æ’å…¥<code>&lt;!--toc--&gt;</code>æ ‡è®°ï¼Œä¸”ç”Ÿæˆåçš„å†…å®¹è¿˜åœ¨æ–‡ç« ä¸­å ä½ã€‚è¿™å¯¹äºæƒ³å®ç°ä¸€äº›æµ®åŠ¨å¼æ–‡ç« å¯¼èˆªçš„åŒå­¦ååˆ†ä¸ä¾¿ã€‚<br>è€Œ<code>&lt;%- toc(str, [options]) %&gt;</code>æ–¹æ³•å°±ç®€å•å¤šäº†ï¼Œåªè¦æ˜¯åœ¨æ–‡ç« é¡µä¸­ï¼Œä½ æ”¾åˆ°ä»€ä¹ˆåœ°æ–¹ï¼Œå°±åœ¨ä»€ä¹ˆåœ°æ–¹æ¸²æŸ“ã€‚</p><h3 id="å»-jquery"><a href="#å»-jquery" class="headerlink" title="å» jquery"></a>å» jquery</h3><p>ä»…ä»…æ˜¯ä¸€ä¸ªåšå®¢ï¼Œä¹Ÿæ²¡æœ‰å¤šå°‘å¤æ‚çš„ Dom æ“ä½œã€‚è¯»è€…ä¹Ÿéƒ½æ˜¯ç¨‹åºçŒ¿ï¼Œä¹Ÿä¸å­˜åœ¨è¦è€ƒè™‘æµè§ˆå™¨å…¼å®¹ã€‚jquery èƒ½ä¸ç”¨åˆ™ä¸ç”¨ï¼Œå½“å‰çš„ js ä¹Ÿå°±å†™äº†100å¤šè¡Œã€‚</p><h3 id="å»-fancybox"><a href="#å»-fancybox" class="headerlink" title="å» fancybox"></a>å» fancybox</h3><p>fancybox æ˜¯åŸºäº jquery çš„ä¸€ä¸ªå›¾ç‰‡æµè§ˆæ’ä»¶ï¼Œjquery å»äº†ï¼Œå®ƒè‡ªç„¶ä¹Ÿå°±å¤±æ•ˆäº†ã€‚è¯·æ±‚æ•°æŒºå¤šçš„,è€Œä¸”å®ƒæœ¬èº«çš„åŠŸèƒ½ï¼Œæˆ‘å¹¶ä¸åœ¨æ„ï¼Œæ²¡ä»€ä¹ˆåµç”¨çš„æ„Ÿè§‰ã€‚å¦‚æœåç»­æœ‰éœ€è¦ï¼Œä¹Ÿå¯ä»¥ç”¨åŸç”Ÿå®ç°ä¸€ä¸ªã€‚</p><h3 id="å»-stylus-ç”¨-less"><a href="#å»-stylus-ç”¨-less" class="headerlink" title="å» stylus, ç”¨ less"></a>å» stylus, ç”¨ less</h3><p>è¿™ä¸ªçº¯ç²¹æ˜¯ä¸ªäººçš„ä¹ æƒ¯ã€‚html å’Œ css è¿˜æ˜¯å–œæ¬¢åŸç”Ÿçš„ä»£ç é£æ ¼ï¼Œstylus å’Œ jade è¿™ç§å¼ºç¼©è¿›çš„éƒ½ä¸å¤ªå–œæ¬¢ã€‚</p><p>æ›¿æ¢æ—¶éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å¢åŠ  less æ’ä»¶çš„ä¾èµ–å’Œå‚æ•°é…ç½®ã€‚</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">plugins:</div><div class="line">  - hexo-renderer-less</div><div class="line"></div><div class="line">less:</div><div class="line">  paths:</div><div class="line">    - source/css/style.less</div></pre></td></tr></table></figure><h3 id="å®‰è£…-roboto-å­—ä½“"><a href="#å®‰è£…-roboto-å­—ä½“" class="headerlink" title="å®‰è£… roboto å­—ä½“"></a>å®‰è£… roboto å­—ä½“</h3><p>Roboto å­—ä½“æ˜¯ Material Design çš„æ¨èè‹±æ–‡å­—ä½“ã€‚è‹±æ–‡å­—ä½“æ–‡ä»¶å­—èŠ‚å°ï¼Œæ¯•ç«Ÿåªæœ‰26ä¸ªå­—æ¯ã€‚è™½ç„¶å†™ä¸äº†å‡ ä¸ªå•è¯ã€‚<br>ä¸­æ–‡æ¨èå­—ä½“æ˜¯ Noteï¼Œä½†æ˜¯è¦115.5MBã€‚<a href="http://www.google.com/get/noto/#sans-hans" target="_blank" rel="external">Google Note Fonts</a></p><h3 id="å¢åŠ -Waves-æ•ˆæœ"><a href="#å¢åŠ -Waves-æ•ˆæœ" class="headerlink" title="å¢åŠ  Waves æ•ˆæœ"></a>å¢åŠ  Waves æ•ˆæœ</h3><p>è¿™ä¸ªä¹Ÿæ˜¯ Material Design æå€¡çš„å“åº”å¼äº¤äº’æ•ˆæœã€‚<br>Materialize ä¸­ä½¿ç”¨çš„æ˜¯ <a href="https://github.com/fians/Waves" target="_blank" rel="external">Waves</a>ã€‚æˆ‘ä¹Ÿæ˜¯é¡ºè—¤æ‘¸ç“œæ‰çŸ¥é“äº†è¿™ä¸ªåº“ã€‚</p><h3 id="åˆ†äº«"><a href="#åˆ†äº«" class="headerlink" title="åˆ†äº«"></a>åˆ†äº«</h3><p>ç°åœ¨çš„æ–‡ç« åˆ†äº«æ˜¯ç›´æ¥é€šè¿‡ <a href="http://www.jiathis.com/help/html/share-with-jiathis-api" target="_blank" rel="external">JiaThis API</a> æ¥å£ï¼Œä¸éœ€è¦å¼•ç”¨é¢å¤–çš„jsã€‚è¿™æ ·DIYå°±æ›´æ–¹ä¾¿äº†ã€‚<br>é»˜è®¤çš„åˆ†äº«æ ·å¼ï¼Œå¾ˆéš¾å®ç°ä¸€äº›æ•ˆæœã€‚åƒæˆ‘ç°åœ¨çš„åˆ†äº«ï¼Œæœ‰æ–‡ç« å³ä¾§çš„é™æ€æŒ‚ä»¶å’Œé¡¶éƒ¨æµ®åŠ¨å¯¼èˆªå³ä¾§çš„åˆ†äº«æŒ‰é’®ã€‚</p><h2 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h2><p>æˆ‘ä¸æ‡‚è®¾è®¡ï¼Œæ‰€ä»¥å…³äº Material Design çš„ä»‹ç»ï¼Œä¹Ÿå°±ä¸å¤šæã€‚é™„ä¸Šå‚è€ƒé“¾æ¥ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»æé«˜ä¸€ä¸‹å®¡ç¾ã€‚</p><ul><li><a href="http://www.google.com/design/spec/material-design/introduction.html" target="_blank" rel="external">Google Material design</a></li><li><a href="http://wiki.jikexueyuan.com/project/material-design/" target="_blank" rel="external">Material Design ä¸­æ–‡ç‰ˆ</a></li><li><a href="https://github.com/dogfalo/materialize/" target="_blank" rel="external">Material designçš„å®ç°ï¼šMaterialize</a></li></ul><p>ä¸€äº›å°ç»†èŠ‚è¿˜ä¼šä¸æ–­çš„è°ƒæ•´ï¼Œä¹‹åæ•´ç†ä¸‹å†æŠŠä¸»é¢˜å‘å¸ƒåˆ° github ä¸Šã€‚</p>]]></content>
    
    <summary type="html">
    
      Hexoåšå®¢æ”¹ç‰ˆè®°å½•, material theme
    
    </summary>
    
    
      <category term="Hexo" scheme="http://imys.net/tags/Hexo/"/>
    
      <category term="Material Design" scheme="http://imys.net/tags/Material-Design/"/>
    
  </entry>
  
  <entry>
    <title>å‰ç«¯æŠ€æœ¯æ¨¡æ‹Ÿç§»åŠ¨ç«¯wheelviewæ»‘åŠ¨é€‰æ‹©å™¨</title>
    <link href="http://imys.net/20151231/simulation-of-wheelview-selector.html"/>
    <id>http://imys.net/20151231/simulation-of-wheelview-selector.html</id>
    <published>2015-12-31T01:59:48.000Z</published>
    <updated>2016-11-12T19:27:45.513Z</updated>
    
    <content type="html"><![CDATA[<p>å…¬å¸è¿›å…¥APPæ”¹ç‰ˆé˜¶æ®µäº†ï¼Œä¼šåŸºäºåŸç”Ÿå®‰å“å¼€å‘ï¼Œæ„Ÿè§‰æ²¡è‡ªå·±ä»€ä¹ˆäº‹äº†ã€‚åªèƒ½çœ‹çœ‹åŸå‹å›¾ï¼Œæƒ³æƒ³å‰ç«¯æŠ€æœ¯å¦‚ä½•å®ç°æŸæŸåŠŸèƒ½ã€‚ã€‚ã€‚</p><p>æ»‘åŠ¨é€‰æ‹©å™¨åœ¨APPä¸Šæ˜¯å¾ˆå¸¸è§çš„ç»„ä»¶äº†ï¼Œæœ€åˆæ˜¯ IOS ä¸Šçš„ç»„ä»¶ï¼Œä¹‹åå°±å‡ºç° Android ç‰ˆçš„è‡ªå®šä¹‰å®ç°ï¼Œç§°ä¸º WheelViewã€‚å¯¹äºå‰ç«¯æŠ€æœ¯æ¥è®²ï¼Œå®ç°ä¹Ÿå¹¶ä¸å›°éš¾ã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/wheelview.gif" alt="wheelview"></div><div class="image-caption">wheelview</div></figure><a id="more"></a><!-- toc --><p>å¸ƒå±€æ˜¯è§£å†³å¤æ‚ç»„ä»¶æ•ˆæœçš„å…³é”®ï¼Œè¦å……åˆ†ç»“åˆcsså»æ€è€ƒã€‚</p><p>é€‰ä¸­é¡¹å’Œæœªé€‰ä¸­é¡¹çš„æ ·å¼ä¸ä¸€è‡´æ˜¯é¦–å…ˆè¦è§£å†³çš„é—®é¢˜ï¼Œæœ€ç»ˆæƒ³åˆ°äº†ä¸¤ç§è§£å†³æ–¹æ¡ˆã€‚</p><h3 id="Plan-A"><a href="#Plan-A" class="headerlink" title="Plan A"></a>Plan A</h3><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wheelview"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"action"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"fl"</span>&gt;</span>å–æ¶ˆ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"fr"</span>&gt;</span>ç¡®å®š<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span> <span class="attr">id</span>=<span class="string">"wrap"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"backlist list"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>ä¸€å¹´-ä¸¤å¹´<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>ä¸¤å¹´-ä¸‰å¹´<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>ä¸‰å¹´-äº”å¹´<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>äº”å¹´-å…«å¹´<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>å…«å¹´-åå¹´<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"front"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"list"</span> <span class="attr">id</span>=<span class="string">"front"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>ä¸€å¹´-ä¸¤å¹´<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>ä¸¤å¹´-ä¸‰å¹´<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>ä¸‰å¹´-äº”å¹´<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>äº”å¹´-å…«å¹´<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>å…«å¹´-åå¹´<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸¤ä¸ªåˆ—è¡¨æ¥æ˜¾ç¤ºï¼Œä¸€ä¸ªåˆ—è¡¨ä½œä¸ºèƒŒæ™¯æ˜¾ç¤ºæ‰€æœ‰é¡¹ï¼›å¦ä¸€ä¸ªåˆ—è¡¨ç½®äºé¡¶å±‚ï¼Œå›ºå®šä¸ºä¸€è¡Œçš„é«˜åº¦æ˜¾ç¤ºé€‰ä¸­é¡¹ã€‚<br>éœ€è¦å¤„ç†ä¸¤ä¸ªåˆ—è¡¨çš„åŒæ­¥æ»šåŠ¨ã€‚</p><h3 id="Plan-B"><a href="#Plan-B" class="headerlink" title="Plan B"></a>Plan B</h3><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wheelview"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"action"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"fl"</span>&gt;</span>å–æ¶ˆ<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"fr"</span>&gt;</span>ç¡®å®š<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span> <span class="attr">id</span>=<span class="string">"wrap"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"list"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>ä¸€å¹´-ä¸¤å¹´<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>ä¸¤å¹´-ä¸‰å¹´<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>ä¸‰å¹´-äº”å¹´<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>äº”å¹´-å…«å¹´<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>å…«å¹´-åå¹´<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"top"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"bottom"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><p>å•åˆ—è¡¨æ˜¾ç¤ºï¼Œå†æ·»åŠ ä¸¤ä¸ªåŒçº§çš„é®ç½©å±‚è®¾ç½®é€æ˜è‰²æ¸å˜ï¼Œåˆ†åˆ«è¦†ç›–äºåˆ—è¡¨ä¸Šä¸‹ï¼Œä¿ç•™ä¸­é—´ä¸€é¡¹çš„è§†åŒºã€‚</p><p>æ ¹æ®ä¸åŒåº”ç”¨åœºæ™¯ï¼Œä¸¤ç§æ–¹æ¡ˆå„æœ‰åƒç§‹ã€‚</p><p>Plan A ï¼šé€‚ç”¨äºé€‰ä¸­é¡¹ä¸æ™®é€šé¡¹æ ·å¼å·®åˆ«å¤§çš„åœºæ™¯ã€‚æ¯”å¦‚é€‰ä¸­é¡¹è¦æ±‚ä¸ºè“è‰²ï¼Œæ™®é€šé¡¹ä¸ºç°è‰²ï¼Œå·²ç»ä¸åœ¨ä¸€ä¸ªè‰²ç³»äº†ã€‚<br>Plan B ï¼šå•åˆ—è¡¨ç»“æ„æ›´æ¸…æ™°ï¼ŒèŠ‚çœæ ‡ç­¾ã€‚äº®ç‚¹å°±æ˜¯é®ç½©å±‚çš„æ¸å˜èƒŒæ™¯è‰²ã€‚</p><p>æœ€ååªå‰©ä¸‹å®ç°æ»šåŠ¨æ•ˆæœäº†ï¼Œä¸ºé˜²æ‰å‘ï¼Œå¼•ç”¨äº† <code>iscroll.js</code>ã€‚</p><p><a href="http://runjs.cn/code/3p7kkepf" target="_blank" rel="external">Code</a></p>]]></content>
    
    <summary type="html">
    
      å‰ç«¯æŠ€æœ¯æ¨¡æ‹Ÿç§»åŠ¨ç«¯wheelviewæ»‘åŠ¨é€‰æ‹©å™¨,by iscroll
    
    </summary>
    
    
      <category term="Mobile" scheme="http://imys.net/tags/Mobile/"/>
    
      <category term="wheelview" scheme="http://imys.net/tags/wheelview/"/>
    
      <category term="component" scheme="http://imys.net/tags/component/"/>
    
      <category term="iscroll" scheme="http://imys.net/tags/iscroll/"/>
    
  </entry>
  
  <entry>
    <title>iconfontå…¼å®¹ä¸ç»´æŠ¤</title>
    <link href="http://imys.net/20151223/iconfont-maintained.html"/>
    <id>http://imys.net/20151223/iconfont-maintained.html</id>
    <published>2015-12-23T05:47:34.000Z</published>
    <updated>2016-11-12T19:13:47.620Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨æ‰å¹³åŒ–ç½‘é¡µè®¾è®¡ä¸­ï¼Œå­—ä½“å›¾æ ‡æœ‰ç€å¾ˆå¥½çš„æ˜“ç”¨æ€§ã€‚ç»“åˆä¸€å¹´çš„å®é™…è¿ç”¨ï¼Œæ¥åšä¸€ä¸‹æ€»ç»“ã€‚</p><a id="more"></a><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>å¯ä»¥ç›´æ¥å¼•ç”¨å¼€æºçš„ç¬¬ä¸‰æ–¹å­—ä½“æ ·å¼æ–‡ä»¶ï¼Œå¦‚<code>Font Awesome</code>ç­‰ã€‚<br>æˆ–è€…ä½ æƒ³è¦æ„å»ºä¸€å¥—äº§å“ä¸“å±çš„å›¾æ ‡ï¼Œå¯ä»¥æ³¨å†Œä¸€ä¸ªå­—ä½“å›¾æ ‡åº“ï¼Œæ·»åŠ ä¸€ä¸ªå›¾æ ‡é¡¹ç›®ï¼Œè¿›è¡Œåˆ›ä½œå’Œä½¿ç”¨ã€‚</p><p>æˆ‘å¸ä½¿ç”¨çš„å­—ä½“åº“æ˜¯<a href="http://www.iconfont.cn/" target="_blank" rel="external">é˜¿é‡Œçš„iconfont</a>ã€‚</p><p>è®¾è®¡å›¾æ ‡æˆ‘ä¸æ‡‚ï¼Œéƒ½æ˜¯è®¾è®¡å¸ˆè´Ÿè´£äº§å‡ºçš„ã€‚<br>äº§å‡ºåï¼Œå¯ä»¥çœ‹åˆ°å›¾æ ‡çš„<code>Unicode</code>å’Œ<code>font class</code>ã€‚</p><p>ä½¿ç”¨æ—¶ï¼Œéœ€è¦æŠŠå­—ä½“å¼•ç”¨<code>@font-face</code>å¤åˆ¶åˆ°é¡¹ç›®å…¬å…±æ ·å¼ä¸­ï¼Œå¯ä»¥ä½¿ç”¨åœ¨çº¿å­—ä½“é“¾æ¥æˆ–è€…ä¸‹è½½åˆ°æœ¬åœ°æœåŠ¡å™¨ï¼Œç„¶åå¯ä»¥é€‰æ‹©ä¸¤ç§æ–¹å¼å¼•ç”¨ã€‚</p><h3 id="1-ç›´æ¥ä½¿ç”¨Unicode"><a href="#1-ç›´æ¥ä½¿ç”¨Unicode" class="headerlink" title="1.ç›´æ¥ä½¿ç”¨Unicode"></a>1.ç›´æ¥ä½¿ç”¨<code>Unicode</code></h3><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.icon</span> &#123;</div><div class="line">    <span class="attribute">display</span>: inline-block;</div><div class="line">    <span class="attribute">font-family</span>: <span class="string">"iconfont"</span>;</div><div class="line">    <span class="attribute">font-style</span>: normal;</div><div class="line">    <span class="attribute">font-weight</span>: normal;</div><div class="line">    <span class="attribute">-webkit-font-smoothing</span>: antialiased;</div><div class="line">&#125;</div></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"icon"</span>&gt;</span>&amp;#xe74e;<span class="tag">&lt;/<span class="name">i</span>&gt;</span></div></pre></td></tr></table></figure><p>æŠŠ<code>Unicode</code>ç›´æ¥å†™å…¥é¡µé¢å†…å®¹ä¸­ï¼Œæ¸²æŸ“å‡ºå›¾æ ‡ã€‚</p><h3 id="2-ä½¿ç”¨font-class"><a href="#2-ä½¿ç”¨font-class" class="headerlink" title="2.ä½¿ç”¨font class"></a>2.ä½¿ç”¨<code>font class</code></h3><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-attr">[class^="icon-"]</span><span class="selector-pseudo">:before</span>, <span class="selector-attr">[class*=" icon-"]</span><span class="selector-pseudo">:before</span> &#123;</div><div class="line">    <span class="attribute">text-decoration</span>: inherit;</div><div class="line">    <span class="attribute">display</span>: inline-block;</div><div class="line">    <span class="attribute">speak</span>: none;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.icon-search</span><span class="selector-pseudo">:before</span> &#123;</div><div class="line">    <span class="attribute">content</span>: <span class="string">"\f002"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"icon-search"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></div></pre></td></tr></table></figure><p>åˆ©ç”¨ä¼ªå…ƒç´ çš„<code>content</code>å±æ€§ï¼ŒæŠŠ<code>Unicode</code>å†™åˆ° css ä¸­ï¼Œä¸è¿‡æ¸²æŸ“åè¿˜æ˜¯ä¼šåœ¨é¡µé¢å±•ç¤ºã€‚</p><h2 id="ç»´æŠ¤"><a href="#ç»´æŠ¤" class="headerlink" title="ç»´æŠ¤"></a>ç»´æŠ¤</h2><p>ç”±äºè¦IE7ä¸æ”¯æŒä¼ªå…ƒç´ ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™ä¸€ç›´æ˜¯ç›´æ¥ä½¿ç”¨<code>Unicode</code>çš„æ–¹å¼å¼•ç”¨å›¾æ ‡ã€‚<br>éšç€å›¾æ ‡çš„å¢åŠ ï¼Œä½¿ç”¨æå…¶ä¸æ–¹ä¾¿ã€‚</p><ol><li>å†™é¡µé¢æ—¶æ¯æ¬¡å¼•ç”¨å›¾æ ‡å°±éœ€è¦æ‰“å¼€å›¾æ ‡é¡¹ç›®é¡µé¢å»å¤åˆ¶ Unicodeï¼Œè¿™ä¸ªçœŸå¿ƒè®°ä¸ä½å•Šï¼</li><li>é¢†å¯¼æŠ½é£è¦ä¿®æ”¹å›¾æ ‡ï¼Œç„¶åå›¾æ ‡æ”¹è¿‡ä¹‹å Unicode å‘ç”Ÿäº†å˜åŒ–ï¼Œç„¶åå°±éœ€è¦è‹¦é€¼çš„æŠŠæ‰€æœ‰ä½¿ç”¨è¿™ä¸ªå›¾æ ‡çš„é¡µé¢éƒ½æ”¹ä¸€é Unicodeï¼Œè¿˜å¥½æœ‰ gulp-replaceã€‚</li></ol><p>å½“æˆ‘æ„è¯†åˆ°è¿™æ˜¯ä¸€ä¸ªå¤§å‘æ—¶ï¼Œå·²ç»æ¥ä¸åŠäº†ã€‚ã€‚ã€‚</p><p>åœ¨ä¹‹åï¼Œæˆ‘å¼€å§‹åŸºäºå­—ç¬¦æ˜ å°„çš„æ–¹å¼å»ç®¡ç†å­—ä½“å›¾æ ‡ã€‚</p><p>åœ¨é¡¹ç›®é‡ŒåŠ äº†ä¸€ä¸ªå›¾æ ‡é…ç½®æ–‡ä»¶ã€‚å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="string">"search"</span>: <span class="string">"xe74e"</span>,</div><div class="line">    <span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å‰ç«¯æ¨¡ç‰ˆå…¥å£ä¼šç›´æ¥æŠŠè¿™ä¸ªå›¾æ ‡æ•°æ®åŠ å…¥é¡µé¢ä¸Šä¸‹æ–‡ã€‚ç”±äºé…ç½®æ–‡ä»¶å®šä¹‰äº†è¯­ä¹‰åŒ–çš„å‘½åï¼Œé¡µé¢ä½¿ç”¨å°±æ–¹ä¾¿å¤šäº†ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"icon"</span>&gt;</span>&amp;#<span class="tag">&lt;<span class="name">%=icon.search</span> %&gt;</span>;<span class="tag">&lt;/<span class="name">i</span>&gt;</span></div></pre></td></tr></table></figure><p>æˆ‘è¿™è¾¹åç«¯æ˜¯ .netï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆè¯­è¨€ï¼Œéƒ½åªéœ€è¦åœ¨å…¬å…±ç±»ä¸­åŠ ä¸ªè¯»å–å›¾æ ‡çš„æ–¹æ³•ã€‚è¿™æ ·å‰ç«¯çš„æ¨¡ç‰ˆæ‹¿åˆ°åç«¯ä¹Ÿä¸éœ€è¦è¿›è¡Œä»€ä¹ˆä¿®æ”¹ã€‚</p><p>ç„¶è€Œç›´æ¥ä¿ƒä½¿æˆ‘å‘æ­¤æ–‡çš„åŸå› æ˜¯å› ä¸ºä¸å°å¿ƒç‚¹å¼€äº† Font Awesome ç”¨äºå…¼å®¹ IE7 çš„ css æ–‡ä»¶ã€‚</p><figure class="highlight"><table><tr><td class="code"><pre><div class="line">.icon-file &#123;</div><div class="line">    *zoom: expression( this.runtimeStyle['zoom'] = '1', this.innerHTML = '&amp;#xf016;' )</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>expression æ˜¯ ie ç‰¹æœ‰çš„ css å±æ€§ï¼Œå¯ä»¥åœ¨å…¶ä¸­å†™ js è„šæœ¬ã€‚è¿™æ ·åˆæŠŠå›¾æ ‡çš„ç»´æŠ¤æƒäº¤è¿˜ css äº†ã€‚</p><p>åœ¨ css ä¸­å†™ js è¿™ç§åšæ³•è‚¯å®šæ˜¯ä¸æå€¡çš„ï¼Œè€Œä¸”ä¸€ä¸ªé¡µé¢ä¸Šå­˜åœ¨å¾ˆå¤šçš„å›¾æ ‡ï¼Œåœ¨ ie7 è¿™ä¹ˆæ¶åŠ£çš„ç¯å¢ƒä¸­ï¼Œæ¸²æŸ“é€Ÿåº¦ä¹Ÿæ˜¯ä¸ªå¤§é—®é¢˜ã€‚æˆ‘ç”¨ IE7 æ‰“å¼€ Font Awesome çš„é¡µé¢ï¼Œé€Ÿåº¦åœ¨30så·¦å³ã€‚</p><p>è¿™æ˜¯ä¸ªé—®é¢˜ï¼Œåˆä¸ç®—é—®é¢˜ã€‚ğŸ˜</p>]]></content>
    
    <summary type="html">
    
      iconfontå­—ä½“å›¾æ ‡å…¼å®¹ä¸ç»´æŠ¤,ä½¿ç”¨ç»éªŒ,ie7å…¼å®¹
    
    </summary>
    
    
      <category term="CSS" scheme="http://imys.net/tags/CSS/"/>
    
      <category term="iconfont" scheme="http://imys.net/tags/iconfont/"/>
    
  </entry>
  
  <entry>
    <title>ç¥å¥‡çš„eval()ä¸new Function()</title>
    <link href="http://imys.net/20151222/eval-with-new-function.html"/>
    <id>http://imys.net/20151222/eval-with-new-function.html</id>
    <published>2015-12-22T05:07:00.000Z</published>
    <updated>2016-11-12T19:12:47.640Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨éœ€è¦å…¼å®¹IE8ä»¥ä¸‹çš„æ—¥å­é‡Œï¼Œå¾€å¾€éœ€è¦ä½¿ç”¨<code>eval()</code>æ¥æŠŠåç«¯ä¼ è¿‡æ¥çš„JSONä¸²è½¬æˆå¯æ“ä½œçš„JSONå¯¹è±¡ã€‚ç›´åˆ°æ˜¨å¤©åœ¨ç¿»çœ‹jQueryæºç æ—¶ï¼Œæ‰å‘ç°<code>jQuery.parseJSON</code>çš„å…¼å®¹å®ç°ç”¨çš„æ˜¯<code>new Function()</code>ã€‚é©¬ä¸ŠGoogleäº†ç›¸å…³èµ„æ–™ï¼Œå¯»æ‰¾ä¸¤è€…çš„åŒºåˆ«ã€‚</p><a id="more"></a><h2 id="eval"><a href="#eval" class="headerlink" title="eval"></a>eval</h2><p>evalæ¥å—å­—ç¬¦ä¸²å‚æ•°ï¼Œè§£æå…¶ä¸­çš„jsä»£ç ã€‚å¦‚æœç¼–è¯‘å¤±è´¥ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¦åˆ™æ‰§è¡Œå…¶ä¸­çš„ä»£ç ï¼Œè®¡ç®—è¿”å›å€¼ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">eval</span>(<span class="string">'2+2'</span>);  <span class="comment">// 4</span></div><div class="line"></div><div class="line"><span class="built_in">eval</span>(<span class="string">'console.log("ok")'</span>);  <span class="comment">// ok</span></div></pre></td></tr></table></figure><p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šå¸¸è¿™æ ·è½¬æ¢JSONã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> jsonStr = <span class="string">'&#123; "age": 20, "name": "jack" &#125;'</span>;</div><div class="line"><span class="built_in">eval</span>(<span class="string">'('</span> + jsonStr + <span class="string">')'</span>);</div></pre></td></tr></table></figure><p>ä¸ºä»€ä¹ˆè¦åŠ æ‹¬å·å‘¢ï¼Ÿ</p><blockquote><p>å› ä¸ºjsä¸­<code>{}</code>é€šå¸¸æ˜¯è¡¨ç¤ºä¸€ä¸ªè¯­å¥å—ï¼Œevalåªä¼šè®¡ç®—è¯­å¥å—å†…çš„å€¼è¿›è¡Œè¿”å›ã€‚åŠ ä¸Šæ‹¬å·å°±å˜æˆä¸€ä¸ªæ•´ä½“çš„è¡¨è¾¾å¼ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">console</span>.log( <span class="built_in">eval</span>(<span class="string">'&#123;&#125;'</span>) );      <span class="comment">// undefind</span></div><div class="line"><span class="built_in">console</span>.log( <span class="built_in">eval</span>(<span class="string">'(&#123;&#125;)'</span>) );    <span class="comment">// Object &#123;&#125;</span></div></pre></td></tr></table></figure><p>ä½¿ç”¨evaléœ€è¦æ³¨æ„æ‰§è¡Œä½œç”¨åŸŸ</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> s = <span class="number">1</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">eval</span>(<span class="string">'var s=2'</span>);</div><div class="line">    <span class="built_in">console</span>.log(s);</div><div class="line">&#125;</div><div class="line"></div><div class="line">a();                <span class="comment">// 2</span></div><div class="line"><span class="built_in">console</span>.log(s);     <span class="comment">// 1</span></div></pre></td></tr></table></figure><p>åœ¨å±€éƒ¨ç¯å¢ƒä½¿ç”¨evalä¾¿ä¼šåˆ›å»ºå±€éƒ¨å˜é‡ã€‚å¯ä»¥æ˜¾ç¤ºæŒ‡å®ševalè°ƒç”¨è€…æ¥æ”¹å˜ä¸Šä¸‹æ–‡ç¯å¢ƒã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> s = <span class="string">'global'</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">eval</span>(<span class="string">'var s = "local"'</span>);</div><div class="line">    <span class="built_in">console</span>.log(s);                 <span class="comment">// local</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">eval</span>(<span class="string">'s'</span>));         <span class="comment">// local</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">window</span>.eval(<span class="string">'s'</span>));  <span class="comment">// global</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h2><p>åœ¨ä¹‹å‰æˆ‘å¯¹äº<code>Function</code>çš„äº†è§£åªé™äº<strong>â€œå®šä¹‰æ–¹æ³•çš„ä¸€ç§éä¸»æµæ–¹å¼â€</strong>ã€‚å´å¿½ç•¥äº†Functionä¸evalç›¸åŒçš„å­—ç¬¦ä¸²å‚æ•°ç‰¹æ€§ã€‚</p><p>è¯­æ³•ï¼š<code>var func = new Function(arg1, arg2, ..., functionBody);</code></p><p>å®ä¾‹ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> add = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'return a+b;'</span>);</div><div class="line"><span class="built_in">console</span>.log( add(<span class="number">2</span>, <span class="number">3</span>) );    <span class="comment">// 5</span></div></pre></td></tr></table></figure><p>ç”±äºå…¶å½¢å‚ä½¿ç”¨å­—ç¬¦ä¸²çš„æ–¹å¼è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨1ä¸ªå­—ç¬¦ä¸²æ¥æè¿°å¤šä¸ªå½¢å‚ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> add = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'a, b'</span>, <span class="string">'return a+b;'</span>);</div><div class="line"><span class="built_in">console</span>.log( add(<span class="number">2</span>, <span class="number">3</span>) );    <span class="comment">// 5</span></div></pre></td></tr></table></figure><p>åœ¨è½¬æ¢JSONçš„å®é™…åº”ç”¨ä¸­ï¼Œåªéœ€è¦è¿™ä¹ˆåšã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> jsonStr = <span class="string">'&#123; "age": 20, "name": "jack" &#125;'</span>,</div><div class="line">    json = (<span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'return '</span> + jsonStr))();</div></pre></td></tr></table></figure><p>eval ä¸ Function éƒ½æœ‰ç€åŠ¨æ€ç¼–è¯‘jsä»£ç çš„ä½œç”¨ï¼Œä½†æ˜¯åœ¨å®é™…çš„ç¼–ç¨‹ä¸­å¹¶ä¸æ¨èä½¿ç”¨ã€‚å¦‚æœå¯ä»¥ï¼Œè¯·ç”¨æ›´å¥½çš„æ–¹æ³•æ›¿ä»£ã€‚</p><p>åœ¨ä¸€äº›ç‰¹æ®Šçš„è¿ç”¨åœºåˆï¼Œä¹Ÿæœ‰ä¸€äº›åˆç†è¿ç”¨çš„å®è·µã€‚æ¯”å¦‚æ¨¡æ¿è§£æç­‰ã€‚</p><p>é‚£ä¹ˆä¸ºä»€ä¹ˆ jQuery è¦ç”¨<code>new Function</code>è€Œä¸ç”¨<code>eval</code>å‘¢ï¼Ÿ<br>çœ‹çœ‹è€å¤–åšçš„ä¸¤è€…ä»¥åŠåŸç”Ÿæ–¹æ³•çš„æ€§èƒ½æ¯”è¾ƒï¼š<a href="http://weblogs.asp.net/yuanjian/json-performance-comparison-of-eval-new-function-and-json" target="_blank" rel="external">JSON Performance comparison of eval, new Function and JSON</a></p>]]></content>
    
    <summary type="html">
    
      evalä¸new Functionæ¯”è¾ƒ,æ€§èƒ½æ¯”è¾ƒ,jsonè½¬æ¢
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://imys.net/tags/JavaScript/"/>
    
      <category term="Function" scheme="http://imys.net/tags/Function/"/>
    
      <category term="eval" scheme="http://imys.net/tags/eval/"/>
    
  </entry>
  
  <entry>
    <title>ä¼˜é›…çš„æ¨¡æ‹Ÿè¡¨å•å…ƒç´ radioã€checkbox</title>
    <link href="http://imys.net/20151113/simulation-of-native-radio-checkbox.html"/>
    <id>http://imys.net/20151113/simulation-of-native-radio-checkbox.html</id>
    <published>2015-11-13T00:51:49.000Z</published>
    <updated>2016-11-12T19:26:37.075Z</updated>
    
    <content type="html"><![CDATA[<p>å…¬å¸å†…éƒ¨ç®¡ç†ç³»ç»Ÿå‡†å¤‡æ”¹ç‰ˆï¼Œæœ€è¿‘å‡ å¤©æŠŠå‰ç«¯æ¶å­æ­èµ·æ¥äº†ã€‚åœ¨è§„åˆ’åº•å±‚å…ƒç´ æ—¶å‚è€ƒäº†<code>Bootstrap</code>å’Œ<code>Amaze UI</code>ï¼Œä¸€äº›ç»„ä»¶çš„å®ç°ç¡®å®å¾ˆä¼˜é›…ã€‚<br>æ¯”å¦‚<code>Amaze UI</code> çš„å•/å¤é€‰æ¡†ã€‚</p><a id="more"></a><p>ä¹‹å‰æˆ‘åœ¨æ¨¡æ‹Ÿå•/å¤é€‰æ¡†æ—¶ï¼Œéƒ½æ˜¯å¾ˆæš´åŠ›çš„ç”¨ js è§£å†³ã€‚</p><ol><li>ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼›</li><li>æ›´æ”¹ checked å±æ€§å€¼ï¼›</li><li>åˆ‡æ¢ class å˜æ›´æ ·å¼ã€‚</li></ol><p>è€Œæ‰“å¼€æ§åˆ¶å°è§‚å¯Ÿ<code>Amaze UI</code>çš„å•/å¤é€‰æ¡†ï¼Œå‘ç°<code>Elements</code>çŠ¶æ€æ˜¯æ— æ›´æ”¹çš„ã€‚<br>æ›´æ”¹<code>checked</code>å±æ€§å€¼ï¼Œå¹¶ä¸ä¼šå½±å“åˆ°æ ‡ç­¾å­—é¢é‡å±æ€§ã€‚ä½†æ˜¯æƒ³è¦åˆ‡æ¢é€‰ä¸­å’Œæœªé€‰ä¸­çš„æ ·å¼ï¼Œå¦‚æœä¸æ˜¯é€šè¿‡åˆ‡æ¢<code>class</code>æ¥å®ç°ï¼Œé‚£ä¾¿æ˜¯ç›´æ¥ä¿®æ”¹<code>DOM</code>äº†ï¼Œè€Œè¿™ä¸¤ç§æ“ä½œåœ¨æ§åˆ¶å°ä¸­çš„éƒ½èƒ½çœ‹åˆ°ä¸€ä¸ªçŠ¶æ€å˜åŒ–çš„å“åº”ã€‚</p><p>é‚£ä¹ˆ<code>Amaze</code>ç©¶ç«Ÿæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</p><p>æˆ‘é€‰ä¸­ä¸€ä¸ªå…ƒç´ çš„å›¾æ ‡ï¼Œåœ¨<code>Styles</code>ä¸­è§‚å¯Ÿæ ·å¼å˜åŒ–ã€‚ç›´åˆ°å‘ç°äº†ä¼ªç±»é€‰æ‹©å™¨<code>:checked</code>å’Œç›¸é‚»é€‰æ‹©å™¨<code>+</code>ï¼Œæ‰æç„¶å¤§æ‚Ÿã€‚</p><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"sex1"</span> <span class="attr">class</span>=<span class="string">"form-check"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">id</span>=<span class="string">"sex1"</span> <span class="attr">checked</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"check-icons"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"icon icon-check"</span>&gt;</span>&amp;#xe632;<span class="tag">&lt;/<span class="name">i</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"icon icon-uncheck"</span>&gt;</span>&amp;#xe634;<span class="tag">&lt;/<span class="name">i</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    ç”·</div><div class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"sex2"</span> <span class="attr">class</span>=<span class="string">"form-check"</span> &gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">id</span>=<span class="string">"sex2"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">value</span>=<span class="string">"0"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"check-icons"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"icon icon-check"</span>&gt;</span>&amp;#xe632;<span class="tag">&lt;/<span class="name">i</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"icon icon-uncheck"</span>&gt;</span>&amp;#xe634;<span class="tag">&lt;/<span class="name">i</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">    å¥³</div><div class="line"><span class="tag">&lt;/<span class="name">label</span>&gt;</span></div></pre></td></tr></table></figure><p>å›¾æ ‡ä½¿ç”¨çš„<code>iconfont</code>ï¼Œç„¶åæ·»åŠ ä¸€äº›æ ·å¼ï¼Œæˆ‘ä½¿ç”¨<code>less</code>ä½œä¸º<code>css</code>é¢„å¤„ç†è¯­è¨€ã€‚</p><figure class="highlight less"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.form-check</span> &#123;</div><div class="line">    <span class="attribute">display</span>: inline-block;</div><div class="line">    <span class="attribute">position</span>: relative;</div><div class="line">    <span class="attribute">margin-right</span>: <span class="number">1em</span>;</div><div class="line">    <span class="attribute">padding-left</span>: <span class="number">24px</span>;</div><div class="line">    <span class="attribute">line-height</span>: <span class="number">28px</span>;</div><div class="line">    <span class="attribute">cursor</span>: pointer;</div><div class="line">    <span class="selector-tag">input</span> &#123;</div><div class="line">        <span class="attribute">display</span>: none;</div><div class="line">        <span class="selector-tag">&amp;</span><span class="selector-pseudo">:checked+.check-icons</span> &#123;</div><div class="line">            <span class="selector-class">.icon-check</span> &#123;</div><div class="line">                <span class="attribute">display</span>: inline-block;</div><div class="line">            &#125;</div><div class="line">            <span class="selector-class">.icon-uncheck</span> &#123;</div><div class="line">                <span class="attribute">display</span>: none;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.check-icons</span> &#123;</div><div class="line">        <span class="attribute">position</span>: absolute;</div><div class="line">        <span class="attribute">top</span>: <span class="number">5px</span>;</div><div class="line">        <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">        <span class="attribute">width</span>: <span class="number">18px</span>;</div><div class="line">        <span class="attribute">height</span>: <span class="number">18px</span>;</div><div class="line">        <span class="attribute">text-align</span>: center;</div><div class="line">        <span class="selector-class">.icon</span> &#123;</div><div class="line">            <span class="attribute">position</span>: absolute;</div><div class="line">            <span class="attribute">top</span>: <span class="number">0</span>;</div><div class="line">            <span class="attribute">left</span>: <span class="number">0</span>;</div><div class="line">            <span class="attribute">line-height</span>: <span class="number">18px</span>;</div><div class="line">            <span class="attribute">font-size</span>: <span class="number">18px</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="selector-class">.icon-uncheck</span> &#123;</div><div class="line">            <span class="attribute">color</span>: <span class="number">#d7d7d7</span></div><div class="line">        &#125;</div><div class="line">        <span class="selector-class">.icon-check</span> &#123;</div><div class="line">            <span class="attribute">color</span>: <span class="number">#4776c8</span>;</div><div class="line">            <span class="attribute">display</span>: none;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><ul><li>é€šè¿‡<code>label:for</code>å±æ€§æ¥è§¦å‘<code>input:checked</code>å±æ€§å€¼æ›´æ”¹ã€‚</li><li>è®¾ç½®ç›¸é‚»é€‰æ‹©å™¨ï¼Œç”±<code>:checked</code>çŠ¶æ€å˜åŒ–å½±å“å¯¹åº”çš„iconæ˜¾ç¤ºå’Œéšè—ã€‚</li></ul><h3 id="å…¼å®¹æ€§"><a href="#å…¼å®¹æ€§" class="headerlink" title="å…¼å®¹æ€§"></a>å…¼å®¹æ€§</h3><p>ç›¸é‚»é€‰æ‹©å™¨<code>+</code>å…¼å®¹IE7+ï¼Œè€Œä¼ªç±»é€‰æ‹©å™¨<code>:checked</code>å’Œ<code>label:for</code>å±æ€§å…¼å®¹IE9+ï¼ˆåˆæ˜¯è¿™ä¸€é“åâ€¦ï¼‰ã€‚</p><h3 id="IE7ã€8çš„å…¼å®¹"><a href="#IE7ã€8çš„å…¼å®¹" class="headerlink" title="IE7ã€8çš„å…¼å®¹"></a>IE7ã€8çš„å…¼å®¹</h3><p>ç”±é€‰æ‹©å™¨çš„å¦™ç”¨ï¼Œè®©æˆ‘æƒ³åˆ°äº†å±æ€§é€‰æ‹©å™¨<code>[checked]</code>ï¼Œå…¼å®¹æ€§ä¸ºIE7+ã€‚</p><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.ie8</span> <span class="selector-attr">[checked]</span>+<span class="selector-class">.check-icons</span> <span class="selector-class">.icon-check</span>,</div><div class="line"><span class="selector-class">.ie7</span> <span class="selector-attr">[checked]</span>+<span class="selector-class">.check-icons</span> <span class="selector-class">.icon-check</span> &#123;</div><div class="line">    <span class="attribute">display</span>: inline-block;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.ie8</span> <span class="selector-attr">[checked]</span>+<span class="selector-class">.check-icons</span> <span class="selector-class">.icon-uncheck</span>,</div><div class="line"><span class="selector-class">.ie7</span> <span class="selector-attr">[checked]</span>+<span class="selector-class">.check-icons</span> <span class="selector-class">.icon-uncheck</span> &#123;</div><div class="line">    <span class="attribute">display</span>: none;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>æˆ‘é’ˆå¯¹IE7ã€8åº”ç”¨äº†è¿™äº›æ ·å¼ï¼Œ<code>for</code>å±æ€§å¤±å»äº†ä½œç”¨ï¼Œå°±éœ€è¦ç»‘å®šç‚¹å‡»äº‹ä»¶æ¥æ›´æ”¹<code>checked</code>å€¼ã€‚<br>åšå®Œä¹‹åå‘ç°å¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ã€‚</p><p>å› ä¸ºå±æ€§é€‰æ‹©å™¨æ˜¯é’ˆå¯¹æ ‡ç­¾å­—é¢é‡å±æ€§å¯ä½œç”¨ï¼Œè€Œå¦‚<code>input.checked = true;</code>è¿™ç§ä¿®æ”¹æ–¹å¼æ˜¯ä¸ä¼šå½±å“åˆ°æ ‡ç­¾ä¸Šå®šä¹‰çš„å±æ€§ã€‚</p><p>è¿™å°±ç‰µæ‰¯åˆ°äº†<code>attribute</code>å’Œ<code>property</code>çš„åŒºåˆ«ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> ck = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</div><div class="line">ck.type = <span class="string">'checkbox'</span>;</div><div class="line"><span class="built_in">document</span>.body.appendChild(ck);</div><div class="line"></div><div class="line">ck.checked = <span class="literal">true</span>;</div><div class="line">ck.getAttribute(<span class="string">'checked'</span>); <span class="comment">// null</span></div><div class="line"></div><div class="line">ck.checked = <span class="literal">false</span>;</div><div class="line">ck.setAttribute(<span class="string">'checked'</span>,<span class="string">'checked'</span>);</div><div class="line">ck.checked  <span class="comment">// false</span></div></pre></td></tr></table></figure><ul><li>attribute æ˜¯ html æ ‡ç­¾çš„å±æ€§</li><li>property æ˜¯ Dom æ ‡å‡†å±æ€§</li></ul><p>ä¹Ÿè®¸æ˜¯å› ä¸ºæ ‡ç­¾è‡ªå®šä¹‰å±æ€§çš„å­˜åœ¨ï¼Œè¿™ä¸¤ä¸ªå±æ€§å€¼æ˜¯ä¸åŒæ­¥çš„ã€‚</p><p>å¦‚æœæƒ³è¦ä½¿<code>[checked]</code>é€‰æ‹©å™¨ç”Ÿæ•ˆï¼ŒåŠ¿å¿…è¦åœ¨ç‚¹å‡»äº‹ä»¶ä¸­åŒæ­¥ä¿®æ”¹<code>attribute</code>å’Œ<code>property</code>ã€‚</p><p>å®éªŒåå‘ç°åœ¨IE7ã€8ä¸‹æ­£ç¡®è¿è¡Œäº†ï¼Œå¯¹åº”çš„iconçš„<code>display</code>å±æ€§ç¡®å®å˜åŒ–äº†ï¼Œä½†æ˜¯è‚‰çœ¼çœ‹ä¸åˆ°æ ·å¼æ›´æ”¹ã€‚<br>ä¸çŸ¥é“æ˜¯ä¸æ˜¯æ¸²æŸ“èƒ½åŠ›å·®çš„åŸå› ï¼Œæ€»æ˜¯éœ€è¦åœ¨æ§åˆ¶å°é‡Œç‚¹å‡»å¯¹åº”çš„æ ‡ç­¾åæ‰çœ‹å¾—åˆ°æ›´æ”¹åçš„æ ·å¼ã€‚</p><p>æ€å‰æ€åï¼Œæ—¢ç„¶æ€»å½’æ˜¯éœ€è¦ç”¨ js å»å…¼å®¹ï¼Œé‚£åœ¨IE7ã€8ä¸‹è¿˜æ˜¯ä½¿ç”¨åˆ‡æ¢<code>class</code>æ¥æ§åˆ¶æ ·å¼ã€‚</p>]]></content>
    
    <summary type="html">
    
      çº¯cssæ¨¡æ‹Ÿè¡¨å•å…ƒç´ radioã€checkboxï¼Œiconfont
    
    </summary>
    
    
      <category term="CSS" scheme="http://imys.net/tags/CSS/"/>
    
      <category term="iconfont" scheme="http://imys.net/tags/iconfont/"/>
    
      <category term="radio" scheme="http://imys.net/tags/radio/"/>
    
      <category term="checkbox" scheme="http://imys.net/tags/checkbox/"/>
    
  </entry>
  
  <entry>
    <title>ç§»åŠ¨ç«¯é¡µé¢å¼€å‘å…³é”®â€”å°ºå¯¸å’Œå¸ƒå±€</title>
    <link href="http://imys.net/20151107/mobile-page-size-and-layout.html"/>
    <id>http://imys.net/20151107/mobile-page-size-and-layout.html</id>
    <published>2015-11-07T15:02:29.000Z</published>
    <updated>2016-11-12T19:23:58.138Z</updated>
    
    <content type="html"><![CDATA[<p>æ—©ä¸Šå»å…¬å¸åŠ äº†åŠå¤©ç­ï¼ˆå¸¦è–ªçš„ï¼‰ï¼Œä¸ºAPPä¸Šçº¿åšäº†ä¸ªä¸“é¢˜ä»‹ç»é¡µã€‚å½“ç„¶ç°åœ¨çš„ä¸»é¢˜ä¸æ˜¯ä»‹ç»åœ¨è¿™ä¸ªä¸“é¢˜ä¸­æˆ‘ç”¨äº†å“ªäº›æŠ€æœ¯ã€å®ç°äº†ä½•ç§é…·ç‚«çš„ç‰¹æ•ˆã€‚å®é™…ä¸Šæˆ‘ä¸ºäº†èµ¶æ—¶é—´ï¼Œæˆ‘ç ´å¤©è’çš„æ²¡æœ‰è´¯å½»è‡ªå·±çš„ä¸€è´¯ä½œé£â€”<em>é€ è½®å­</em>ï¼Œè€Œæ˜¯ç›´æ¥å¼•äº†ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“ã€‚<br>åœ¨è¿™ä¸ªAPPå¼€å‘ä¸­ï¼Œæˆ‘è´Ÿè´£å†…åµŒç½‘é¡µçš„å¼€å‘ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡æ¶‰è¶³ä¸€ä¸ªå®Œæ•´çš„ç§»åŠ¨ç«¯å¼€å‘é¡¹ç›®ï¼Œä»¥å¾€åªå†™è¿‡ä¸€äº›æ´»åŠ¨åˆ†äº«é¡µã€ä¸“é¢˜é¡µã€‚</p><p>å¯¹äºé¡µé¢å…¼å®¹æ€§å½±å“æœ€å¤§çš„ä¸¤ä¸ªå› ç´ å°±æ˜¯â€œå°ºå¯¸â€å’Œâ€œå¸ƒå±€â€ã€‚å¥½åœ¨ä¹‹å‰é€šè¿‡ç¤¾åŒºã€åšå®¢ç­‰çœ‹è¿‡æ­¤ç±»æ–‡ç« ï¼Œå·²æœ‰äº†è¶³å¤Ÿçš„è®¤è¯†ï¼Œè¿™æ¬¡é¡¹ç›®â€œå®è·µâ€çš„æˆåˆ†æ›´å¤šã€‚<br><a id="more"></a></p><h2 id="å°ºå¯¸"><a href="#å°ºå¯¸" class="headerlink" title="å°ºå¯¸"></a>å°ºå¯¸</h2><p>åœ¨ç§»åŠ¨ç«¯é¡µé¢ï¼Œæˆ‘ç”¨åˆ°çš„å°ºå¯¸å•ä½æœ‰<code>em</code>ã€<code>rem</code>ã€<code>vw</code>ã€‚<code>px</code>åŸºæœ¬ä¸ç”¨ï¼Œä½†æˆ‘ä¼šè®¾ç½®Domæ ¹å…ƒç´ <code>html</code>å­—ä½“å¤§å°ä¸º<code>14px</code>ï¼Œä¸€æ¥æ–¹ä¾¿<code>em</code>å’Œ<code>rem</code>çš„å°ºå¯¸è®¡ç®—ï¼ŒäºŒæ¥<code>14px</code>æ˜¯æœ€å¸¸ç”¨çš„å­—ä½“å¤§å°ã€‚</p><blockquote><p>å¸¸è§„æµè§ˆå™¨é»˜è®¤å­—ä½“å¤§å°ä¸º<code>16px</code>ï¼Œæœ€å°å­—ä½“ä¸º<code>12px</code>ã€‚</p></blockquote><h3 id="em"><a href="#em" class="headerlink" title="em"></a>em</h3><p>é¦–å…ˆä½ è¦æœ‰è¿™æ ·ä¸€ä¸ªåŸºç¡€çš„è®¤çŸ¥ï¼š</p><blockquote><p>å‡å¦‚ä¸€ä¸ªå…ƒç´ æ²¡æœ‰é‡è®¾å­—ä½“å¤§å°ï¼Œé‚£ä¹ˆå®ƒçš„å­—ä½“å¤§å°ä¼šç»§æ‰¿çˆ¶çº§å…ƒç´ ï¼Œå¦‚æœçˆ¶çº§ä¹Ÿæ²¡æœ‰è®¾ç½®å¤§å°ï¼Œé‚£ä¹ˆä¾æ¬¡ç±»æ¨ä¸€ç›´è¿½æº¯åˆ°<code>body</code>ã€<code>html</code>ã€‚</p></blockquote><p><code>em</code>æ˜¯ç›¸å¯¹äºå½“å‰å…ƒç´ å­—ä½“å¤§å°è®¡ç®—åƒç´ å€¼çš„ï¼Œè®¡ç®—æ–¹æ³•æ˜¯<code>emå€¼ * å­—ä½“å¤§å°</code>ã€‚</p><p><strong>ä¸¾ä¾‹ï¼š</strong><br>ä¸€ä¸ªå…ƒç´ è®¾ç½®äº†é«˜åº¦ä¸º<code>2em</code>ï¼Œé‚£ä¹ˆå®é™…åƒç´ å€¼ä¸º<code>2 * 14px = 28px</code>ï¼Œè€Œä¸€æ—¦è¿™ä¸ªå…ƒç´ é‡è®¾äº†å­—ä½“å¤§å°ä¸º<code>2em</code>ï¼Œé‚£ä¹ˆè¯¥å…ƒç´ é«˜åº¦å€¼ä¸º<code>2 * 28px = 56px</code>ã€‚å¦å¤–ï¼Œå…¶åçš„å­å…ƒç´ çš„è®¡ç®—åŸºæ•°éƒ½ä¼šæ”¹å˜ã€‚</p><p>ä½¿ç”¨<code>em</code>æ—¶ä¸€æ—¦æœ‰è®¾ç½®å­—ä½“å¤§å°çš„æ ·å¼å‡ºç°å°±éœ€è¦æ³¨æ„é‡æ–°è®¡ç®—ä¸€äº›å±æ€§å€¼å¤§å°äº†ã€‚</p><h3 id="rem"><a href="#rem" class="headerlink" title="rem"></a>rem</h3><p>ä¸ <code>em</code> ç›¸æ¯”ï¼Œè¿™è´§çœ‹èµ·æ¥å¤šäº†ä¸€ä¸ªå­—æ¯ï¼Œæ˜¾ç„¶æ˜¯å±äºå‡çº§ç‰ˆæœ¬ã€‚<br><code>rem</code>æ˜¯å§‹ç»ˆç›¸å¯¹ä¸ Dom æ ¹å…ƒç´ <code>html</code>æ¥è®¡ç®—åƒç´ å€¼çš„ã€‚ä¸ç®¡å½“å‰å…ƒç´ å­—ä½“å¦‚ä½•è®¾ç½®ï¼Œè®¡ç®—æ—¶å­—ä½“å¤§å°ä»ç„¶ä»¥<code>html</code>çš„å­—ä½“è®¾ç½®ä¸ºåŸºå‡†ã€‚</p><h3 id="vw"><a href="#vw" class="headerlink" title="vw"></a>vw</h3><p><code>vw</code>æŒ‡çš„çš„å½“å‰å±å¹•å®½åº¦ï¼Œä¸ä¹‹å¯¹åº”çš„è¿˜æœ‰ <code>vh</code>ï¼Œè¡¨ç¤ºå±å¹•é«˜åº¦ã€‚å¦‚æœå±å¹•å®½ä¸º 360pxï¼Œé‚£ä¹ˆ <code>100vw = 360px</code>ã€‚</p><p>æ˜¯å¦æ„Ÿè§‰å¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Ÿåˆ«ç€æ€¥ï¼Œä¸‹é¢è¯´ä¸€ä¸‹æˆ‘çš„ä¸€æ¬¡é€‚ç”¨ç»å†ã€‚</p><p><strong>htmlï¼š</strong></p><pre><code>&lt;div class=&quot;box&quot;&gt;
    &lt;div class=&quot;inner&quot;&gt;
        &lt;div class=&quot;cont cont-1&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;cont cont-2&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;cont cont-3&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;div&gt;
</code></pre><p><strong>cssï¼š</strong></p><pre><code>.box {
    width: 100%;
    overflow: hidden;
}
.inner {
    width: 300%;
}
.cont {
    float: left;
    width: 100%;
}
</code></pre><p>ä»¥ä¸Šä»£ç ç”¨ä»¥å®ç°ä¸‰å±çš„å·¦å³åˆ‡æ¢æ•ˆæœï¼Œå¤–å±‚å®¹å™¨<code>.box</code>å’Œä¸‰ä¸ªå†…å®¹å—å®½åº¦ä¸ºå±å¹•å®½åº¦ï¼Œä¸‰ä¸ªå†…å®¹å—è®¾ç½®äº†å·¦æµ®åŠ¨æ ·å¼ã€‚æ­¤æ—¶ï¼Œå†…å±‚å®¹å™¨<code>.inner</code>éœ€è¦æœ‰3å€çš„å±å¹•å®½åº¦ä»¥æ‰¿è½½ä¸‰ä¸ªå†…å®¹å—ã€‚<br>ä½†æ˜¯ç”±äºå®½åº¦ç»§æ‰¿çš„å…³ç³»ï¼Œåœ¨å†…å±‚å®¹å™¨<code>.inner</code>å®½åº¦æ”¹å˜åï¼Œå†…å®¹å—çš„å®½åº¦è®¡ç®—åŸºæ•°ä¹Ÿæ”¹å˜äº†ã€‚æ­¤æ—¶è®¾ç½®çš„100%æ˜¯ç­‰äºçˆ¶çº§å…ƒç´ å®½åº¦çš„ï¼Œä¹Ÿå°±æ˜¯ä¸‰å€å±å®½ã€‚</p><p>ä½¿ç”¨jsæ˜¯å¾ˆå®¹æ˜“è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Œä¸è¿‡<code>vw</code>æ˜¾ç„¶æ˜¯å¯ä»¥é€‚ç”¨è¿™ä¸ªåœºæ™¯çš„ã€‚<br>åªéœ€è¦å¦‚ä¸‹è®¾ç½®ä¾¿å¯è§£å†³é—®é¢˜ã€‚</p><pre><code>.cont { width: 100vw; }
</code></pre><p>è¯¥å±æ€§åœ¨å…¼å®¹æ€§ä¸ºandroid 4.4+ï¼Œè°¨æ…ä½¿ç”¨ã€‚</p><h3 id="devicePixelRatio"><a href="#devicePixelRatio" class="headerlink" title="devicePixelRatio"></a>devicePixelRatio</h3><p>åœ¨ä¸€ä¸ªå›¾è¡¨é¡µä¸­ï¼Œæˆ‘ç”¨<code>canvas</code>ç”»äº†ä¸ªé¥¼å›¾ã€‚å‘ç°åœ¨æ‰‹æœºå±å¹•ä¸­åŒºå—é¢œè‰²æ˜¾å¾—æ¨¡ç³Šã€‚äºæ˜¯æœç´¢èµ„æ–™å°±æ‰¾åˆ°äº†è¿™ä¸ªå±æ€§ï¼Œ<code>window.devicePixelRatio</code>ã€‚<br>ç›®å‰æˆ‘å¯¹è¿™ä¸ªå±æ€§çš„ç†è§£è¿˜ä¸æ·±ï¼ŒåŸºæœ¬çš„ç†è§£ä¸ºï¼šå±å¹•ç¼©æ”¾æ¯”ã€‚ä¼ é€é—¨ï¼š<a href="http://www.zhangxinxu.com/wordpress/2012/08/window-devicepixelratio/" target="_blank" rel="external">å¼ é‘«æ—­ï¼šè®¾å¤‡åƒç´ æ¯”devicePixelRatioç®€å•ä»‹ç»</a></p><p>æˆ‘ä»¬é€šè¿‡å†™çš„cssä¸­åƒç´ ä»…ä¸ºé€»è¾‘åƒç´ ï¼Œå°±æ˜¯ä½ çœ‹åˆ°çš„å®½åº¦ï¼Œè€Œå®é™…ä¸Šæ‰‹æœºå±å¹•å•ä¸ªç‚¹æ˜¯å¯èƒ½å­˜åœ¨å¤šä¸ªåƒç´ çš„ã€‚</p><p>å¦‚æœæ˜¯å¸¸è§„é¡µé¢å…ƒç´ æ˜¯ç”¨ä¸åˆ°è¿™ä¸ªå±æ€§çš„ï¼Œè€Œ<code>canvas</code>çš„çœŸå®å®½åº¦å’Œcsså®½åº¦æ˜¯ä¸ä¸€è‡´çš„ã€‚<br>è®¡ç®—æ–¹æ³•ä¸ºï¼š<code>canvas.width = canvas.style.width * devicePixelRatio</code>ã€‚</p><p>éœ€è¦æ³¨æ„ï¼šä¸€æ—¦é‡è®¾äº†canvasçš„çœŸå®å®½åº¦ï¼Œé‚£ä¹ˆcanvasä¹‹ä¸Šçš„ä¸€åˆ‡å…ƒç´ éƒ½éœ€è¦ä¹˜ä»¥devicePixelRatioè¿›è¡Œç¼©æ”¾ã€‚</p><h2 id="å¸ƒå±€"><a href="#å¸ƒå±€" class="headerlink" title="å¸ƒå±€"></a>å¸ƒå±€</h2><p>åœ¨PCä¸Šä¸ºäº†å…¼å®¹å¯æ¶çš„IEä¸å¾—ä¸ä½¿ç”¨å¤§é‡çš„æµ®åŠ¨æ¥è¿›è¡Œå—çº§å…ƒç´ çš„å¹¶è¡Œæ’è¡Œã€‚è€Œåœ¨ç§»åŠ¨ç«¯æˆ‘ä»¬æœ‰äº†æ›´å¥½çš„é€‰æ‹©ï¼Œä½†ä¸æ˜¯<code>inline-block</code>ï¼Œè€Œæ˜¯<code>flex</code>ã€‚</p><p>ä½¿ç”¨flexå¯ä»¥è½»æ˜“çš„å®ç°ç­‰å®½ã€æ•£åˆ—ã€å‚ç›´å±…ä¸­ã€å¤šè¡Œæ’åˆ—ã€åº•éƒ¨å¯¹é½ç­‰ç­‰å„ç§å¸ƒå±€ã€‚</p><p>å®šä¹‰ä¸€ä¸ªflexå®¹å™¨</p><pre><code>.flex-row {
    display: flex;
}
</code></pre><p>é€šè¿‡è®¾ç½®å®¹å™¨å±æ€§ï¼Œå¯ä»¥å‘ˆç°ä¸åŒçš„æ’åˆ—å¯¹é½æ–¹å¼ã€‚</p><h3 id="flex-wrap"><a href="#flex-wrap" class="headerlink" title="flex-wrap"></a>flex-wrap</h3><p>å®šä¹‰å®¹å™¨æ¢è¡Œæ–¹å¼ï¼Œé»˜è®¤ä¸æ¢è¡Œã€‚å¯è®¾ç½®æ¢è¡Œå’Œåå‘æ¢è¡Œã€‚</p><h3 id="flex-direction"><a href="#flex-direction" class="headerlink" title="flex-direction"></a>flex-direction</h3><p>æ’åˆ—æ–¹å‘ï¼Œé»˜è®¤å­å…ƒç´ ä»å·¦åˆ°å³é¡ºåºæ’åˆ—ã€‚é€šè¿‡è®¾ç½®è¯¥å€¼å¯ä»¥å®ç°åå‘æ’åˆ—æˆ–å‚ç›´æ–¹å‘çš„ä¸Šä¸‹æ’åˆ—ã€‚</p><h3 id="justify-content"><a href="#justify-content" class="headerlink" title="justify-content"></a>justify-content</h3><p>ä¸»è½´ï¼ˆæ°´å¹³æ–¹å‘ï¼‰å¯¹é½æ–¹å¼ï¼Œé»˜è®¤å·¦å¯¹é½ã€‚å¯ä»¥å®ç°å±…ä¸­ã€å³å¯¹é½ã€ç­‰å®½é—´éš”ç­‰æ’åˆ—ã€‚</p><h3 id="align-items"><a href="#align-items" class="headerlink" title="align-items"></a>align-items</h3><p>ä¾§è½´ï¼ˆå‚ç›´ï¼‰å¯¹é½æ–¹å¼ã€‚å¯å®ç°å‚ç›´å±…ä¸­ã€åº•éƒ¨å¯¹é½ã€åŸºçº¿å¯¹é½ç­‰ã€‚</p><h3 id="align-content"><a href="#align-content" class="headerlink" title="align-content"></a>align-content</h3><p>å¤šè½´å‚ç›´å¯¹é½æ–¹å¼ã€‚</p><p>æœ€åé™„ä¸ŠDemoï¼š<a href="../demo/flex.html">flexå¸¸ç”¨å¸ƒå±€</a></p><p><strong>å‚è€ƒï¼š</strong></p><ul><li><a href="http://www.w3cplus.com/css3/flexbox-basics.html" target="_blank" rel="external">å¤§æ¼ ï¼šFlexboxâ€”â€”å¿«é€Ÿå¸ƒå±€ç¥å™¨</a></li><li><a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="external">é˜®ä¸€å³°ï¼šFlex å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡</a></li><li><a href="http://www.ruanyifeng.com/blog/2015/07/flex-examples.html" target="_blank" rel="external">é˜®ä¸€å³°ï¼šFlex å¸ƒå±€æ•™ç¨‹ï¼šå®ä¾‹ç¯‡</a></li></ul>]]></content>
    
    <summary type="html">
    
      ç§»åŠ¨ç«¯é¡µé¢å¼€å‘,ç§»åŠ¨ç«¯å°ºå¯¸,ç§»åŠ¨ç«¯å¸ƒå±€,flex,em,rem,vw,devicePixelRatio
    
    </summary>
    
    
      <category term="ç§»åŠ¨ç«¯" scheme="http://imys.net/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"/>
    
      <category term="devicePixelRatio" scheme="http://imys.net/tags/devicePixelRatio/"/>
    
      <category term="em" scheme="http://imys.net/tags/em/"/>
    
      <category term="rem" scheme="http://imys.net/tags/rem/"/>
    
      <category term="vw" scheme="http://imys.net/tags/vw/"/>
    
      <category term="flex" scheme="http://imys.net/tags/flex/"/>
    
  </entry>
  
  <entry>
    <title>å®ç°ä¸€ä¸ªç®€å•çš„æ¨¡å—åŠ è½½å™¨</title>
    <link href="http://imys.net/20151023/simple-module-loader.html"/>
    <id>http://imys.net/20151023/simple-module-loader.html</id>
    <published>2015-10-23T12:41:39.000Z</published>
    <updated>2016-11-12T19:26:10.274Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘å¤§åŠå¹´ä¹Ÿå†™äº†ä¸å°‘é€šç”¨æ¨¡å—ï¼Œå´ä»æ¥æ²¡ä½¿ç”¨è¿‡ä¸€ç§é€šè¿‡ä¹¦å†™æ ¼å¼ã€‚<br>ç›®å‰å…¬å¸çš„å‰ç«¯é€šç”¨åº“è¿˜æ˜¯<code>jQuery</code>, ä½†ä¹Ÿä¸æ˜¯æ‰€æœ‰çš„æ¨¡å—éƒ½é€‚åˆä»¥<code>jQuery æ’ä»¶</code>çš„å½¢å¼å¼€å‘ã€‚å¹³æ—¶å†™çš„æ—¶å€™ä¸€èˆ¬ä»¥ç«‹å³æ‰§è¡Œå‡½æ•°æˆ– OO å½¢å¼å¼€å‘ï¼Œä»¥ç›®å‰é¡¹ç›®æƒ…å†µæ¥çœ‹ä¹Ÿä¸æ˜¯å¾ˆéœ€è¦ç”¨<code>require.js</code>æˆ–<code>sea.js</code>ä¹‹ç±»çš„åŠ è½½å™¨ã€‚</p><p>å…¶å®æˆ‘çš„éœ€æ±‚å¾ˆç®€å•ï¼Œå°±æ˜¯æŠ¹å»æ¨¡å—åœ¨å…¨å±€ä½œç”¨åŸŸçš„å®šä¹‰ï¼Œä»¥é€šç”¨çš„å½¢å¼å®šä¹‰å’Œå¼•ç”¨ã€‚</p><a id="more"></a><h2 id="æœ€ç»ˆç›®æ ‡"><a href="#æœ€ç»ˆç›®æ ‡" class="headerlink" title="æœ€ç»ˆç›®æ ‡"></a>æœ€ç»ˆç›®æ ‡</h2><p>ä»ç»“æœå‡ºå‘åˆ†æéœ€æ±‚ï¼Œå…ˆåˆ—å‡ºæ¥æœ€ç»ˆæƒ³è¦çš„ä»£ç å½¢å¼ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// å½¢å¼1ï¼šåŒ¿åæ¨¡å—ï¼Œåªæœ‰ä¸€ä¸ªæ³¨å…¥exportså‚æ•°çš„å‡½æ•°ä½“</span></div><div class="line"><span class="built_in">module</span>(<span class="function"><span class="keyword">function</span> (<span class="params">exports</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">require</span>(<span class="string">'m1'</span>).msg);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// å½¢å¼2ï¼šå…·åæ¨¡å—ï¼ŒåŒ…å«ä¸€ä¸ªæ¨¡å—åç§°å‚æ•°å’Œä¸€ä¸ªæ³¨å…¥exportså‚æ•°çš„å‡½æ•°ä½“</span></div><div class="line"><span class="built_in">module</span>(<span class="string">'m1'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">exports</span>) </span>&#123;</div><div class="line">    exports.msg = <span class="string">'hello'</span>;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// å½¢å¼3ï¼šå…·åæ¨¡å—ï¼ŒåŒ…å«ä¸€ä¸ªæ¨¡å—åç§°å‚æ•°ã€ä¾èµ–æ¨¡å—æ•°ç»„ã€å’Œä¸€ä¸ªæ³¨å…¥ä¾èµ–æ¨¡å—ã€exportså‚æ•°çš„å‡½æ•°ä½“</span></div><div class="line"><span class="built_in">module</span>(<span class="string">'m2'</span>, [<span class="string">'m1'</span>], <span class="function"><span class="keyword">function</span> (<span class="params">m1, exports</span>) </span>&#123;</div><div class="line">    exports.msg = m1.msg + <span class="string">"World"</span>;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// å½¢å¼4ï¼šåŒ¿åæ¨¡å—ï¼Œä¸å½¢å¼3ç›¸æ¯”æ²¡æœ‰æ¨¡å—åç§°</span></div><div class="line"><span class="built_in">module</span>([<span class="string">'m2'</span>], <span class="function"><span class="keyword">function</span> (<span class="params">m2, exports</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(m2.msg);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>ä½¿ç”¨<code>module</code>å®šä¹‰ä¸€ä¸ªæ¨¡å—ï¼Œæ‹¥æœ‰ä¸€ä¸ªå‡½æ•°ä¸Šä¸‹æ–‡ï¼Œå¯ä»¥å®šä¹‰æ¨¡å—åç§°å’Œå¼•ç”¨å…¶ä»–æ¨¡å—ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ³¨å…¥çš„<code>exports</code>å‚æ•°è¾“å‡ºæ¨¡å—å¼€æ”¾æ¥å£ã€‚<br>æŸäº›æ—¶å€™ä¹Ÿè®¸éœ€è¦<code>require(&#39;æ¨¡å—å&#39;)</code>è¿™ç§å½¢å¼æ¥ç›´æ¥å¼•ç”¨æ¨¡å—ã€‚</p><h2 id="1-æ³¨å…¥ç¯å¢ƒå˜é‡"><a href="#1-æ³¨å…¥ç¯å¢ƒå˜é‡" class="headerlink" title="1. æ³¨å…¥ç¯å¢ƒå˜é‡"></a>1. æ³¨å…¥ç¯å¢ƒå˜é‡</h2><p>ä»ä»¥ä¸Šå››ç§æ¨¡å—å½¢å¼æ¥çœ‹ï¼Œ<code>module</code>å’Œ<code>require</code>ä¸¤ä¸ªå˜é‡çš„ä½œç”¨åŸŸæ˜¯å…¨å±€ï¼Œéœ€è¦æ³¨å…¥åˆ°<code>window</code>ä¸­ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">w, f</span>)</span>&#123;</div><div class="line"></div><div class="line">    w.module = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    w.require = <span class="function"><span class="keyword">function</span> (<span class="params">namne</span>) </span>&#123;</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;(<span class="built_in">window</span>, <span class="literal">undefined</span>));</div></pre></td></tr></table></figure><p>ä¸€ä¸ªç®€å•çš„ç«‹å³æ‰§è¡Œå‡½æ•°å°±å¯ä»¥åšåˆ°ã€‚</p><h2 id="2-è§£æ-module-å‚æ•°"><a href="#2-è§£æ-module-å‚æ•°" class="headerlink" title="2. è§£æ module å‚æ•°"></a>2. è§£æ module å‚æ•°</h2><p><code>module</code>å‚æ•°çš„æ•°é‡æ˜¯ä¸å›ºå®šçš„ï¼Œæœ€å°‘1ä¸ªï¼ˆå½¢å¼1ï¼‰ã€æœ€å¤š3ä¸ªï¼ˆå½¢å¼3ï¼‰ã€‚<br>å¯ä»¥éœ€è¦é€šè¿‡åˆ¤æ–­å‚æ•°æ•°é‡å’Œç±»å‹åŠ ä»¥åŒºåˆ†ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">w.module = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> modName = <span class="built_in">arguments</span>[<span class="number">0</span>],     <span class="comment">// æ¨¡å—å String</span></div><div class="line">        mods = <span class="built_in">arguments</span>[<span class="number">1</span>],        <span class="comment">// å¼•ç”¨æ¨¡å— Array</span></div><div class="line">        context = <span class="built_in">arguments</span>[<span class="built_in">arguments</span>.length - <span class="number">1</span>];      <span class="comment">// æ¨¡å—å‡½æ•° Function</span></div><div class="line"></div><div class="line">    <span class="keyword">if</span>(modName <span class="keyword">instanceof</span> <span class="built_in">Array</span>) &#123;</div><div class="line">        mods = modName;</div><div class="line">        modName = f;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å‚æ•°æ•°é‡ä¸å›ºå®šï¼Œä¹Ÿå°±ä¸å¿…å®šä¹‰å½¢å‚äº†ï¼Œç›´æ¥ä»<code>arguments</code>ä¸­è·å–ã€‚</p><blockquote><p><code>arguments[0]</code>æ˜¯æ¨¡å—åï¼Œæ¨¡å—åå­˜åœ¨æ—¶æ°¸è¿œæ˜¯å‚æ•°ç¬¬ä¸€ä½ï¼›<br><code>arguments[1]</code>æ˜¯å¼•ç”¨æ¨¡å—ï¼Œæ¨¡å—åä¸å­˜åœ¨æ—¶<code>arguments[0]</code>ä¸ºå¼•ç”¨æ¨¡å—ï¼Œæ‰€ä»¥åˆ¤æ–­æ¨¡å—åæ˜¯æ•°ç»„ç±»å‹æ—¶é‡æ–°èµ‹å€¼ï¼›<br>ä¸ç®¡ä½•ç§å½¢å¼æ¨¡å—å‡½æ•°éƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œç›´æ¥ä½¿ç”¨<code>arguments[arguments.length - 1]</code>è·å–ï¼›</p></blockquote><h2 id="3-å®ç°-module"><a href="#3-å®ç°-module" class="headerlink" title="3. å®ç° module"></a>3. å®ç° module</h2><p>æ¨¡å—å‡½æ•°çš„å‚æ•°æ•°é‡ä¹Ÿæ˜¯ä¸å›ºå®šçš„ï¼Œä½†è‡³å°‘éœ€è¦æ³¨å…¥<code>exports</code>æ¥è¾“å‡ºå¼€æ”¾æ¥å£ã€‚<br>æ¯å¤šå¼•ç”¨ä¸€ä¸ªæ¨¡å—ï¼Œå°±éœ€è¦å‘æ¨¡å—å‡½æ•°ä¸­æ³¨å…¥ä¸€ä¸ªå¯¹åº”å‚æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> modules = &#123;&#125;;  <span class="comment">// æ¨¡å—å®¹å™¨</span></div><div class="line"></div><div class="line">w.module = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> modName = <span class="built_in">arguments</span>[<span class="number">0</span>],     <span class="comment">// æ¨¡å—å String</span></div><div class="line">        mods = <span class="built_in">arguments</span>[<span class="number">1</span>],        <span class="comment">// å¼•ç”¨æ¨¡å— Array</span></div><div class="line">        context = <span class="built_in">arguments</span>[<span class="built_in">arguments</span>.length - <span class="number">1</span>];      <span class="comment">// æ¨¡å—å‡½æ•° Function</span></div><div class="line"></div><div class="line">    <span class="keyword">if</span>(modName <span class="keyword">instanceof</span> <span class="built_in">Array</span>) &#123;</div><div class="line">        mods = modName;</div><div class="line">        modName = f;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// 1. å–å‡ºæ¨¡å—</span></div><div class="line">    <span class="keyword">var</span> args = [];</div><div class="line">    <span class="keyword">if</span>(mods <span class="keyword">instanceof</span> <span class="built_in">Array</span>) &#123;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; mods.length; i++) &#123;</div><div class="line">            args.push(modules[mods[i]]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// 2. æ³¨å†Œæ¨¡å—</span></div><div class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> modName === <span class="string">'string'</span>) &#123;</div><div class="line">        modules[modName] = &#123;&#125;;</div><div class="line">        args.push(modules[modName]);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// 3. æ³¨å…¥å‚æ•°ï¼Œæ‰§è¡Œæ¨¡å—</span></div><div class="line">    context.apply(<span class="keyword">this</span>, args);</div><div class="line">&#125;</div></pre></td></tr></table></figure><blockquote><p>éå†<code>mods</code>å–å‡ºæ¨¡å—ï¼šå®šä¹‰äº†ä¸€ä¸ªå˜é‡<code>modules</code>å­˜æ”¾æ¨¡å—ï¼Œé‚£ä¹ˆå‡å¦‚ä¸€ä¸ªæ¨¡å—å¼•ç”¨äº†æ¨¡å—<code>a</code>ã€<code>b</code>ï¼Œåˆ™<code>mods = [&#39;a&#39;, &#39;b&#39;];</code>ï¼Œ<code>a</code>ã€<code>b</code>ä¸¤ä¸ªæ¨¡å—çš„çœŸå€¼å³ä¸º<code>modules[&#39;a&#39;]</code>ã€<code>modules[&#39;b&#39;]</code>ã€‚å½“æ¨¡å—ä¸ºå½¢å¼2æ—¶ï¼Œå‚æ•°æœ‰ä¸¤ä¸ªï¼Œå‚æ•°2ä¸ºæ¨¡å—å‡½æ•°ã€‚æ­¤æ—¶ <code>arguments[1] === arguments[arguments.length - 1]</code>ï¼Œå¼•ç”¨æ¨¡å—(mods)ä¹ŸæŒ‡å‘äº†æ¨¡å—å‡½æ•°ï¼Œæ‰€ä»¥è¦åˆ¤æ–­<code>mods</code>ç±»å‹ã€‚<br>æ³¨å†Œæ¨¡å—ï¼šæ¯ä¸€ä¸ªå…·åæ¨¡å—éƒ½éœ€è¦æ³¨å†Œåˆ°<code>modules</code>ä¸­ï¼Œä»¥å¤‡å…¶ä»–æ¨¡å—å¼•ç”¨ã€‚å½“æ¨¡å—ä¸ºåŒ¿åæ¨¡å—æ—¶ï¼Œä¸éœ€è¦æ³¨å†Œï¼Œæ‰€ä»¥è¦åˆ¤æ–­<code>modName</code>ç±»å‹ã€‚<br>æ³¨å…¥å‚æ•°ï¼Œæ‰§è¡Œæ¨¡å—ï¼šå¯¹äºä¸å®šæ•°é‡çš„å‚æ•°æ³¨å…¥ï¼Œæ˜¾ç„¶æ˜¯ä½¿ç”¨<code>apply</code>æœ€ç®€å•ã€‚</p></blockquote><h2 id="4-å®ç°-require"><a href="#4-å®ç°-require" class="headerlink" title="4. å®ç° require"></a>4. å®ç° require</h2><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> modules = &#123;&#125;;  <span class="comment">// æ¨¡å—å®¹å™¨</span></div><div class="line"></div><div class="line">w.module = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">//...</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">w.require = <span class="function"><span class="keyword">function</span> (<span class="params">namne</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> modules[namne];</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>æš‚æ—¶ä¸è€ƒè™‘å¼‚æ­¥åŠ è½½ã€åŠ è½½è·¯å¾„è§£æç­‰å„ç§æƒ…å†µäº†ï¼Œç›´æ¥ä»å®¹å™¨ä¸­å–åˆ°æ¨¡å—â€¦</p><h2 id="5-å®Œæ•´ä»£ç "><a href="#5-å®Œæ•´ä»£ç " class="headerlink" title="5. å®Œæ•´ä»£ç "></a>5. å®Œæ•´ä»£ç </h2><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">w, f</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> modules = &#123;&#125;;   <span class="comment">// æ¨¡å—å®¹å™¨</span></div><div class="line"></div><div class="line">    w.module = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> modName = <span class="built_in">arguments</span>[<span class="number">0</span>],     <span class="comment">// æ¨¡å—å String</span></div><div class="line">            mods = <span class="built_in">arguments</span>[<span class="number">1</span>],        <span class="comment">// å¼•ç”¨æ¨¡å— Array</span></div><div class="line">            context = <span class="built_in">arguments</span>[<span class="built_in">arguments</span>.length - <span class="number">1</span>];      <span class="comment">// æ¨¡å—å‡½æ•° Function</span></div><div class="line"></div><div class="line">        <span class="keyword">if</span>(modName <span class="keyword">instanceof</span> <span class="built_in">Array</span>) &#123;</div><div class="line">            mods = modName;</div><div class="line">            modName = f;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">var</span> args = [];</div><div class="line">        <span class="keyword">if</span>(mods <span class="keyword">instanceof</span> <span class="built_in">Array</span>) &#123;</div><div class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; mods.length; i++) &#123;</div><div class="line">                args.push(modules[mods[i]]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(<span class="keyword">typeof</span> modName === <span class="string">'string'</span>) &#123;</div><div class="line">            modules[modName] = &#123;&#125;;</div><div class="line">            args.push(modules[modName]);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        context.apply(<span class="keyword">this</span>, args);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    w.require = <span class="function"><span class="keyword">function</span> (<span class="params">namne</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> modules[namne];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">&#125;(<span class="built_in">window</span>, <span class="literal">undefined</span>));</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// å½¢å¼1ï¼šåŒ¿åæ¨¡å—ï¼Œåªæœ‰ä¸€ä¸ªæ³¨å…¥exportså‚æ•°çš„å‡½æ•°ä½“</span></div><div class="line"><span class="built_in">module</span>(<span class="function"><span class="keyword">function</span> (<span class="params">exports</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">require</span>(<span class="string">'m1'</span>).msg);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// å½¢å¼2ï¼šå…·åæ¨¡å—ï¼ŒåŒ…å«ä¸€ä¸ªæ¨¡å—åç§°å‚æ•°å’Œä¸€ä¸ªæ³¨å…¥exportså‚æ•°çš„å‡½æ•°ä½“</span></div><div class="line"><span class="built_in">module</span>(<span class="string">'m1'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">exports</span>) </span>&#123;</div><div class="line">    exports.msg = <span class="string">'hello'</span>;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// å½¢å¼3ï¼šå…·åæ¨¡å—ï¼ŒåŒ…å«ä¸€ä¸ªæ¨¡å—åç§°å‚æ•°ã€ä¾èµ–æ¨¡å—æ•°ç»„ã€å’Œä¸€ä¸ªæ³¨å…¥ä¾èµ–æ¨¡å—ã€exportså‚æ•°çš„å‡½æ•°ä½“</span></div><div class="line"><span class="built_in">module</span>(<span class="string">'m2'</span>, [<span class="string">'m1'</span>], <span class="function"><span class="keyword">function</span> (<span class="params">m1, exports</span>) </span>&#123;</div><div class="line">    exports.msg = m1.msg + <span class="string">"World"</span>;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// å½¢å¼4ï¼šåŒ¿åæ¨¡å—ï¼Œä¸å½¢å¼3ç›¸æ¯”æ²¡æœ‰æ¨¡å—åç§°</span></div><div class="line"><span class="built_in">module</span>([<span class="string">'m2'</span>], <span class="function"><span class="keyword">function</span> (<span class="params">m2, exports</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(m2.msg);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>æ‰§è¡Œä»¥ä¸Šä»£ç ä¼šæŠ¥é”™ï¼Œä»£ç æ˜¯è‡ªä¸Šè€Œä¸‹åŒæ­¥æ‰§è¡Œçš„ï¼Œå½¢å¼1è¿è¡Œé˜¶æ®µæ¨¡å—<code>m1</code>è¿˜æœªå®šä¹‰ã€‚<br>æŠŠå½¢å¼1æ”¾åˆ°å½¢å¼4ä¹‹åæ‰§è¡Œï¼Œè¾“å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">helloWorld</div><div class="line">hello</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      å®ç°ä¸€ä¸ªç®€å•çš„æ¨¡å—åŠ è½½å™¨,javascript module loader
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://imys.net/tags/JavaScript/"/>
    
      <category term="æ¨¡å—åŒ–" scheme="http://imys.net/tags/%E6%A8%A1%E5%9D%97%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>gulpæ”¹å–„å·¥ä½œæµè®°å½•</title>
    <link href="http://imys.net/20151022/use-gulp-front-building-exp.html"/>
    <id>http://imys.net/20151022/use-gulp-front-building-exp.html</id>
    <published>2015-10-22T02:37:53.000Z</published>
    <updated>2016-11-12T19:29:42.994Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸Šä¸ªæœˆå‘é¢†å¯¼æå‡ºçš„<a href="../20150908/gulp-ejs-module.html">ä½¿ç”¨gulp+ejsæ¨¡å—åŒ–html</a>æœ€è¿‘å¾—åˆ°äº†å®æ–½ï¼Œå¤§æ¦‚è®°å½•ä¸‹æ­¤æ¬¡æ”¹é€ å·¥ä½œã€‚</p><a id="more"></a><h2 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h2><pre><code>html
  -dest
    --Folder
    --index.html
    --...
  -src
    --Folder
    --Modules
      ---header.html
      ---...
    --index.html
    --...
static
  -dest
    --css
    --js
    --img
  -src
    --css
    --js
    --img
    --less
node_modules
gulpfile.js
package.json
</code></pre><h2 id="gulpæ¨¡å—"><a href="#gulpæ¨¡å—" class="headerlink" title="gulpæ¨¡å—"></a>gulpæ¨¡å—</h2><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),  </div><div class="line">    less = <span class="built_in">require</span>(<span class="string">'gulp-less'</span>),  </div><div class="line">    minifycss = <span class="built_in">require</span>(<span class="string">'gulp-minify-css'</span>),    </div><div class="line">    jshint = <span class="built_in">require</span>(<span class="string">'gulp-jshint'</span>),   </div><div class="line">    uglify = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>),   </div><div class="line">    imagemin = <span class="built_in">require</span>(<span class="string">'gulp-imagemin'</span>),   </div><div class="line">    pngquant = <span class="built_in">require</span>(<span class="string">'imagemin-pngquant'</span>),    </div><div class="line">    rename = <span class="built_in">require</span>(<span class="string">'gulp-rename'</span>),    </div><div class="line">    notify = <span class="built_in">require</span>(<span class="string">'gulp-notify'</span>),    </div><div class="line">    browserSync = <span class="built_in">require</span>(<span class="string">'browser-sync'</span>), </div><div class="line">    ejs = <span class="built_in">require</span>(<span class="string">'gulp-ejs'</span>),          </div><div class="line">    changed = <span class="built_in">require</span>(<span class="string">'gulp-changed'</span>),  </div><div class="line">    replace = <span class="built_in">require</span>(<span class="string">'gulp-replace'</span>);</div></pre></td></tr></table></figure><p><code>html</code>é€‰æ‹©äº†<code>ejs</code>æ¥ç®¡ç†ï¼Œ<code>css</code>é¢„å¤„ç†é€‰æ‹©äº†<code>less</code>ã€‚<br>ç®€å•ã€å®ç”¨ï¼</p><p>å¯¹äºæµè§ˆå™¨åŒæ­¥å·¥å…·ï¼Œæœ¬æ¥ä½¿ç”¨çš„æ˜¯<code>live-reload</code>ï¼Œåœ¨åˆæ¬¡ä½¿ç”¨ä¸­æ„Ÿè§‰ä¸æ˜¯å¾ˆé¡ºç•…ï¼Œä¹‹åæ¢æˆäº†<code>browserSync</code>ã€‚<br>browserSync é™¤äº†æ–‡ä»¶æ›´æ”¹å®æ—¶åˆ·æ–°æµè§ˆå™¨å¤–ï¼Œè¿˜æœ‰å¤šè®¾å¤‡åŒæ­¥åŠŸèƒ½ï¼Œé€šè¿‡å¯è§†åŒ–æ§åˆ¶å°å¯ä»¥å®æ—¶æµ‹è¯•ç§»åŠ¨ç«¯ä»£ç ã€‚<br>å¯¹æ¯”è€Œè¨€ï¼Œlive-reload ä¾èµ– Chrome åŠ LiveReload æ’ä»¶ï¼Œåº”è¯¥æ˜¯å€ŸåŠ© Chrome çš„æŸç§å¼€æ”¾æ¥å£å®ç°çš„ã€‚<br>è€Œ browserSync æ˜¯åŸºäºè™šæ‹ŸæœåŠ¡å™¨çš„ï¼Œæ‰€æœ‰å¯ä»¥å®ç°å¤šè®¾å¤‡çš„æ§åˆ¶ã€‚</p><h2 id="å·¥ä½œæµ"><a href="#å·¥ä½œæµ" class="headerlink" title="å·¥ä½œæµ"></a>å·¥ä½œæµ</h2><p>ç¼–å†™htmlã€lessã€js =&gt; æµè§ˆå™¨è®¿é—®ï¼ˆURLå¯¹åº”htmlæ–‡ä»¶ç›®å½•ï¼‰ =&gt; æµè§ˆå™¨æ˜¾ç¤ºç¼–è¯‘åçš„htmlã€cssã€js =&gt; htmlå·²ç»è¿‡æ¨¡æ¿åˆå¹¶ï¼Œ<code>include</code>ç­‰å…³é”®å­—æ˜¯æ²¡æœ‰çš„ =&gt; cssæ˜¯lessç¼–è¯‘ç”Ÿæˆçš„ï¼Œé¡µé¢ä»å§‹è‡³ç»ˆå¼•ç”¨çš„éƒ½æ˜¯ css æ–‡ä»¶ï¼Œä¸è¿‡ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„åŒå less æ–‡ä»¶ã€‚</p><p>æ”¹é€ è¿›è¡Œé˜¶æ®µä¹Ÿæ²¡é‡åˆ°ä»€ä¹ˆå¤ªå¤§é—®é¢˜ï¼Œèƒ½é‡åˆ°çš„é—®é¢˜ä¹Ÿéƒ½èƒ½åœ¨githubä¸­æ‰¾åˆ°ç­”æ¡ˆã€‚<br>ä¸è¿‡è¿˜æ˜¯è¦æ ¹æ®å„è‡ªå›¢é˜Ÿçš„é¡¹ç›®æƒ…å†µå› åœ°åˆ¶å®œï¼Œåˆç†é…ç½®ã€‚</p>]]></content>
    
    <summary type="html">
    
      gulpæ”¹å–„å·¥ä½œæµè®°å½•
    
    </summary>
    
    
      <category term="Gulp" scheme="http://imys.net/tags/Gulp/"/>
    
      <category term="å‰ç«¯æ„å»º" scheme="http://imys.net/tags/%E5%89%8D%E7%AB%AF%E6%9E%84%E5%BB%BA/"/>
    
  </entry>
  
  <entry>
    <title>Node.jså‘½ä»¤è¡Œç©æ³•</title>
    <link href="http://imys.net/20150919/nodejs-shell.html"/>
    <id>http://imys.net/20150919/nodejs-shell.html</id>
    <published>2015-09-19T12:20:13.000Z</published>
    <updated>2016-11-12T19:24:07.330Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Node.js</strong> çš„çƒ­é—¨ä¹‹å¤„å°±åœ¨äºå…¶å‘½ä»¤è¡Œå¼€å‘èƒ½åŠ›ã€‚<br>ä¸€ä¸ªåœ¨ <code>shell</code> ä¸‹ç¼–ç çš„ç¨‹åºå‘˜ç»å¯¹è¦æ¯”åœ¨å¸¸è§„ç¼–è¾‘å™¨ä¸Šç¼–ç çš„ç¨‹åºå‘˜é…·ï¼</p><a id="more"></a><h2 id="åŸºç¡€ç¯å¢ƒ"><a href="#åŸºç¡€ç¯å¢ƒ" class="headerlink" title="åŸºç¡€ç¯å¢ƒ"></a>åŸºç¡€ç¯å¢ƒ</h2><ol><li>win10 x64</li><li>node.js</li><li>npm</li></ol><h2 id="hello-world"><a href="#hello-world" class="headerlink" title="hello world"></a>hello world</h2><p>ä¸€åˆ‡ä» <code>hello world</code> å¼€å§‹ï¼</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="meta">#!/usr/bin/env node</span></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'hello world'</span>);</div></pre></td></tr></table></figure><p>æ™®é€šçš„ node.js è„šæœ¬éœ€è¦ä½¿ç”¨<code>node æ–‡ä»¶å</code>çš„å½¢å¼æ‰§è¡Œï¼Œåœ¨è„šæœ¬é¦–è¡ŒåŠ ä¸Š<code>#!/usr/bin/env node</code>å¯ä»¥åœ¨<code>linux</code>ç¯å¢ƒä¸­æŒ‡å®šè„šæœ¬çš„è§£é‡Šç¨‹åºã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">&gt; hello.js</div><div class="line">hello world</div></pre></td></tr></table></figure><h2 id="å…¨å±€å‘½ä»¤"><a href="#å…¨å±€å‘½ä»¤" class="headerlink" title="å…¨å±€å‘½ä»¤"></a>å…¨å±€å‘½ä»¤</h2><p>ä»¥ä¸Šçš„åšæ³•åªèƒ½åœ¨ç‰¹å®šçš„ç›®å½•ä¸‹æ‰§è¡Œè¯¥è„šæœ¬æ–‡ä»¶ï¼Œå¦‚æœæƒ³åšåˆ°å¦‚<code>node</code>èˆ¬çš„æ— å¤„ä¸åœ¨ï¼Œéœ€è¦å€Ÿç”¨<code>npm</code>äº†ã€‚</p><p>åœ¨å½“å‰ç›®å½•æ–°å»º<code>package.json</code>ï¼Œå¦‚ä¸‹ç¼–ç ï¼š</p><figure class="highlight json"><table><tr><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"name"</span>: <span class="string">"hello"</span>,</div><div class="line">    <span class="attr">"bin"</span>: &#123;</div><div class="line">        <span class="attr">"hello"</span>: <span class="string">"hello.js"</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ç„¶åæ‰§è¡Œ<code>npm link</code>å‘½ä»¤ï¼Œå°†ä¼šæŠŠä»¥ä¸Šé…ç½®æ³¨å†Œåˆ°å…¨å±€ï¼Œè¿™æ ·åœ¨ä»»ä½•ä¸€ä¸ªç›®å½•éƒ½å¯ä»¥è°ƒç”¨<code>hello</code>è¾“å‡º<code>hello world</code>äº†ã€‚</p><h2 id="å‘½ä»¤è¡Œå‚æ•°"><a href="#å‘½ä»¤è¡Œå‚æ•°" class="headerlink" title="å‘½ä»¤è¡Œå‚æ•°"></a>å‘½ä»¤è¡Œå‚æ•°</h2><p>å…‰æœ‰ç‰¹å®šå‘½ä»¤åä¹Ÿåªèƒ½æ‰§è¡Œä¸€é¡¹ç‰¹å®šä»»åŠ¡ï¼Œç°åœ¨è¯¥å®ç°<strong>å¤šæ€</strong>äº†ã€‚</p><p>å†™ä¸€ä¸ªå°å·¥å…·å§ã€‚<br>éœ€æ±‚å¾ˆç®€å•ï¼Œæ‰§è¡Œ<code>run name</code>æ‰“å¼€å¯¹åº”çš„åº”ç”¨ç¨‹åºã€‚</p><p>æ–°å»ºæ–‡ä»¶<code>config.json</code>ã€<code>run.js</code>ï¼Œ<code>config.json</code>ç”¨äºé…ç½®åº”ç”¨ç¨‹åºçš„è·¯å¾„ã€‚</p><figure class="highlight json"><table><tr><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"qq"</span>: <span class="string">"D:\\qq\\Bin\\QQ.exe"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å…ˆæ‹¿ä¼é¹…å¼€åˆ€ï¼Œåœ¨<code>config.json</code>æ–‡ä»¶ä¸­é…ç½®<code>qq.exe</code>çš„ç»å¯¹è·¯å¾„ã€‚<br>å¦å¤–åˆ«å¿˜äº†åœ¨<code>package.json</code>ä¸­æ·»åŠ <code>run.js</code>ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="meta">#!/usr/bin/env node</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> name = process.argv[<span class="number">2</span>],</div><div class="line">    exec = <span class="built_in">require</span>(<span class="string">'child_process'</span>).exec,</div><div class="line">    fs   = <span class="built_in">require</span>(<span class="string">'fs'</span>);</div><div class="line"></div><div class="line"><span class="keyword">var</span> cfg = <span class="built_in">JSON</span>.parse(fs.readFileSync(__dirname + <span class="string">'/config.json'</span>));</div><div class="line"></div><div class="line"><span class="keyword">var</span> child = exec(<span class="string">'start '</span> + cfg[name], <span class="function"><span class="keyword">function</span>(<span class="params">err, stdout, stderr</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (err) <span class="keyword">throw</span> err;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>ä½¿ç”¨ç³»ç»Ÿå˜é‡<code>process.argv</code>è·å–è¾“å…¥å‚æ•°ï¼Œå¼•ç”¨<code>fs</code>æ¨¡å—ç”¨äºè¯»å–é…ç½®æ–‡ä»¶ï¼Œ<code>child_process</code>æ¨¡å—ç”¨äºæ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€‚</p><p>å¯ä¸ºä»€ä¹ˆå‚æ•°ç´¢å¼•æ˜¯ <strong>2</strong> å‘¢ï¼Ÿéš¾é“å‘½ä»¤è¡Œç´¢å¼•ä» <strong>1</strong> å¼€å§‹å—ï¼Ÿ</p><blockquote><p>å…¶å®æ˜¯å› ä¸ºæˆ‘ä»¬å®é™…æ‰§è¡Œçš„å‘½ä»¤è¿˜æ˜¯<code>node run name</code>ï¼Œ<code>node</code>ç´¢å¼•ä¸º <strong>0</strong>ã€‚</p></blockquote><p>å¼€å§‹æµ‹è¯•ã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">run qq</div></pre></td></tr></table></figure><p>ä¼é¹…ç™»å½•çª—å£åº”å£°è€Œå‡ºã€‚<br>å¦‚æœè¿˜éœ€è¦å…¶ä»–åº”ç”¨ç¨‹åºçš„å‘½ä»¤è¡Œå¯åŠ¨å¯ä»¥åœ¨<code>config.json</code>ä¸­æ·»åŠ æ–°çš„é…ç½®é¡¹ã€‚</p><p>ä»¥ä¸Šä»£ç ä½¿ç”¨çš„æ˜¯ node.js åŸç”Ÿçš„å‘½ä»¤è¡Œæ¨¡å—ï¼Œè¿˜æœ‰ä¸€äº›æ›´æ–¹ä¾¿çš„åŒ…è£…æ¨¡å—ï¼Œå‚è€ƒï¼š<a href="http://www.ruanyifeng.com/blog/2015/05/command-line-with-node.html" target="_blank" rel="external">é˜®ä¸€å³° - Node.js å‘½ä»¤è¡Œç¨‹åºå¼€å‘æ•™ç¨‹</a>ã€‚</p>]]></content>
    
    <summary type="html">
    
      Node.jså‘½ä»¤è¡Œå¼€å‘
    
    </summary>
    
    
      <category term="Nodejs" scheme="http://imys.net/tags/Nodejs/"/>
    
      <category term="cmd" scheme="http://imys.net/tags/cmd/"/>
    
  </entry>
  
  <entry>
    <title>Html5è°ƒç”¨æ‰‹æœºç›¸æœºå¹¶å‹ç¼©ã€ä¸Šä¼ </title>
    <link href="http://imys.net/20150916/webapp-input-use-camera.html"/>
    <id>http://imys.net/20150916/webapp-input-use-camera.html</id>
    <published>2015-09-16T08:21:28.000Z</published>
    <updated>2016-11-12T19:38:12.506Z</updated>
    
    <content type="html"><![CDATA[<p>è¿‘æ—¥åˆšåšçš„ä¸€ä¸ªåŠŸèƒ½ï¼Œè¦åœ¨appé‡Œä½¿ç”¨å†…åµŒé¡µé¢è¿›è¡Œå›¾åƒçš„ä¸Šä¼ ã€‚<br>ä»åŠŸèƒ½ä¸Šçœ‹ï¼ŒåŸç”Ÿçš„å®ç°åº”è¯¥æ˜¯æœ€å¥½çš„ã€‚æ¯•ç«Ÿé¡µé¢ä¸Šæ‰€æœ‰çš„ä¸œè¥¿éƒ½éš”ç€ä¸€ä¸ªæµè§ˆå™¨ï¼Œæ‰€æœ‰çš„å®ç°éƒ½è¦ä¾èµ–æµè§ˆå™¨æä¾›çš„æ¥å£ï¼Œä¸åŒçš„æµè§ˆå™¨å¯¹æ¥å£çš„å®ç°åˆæœ‰å·®å¼‚â€¦â€¦åˆ°æœ€ååˆä¼šé™·å…¥å…¼å®¹æ€§çš„å¤§å‘!<br>åæ§½å½’åæ§½ï¼Œä½†æ˜¯æŠ˜è…¾çš„åŠ²å¤´ä¸èƒ½ä¸¢ï¼</p><a id="more"></a><h2 id="ä½¿ç”¨input-file-camera-å±æ€§è°ƒç”¨ç›¸æœº"><a href="#ä½¿ç”¨input-file-camera-å±æ€§è°ƒç”¨ç›¸æœº" class="headerlink" title="ä½¿ç”¨input file[camera]å±æ€§è°ƒç”¨ç›¸æœº"></a>ä½¿ç”¨input file[camera]å±æ€§è°ƒç”¨ç›¸æœº</h2><p>ç®€ç›´<strong>So easyï¼</strong></p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">accept</span>=<span class="string">"image/*;"</span> <span class="attr">capture</span>=<span class="string">"camera"</span> &gt;</span></div></pre></td></tr></table></figure><p>åªéœ€è¦è¿™ä¹ˆä¸€æ¡ç®€å•çš„ä»£ç ï¼Œåœ¨æ‰‹æœºæµè§ˆå™¨ç‚¹å‡»å°±å¯ä»¥æ‰“å¼€ç›¸æœºäº†ã€‚</p><p><code>capture</code>æ˜¯ä»€ä¹ˆï¼Ÿå…¶å®å°±æ˜¯å¯¹æ‰“å¼€æ–¹å¼çš„è®¾ç½®ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="comment">&lt;!-- capture=camcorderï¼Œè°ƒç”¨æ‰‹æœºæ‘„åƒåŠŸèƒ½ --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">accept</span>=<span class="string">"video/*"</span> <span class="attr">capture</span>=<span class="string">"camcorder"</span> &gt;</span> </div><div class="line"><span class="comment">&lt;!-- capture=microphoneï¼Œè°ƒç”¨æ‰‹æœºå½•éŸ³åŠŸèƒ½ --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">accept</span>=<span class="string">"audio/*"</span> <span class="attr">capture</span>=<span class="string">"microphone"</span> &gt;</span></div></pre></td></tr></table></figure><p>é­…æ—MX5æµ‹è¯•ç»“æœï¼š</p><ul><li>è°·æ­Œæµè§ˆå™¨å¯ä»¥æ‰“å¼€ç›¸æœºå’Œæ‘„åƒåŠŸèƒ½ï¼Œå…¶ä»–æ–¹å¼å‡ä¸ºç›¸æœºã€å›¾åº“ã€æ–‡ä»¶ç®¡ç†å™¨ç­‰æ··åˆé€‰æ‹©é¡¹ã€‚</li><li>è‡ªå¸¦æµè§ˆå™¨æ‰“å¼€å‡ä¸ºæ–‡ä»¶ç®¡ç†å™¨ã€‚</li></ul><p>ç”±æ­¤è¯´æ˜æ­¤å±æ€§å…¼å®¹æ€§è¿˜æ˜¯ä¸ªé—®é¢˜ã€‚ä¸è¿‡è¿™å¹¶ä¸èƒ½é˜»æ­¢æˆ‘ç»§ç»­æŠ˜è…¾ä¸‹å»ï¼</p><h2 id="å›¾ç‰‡å‹ç¼©"><a href="#å›¾ç‰‡å‹ç¼©" class="headerlink" title="å›¾ç‰‡å‹ç¼©"></a>å›¾ç‰‡å‹ç¼©</h2><p>åœ¨å¦‚ä»Šè¿™ä¸ªæ‰‹æœºæ™®éåƒä¸‡åƒç´ çš„æ—¶ä»£ï¼Œä¸€å¼ ç…§ç‰‡åŠ¨è¾„5Mçš„å¤§å°ã€‚ä½œä¸ºä¸€ä¸ªè‰¯å¿ƒçš„å¼€å‘è€…ï¼Œæˆ‘ä»¬æ˜¯è¦ä¸ºç”¨æˆ·çš„æµé‡è´Ÿè´£çš„ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">'file'</span>).addEventListener(<span class="string">'change'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</div><div class="line"></div><div class="line">    reader.onload = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">        compress(<span class="keyword">this</span>.result);</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    reader.readAsDataURL(<span class="keyword">this</span>.files[<span class="number">0</span>]);</div><div class="line"></div><div class="line">&#125;, <span class="literal">false</span>);</div></pre></td></tr></table></figure><p>ä¸ç®¡æ–‡ä»¶åŸŸæ˜¯ç”¨ä½•ç§æ–¹å¼æ‰“å¼€çš„ï¼Œéƒ½å¯ä»¥åœ¨ <code>change</code> äº‹ä»¶ä¸­è·å–åˆ°é€‰æ‹©çš„æ–‡ä»¶æˆ–æ‹æ‘„çš„ç…§ç‰‡ã€‚</p><p>åˆ›å»ºä¸€ä¸ª<code>FileReader</code>å¯¹è±¡ï¼Œæˆ‘ä»¬éœ€è¦è°ƒç”¨<code>readAsDataURL</code>æŠŠæ–‡ä»¶è½¬æ¢ä¸º<code>base64</code>å›¾åƒç¼–ç ï¼Œå¦‚<code>data:image/jpeg;base64â€¦â€¦</code>è¿™ç§æ ¼å¼ã€‚<br><code>onload</code>æ˜¯ä¸€ä¸ªå¼‚æ­¥å›è°ƒï¼Œå½“æ–‡ä»¶è¯»å–å®Œæ‰§è¡Œè¯¥æ–¹æ³•å†…ä»£ç ã€‚<code>this.result</code>è®°å½•è¯»å–ç»“æœï¼Œå¦‚æœè¯»å–å¤±è´¥ï¼Œè¯¥å€¼ä¸º<code>null</code>ã€‚åœ¨è¿™é‡Œè¿›è¡Œå›¾ç‰‡å‹ç¼©çš„å…·ä½“æ“ä½œã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> compress = <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> img = <span class="keyword">new</span> Image(),</div><div class="line">        maxH = <span class="number">160</span>;</div><div class="line"></div><div class="line">    img.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> cvs = <span class="built_in">document</span>.createElement(<span class="string">'canvas'</span>),</div><div class="line">            ctx = cvs.getContext(<span class="string">'2d'</span>);</div><div class="line"></div><div class="line">        <span class="keyword">if</span>(img.height &gt; maxH) &#123;</div><div class="line">            img.width *= maxH / img.height;</div><div class="line">            img.height = maxH;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        cvs.width = img.width;</div><div class="line">        cvs.height = img.height;</div><div class="line"></div><div class="line">        ctx.clearRect(<span class="number">0</span>, <span class="number">0</span>, cvs.width, cvs.height);</div><div class="line">        ctx.drawImage(img, <span class="number">0</span>, <span class="number">0</span>, img.width, img.height);</div><div class="line"></div><div class="line">        <span class="keyword">var</span> dataUrl = cvs.toDataURL(<span class="string">'image/jpeg'</span>, <span class="number">0.6</span>);</div><div class="line"></div><div class="line">        <span class="comment">// ä¸Šä¼ ç•¥</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    img.src = res;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ª<code>Image</code>å¯¹è±¡ï¼Œç»™<code>src</code>å±æ€§èµ‹å€¼ä¸ºè¯»å–ç»“æœï¼ŒåŒæ ·åœ¨<code>onload</code>å¼‚æ­¥å›è°ƒä¸­ç¼–å†™å¤„ç†å›¾ç‰‡çš„ä»£ç ã€‚<br>è¿™é‡Œå°±è¦å¼€å§‹ä½¿ç”¨<code>canvas</code>è¿›è¡Œå›¾ç‰‡å‹ç¼©äº†ã€‚</p><p>é¦–å…ˆæ˜¯å°ºå¯¸æŒ‰æ¯”ä¾‹ç¼©æ”¾ï¼Œç„¶åæŠŠå›¾ç‰‡ç»˜åˆ°ç”»å¸ƒä¸Šï¼Œæœ€åè°ƒç”¨<code>toDataURL</code>æ–¹æ³•å‹ç¼©å›¾åƒè´¨é‡ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">context.toDataURL(<span class="string">'MIMEç±»å‹'</span>, å›¾åƒè´¨é‡<span class="number">0</span><span class="number">-1</span>);  <span class="comment">// è¯¥æ–¹æ³•è¿”å›base64å›¾åƒç¼–ç </span></div></pre></td></tr></table></figure><p>ä»£ç é‡Œçœç•¥äº†ä¸€äº›æ ¡ç›‘æ“ä½œï¼Œå¦‚æ–‡ä»¶ç±»å‹çº¦æŸå’Œæ–‡ä»¶å¤§å°åˆ¤æ–­ï¼ˆå°äºä¸€å®šå€¼å¯ä»¥ä¸å‹ç¼©ï¼‰ã€‚<br>æœ€åå°±æ˜¯æŠŠæ•°æ®å‘é€åˆ°åç«¯çš„æ“ä½œï¼Œè¿™é‡Œå°±ä¸è¯´äº†ã€‚</p><h2 id="Html5è°ƒç”¨æ‘„åƒå¤´"><a href="#Html5è°ƒç”¨æ‘„åƒå¤´" class="headerlink" title="Html5è°ƒç”¨æ‘„åƒå¤´"></a>Html5è°ƒç”¨æ‘„åƒå¤´</h2><p>é€šè¿‡ä»¥ä¸Šçš„ä»£ç å·²ç»å¯ä»¥å®ç°è°ƒç”¨æ‰‹æœºç›¸æœºæ‹ç…§ã€å‹ç¼©ã€ä¸Šä¼ è¿™ä¸€æ•´å¥—æµç¨‹äº†ã€‚<br>ä¸è¿‡åœ¨æŠ˜è…¾çš„è¿‡ç¨‹ä¸­ä¹Ÿå‘ç°äº†ä¸€ç§è°ƒç”¨æ‘„åƒå¤´çš„æ–¹æ³•ã€‚æ³¨æ„ï¼Œæ˜¯<code>æ‘„åƒå¤´</code>ï¼ä½¿ç”¨inputè°ƒç”¨çš„æ˜¯ç›¸æœºã€‚å…¶ä¸­çš„å·®åˆ«å°±æ˜¯æ‘„åƒå¤´æ˜¯åªæ•è·ç”»é¢ï¼Œç›¸æœºè¿˜åŒ…æ‹¬åŸç”Ÿçš„ä¸€äº›æ‹ç…§ã€è®¾ç½®ç­‰æ§ä»¶ã€‚</p><p>é€šè¿‡å¯¹æ‘„åƒå¤´çš„è°ƒç”¨å¯ä»¥åšå¾ˆå¤šæœ‰è¶£çš„äº‹ï¼Œæ¯”å¦‚æ‹ç…§ç¾åŒ–ã€æ»¤é•œç­‰ã€‚å¯ä»¥è¯´å®ç°ä¸€ä¸ªç¬¬ä¸‰æ–¹ç›¸æœºæ˜¯æ²¡é—®é¢˜çš„ã€‚<br>ä¹‹å‰ä¸‹è½½è¿‡ä¸€æ¬¾å®‰å“ç›¸æœºAPPï¼Œä¸åˆ°100Kçš„å¤§å°ï¼Œå¯ä»¥å®ç°æ‹ç…§çš„ä¸€äº›é£æ ¼åŒ–ï¼Œä¹Ÿè®¸å°±æ˜¯Html5å®ç°çš„å‘¢ã€‚</p><p>éœ€è¦ç”¨åˆ°çš„æ˜¯ <strong>getUserMedia API</strong>ï¼Œå…·ä½“çš„å®ç°è¿™é‡Œå°±ä¸è´´äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      webapp,html5,input,fileè°ƒç”¨ç›¸æœºï¼Œæ‘„åƒå¤´ï¼Œå‹ç¼©ï¼Œä¸Šä¼ 
    
    </summary>
    
    
      <category term="Html5" scheme="http://imys.net/tags/Html5/"/>
    
      <category term="Webapp" scheme="http://imys.net/tags/Webapp/"/>
    
      <category term="File" scheme="http://imys.net/tags/File/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨gulp+ejsæ¨¡å—åŒ–html</title>
    <link href="http://imys.net/20150908/gulp-ejs-module.html"/>
    <id>http://imys.net/20150908/gulp-ejs-module.html</id>
    <published>2015-09-08T10:04:47.000Z</published>
    <updated>2016-11-12T19:13:01.627Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨é™æ€é¡µé¢ç›®å½•ä¸­ï¼ŒåŒå­ç›®å½•ä¸‹çš„é¡µé¢å¾€å¾€æœ‰å¾ˆå¤šé€šç”¨çš„æ¨¡å—ã€‚<br>å¹³å¸¸çš„ç¼–ç ä¸€èˆ¬æ˜¯é€šç”¨çš„ä»£ç ç›´æ¥å¤åˆ¶åˆ°å„ä¸ªé¡µé¢ï¼Œæ ·å¼å†™æˆå…¬ç”¨ï¼Œç„¶ååœ¨å„ä¸ªéœ€è¦çš„é¡µé¢å¼•ç”¨ã€‚<br>è€Œä¸€ä¸ªäº§å“åœ¨å®åœ°è¿è¡Œä¸­å¾€å¾€è¦ç»å†æ— æ•°æ¬¡çš„è¿­ä»£ï¼Œäºæ˜¯é¡µé¢æ–‡æ¡£ç»“æ„å’Œæ ·å¼ä¹Ÿåœ¨ä¸æ–­çš„å˜åŒ–ã€‚<br>ç‹¬ç«‹æ€§çš„é¡µé¢æ¯”è¾ƒè½»æ¾ï¼Œä¸€ä¸ªé¡µé¢ä¿®æ”¹å°±å¥½äº†ï¼Œè€Œä¸€äº›å…¬ç”¨çš„é¡µé¢æ¨¡å—å¾€å¾€éœ€è¦åœ¨å„ä¸ªé¡µé¢é€ä¸ªä¿®æ”¹ã€‚<br>è¿™æ˜¾ç„¶æ˜¯ä¸€ç§æå…¶æ¯ç‡¥çš„é‡å¤æ€§åŠ¨ä½œï¼</p><p>åœ¨æ­¤ä¹‹å‰æˆ‘ç”¨ <code>C#</code> å†™äº†ä¸€ä¸ªæ–‡ä»¶æ‰¹é‡æ›¿æ¢çš„å·¥å…·ï¼Œç”¨äºæ‰¹é‡æ›¿æ¢æŸä¸ªç›®å½•ä¸‹çš„æŸä¸ªæ¨¡å—ä»£ç ã€‚<br>è™½ç„¶æ•ˆç‡æé«˜äº†ä¸€äº›ï¼Œä½†æ˜¯ä»æ–¹æ³•å­¦è§’åº¦çœ‹ç»å¯¹ä¸æ˜¯æœ€å¥½çš„ã€‚</p><p>å¾ˆä¹…ä¹‹å‰å°±æƒ³è¿‡ä½¿ç”¨å‰ç«¯æ¨¡å—æ‹¼è£… htmlã€‚<br>ä»¥ <code>ejs</code> ä¸ºä¾‹ï¼Œåˆ™éœ€è¦åœ¨é¡µé¢ä¸­å¼•å…¥æ¨¡ç‰ˆè§£ææ–‡ä»¶ <code>ejs.js</code>ï¼Œé¡µé¢ä¸­è¿˜éœ€è¦å†™ä¸€äº› ejs ç›¸å…³çš„é…ç½®ä»£ç ã€‚è€Œè¿™äº›ä¸œè¥¿å¯¹äºåç«¯å¥—ç”¨é¡µé¢æ¥è¯´æ˜¯æ— ç”¨çš„ï¼Œå¯èƒ½è¿˜ä¼šé€ æˆä¸€äº›æ··ä¹±ã€‚<br>è¿˜æœ‰ä¸€ç§å¼•ç”¨æ–¹å¼æ˜¯ä½¿ç”¨ <code>nodeJs</code> è°ƒç”¨ ejs å»è§£ææ¨¡ç‰ˆæ–‡ä»¶ï¼Œè¿™æ ·åœ¨é¢„è§ˆé™æ€é¡µé¢æ—¶åˆ™éœ€è¦å»ºç«‹ node æœåŠ¡å™¨ã€‚è€Œå½“å‰å›¢é˜Ÿä¸­å¹¶ä¸æ˜¯æ¯ä¸ªäººéƒ½è£…æœ‰ node ç¯å¢ƒã€‚</p><p>æœ€è¿‘å·¥ä½œé—²æš‡äº†åˆæƒ³åˆ°è¿™ä¸ªé—®é¢˜ï¼Œå…¶å®è¦è§£å†³çš„æœ€æ ¹æœ¬é—®é¢˜å°±æ˜¯ï¼š</p><blockquote><p>æ¨¡å—åŒ–å¼€å‘é¡µé¢ï¼Œå¼€å‘å®Œæˆåå¯ä»¥ä¸€æ¡æŒ‡ä»¤åˆå¹¶æˆå¯ç›´æ¥é¢„è§ˆçš„é™æ€é¡µé¢ã€‚</p></blockquote><p>æˆ‘æ—©è¯¥æƒ³åˆ° <code>gulp</code> äº†ï¼Œæ—¢ç„¶ gulp æ˜¯ä¸€ä¸ªåŸºäºæµçš„å‰ç«¯æ„å»ºå·¥å…·ï¼Œé‚£ä¹ˆå¯¹äºè¿™ä¸ªé—®é¢˜åº”è¯¥æ˜¯å¯ä»¥è§£å†³çš„ã€‚</p><a id="more"></a><p><strong>èµ·åˆæˆ‘æ˜¯è¿™æ ·æƒ³çš„ï¼š</strong></p><ol><li>æ¨¡æ¿ä¸­ä½¿ç”¨ç›¸å¯¹è·¯å¾„æ ‡è®°æ¨¡å—å¼•ç”¨</li><li>è¯»å–æ–‡ä»¶æŠŠè¿™äº›æ ‡è®°è¿˜åŸä¸ºè·¯å¾„</li><li>è¯»å–è¿™äº›è·¯å¾„çš„æ–‡ä»¶å†…å®¹æ’å…¥åˆ°æ¨¡æ¿ä¸­</li><li>ç”Ÿæˆåˆ°å¯¹åº”ç›®æ ‡ç›®å½•</li></ol><p>è¿™æ ·åšç­‰äºå®ç°äº†ä¸€å¥—æ¨¡ç‰ˆè§£æåˆå¹¶çš„è¿‡ç¨‹ï¼Œå¹¶ä¸å›°éš¾ã€‚</p><p>åœ¨æ¢ç´¢çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªåŸºäº gulp å’Œ ejs çš„æ’ä»¶ <code>gulp-ejs</code>ï¼Œå¹¶æŒ‰ç…§ç¤ºä¾‹å®éªŒåè¾¾æˆäº†æˆ‘çš„æƒ³æ³•ã€‚<br>éšåæ–°çš„é—®é¢˜ä¾¿æ¥äº†ã€‚</p><p>æ¯ä¸ªé¡µé¢æœ‰ç€ä¸åŒæ ‡é¢˜å’Œæ ·å¼ã€è„šæœ¬å¼•ç”¨ï¼Œè™½ç„¶å¯ä»¥åœ¨æ‰§è¡Œ gulp ä»»åŠ¡æ—¶æŒ‡å®šå‚æ•°ï¼Œä½†æ˜¯ä¸å¯èƒ½æ¯ä¸ªé¡µé¢çš„å‚æ•°é…ç½®éƒ½ä¸€æ ·ã€‚<br>éš¾é“è¦ä¸ºæ¯ä¸ªé¡µé¢ç¼–å†™ä¸€ä¸ªä»»åŠ¡ï¼Ÿä½ ä¼šç”˜å¿ƒç”¨è¿™ä¹ˆå‚»çš„åŠæ³•å—ï¼Ÿ<br>ä»è®¾è®¡æ¨¡å¼è§’åº¦è®²ï¼Œè¿™ä¸ªä»»åŠ¡åº”è¯¥æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯å¯ä»¥æ ¹æ®ä¸€äº›å‚æ•°é…ç½®è¾¾åˆ°å¤šæ€ï¼</p><p><strong>ä¹‹åæˆ‘æ”¹é€ äº† <code>gulp-ejs</code>ï¼š</strong></p><ol><li>åœ¨æ¨¡æ¿æ–‡ä»¶åŒçº§ç›®å½•ä¸‹æ·»åŠ åŒåçš„ <code>.json</code> é…ç½®æ–‡ä»¶</li><li>åœ¨å…¶å¯¹æ¨¡æ¿æ¸²æŸ“æ—¶è·å–æ¨¡æ¿è·¯å¾„ï¼Œå†è½¬æ¢åç¼€ä¸º jsonï¼Œè¿™æ ·å°±åŒ¹é…åˆ°äº†å¯¹åº”çš„é…ç½®æ–‡ä»¶</li><li>è§£æ json æ–‡ä»¶ä¸º json å¯¹è±¡ï¼Œä½œä¸ºå‚æ•°ä¼ å…¥ ejs ä¸­ï¼Œè¿™æ ·æ¨¡ç‰ˆå†…å°±å¯ä»¥è®¿é—®é…ç½®æ–‡ä»¶çš„æ•°æ®äº†</li><li>ä¹‹åä¾¿å¯ä»¥æ ¹æ®é…ç½®æ–‡ä»¶éšå¿ƒæ‰€æ¬²çš„æ’å…¥å½“å‰é¡µé¢çš„ç‰¹å®šé¡¹ç›®</li></ol><p>è¿™æ ·æ ‡é¢˜ã€æ ·å¼ã€è„šæœ¬ï¼Œç¥é©¬éƒ½è§£å†³äº†ï¼</p><p>å°±åœ¨åˆšæ‰æˆ‘åˆæƒ³åˆ°äº†å¦å¤–ä¸€ä¸ªä¸»æ„ã€‚</p><p>å¦‚æœä½ è§‰å¾—æ¯ä¸ªæ¨¡æ¿å¯¹åº”ä¸€ä¸ª json æ–‡ä»¶éº»çƒ¦çš„è¯ï¼Œå¯ä»¥åªå»ºç«‹ä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚<br>å‡å¦‚ä½ æœ‰ index ã€product ã€service ä¸‰ä¸ªæ¨¡ç‰ˆï¼Œé‚£ä¹ˆä½ çš„é…ç½®æ–‡ä»¶å¯ä»¥è¿™æ ·å†™ï¼š</p><figure class="highlight json"><table><tr><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"index"</span>: &#123;</div><div class="line">        <span class="attr">"title"</span>: <span class="string">"é¦–é¡µ"</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">"product"</span>: &#123;</div><div class="line">        <span class="attr">"title"</span>: <span class="string">"äº§å“é¡µ"</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">"service"</span>: &#123;</div><div class="line">        <span class="attr">"title"</span>: <span class="string">"æœåŠ¡é¡µ"</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>é‚£ä¹ˆåœ¨ index æ¨¡ç‰ˆä¸­è¾“å‡º <code>title</code>ï¼Œå°±å¯ä»¥å†™æˆ <code>&lt;%=index.title %&gt;</code> è¿™ç§æ ¼å¼ã€‚<br>é•¿ä¹…ä¸‹å»é…ç½®æ–‡ä»¶ä¸€å®šä¼šè¶Šæ¥è¶Šå¤§ï¼Œè€Œä¸”æ¯ä¸ªæ¨¡ç‰ˆä¸­éƒ½è¢«æ³¨å…¥äº†æ•´ç«™çš„é…ç½®é¡¹ï¼ŒçœŸçš„å¥½å—ï¼Ÿ</p><ul><li>ä¸ºäº†ä½¿æ¯ä¸ªé¡µé¢åªæ³¨å…¥å½“å‰é¡µé¢çš„æ•°æ®ï¼Œå¯ä»¥åœ¨æ¨¡ç‰ˆæ¸²æŸ“å‰æ‹¿åˆ°æ¨¡ç‰ˆåç§°ï¼Œå¦‚ index ï¼›</li><li>å‘ ejs ä¼ å…¥çš„æ•°æ®å°±å˜æˆäº† <code>config[&quot;index&quot;]</code>ï¼›</li><li>è¿™æ ·åœ¨æ¯ä¸ªæ¨¡ç‰ˆä¸­ä¾ç„¶å¯ä»¥ç›´æ¥ç”¨ <code>&lt;%=title %&gt;</code> è¿™ç§æ ¼å¼è°ƒç”¨äº†</li></ul><p>ä¸ç®¡é‡‡å–å“ªç§åŠæ³•ï¼Œæœ€ç»ˆçš„ç»“æœæ˜¯ä¸€è‡´çš„ã€‚å“ªæ€•æ˜¯æ¯ä¸ªæ¨¡ç‰ˆæ³¨å…¥æ•´ç«™é…ç½®çš„åšæ³•ï¼Œä¹Ÿåªæ˜¯åœ¨ gulp ä»»åŠ¡é˜¶æ®µæ‰§è¡Œæ•ˆç‡ä½ç‚¹ï¼Œå¹¶ä¸ä¼šä¸Šå‡åˆ°å½±å“æ€§èƒ½çš„é«˜åº¦ã€‚<br>ä¸è¿‡ï¼Œæˆ‘è¿˜æ˜¯å€¾å‘äºä¸€ä¸ªé¡µé¢å¯¹åº”ä¸€ä¸ªé…ç½®æ–‡ä»¶çš„åŠæ³•ï¼Œè°è®©æˆ‘æ˜¯å¤„å¥³åº§ã€‚</p><p>ä»¥ä¸‹æ˜¯å¯¹è¯¥æ–¹æ¡ˆçš„ç®€å•æè¿°ã€‚</p><h2 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h2><pre><code>â”œ templates     æ¨¡ç‰ˆ
â”œâ”€â”€â”€â”€ _partial      æ¨¡å—
â”œâ”€â”€â”€â”€â”€â”€â”€â”€ header.ejs   
â”œâ”€â”€â”€â”€â”€â”€â”€â”€ footer.ejs
â”œâ”€â”€â”€â”€â”€â”€â”€â”€ nav.ejs
â”œâ”€â”€â”€â”€â”€â”€â”€â”€ left.ejs
â”œâ”€â”€â”€â”€â”€â”€â”€â”€ right.ejs
â”œâ”€â”€â”€â”€ index.ejs    å¸ƒå±€é¡µ
â”œâ”€â”€â”€â”€ index.json    å¸ƒå±€é¡µé…ç½®æ–‡ä»¶
â”œ html      é¡µé¢
â”œâ”€â”€â”€â”€ index.html    ç”Ÿæˆçš„é™æ€é¡µé¢
â”œ node_modules  nodeæ¨¡å—
â”œ gulpfile.js   gulp
</code></pre><h2 id="å·¥ä½œæµç¨‹"><a href="#å·¥ä½œæµç¨‹" class="headerlink" title="å·¥ä½œæµç¨‹"></a>å·¥ä½œæµç¨‹</h2><ol><li>æ¨¡æ¿ç¼–ç ï¼Œå³ <code>templates/</code> ç›®å½•ï¼Œä¸€ä¸ªå¸ƒå±€é¡µå¯¹åº”ä¸€ä¸ªåŒåé™æ€é¡µé¢ï¼ŒæŒ‰éœ€å¼•å…¥æˆ–ç¼–å†™æ–°çš„é¡µé¢æ¨¡å—ã€‚åœ¨è¿™ä¸ªé˜¶æ®µå¯ä»¥ä½¿ç”¨expresså»ºç«‹nodeæœåŠ¡å™¨è¿›è¡Œå®æ—¶é¡µé¢é¢„è§ˆã€‚</li><li>ç¼–å†™é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨é€šç”¨çš„ <code>json</code> æ ¼å¼ï¼Œä¸€ä¸ªé¡µé¢å¯¹åº”ä¸€ä¸ªåŒåçš„é…ç½®æ–‡ä»¶ã€‚ç›®å‰é¢„æƒ³çš„é…ç½®ä¿¡æ¯æœ‰ï¼š <code>titleï¼šé¡µé¢æ ‡é¢˜</code> ã€<code>stylesï¼šä¾èµ–çš„æ ·å¼æ–‡ä»¶è·¯å¾„</code>ã€ <code>scriptsï¼šä¾èµ–çš„è„šæœ¬æ–‡ä»¶è·¯å¾„</code> ï¼Œéšæ—¶å¯ä»¥æ ¹æ®å®é™…æƒ…å†µæ·»åŠ æ–°çš„é…ç½®ã€‚</li><li>æ‰§è¡Œ <code>gulp</code> ä»»åŠ¡ï¼Œç”Ÿæˆé¡µé¢åˆ° <code>html/</code> ç›®å½•ã€‚</li></ol><h2 id="æœªæ¨¡å—åŒ–é¡µé¢çš„å¤„ç†"><a href="#æœªæ¨¡å—åŒ–é¡µé¢çš„å¤„ç†" class="headerlink" title="æœªæ¨¡å—åŒ–é¡µé¢çš„å¤„ç†"></a>æœªæ¨¡å—åŒ–é¡µé¢çš„å¤„ç†</h2><p>ä¹‹å‰æœªæ¨¡å—åŒ–çš„é™æ€é¡µé¢ï¼Œä¿æŒåŸæ ·å³å¯ï¼Œå› ä¸ºåœ¨è¿™ä¸ªæµç¨‹ä¸­ä¸ä¹‹å‰çš„é¡µé¢æ˜¯æ²¡æœ‰ä»»ä½•å†²çªå…³ç³»çš„ã€‚<br>ä¸€äº›é¢‘ç¹ä¿®æ”¹çš„é¡µé¢ï¼Œå¯ä»¥æŒ‰éœ€æŠ½å–å‡ºæ¨¡å—ï¼Œè¿›è¡Œé¡µé¢åˆ†å‰²ã€‚</p><h2 id="å®Œæ•´Demo"><a href="#å®Œæ•´Demo" class="headerlink" title="å®Œæ•´Demo"></a>å®Œæ•´Demo</h2><blockquote><p><a href="https://github.com/yscoder/gulp-ejs-demo" target="_blank" rel="external">https://github.com/yscoder/gulp-ejs-demo</a></p></blockquote><h2 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h2><p>å¯èƒ½æˆ‘æ‰€åšçš„è¿™äº›å¯¹äºå›½å†…ä¸€äº›ä¼˜ç§€çš„å‰ç«¯å›¢é˜Ÿæ¥è¯´å¾ˆåœŸï¼Œä½†æ˜¯é€‚åˆçš„æ‰æ˜¯æœ€å¥½çš„ï¼<br>ç›®å‰æˆ‘æ‰€åœ¨çš„å…¬å¸å‰ç«¯çš„èŒèƒ½è¿˜ä»…é™äºé¡µé¢ç¼–ç ã€äº¤äº’å®ç°å’Œä¸€äº›é€šç”¨æ’ä»¶å¼€å‘ï¼Œèµ·ç‚¹çœŸçš„å¾ˆä½ã€‚<br>ä¸è¿‡ï¼Œè¿™ä¹Ÿè®©æˆ‘æœ‰äº†æ›´å¤šçš„æœºä¼šå»æ”¹é©å’Œå®è·µæ–°æŠ€æœ¯ã€‚</p>]]></content>
    
    <summary type="html">
    
      ä½¿ç”¨gulp+ejsæ¨¡å—åŒ–html
    
    </summary>
    
    
      <category term="Gulp" scheme="http://imys.net/tags/Gulp/"/>
    
      <category term="Ejs" scheme="http://imys.net/tags/Ejs/"/>
    
      <category term="æ¨¡å—åŒ–" scheme="http://imys.net/tags/%E6%A8%A1%E5%9D%97%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>å‰ç«¯æ–‡å­—çš„æˆªæ–­å¤„ç†</title>
    <link href="http://imys.net/20150906/text-truncation.html"/>
    <id>http://imys.net/20150906/text-truncation.html</id>
    <published>2015-09-06T09:37:32.000Z</published>
    <updated>2016-11-12T19:28:52.082Z</updated>
    
    <content type="html"><![CDATA[<p>å…³äºå‰ç«¯é¡µé¢çš„æ–‡å­—æº¢å‡ºæˆªæ–­çš„æ‹›æ•°å·²ç»å¾ˆå¸¸è§äº†ã€‚<br>é€šå¸¸çš„å®ç°æœ‰ï¼Œå‰ç«¯cssæ§åˆ¶ã€åç«¯å­—æ•°è¾“å‡ºæ§åˆ¶æˆ–è€…å‰ç«¯jså­—æ•°å¤„ç†ç­‰ã€‚</p><a id="more"></a><h2 id="å•è¡Œæ–‡å­—"><a href="#å•è¡Œæ–‡å­—" class="headerlink" title="å•è¡Œæ–‡å­—"></a>å•è¡Œæ–‡å­—</h2><p>å•è¡Œæ–‡å­—çš„æº¢å‡ºå¤„ç†å¾ˆç®€å•ï¼Œæˆ‘é€šå¸¸æ˜¯ä½¿ç”¨cssæ¥æ§åˆ¶ï¼Œåœ¨æ–‡å­—æœ«å°¾åŠ ä¸Š<code>...</code>ã€‚</p><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.ellipsis</span> &#123;</div><div class="line">  <span class="attribute">overflow</span>: hidden;</div><div class="line">  <span class="attribute">text-overflow</span>: ellipsis;</div><div class="line">  <span class="attribute">white-space</span>: nowrap;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ç»™éœ€è¦æ–‡å­—æˆªæ–­çš„èŠ‚ç‚¹å¢åŠ ä¸€ä¸ªè¿™æ ·çš„åŸºç¡€ç±»ï¼Œç„¶åè®¾ç½®è¯¥èŠ‚ç‚¹çš„å®½ã€‚<br>åŒæ—¶æ³¨æ„ç»™æœªæ¥å¯èƒ½ä¼šå‡ºç°æº¢å‡ºçš„èŠ‚ç‚¹ä¹ŸåŠ ä¸Šæ­¤ç±»ï¼Œå†è®¾ç½®æœ€å¤§å®½åº¦<code>max-width</code>ï¼Œå› ä¸ºå¾ˆå¤šå¥‡è‘©ç”¨æˆ·çš„è¾“å…¥æ˜¯ä½ æ— æ³•æŒæ§çš„ã€‚ - -ï¼</p><h2 id="å¤šè¡Œæ–‡å­—"><a href="#å¤šè¡Œæ–‡å­—" class="headerlink" title="å¤šè¡Œæ–‡å­—"></a>å¤šè¡Œæ–‡å­—</h2><p>æˆ‘å¸Œæœ›åœ¨ä¸€ä¸ªçš„å›ºå®šé«˜åº¦çš„å®¹å™¨ä¸­ï¼Œå†…å®¹è¶…å‡ºåï¼Œæœ€åä¸€ä¸ªæ–‡å­—æ˜¾ç¤º<code>...</code>ã€‚</p><p>å¦‚æ³•ç‚®åˆ¶ç»™å¤šè¡Œæ–‡å­—çš„å®¹å™¨æ·»åŠ <code>ellipsis</code>ç±»åï¼Œä½ ä¼šå‘ç°çš„ç¡®æ˜¯æ˜¾ç¤º<code>...</code>ï¼Œä¸è¿‡æ­¤æ—¶æ–‡å­—æ˜¯ä¸€è¡Œçš„ã€‚<br>å› ä¸ºåœ¨è¯¥ç±»ä¸­æ·»åŠ äº†å±æ€§<code>white-space</code>ï¼Œç”¨æ¥å®šä¹‰ä¸€ä¸ªæ®µè½å¦‚ä½•æ¢è¡Œã€‚å±æ€§å€¼<code>nowrap</code>ï¼šç¦æ­¢æ–‡æœ¬æ¢è¡Œï¼Œé™¤éé‡åˆ°<code>&lt;br&gt;</code>ã€‚</p><p>ä¸€ç•ªæ€è€ƒåï¼Œç¡®å®šäº†ä¸€ä¸ªæ–¹æ¡ˆã€‚</p><ol><li>ç»™å›ºå®šé«˜åº¦çš„å®¹å™¨æ·»åŠ <code>overflow: hidden</code>ï¼›</li><li>ç»™å®¹å™¨æ·»åŠ ç›¸å¯¹å®šä½ï¼›</li><li>æ·»åŠ ä¼ªå…ƒç´ æ ·å¼ï¼Œ<code>content:&#39;...&#39;</code>ï¼Œç»å¯¹å®šä½ï¼Œç„¶åä½ç½®å®šä½åœ¨å®¹å™¨æœ«å°¾ã€‚</li></ol><p>ä¼ªå…ƒç´ çš„å…¼å®¹æ€§ä¸ºIE8ï¼Œå¦‚æœéœ€è¦å…¼å®¹IE7çš„å¯ä»¥ä½¿ç”¨æ ‡ç­¾ä»£æ›¿ã€‚</p><h2 id="å¸¦æ˜¾ç¤ºå…¨éƒ¨çš„å¤šè¡Œæ–‡å­—"><a href="#å¸¦æ˜¾ç¤ºå…¨éƒ¨çš„å¤šè¡Œæ–‡å­—" class="headerlink" title="å¸¦æ˜¾ç¤ºå…¨éƒ¨çš„å¤šè¡Œæ–‡å­—"></a>å¸¦æ˜¾ç¤ºå…¨éƒ¨çš„å¤šè¡Œæ–‡å­—</h2><p>ç±»ä¼¼ QQ ç©ºé—´ã€å¾®ä¿¡ã€å¾®åšé‚£ç§ã€‚</p><iframe scrolling="no" width="100%" height="300" src="http://jsfiddle.net/imys/wymxhaek/1/embedded/html,css,result/light" frameborder="0" allowfullscreen></iframe><p>ä½¿ç”¨ 2 ä¸ªä¼ªå…ƒç´ åŠ  1 ä¸ª a é“¾æ¥å®ç°ã€‚<br>ç²¾å¦™ä¹‹å¤„åœ¨äºä½¿ç”¨ä¼ªå…ƒç´ é®æŒ¡ä¸€è¡Œæ–‡å­—ï¼Œè®© a é“¾æ¥ä½äºä¼ªå…ƒç´ ä¹‹ä¸Šæ˜¾ç¤ºã€‚</p><p>æ›´æ–°äº 2016-6-27ã€‚</p>]]></content>
    
    <summary type="html">
    
      å‰ç«¯æ–‡å­—çš„æˆªæ–­å¤„ç†
    
    </summary>
    
    
      <category term="Html" scheme="http://imys.net/tags/Html/"/>
    
      <category term="CSS" scheme="http://imys.net/tags/CSS/"/>
    
      <category term="Ellipsis" scheme="http://imys.net/tags/Ellipsis/"/>
    
  </entry>
  
  <entry>
    <title>html5ä¸Šä¼ è¿›åº¦å®ç°</title>
    <link href="http://imys.net/20150902/h5-upload-progress.html"/>
    <id>http://imys.net/20150902/h5-upload-progress.html</id>
    <published>2015-09-02T08:26:13.000Z</published>
    <updated>2016-11-12T19:13:08.458Z</updated>
    
    <content type="html"><![CDATA[<p>åšå®¢ä¸€ä¸ªæœˆæ²¡æ›´æ–°äº†ï¼Œç€å®æ˜¯æœ‰ç‚¹å¿™ã€‚<br>ç›®å‰å…¬å¸æ–°ç‰ˆä¸Šçº¿ä¹Ÿåˆ°æœ€åä¸€æ³¢äº†ï¼Œéƒ¨åˆ†äººå‘˜è½¬æˆ˜äº†ä¸€ä¸ªæ–°çš„APPäº§å“çš„å¼€å‘ã€‚<br>ä¸»ä½“è¿˜æ˜¯åŸç”ŸAPPï¼Œä¹Ÿä¼šæœ‰éƒ¨åˆ†é¡µé¢éœ€è¦åµŒå…¥WEBé¡µé¢ï¼Œæˆ‘ä¹Ÿæœ‰å¹¸ä½œä¸ºå”¯ä¸€çš„å‰ç«¯äººå‘˜åŠ å…¥äº†ã€‚</p><p>ä¸è¿‡è¿™æ¬¡è®²çš„å†…å®¹è·Ÿè¿™ä¸ªAPPæ²¡æœ‰åŠæ¯›é’±å…³ç³»ï¼Œæ˜¯å…¬å¸å†…éƒ¨å·¥ä½œç³»ç»Ÿçš„ä¸€ä¸ªæ‰«ç ä¸Šä¼ åŠŸèƒ½ã€‚<br>å¥½å§ï¼Œæˆ‘å‚ä¸çš„ç¡®å®æœ‰ç‚¹å¤šï¼</p><p>è¦å®ç°å®æ—¶çš„è¿›åº¦å±•ç¤ºï¼Œéœ€è¦ä»¥ä¸‹å‡ ä¸ªå…³é”®ï¼š</p><ol><li>å¼‚æ­¥ä¸Šä¼ </li><li>æ–‡ä»¶æ€»å¤§å°</li><li>æ–‡ä»¶å·²ä¸Šä¼ å¤§å°</li></ol><a id="more"></a><h2 id="åŸºæœ¬HTMLç»“æ„"><a href="#åŸºæœ¬HTMLç»“æ„" class="headerlink" title="åŸºæœ¬HTMLç»“æ„"></a>åŸºæœ¬HTMLç»“æ„</h2><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">id</span>=<span class="string">"upload"</span> <span class="attr">accept</span>=<span class="string">"image/*"</span> &gt;</span></div></pre></td></tr></table></figure><h2 id="å¼‚æ­¥ä¸Šä¼ "><a href="#å¼‚æ­¥ä¸Šä¼ " class="headerlink" title="å¼‚æ­¥ä¸Šä¼ "></a>å¼‚æ­¥ä¸Šä¼ </h2><p>XHRæ˜¯å¿…é¡»çš„ï¼Œæ­¤å¤–è¿˜éœ€è¦ä¸€ä¸ª<code>FormData</code>å¯¹è±¡ã€‚</p><p>FormDataï¼Œè¯‘ä¸ºè¡¨å•æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªä¿å­˜è¡¨å•æ•°æ®çš„å®¹å™¨ã€‚<br>å¯ä»¥åˆ©ç”¨è¿™ä¸ªå¯¹è±¡å†™å…¥é”®å€¼å¯¹çš„æ•°æ®é¡¹ï¼Œå†ç”¨xhrå‘é€åˆ°å¤„ç†æ¥å£ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> data = <span class="keyword">new</span> FormData();</div><div class="line">data.append(<span class="string">'id'</span>, <span class="number">9527</span>);</div><div class="line">data.append(<span class="string">'name'</span>, <span class="string">'å¼ ä¸‰'</span>);</div><div class="line">data.append(<span class="string">'sex'</span>, <span class="string">'ç”·'</span>);</div></pre></td></tr></table></figure><p>ä¸ä»…å¯ä»¥åƒä»¥ä¸Šç®€å•çš„æ·»åŠ å€¼ç±»å‹ï¼Œæ–‡ä»¶ç±»å‹ä¹Ÿä¸ä¾‹å¤–ã€‚<br>è¿™æ ·å°±å¯ä»¥ç›´æ¥ä½¿ç”¨xhrçš„sendæ–¹æ³•å‘é€åˆ°åç«¯ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">document</span>.querySelector(<span class="string">'#upload'</span>).addEventListener(<span class="string">'change'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> file = <span class="keyword">this</span>.files[<span class="number">0</span>],</div><div class="line">        data = <span class="keyword">new</span> FormData();</div><div class="line">        </div><div class="line">    data.append(<span class="string">'photo'</span>, file);</div><div class="line">    </div><div class="line">    <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">    xhr.addEventListener(<span class="string">'load'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">        <span class="comment">// Success or Error</span></div><div class="line">    &#125;, <span class="literal">false</span>);</div><div class="line">    xhr.open(<span class="string">'post'</span>, <span class="string">'/doLoad'</span>);</div><div class="line">    xhr.send(data);</div><div class="line">    </div><div class="line">&#125;);</div></pre></td></tr></table></figure><h2 id="ä¸Šä¼ è¿›åº¦"><a href="#ä¸Šä¼ è¿›åº¦" class="headerlink" title="ä¸Šä¼ è¿›åº¦"></a>ä¸Šä¼ è¿›åº¦</h2><p>ä¸FormDataç›¸å¯¹åº”çš„ä¸Šä¼ çŠ¶æ€ç›‘å¬äº‹ä»¶</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">xhr.upload.addEventListener(<span class="string">'progress'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">    <span class="comment">// do...</span></div><div class="line">&#125;, <span class="literal">false</span>);</div></pre></td></tr></table></figure><p>è¯¥äº‹ä»¶å¯ä»¥é€šè¿‡eventå¯¹è±¡è·å–ä¸Šä¼ çŠ¶æ€ã€‚</p><ol><li>event.loaded: å·²ä¸Šä¼ å¤§å°</li><li>event.total: æ–‡ä»¶æ€»å¤§å°</li></ol><p>è¿™æ ·è®¡ç®—è¿›åº¦å°±ä¸åœ¨è¯ä¸‹äº†ï¼Œå…·ä½“å®ç°ä¹Ÿå°±ä¸åºŸè¯äº†ï¼Œä¼—å¤§ä¾ å„å±•ç¥é€šå§ï¼</p>]]></content>
    
    <summary type="html">
    
      html5ä¸Šä¼ è¿›åº¦å®ç°
    
    </summary>
    
    
      <category term="Html5" scheme="http://imys.net/tags/Html5/"/>
    
      <category term="æ–‡ä»¶ä¸Šä¼ " scheme="http://imys.net/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"/>
    
  </entry>
  
  <entry>
    <title>Require.jså…¥é—¨--ç”¨é¢å‘å¯¹è±¡è¯­è¨€æ¥ç†è§£jsæ¨¡å—åŒ–</title>
    <link href="http://imys.net/20150807/js-module-requirejs.html"/>
    <id>http://imys.net/20150807/js-module-requirejs.html</id>
    <published>2015-08-07T02:33:25.000Z</published>
    <updated>2016-11-12T19:21:48.683Z</updated>
    
    <content type="html"><![CDATA[<p>ä½œä¸ºä¸€ä¸ªæ›¾ç»çš„åç«¯å¼€å‘è€…ï¼Œå½“æˆ‘ç¬¬ä¸€çœ¼çœ‹åˆ°ä¸€äº›javascriptæ¨¡å—åŒ–çš„ä»£ç æ¡ˆä¾‹æ—¶ï¼Œæˆ‘å°±æƒ³åˆ°äº†javaã€c#è¿™äº›å¤©ç”Ÿçš„æ¨¡å—åŒ–è¯­è¨€ã€‚<br>ä»Šå¤©å°±æ‹¿ require.js æ¥æ‹ä¸€æ‹è¿™å…¶ä¸­çš„å¼‚åŒã€‚<br><a id="more"></a></p><h2 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h2><p>ä¸€ä¸ªåŸºæœ¬çš„javascriptæ¨¡å—ï¼Œåº”è¯¥æ˜¯éšè—ç§æœ‰æˆå‘˜åŠæ–¹æ³•ï¼Œæš´æ¼å¤–éƒ¨è°ƒç”¨çš„æ‰€éœ€çš„æ¥å£ã€‚<br>å¸¸è§çš„å†™æ³•æœ‰ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> <span class="built_in">module</span> = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> prop = <span class="string">''</span>;</div><div class="line">  <span class="keyword">var</span> tool = <span class="function"><span class="keyword">function</span>(<span class="params">p</span>)</span>&#123;</div><div class="line">  </div><div class="line">  &#125;;</div><div class="line">  </div><div class="line">  <span class="comment">//...</span></div><div class="line">  </div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">fn</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      tool(prop);</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line">&#125;)();</div></pre></td></tr></table></figure><p>åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œå¤–éƒ¨ç¯å¢ƒæ— æ³•è¯»å–å’Œä¿®æ”¹å˜é‡<code>prop</code>å’Œæ–¹æ³•<code>tool</code>ï¼Œä½†æ˜¯è¯¥æ¨¡å—è¿”å›äº†ä¸€ä¸ªå…¬å¼€çš„å¯¹è±¡ï¼Œå¹¶æœ‰ä¸€ä¸ªå¯æ‰§è¡Œçš„æ–¹æ³•<code>fn</code>ã€‚</p><p>è¿™ä¸å°±ç›¸å½“äºé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„å°è£…å—ï¼Ÿ<br>åœ¨ä»¥ä¸Šä»£ç ä¸­ä½¿ç”¨äº†é—­åŒ…æ¥éš”ç¦»å˜é‡ä½œç”¨åŸŸï¼Œè€Œåƒjavaä¸­å¯ä»¥ä½¿ç”¨<code>public</code>ã€<code>private</code>è¿™æ ·çš„å…³é”®å­—æ¥å®šä¹‰æˆå‘˜ã€‚</p><h2 id="require-jså…¥é—¨"><a href="#require-jså…¥é—¨" class="headerlink" title="require.jså…¥é—¨"></a>require.jså…¥é—¨</h2><p>åˆšæ‰é€šè¿‡ä¸€æ®µç®€å•çš„ä»£ç ç†è§£äº†æ¨¡å—åŒ–çš„ä½œç”¨ï¼Œä¸‹é¢æ¥çœ‹çœ‹require.jsæ˜¯å¦‚ä½•å®šä¹‰å’Œè°ƒç”¨æ¨¡å—çš„ã€‚</p><h3 id="é¡µé¢åŠ è½½"><a href="#é¡µé¢åŠ è½½" class="headerlink" title="é¡µé¢åŠ è½½"></a>é¡µé¢åŠ è½½</h3><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">data-main</span>=<span class="string">"main"</span> <span class="attr">src</span>=<span class="string">"http://cdn.bootcss.com/require.js/2.1.20/require.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure><p>åœ¨é¡µé¢ä¸­æ’å…¥äº†require.jsæ–‡ä»¶ï¼Œä½¿ç”¨<code>data-main</code>æŒ‡å®šä¸»æ¨¡å—æˆ–è€…å«å…¥å£æ¨¡å—ï¼Œæˆ‘ç†è§£ä¸ºjavaä¸­çš„<code>main()</code>æ–¹æ³•ã€‚<br><code>data-main</code>å±æ€§å¯ä»¥å†™æ¨¡å—æ–‡ä»¶çš„è·¯å¾„ï¼Œåœ¨require.jsä¸­é»˜è®¤çš„åç¼€<code>.js</code>å¯çœç•¥ã€‚</p><h3 id="å…¥å£æ¨¡å—"><a href="#å…¥å£æ¨¡å—" class="headerlink" title="å…¥å£æ¨¡å—"></a>å…¥å£æ¨¡å—</h3><p>å¦‚æœæˆ‘ä»¬çš„é¡µé¢éå¸¸ç®€å•çš„è¯ï¼Œåœ¨å…¥å£æ¨¡å—ä¸­å¯ä»¥å†™æˆ‘ä»¬çš„jsä»£ç ã€‚<br>æ¯”å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="string">'Hello require.js!'</span>);</div></pre></td></tr></table></figure><p>æ­¤æ—¶åˆ·æ–°é¡µé¢å°±ä¼šç›´æ¥åœ¨æ§åˆ¶å°è¾“å‡º<code>Hello require.js!</code>ã€‚<br>å½“ç„¶å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œä¹Ÿå°±æ²¡å¿…è¦ç”¨require.jsäº†ã€‚</p><p>æ­£å¸¸çš„å†™æ³•ä¸€èˆ¬æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">require</span>([<span class="string">'module1'</span>, <span class="string">'module2'</span>], <span class="function"><span class="keyword">function</span> (<span class="params">module1, module2</span>)</span>&#123;</div><div class="line">  <span class="comment">//...</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªå‚æ•°æ•°ç»„è¡¨ç¤ºä¾èµ–çš„æ¨¡å—åï¼Œç„¶ååœ¨å…¶åçš„å›è°ƒå‡½æ•°ä¸­å°±å¯ä»¥ä½¿ç”¨è¿™äº›æ¨¡å—ã€‚</p><h3 id="åŠ è½½æ¨¡å—"><a href="#åŠ è½½æ¨¡å—" class="headerlink" title="åŠ è½½æ¨¡å—"></a>åŠ è½½æ¨¡å—</h3><p>å½“ç„¶ï¼Œä¸å¯èƒ½å‡­ç©ºä½¿ç”¨æ¨¡å—ï¼ŒæŒ‰ç…§å¸¸è§„è‚¯å®šéœ€è¦æŸä¸ªåœ°æ–¹æŒ‡å®šæ¨¡å—åŠ è½½è·¯å¾„å§ã€‚</p><p>åœ¨ä¸»æ¨¡å—å¤´éƒ¨å¯ä½œä»¥ä¸‹é…ç½®ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">require</span>.config(&#123;</div><div class="line">  <span class="attr">paths</span>: &#123;</div><div class="line">    <span class="string">'module1'</span>: <span class="string">'js/module1'</span>,</div><div class="line">    <span class="string">'module2'</span>: <span class="string">'js/module2'</span></div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>å¦‚æœæ‰€æœ‰æ¨¡å—éƒ½åœ¨åŒä¸€ä¸ªç›®å½•åˆ™å¯ä»¥é…ç½®<code>baseUrl</code>ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">require</span>.config(&#123;</div><div class="line">  <span class="attr">baseUrl</span>: <span class="string">'js'</span>,</div><div class="line">  <span class="attr">paths</span>: &#123;</div><div class="line">    <span class="string">'module1'</span>: <span class="string">'module1'</span>,</div><div class="line">    <span class="string">'module2'</span>: <span class="string">'module2'</span></div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨URLé…ç½®è¿œç¨‹æ–‡ä»¶é“¾æ¥ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">require</span>.config(&#123;</div><div class="line">  <span class="attr">paths</span>: &#123;</div><div class="line">    <span class="string">'jquery'</span>: <span class="string">'http://cdn.bootcss.com/jquery/2.1.4/jquery'</span></div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>ä¸javaä¸­çš„å¯¼åŒ…çš„ä½œç”¨ç±»ä¼¼ï¼Œ<code>import xxx.xxx.xxx;</code>ã€‚</p><h3 id="å®šä¹‰æ¨¡å—"><a href="#å®šä¹‰æ¨¡å—" class="headerlink" title="å®šä¹‰æ¨¡å—"></a>å®šä¹‰æ¨¡å—</h3><p>ç›®å‰å¸¸è§çš„çš„jsæ¨¡å—è§„èŒƒæœ‰<code>CMD</code>ã€<code>AMD</code>ã€<code>CommonJS</code>ä»¥åŠå…¼å®¹æ€§å†™æ³•çš„<code>UMD</code>ï¼Œrequire.jsæ˜¯å®ç°äº†AMDè§„èŒƒçš„jsåº“ã€‚</p><p>å®šä¹‰ä¸€ä¸ªæ¨¡å—<code>tool</code>ï¼Œå¦‚ä¸‹å†™æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">define(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> msg = <span class="string">'The Hello at tool.'</span>;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">hello</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(msg);</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>å¦‚æœè¯¥æ¨¡å—ä¾èµ–å…¶ä»–æ¨¡å—ï¼Œå¦‚jqueryï¼Œå°±éœ€è¦å®šä¹‰æ¨¡å—ä¾èµ–ã€‚å¦‚å…¥å£æ¨¡å—çš„å®šä¹‰ä¸€æ ·ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å†™æˆæ¨¡å—åæ•°ç»„ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">define(<span class="string">'[jquery]'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">$</span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> msg = <span class="string">'The Hello at tool.'</span>;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">hello</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(msg);</div><div class="line">        <span class="built_in">console</span>.log($ === <span class="literal">undefined</span>);</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>ä¾èµ–çš„æ¨¡å—ä¾ç„¶éœ€è¦åœ¨å…¥å£æ¨¡å—ä¸­é…ç½®åŠ è½½è·¯å¾„ï¼Œä½†ä¸æ˜¯å¿…é¡»è¦åœ¨å…¥å£æ¨¡å—ä¸­æ³¨å…¥ã€‚</p><p>åœ¨è¿™ä¸ªæ¨¡å—ä¸­æˆ‘ä»¬å‘ç°äº†è¿™æ®µä»£ç ä¸ä¸€å¼€å§‹çš„åŸºæœ¬æ¨¡å—å†™æ³•ç±»ä¼¼ï¼Œä¸€æ ·æ˜¯åªæš´æ¼å¿…é¡»çš„è°ƒç”¨æ¥å£ã€‚</p><p>ç°åœ¨å¯ä»¥åœ¨å…¥å£æ¨¡å—ä¸­è°ƒç”¨è¿™ä¸ªæ¨¡å—ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">require</span>([<span class="string">'tool'</span>], <span class="function"><span class="keyword">function</span> (<span class="params">t</span>)</span>&#123;</div><div class="line">  t.hello();</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>å¦‚æœjqueryåŠ è½½æ­£ç¡®çš„è¯ï¼Œæ§åˆ¶å°ä¼šè¾“å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">The Hello at tool.</div><div class="line">false</div></pre></td></tr></table></figure><p>å¥½äº†ï¼Œç°åœ¨å¯ä»¥å»æ›´æ–°ç®€å†åœ¨æŠ€èƒ½ä¸ŠåŠ ä¸Šrequire.jsäº†ï¼</p><h2 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h2><p>å„ç§æ¨¡å—åŒ–è§„èŒƒæ®Šé€”åŒå½’ï¼Œéƒ½æ˜¯ä¸ºäº†è§£å†³åŒæ ·çš„é—®é¢˜ã€‚ç†è§£äº†å…¶ä¸­ä¸€ç§ï¼Œéƒ½å¯ä»¥è½»æ¾æŒæ¡å…¶ä»–è§„èŒƒçš„å†™æ³•ã€‚<br>æœªæ¥æˆ‘ä»¬è¿˜æœ‰å¤©ç„¶æ”¯æŒç±»å’Œæ¨¡å—çš„ES6ï¼ŒæœŸå¾…å§ï¼Ÿ</p><p>æˆ‘ä¸€ç›´è®¤ä¸ºå¥½çš„å¼€å‘äººå‘˜ä¸åº”è¯¥å±€é™äºä¸€ä¸ªæŠ€æœ¯æ ˆï¼Œå› ä¸ºè¿™æ ·ä¼šé˜»ç¢ä½ å¯¹ä¸€ä¸ªé—®é¢˜çš„å…¨é¢è®¤çŸ¥å’Œå¯¹æ–°çŸ¥è¯†çš„å¿«é€Ÿé¢†ä¼šã€‚</p>]]></content>
    
    <summary type="html">
    
      require.jså…¥é—¨ï¼Œç”¨é¢å‘å¯¹è±¡è¯­è¨€æ¥ç†è§£jsæ¨¡å—åŒ–
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://imys.net/tags/JavaScript/"/>
    
      <category term="æ¨¡å—åŒ–" scheme="http://imys.net/tags/%E6%A8%A1%E5%9D%97%E5%8C%96/"/>
    
      <category term="Require.js" scheme="http://imys.net/tags/Require-js/"/>
    
  </entry>
  
  <entry>
    <title>canvaså®è·µ--å›¾è¡¨ç»„ä»¶ä»ªè¡¨ç›˜ã€é›·è¾¾å›¾</title>
    <link href="http://imys.net/20150731/canvas-chart-demo.html"/>
    <id>http://imys.net/20150731/canvas-chart-demo.html</id>
    <published>2015-07-31T01:14:34.000Z</published>
    <updated>2016-11-12T19:10:36.746Z</updated>
    
    <content type="html"><![CDATA[<p>å¤§æ•°æ®æ¦‚å¿µçš„åˆ°æ¥ï¼Œå›¾è¡¨çš„è¿ç”¨è¶Šæ¥è¶Šå¹¿æ³›ï¼Œä¸æææ•°æ®ï¼Œéƒ½ä¸å¥½æ„æ€è¯´æ˜¯äº’è”ç½‘å…¬å¸ã€‚</p><p>æœ€è¿‘å…¬å¸åˆæœ‰ä¸€å—å›¾è¡¨å±•ç¤ºçš„æ ç›®è¦åšï¼Œç”±äºä¹‹å‰çš„å›¾è¡¨æ ç›®éƒ½æ˜¯æˆ‘å®Œæˆçš„ï¼Œè¿™æ¬¡ä¸å‡ºæ„æ–™åˆè½åœ¨æˆ‘èº«ä¸Šã€‚<br>ä¹‹å‰çš„å›¾è¡¨å±•ç¤ºæˆ‘ç”¨çš„æ˜¯<code>echarts</code>ï¼ŒæŒ‰æ ¼å¼å°è£…æ•°æ®è°ƒç”¨å°±è¡Œäº†ã€‚<br>è¿™æ¬¡é¢†å¯¼çªç„¶å¯¹å›¾è¡¨æ ·å¼æœ‰äº†ä¸€äº›è¦æ±‚ï¼Œè™½ç„¶<code>echarts</code>çš„é…ç½®å¤ŸOPï¼Œä¹Ÿä¸å¯èƒ½å®Œå®Œå…¨å…¨è·Ÿè®¾è®¡å›¾ææˆä¸€æ ·çš„ã€‚</p><p>æš¨äºä¸Šæ¬¡çš„<code>canvas</code>çš„ä½¿ç”¨ï¼Œæˆ‘å†³å®šè‡ªå·±åŠ¨æ‰‹å®ç°æ‰€éœ€è¦çš„å›¾è¡¨ç»„ä»¶ã€‚<br>è¿™æ˜¯æœ€ç»ˆçš„å®Œæˆæ ·å¼ï¼š</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/canvas-chart.jpg" alt="canvaså®è·µ--å›¾è¡¨ç»„ä»¶ä»ªè¡¨ç›˜ã€é›·è¾¾å›¾"></div><div class="image-caption">canvaså®è·µ--å›¾è¡¨ç»„ä»¶ä»ªè¡¨ç›˜ã€é›·è¾¾å›¾</div></figure><a id="more"></a><p>é¦–å…ˆæ ¹æ®æ•ˆæœå›¾æ¥åˆ’åˆ†å‡ºå„ä¸ªå›¾å±‚ï¼Œä»¥åŠå›¾å±‚å±‚çº§ä½ç½®ã€‚<br>ç„¶åæŒ‰ç…§å±‚çº§å…³ç³»ç”±ä¸‹å‘ä¸Šä¾æ¬¡ç»˜åˆ¶ã€‚</p><p>æ•´ä¸ªç¼–ç è¿‡ç¨‹è¿˜æ˜¯å¾ˆé¡ºåˆ©çš„ï¼Œä¸€äº›é—®é¢˜éƒ½å¾—åˆ°äº†å¾ˆå¥½çš„è§£å†³ã€‚</p><p><a href="https://github.com/yscoder/canvas-chart" target="_blank" rel="external">æŸ¥çœ‹github</a></p><h2 id="è¸©è¿‡çš„å"><a href="#è¸©è¿‡çš„å" class="headerlink" title="è¸©è¿‡çš„å"></a>è¸©è¿‡çš„å</h2><h3 id="ç¡®å®šåœ†ä¸Šä»»æ„ä¸€ç‚¹çš„ä½ç½®"><a href="#ç¡®å®šåœ†ä¸Šä»»æ„ä¸€ç‚¹çš„ä½ç½®" class="headerlink" title="ç¡®å®šåœ†ä¸Šä»»æ„ä¸€ç‚¹çš„ä½ç½®"></a>ç¡®å®šåœ†ä¸Šä»»æ„ä¸€ç‚¹çš„ä½ç½®</h3><p>æ­¤æ¬¡ç»˜åˆ¶çš„å›¾è¡¨åˆ†åˆ«æ˜¯ä»ªè¡¨ç›˜å’Œé›·è¾¾å›¾ï¼Œå¾ˆå¤šå›¾å½¢æˆ–ç‚¹çš„ä½ç½®éƒ½éœ€è¦è¿›è¡Œä¸€å®šçš„è®¡ç®—ã€‚æ¯”å¦‚ä»ªè¡¨ç›˜ä¸Šçš„æŒ‡é’ˆåæ ‡ã€é›·è¾¾å›¾å„ä¸ªè§’çš„ä½ç½®ç­‰ã€‚<br>è€Œä¸¤ä¸ªå›¾è¡¨éƒ½æ˜¯åŸºäºåœ†å¿ƒè§’ç»˜åˆ¶çš„å›¾å½¢ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ <strong>åœ†çš„å‚æ•°æ–¹ç¨‹</strong> æ¥è½»æ¾è§£å†³ã€‚</p><p><em>x = cx + r &times; cos(Ï€ &times; e)</em><br><em>y = cy + r &times; sin(Ï€ &times; e)</em></p><ol><li>cx: åœ†å¿ƒç‚¹æ¨ªåæ ‡</li><li>r: åŠå¾„</li><li>e: ç»“æŸè§’</li><li>cy: åœ†å¿ƒç‚¹çºµåæ ‡</li></ol><h3 id="ç»˜åˆ¶æ¸å˜è‰²åœ†ç¯"><a href="#ç»˜åˆ¶æ¸å˜è‰²åœ†ç¯" class="headerlink" title="ç»˜åˆ¶æ¸å˜è‰²åœ†ç¯"></a>ç»˜åˆ¶æ¸å˜è‰²åœ†ç¯</h3><p>åŸæœ¬çœ‹åˆ°ä»ªè¡¨ç›˜æ ·å¼å›¾æ—¶ï¼Œé¢„æƒ³çš„è¿™ä¸ªæ¸å˜åœ†ç¯éœ€è¦ä¸€èŠ‚ä¸€èŠ‚ç”¨ä¸åŒçš„é¢œè‰²ç”»ä¸Šå»çš„ã€‚<br>å®é™…çš„å®ç°è¦ç®€å•å¤ªå¤šäº†ï¼å¯ä»¥ç›´æ¥ä½¿ç”¨ç»˜åˆ¶æ¸å˜è‰²çš„æ–¹æ³•ã€‚<br><code>canvas</code>æ”¯æŒçº¿æ€§æ¸å˜å’Œæ”¾å°„å½¢æ¸å˜ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯çº¿æ€§æ¸å˜ã€‚</p><table><thead><tr><th>æ–¹æ³•</th><th style="text-align:center">æè¿°</th></tr></thead><tbody><tr><td>createLinearGradient(x0, y0, x1, y1)</td><td style="text-align:center">åˆ›å»ºçº¿æ€§æ¸å˜ï¼Œå‚æ•°åˆ†åˆ«è¡¨ç¤ºèµ·å§‹ç‚¹xåæ ‡å’Œyåæ ‡ã€ç»“æŸç‚¹xåæ ‡å’Œyåæ ‡ã€‚</td></tr><tr><td>addColorStop(stop, color)</td><td style="text-align:center">è§„å®šæ¸å˜å¯¹è±¡ä¸­çš„é¢œè‰²å’Œåœæ­¢ä½ç½®ï¼Œstopè¡¨ç¤ºä¸€ä¸ªé¢œè‰²çš„æ¸å˜ç»“æŸä½ç½®0-1ä¹‹é—´ï¼Œcolorè¡¨ç¤ºæ¸å˜è‰²ã€‚</td></tr></tbody></table><p>å…·ä½“çš„ä½¿ç”¨å¯ä»¥<a href="http://www.runoob.com/tags/canvas-addcolorstop.html" target="_blank" rel="external">ç‚¹è¿™é‡Œ</a>ã€‚</p><p>é¡ºä¾¿è¯´è¯´å¦‚ä½•æ ¹æ®è®¾è®¡å›¾ç¡®å®šæ¸å˜çš„ä½ç½®å’Œé¢œè‰²ã€‚</p><ol><li>ç”¨psæ‰“å¼€ç¾å·¥ç»™çš„psdæ–‡ä»¶ï¼›</li><li>æ‰¾åˆ°æ¸å˜çš„å›¾å±‚æ ·å¼è®¾ç½®ï¼›</li><li>ç…§ç€ä¸Šé¢çš„è®¾ç½®æ¥å°±è¡Œäº†ã€‚</li></ol><h3 id="ç»˜åˆ¶è™šçº¿"><a href="#ç»˜åˆ¶è™šçº¿" class="headerlink" title="ç»˜åˆ¶è™šçº¿"></a>ç»˜åˆ¶è™šçº¿</h3><p>HTML5è§„èŒƒä¸­å·²æœ‰ç»˜åˆ¶è™šçº¿çš„æ–¹æ³•ï¼Œæ”¯æŒçš„æµè§ˆå™¨æœ‰Chrome, Safari, IE 11 å’Œ Operaã€‚</p><p><code>context.setLineDash()</code></p><p><a href="http://www.rgraph.net/blog/2013/january/html5-canvas-dashed-lines.html" target="_blank" rel="external">ä½¿ç”¨å‚è€ƒ</a></p><h3 id="å¼€åœºåŠ¨ç”»"><a href="#å¼€åœºåŠ¨ç”»" class="headerlink" title="å¼€åœºåŠ¨ç”»"></a>å¼€åœºåŠ¨ç”»</h3><p><code>canvas</code>æœ¬èº«æ²¡æœ‰è¿™æ–¹é¢çš„æ”¯æŒï¼Œéœ€è¦ä½¿ç”¨å®šæ—¶å™¨æ¥è¿›è¡Œä¸€å®šæ—¶é—´çš„é‡ç»˜æ¥å®ç°ã€‚</p><p>æ•´ä¸ªé€»è¾‘å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 1. è®¾ç½®æœ€å°åˆå§‹å€¼ï¼Œè·å–æœ€ç»ˆå€¼</span></div><div class="line"><span class="keyword">var</span> value = <span class="number">0</span>,</div><div class="line">    endValue = <span class="number">668</span>; </div><div class="line"></div><div class="line"><span class="comment">// 2. å¯åŠ¨å®šæ—¶å™¨æ ¹æ®valueåŠ¨æ€ç»˜åˆ¶</span></div><div class="line"><span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">  <span class="comment">// 3. valueç´¯åŠ ï¼Œå¦‚æœå°äºæœ€ç»ˆå€¼å°±åŠ ä¸€å®šå€¼ï¼Œå¦åˆ™ç­‰äºæœ€ç»ˆå€¼</span></div><div class="line">  value = value + <span class="number">1</span> &gt; endValue ? endValue :  value + <span class="number">1</span>;</div><div class="line">  </div><div class="line">  <span class="comment">// 4. æ¸…ç©ºç”»å¸ƒ</span></div><div class="line">  context.clearRect(<span class="number">0</span>, <span class="number">0</span>, <span class="number">500</span>, <span class="number">300</span>);</div><div class="line">  </div><div class="line">  <span class="comment">// 5. æ ¹æ®valueæ¥è¿›è¡Œæ­¤æ¬¡ç»˜åˆ¶</span></div><div class="line">  <span class="comment">// å…·ä½“æ­¥éª¤çœç•¥...</span></div><div class="line">  </div><div class="line">  <span class="comment">// 6. åˆ¤æ–­valueæ˜¯å¦ç­‰äºæœ€ç»ˆå€¼æ¥ç»“æŸå®šæ—¶å™¨</span></div><div class="line">  <span class="keyword">if</span>(value === endValue) &#123;</div><div class="line">    clearInterval(timer);</div><div class="line">  &#125;</div><div class="line">  </div><div class="line">&#125;, <span class="number">10</span>);</div></pre></td></tr></table></figure><p>å¯ä»¥é€šè¿‡è°ƒæ•´ç´¯åŠ æ•°å’Œå®šæ—¶å™¨æ—¶é—´æ¥æ§åˆ¶åŠ¨ç”»é€Ÿåº¦ã€‚</p><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>è¯´èµ·æ¥è¿™ä¸¤ä¸ªç»„ä»¶çš„å°è£…å’Œè°ƒç”¨ä¹Ÿæ˜¯å‡­ç€<code>echarts</code>çš„ä½¿ç”¨ç»éªŒæ¥è®¾å®šçš„ï¼Œæ„Ÿè°¢ç™¾åº¦å‰ç«¯å¤§å¤§ä»¬ä¸ºæ­¤ä½œå‡ºçš„è´¡çŒ®ï¼</p>]]></content>
    
    <summary type="html">
    
      â€˜canvaså®ç°å›¾è¡¨ç»„ä»¶ä»ªè¡¨ç›˜ã€é›·è¾¾å›¾ï¼Œhtml5â€™
    
    </summary>
    
    
      <category term="Canvas" scheme="http://imys.net/tags/Canvas/"/>
    
      <category term="Html5" scheme="http://imys.net/tags/Html5/"/>
    
      <category term="Chart" scheme="http://imys.net/tags/Chart/"/>
    
  </entry>
  
  <entry>
    <title>Canvasåˆè¯•--ç¯å½¢è¿›åº¦æ¡çš„å®ç°</title>
    <link href="http://imys.net/20150722/canvas-annulus-process.html"/>
    <id>http://imys.net/20150722/canvas-annulus-process.html</id>
    <published>2015-07-22T00:21:53.000Z</published>
    <updated>2016-11-12T19:10:24.931Z</updated>
    
    <content type="html"><![CDATA[<p>èµ·åˆæƒ³è¿™ä¹ˆåšæ—¢æ˜¯<code>css3</code>ä¸æ˜“å®ç°åœ†ç¯ï¼Œè€Œä¸”ä¹Ÿæœ‰ä½ç‰ˆæœ¬å…¼å®¹é—®é¢˜ï¼Œä¹Ÿæƒ³å€Ÿæ­¤æœºä¼šå­¦ä¹ ä¸‹<code>canvas</code>(è™½ç„¶æœ€åè¿˜æ˜¯éš¾é€ƒå…¼å®¹æ€§ &gt;_&lt; )ã€‚<br>åšçš„è¿‡ç¨‹ä¸­å‘ç°<code>canvas</code>è·Ÿ<code>C#</code>ä¸­<code>gdi</code>ç»˜å›¾çš„æ­¥éª¤å…¶å®æ˜¯å·®ä¸å¤šçš„ã€‚</p><p>å…ˆå¤§æ¦‚çœ‹äº†ä¸‹<code>canvas</code>çš„ç›¸å…³APIï¼Œæœ‰ä¸ªå¯ä»¥ç”»å¼§çš„æ–¹æ³•<code>arc</code>ã€‚</p><p>é€šè¿‡åˆç†çš„å‚æ•°è®¾ç½®å°±èƒ½å®ç°å„ç§è§’åº¦çš„åœ†å¼§ï¼Œæˆ–è€…æ»¡åœ†ã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/process.jpg" alt="Canvasåˆè¯•--ç¯å½¢è¿›åº¦æ¡çš„å®ç°"></div><div class="image-caption">Canvasåˆè¯•--ç¯å½¢è¿›åº¦æ¡çš„å®ç°</div></figure><a id="more"></a><h3 id="å®šä¹‰canvas"><a href="#å®šä¹‰canvas" class="headerlink" title="å®šä¹‰canvas"></a>å®šä¹‰canvas</h3><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"process"</span> <span class="attr">width</span>=<span class="string">"200"</span> <span class="attr">height</span>=<span class="string">"200"</span> <span class="attr">data-process</span>=<span class="string">"85"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></div></pre></td></tr></table></figure><p>åœ¨åŸºæœ¬çš„HTML5æ–‡æ¡£ä¸­æ·»åŠ ä¸€ä¸ª<code>canvas</code>ï¼Œå®šä¹‰äº†idå®½é«˜ä»¥åŠä¸€ä¸ªè‡ªå®šä¹‰å±æ€§è¡¨ç¤ºè¦æ˜¾ç¤ºçš„è¿›åº¦å€¼ã€‚</p><h3 id="ç”»èƒŒæ™¯åœ†ï¼ˆç°è‰²ï¼‰"><a href="#ç”»èƒŒæ™¯åœ†ï¼ˆç°è‰²ï¼‰" class="headerlink" title="ç”»èƒŒæ™¯åœ†ï¼ˆç°è‰²ï¼‰"></a>ç”»èƒŒæ™¯åœ†ï¼ˆç°è‰²ï¼‰</h3><p>é¦–å…ˆäº†è§£ä¸‹<code>arc</code>æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">context.arc(x,y,r,sAngle,eAngle,counterclockwise);</div></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°</th><th style="text-align:center">æè¿°</th></tr></thead><tbody><tr><td>x</td><td style="text-align:center">åœ†çš„ä¸­å¿ƒçš„ x åæ ‡ã€‚</td></tr><tr><td>y</td><td style="text-align:center">åœ†çš„ä¸­å¿ƒçš„ y åæ ‡ã€‚</td></tr><tr><td>r</td><td style="text-align:center">åœ†çš„åŠå¾„ã€‚</td></tr><tr><td>sAngle</td><td style="text-align:center">èµ·å§‹è§’ï¼Œä»¥å¼§åº¦è®¡ï¼ˆå¼§çš„åœ†å½¢çš„ä¸‰ç‚¹é’Ÿä½ç½®æ˜¯ 0 åº¦ï¼‰ã€‚</td></tr><tr><td>eAngle</td><td style="text-align:center">ç»“æŸè§’ï¼Œä»¥å¼§åº¦è®¡ã€‚</td></tr><tr><td>counterclockwise</td><td style="text-align:center">å¯é€‰ã€‚è§„å®šåº”è¯¥é€†æ—¶é’ˆè¿˜æ˜¯é¡ºæ—¶é’ˆç»˜å›¾ã€‚False = é¡ºæ—¶é’ˆï¼Œtrue = é€†æ—¶é’ˆã€‚</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> c = <span class="built_in">document</span>.getElementById(<span class="string">'process'</span>);</div><div class="line"><span class="keyword">var</span> process = c.getAttribute(<span class="string">'data-process'</span>);</div><div class="line"><span class="keyword">var</span> ctx = c.getContext(<span class="string">'2d'</span>);</div><div class="line"></div><div class="line"><span class="comment">// ç”»ç°è‰²çš„åœ†</span></div><div class="line">ctx.beginPath();</div><div class="line">ctx.arc(<span class="number">100</span>, <span class="number">100</span>, <span class="number">80</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI*<span class="number">2</span>);</div><div class="line">ctx.closePath();</div><div class="line">ctx.fillStyle = <span class="string">'#F6F6F6'</span>;</div><div class="line">ctx.fill();</div></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ä¸­è®¾ç½®äº†åœ†å¿ƒä¸º<code>100,100</code>ï¼Œæ­£å¥½çš„ç”»å¸ƒä¸­å¿ƒï¼Œåœ†åŠå¾„ä¸º<code>80</code>ï¼Œèµ·å§‹è§’åº¦<code>0</code>è¡¨ç¤º<code>3</code>ç‚¹é’Ÿæ–¹å‘ï¼Œç»“æŸè§’åº¦<code>Math.PI*2</code>å…¶å®æ˜¯ä¸ªæ»¡åœ†ã€‚<br>ä¸‹ä¸€æ­¥ä¼šè¯´æ˜èµ·å§‹è§’åº¦å’Œç»“æŸè§’åº¦å…·ä½“ç®—æ³•ã€‚</p><h3 id="ç”»è¿›åº¦ç¯ï¼ˆæ©™è‰²ï¼‰"><a href="#ç”»è¿›åº¦ç¯ï¼ˆæ©™è‰²ï¼‰" class="headerlink" title="ç”»è¿›åº¦ç¯ï¼ˆæ©™è‰²ï¼‰"></a>ç”»è¿›åº¦ç¯ï¼ˆæ©™è‰²ï¼‰</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// ç”»è¿›åº¦ç¯</span></div><div class="line">ctx.beginPath();</div><div class="line">ctx.moveTo(<span class="number">100</span>, <span class="number">100</span>);  </div><div class="line">ctx.arc(<span class="number">100</span>, <span class="number">100</span>, <span class="number">80</span>, <span class="built_in">Math</span>.PI*<span class="number">1.5</span>, <span class="built_in">Math</span>.PI*(<span class="number">1.5</span>+<span class="number">2</span>*process/<span class="number">100</span>));</div><div class="line">ctx.closePath();</div><div class="line">ctx.fillStyle = <span class="string">'#FF9600'</span>;</div><div class="line">ctx.fill();</div></pre></td></tr></table></figure><p>ä¸ä¸Šä¸€æ­¥æ¯”è¾ƒï¼Œå¤šäº†ä¸€å¥<code>ctx.moveTo(x,y);</code>ï¼Œæ„ä¸ºæŠŠè·¯å¾„ç§»åŠ¨åˆ°ç”»å¸ƒä¸­çš„æŒ‡å®šç‚¹ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸€æ­¥ç”»å‡ºæ¥çš„å°±ä¸æ˜¯å¼§äº†ã€‚<br>èµ·å§‹è§’åº¦å’Œç»“æŸè§’åº¦ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼Œè¦æƒ³çœŸæ­£ç†è§£è¿™ä¸¤ä¸ªè§’åº¦ï¼Œçœ‹ä¸‹å›¾ã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/img_arc.gif" alt="Canvasåˆè¯•--ç¯å½¢è¿›åº¦æ¡çš„å®ç°"></div><div class="image-caption">Canvasåˆè¯•--ç¯å½¢è¿›åº¦æ¡çš„å®ç°</div></figure><p>3ç‚¹é’Ÿæ–¹å‘ç”¨<code>0(0PI)</code>è¡¨ç¤ºï¼Œ6ç‚¹é’Ÿæ˜¯<code>0.5PI</code>ï¼Œ9ç‚¹é’Ÿ<code>1PI</code>ï¼Œ12ç‚¹é’Ÿ<code>1.5PI</code>ï¼Œè¿™æ ·è½¬ä¸€å‘¨å›åˆ°3ç‚¹é’Ÿå³ä¸º<code>2PI</code>ã€‚<br>æ‰€ä»¥æ»¡åœ†å¯ä»¥ç”¨èµ·å§‹è§’åº¦<code>0(0PI)</code>å’Œç»“æŸè§’åº¦<code>2PI</code>è¡¨ç¤ºã€‚</p><p>æˆ‘ä»¬è¦ç”»çš„åœ†ç¯æ˜¯éœ€è¦ä»12ç‚¹é’Ÿæ–¹å‘å¼€å§‹çš„ï¼Œæ‰€ä»¥è®¾ç½®èµ·å§‹è§’åº¦<code>1.5PI</code>ã€‚<br><code>process</code>åœ¨ç¬¬ä¸€æ­¥ä¸­è·å–äº†è¦æ˜¾ç¤ºçš„è¿›åº¦<code>85</code>ï¼Œå³ä¸º<code>85/100</code>çš„åœ†ï¼ŒæŒ‰åŸæ¥<code>3</code>ç‚¹é’Ÿå¼€å§‹ï¼Œé‚£ä¹ˆç»“æŸè§’åº¦å¯ä»¥è®¡ç®—ä¸º<code>Math.PI*2*85/100</code>ã€‚<br>å› ä¸ºèµ·å§‹è§’åº¦çš„å˜æ›´ï¼Œç»“æŸè§’åº¦ä¹Ÿè¦è¿›è¡Œç›¸åº”çš„å˜åŒ–ï¼Œå„åœ¨åŸæ¥çš„åŸºç¡€ä¸ŠåŠ äº†<code>1.5</code>çš„åŸºæ•°ã€‚</p><p><strong>èµ·å§‹è§’åº¦</strong></p><p><em>0 -&gt; Math.PI &times; 0 -&gt; Math.PI &times; (0+1.5) -&gt; Math.PI &times; 1.5</em></p><p><strong>ç»“æŸè§’åº¦</strong></p><p><em>Math.PI &times; 2 -&gt; Math.PI &times; 2 &times; 85/100 -&gt; Math.PI &times; 2 &times; process/100 -&gt; Math.PI &times; (1.5+2 &times; process/100)</em></p><h3 id="ç”»å†…å¡«å……åœ†ï¼ˆç™½è‰²ï¼‰"><a href="#ç”»å†…å¡«å……åœ†ï¼ˆç™½è‰²ï¼‰" class="headerlink" title="ç”»å†…å¡«å……åœ†ï¼ˆç™½è‰²ï¼‰"></a>ç”»å†…å¡«å……åœ†ï¼ˆç™½è‰²ï¼‰</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// ç”»å†…å¡«å……åœ†</span></div><div class="line">ctx.beginPath();</div><div class="line">ctx.arc(<span class="number">100</span>, <span class="number">100</span>, <span class="number">60</span>, <span class="number">0</span>, <span class="built_in">Math</span>.PI*<span class="number">2</span>);</div><div class="line">ctx.closePath();</div><div class="line">ctx.fillStyle = <span class="string">'#fff'</span>;</div><div class="line">ctx.fill();</div></pre></td></tr></table></figure><p>åŠå¾„å‡å°‘20ï¼Œè¿›è¡Œå†…åœ†å¡«å……ã€‚</p><h3 id="å¡«å……æ˜¾ç¤ºæ–‡å­—ï¼ˆæ•°å­—ç™¾åˆ†æ¯”ï¼‰"><a href="#å¡«å……æ˜¾ç¤ºæ–‡å­—ï¼ˆæ•°å­—ç™¾åˆ†æ¯”ï¼‰" class="headerlink" title="å¡«å……æ˜¾ç¤ºæ–‡å­—ï¼ˆæ•°å­—ç™¾åˆ†æ¯”ï¼‰"></a>å¡«å……æ˜¾ç¤ºæ–‡å­—ï¼ˆæ•°å­—ç™¾åˆ†æ¯”ï¼‰</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// å¡«å……æ–‡å­—</span></div><div class="line">ctx.font = <span class="string">"bold 20pt Microsoft YaHei"</span>; </div><div class="line">ctx.fillStyle = <span class="string">'#333'</span>;</div><div class="line">ctx.textAlign = <span class="string">'center'</span>;  </div><div class="line">ctx.textBaseline = <span class="string">'middle'</span>;  </div><div class="line">ctx.moveTo(<span class="number">100</span>, <span class="number">100</span>);  </div><div class="line">ctx.fillText(process+<span class="string">'%'</span>, <span class="number">100</span>, <span class="number">100</span>);</div></pre></td></tr></table></figure><p>å®Œæˆï¼</p><p>å…³äº<code>canvas</code>åœ¨IE7ã€8ä¸‹çš„å…¼å®¹éœ€è¦å¼•ç”¨googleçš„ <a href="https://github.com/arv/ExplorerCanvas" target="_blank" rel="external">excanvas.js</a> ï¼Œå¹¶æŠŠç”»å›¾çš„ç›¸å…³çš„ä»£ç æ”¾åˆ°<code>window.onload</code>ä¸‹ã€‚<br>ä¸è¿‡è¿™ä¸ªæ–‡ä»¶æœ‰äº›å¤§ï¼Œ40K+ï¼Œå‹ç¼©å17Kã€‚</p>]]></content>
    
    <summary type="html">
    
      Canvaså®ç°ç¯å½¢è¿›åº¦æ¡
    
    </summary>
    
    
      <category term="Canvas" scheme="http://imys.net/tags/Canvas/"/>
    
      <category term="Html5" scheme="http://imys.net/tags/Html5/"/>
    
      <category term="Process" scheme="http://imys.net/tags/Process/"/>
    
  </entry>
  
  <entry>
    <title>ç”¨æˆ·ä½“éªŒ--WEBç«™ç‚¹å¿«æ·é”®å®ç°æ–¹æ¡ˆ</title>
    <link href="http://imys.net/20150716/ue-shortcut-key.html"/>
    <id>http://imys.net/20150716/ue-shortcut-key.html</id>
    <published>2015-07-16T07:06:58.000Z</published>
    <updated>2016-11-12T19:29:03.905Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©ä¸€å¤§æ—©å°±è¢«å¤´å„¿æ´¾äº†ä»»åŠ¡ï¼Œè®©æˆ‘æ•´ç†ä¸€ä»½å¯ç”¨å¿«æ·é”®æ“ä½œçš„å¯è¡Œæ€§æ–¹æ¡ˆã€‚<br>ä¸æ•¢æ‡ˆæ€ ï¼Œé‚å‡ºæ­¤æ–‡ã€‚</p><a id="more"></a><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>å¯¹äºWEBç«™ç‚¹çš„å¤šæ•°æ“ä½œä¹Ÿå°±æ˜¯é¼ æ ‡ç‚¹ç‚¹ç½¢äº†ï¼Œå¤šæ•°æ™®é€šç”¨æˆ·éƒ½æ˜¯ä¸æ„¿æ„è®°é‚£ä¹ˆå¤šä¸œè¥¿çš„ï¼Œæ‰€ä»¥é¦–å…ˆè¦è€ƒè™‘ç”¨æˆ·å¯æ¥å—æ€§ã€‚</p><p>å¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹å‘è€ƒè™‘å¿«æ·é”®ï¼š</p><ol><li>é€šç”¨ã€æ˜“ç”¨ã€ä¹ æƒ¯ï¼Œå¸¸ç”¨åŠŸèƒ½ä½¿ç”¨ï¼Œå¯å¿«é€Ÿæ¥å—ï¼Œä¹ æƒ¯æ€§æŒ‰é”®</li><li>æ–¹ä¾¿ã€å¿«æ·ï¼Œæœ‰æ•ˆæå‡æ“ä½œæ•ˆç‡</li><li>ä¸“ç”¨ï¼Œé’ˆå¯¹ç‰¹æ®ŠåŠŸèƒ½ã€ç‰¹æ®Šäººç¾¤å’Œç‰¹æ®Šéœ€æ±‚</li></ol><h2 id="è®¡åˆ’"><a href="#è®¡åˆ’" class="headerlink" title="è®¡åˆ’"></a>è®¡åˆ’</h2><h3 id="å¯ç”¨é”®"><a href="#å¯ç”¨é”®" class="headerlink" title="å¯ç”¨é”®"></a>å¯ç”¨é”®</h3><p>ä»è¯­ä¹‰åŒ–æ¥è®²ï¼Œä¸“é—¨çš„é”®åšä¸“ä¸šçš„äº‹ã€‚å¢åŠ ç”¨æˆ·ä¾¿åˆ©çš„å‰æä¸‹ä¸èƒ½æ»¥ç”¨ä¸€äº›ç³»ç»Ÿå’Œæµè§ˆå™¨è§„åˆ’å¥½çš„æŒ‰é”®ï¼Œå¦‚å¸¸ç”¨çš„å¤åˆ¶å’Œç²˜è´´ã€‚<br>æ­¤ç±»æŒ‰é”®å¾ˆå¤šï¼Œè¿™å°±å¯¼è‡´å¯è¢«æˆ‘ä»¬åˆ©ç”¨çš„é”®å¾ˆå°‘ã€‚<br>æœ€å¥½çš„å½“ç„¶æ˜¯è®¾ç½®1ä¸ªé”®ï¼Œä¸è¿‡åœ¨å¤šæ•°äººä¹ æƒ¯äº†officeã€QQç­‰è½¯ä»¶åä¹Ÿä¹ æƒ¯äº†ä¸€äº›å¿«æ·é”®æ“ä½œã€‚<br>æ‰€ä»¥å¯ä»¥ä»è¿™äº›ä¹ æƒ¯ä¸­æ¨å¯¼å‡ºä¸€äº›å¯ç”¨é”®ï¼Œ2-3ä¸ªç»„åˆé”®ä¹Ÿæœªå°ä¸å¯ï¼Œè¿˜å¯ä»¥è€ƒè™‘åŒå‡»ã€‚</p><p>å•é”®ï¼š<code>Esc</code>,<code>Enter</code>,<code>Tab</code>,<code>Delete</code>,<code>Home</code>,æ–¹å‘é”®ç­‰ã€‚<br>ç»„åˆé”®ï¼š<code>Ctrl+*</code>,<code>Ctrl+alt+*</code>ã€‚</p><h3 id="å¯å…¥æ‰‹é¡¹"><a href="#å¯å…¥æ‰‹é¡¹" class="headerlink" title="å¯å…¥æ‰‹é¡¹"></a>å¯å…¥æ‰‹é¡¹</h3><ol><li>å…¨å±€æˆ–å±€éƒ¨çš„<code>Tab</code>ç„¦ç‚¹åˆ‡æ¢ï¼Œç‰¹åˆ«æ˜¯è¡¨å•ï¼›</li><li>ä»»ä½•æœç´¢å’Œæäº¤çš„åœ°æ–¹éƒ½åº”è¯¥ç»‘å®š<code>Enter</code>é”®ï¼›</li><li>è¡¨å•æ–‡æœ¬æ¡†ç‚¹ä¸¤ä¸‹<code>backspace</code>å…¨éƒ¨åˆ é™¤ï¼›</li><li><code>Esc</code>å–æ¶ˆè¾“å…¥ç„¦ç‚¹æˆ–å–æ¶ˆæ“ä½œï¼›</li><li><code>Home</code>è·³è½¬ä¸ªäººä¸­å¿ƒæˆ–ä¼ä¸šä¸­å¿ƒï¼›</li><li><code>Del</code>åˆ é™¤é€‰ä¸­çš„é¡¹ï¼›</li><li>ä¸»å¯¼èˆªæˆ–é‡è¦æ ç›®çš„è®¿é—®é”®ï¼›</li><li>ç”¨æˆ·çš„è‡ªå®šä¹‰å¿«æ·é”®ï¼›</li><li>æ ‡ç­¾é¡µåˆ‡æ¢ï¼›</li><li>ä¸€é”®æ³¨é”€ç™»é™†ç”¨æˆ·ï¼›</li><li>ç«™å†…æœç´¢;</li><li>ä¸€é”®è¿”å›é¡¶éƒ¨ï¼›</li><li>å®¹æˆ‘ä¸‰æ€â€¦â€¦</li></ol><h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><p>åœ¨ä¸Šè¿°é¡¹éƒ½éœ€è¦å®æ–½çš„å‰æä¸‹ï¼Œæ•´ä¸ªå®ç°å¿…ç„¶æ˜¯éœ€è¦è´¯ç©¿æ•´ç«™çš„ã€‚<br>ä¼šæœ‰å…¨å±€çš„æŒ‰é”®ç»‘å®šï¼Œä¹Ÿä¼šæœ‰é’ˆå¯¹æ€§çš„æŸä¸ªåŠŸèƒ½æˆ–é¡µé¢çš„å®ç°ã€‚</p><p><strong>æœ€åæˆ‘çš„æƒ³æ³•å¦‚ä¸‹ï¼š</strong></p><ol><li>æ·»åŠ å…¨å±€Hookæ¨¡å—ï¼Œæ•è·æŒ‰é”®å¹¶æ‰§è¡Œå¯¹åº”çš„æ“ä½œã€‚</li><li>å…¨å±€æ€§çš„ç»‘å®šå¯ä»¥å†™åˆ°å…¨å±€jsæ–‡ä»¶ä¸­ï¼Œç‰¹æ®Šæƒ…å†µç‰¹æ®Šå¯¹å¾…ã€‚</li></ol>]]></content>
    
    <summary type="html">
    
      ç”¨æˆ·ä½“éªŒ--WEBç«™ç‚¹å¿«æ·é”®å®ç°æ–¹æ¡ˆ
    
    </summary>
    
    
      <category term="WEB" scheme="http://imys.net/tags/WEB/"/>
    
      <category term="ç”¨æˆ·ä½“éªŒ" scheme="http://imys.net/tags/%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C/"/>
    
      <category term="å¿«æ·é”®" scheme="http://imys.net/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/"/>
    
  </entry>
  
  <entry>
    <title>é€ ä¸ªè½®å­-åŸºäºjqueryçš„æ–‡å­—æç¤ºæ’ä»¶jtip</title>
    <link href="http://imys.net/20150715/jqplugin-jtip.html"/>
    <id>http://imys.net/20150715/jqplugin-jtip.html</id>
    <published>2015-07-15T07:21:58.000Z</published>
    <updated>2016-11-12T19:19:53.929Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘å·¥ä½œä¸æ˜¯å¾ˆå¿™ï¼Œçœ‹åˆ°ç«™é‡Œä¸€äº›çº¯å›¾æ ‡çš„æŒ‰é’®è¿˜æ˜¯ä½¿ç”¨çš„é»˜è®¤çš„<code>title</code>å±æ€§ä½œæ–‡å­—æç¤ºï¼Œå°±é€ äº†è¿™ä¸ªè½®å­ã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/jtip.jpg" alt="jtip"></div><div class="image-caption">jtip</div></figure><a id="more"></a><h2 id="jtipä»‹ç»"><a href="#jtipä»‹ç»" class="headerlink" title="jtipä»‹ç»"></a>jtipä»‹ç»</h2><h3 id="ç›®å‰åŠŸèƒ½"><a href="#ç›®å‰åŠŸèƒ½" class="headerlink" title="ç›®å‰åŠŸèƒ½"></a>ç›®å‰åŠŸèƒ½</h3><ol><li>ä½ç½®è‡ªåŠ¨å±…ä¸­å¯¹é½ï¼›</li><li>æ”¯æŒä¸Šä¸‹ä¸¤ä¸ªæ–¹å‘çš„çš„æ˜¾ç¤ºï¼›</li><li>å®½åº¦è‡ªé€‚åº”ï¼ˆè¶…å‡ºé•¿åº¦é™åˆ¶è‡ªåŠ¨æ¢è¡Œï¼‰ï¼›</li><li>è‡ªå®šä¹‰æ˜¾ç¤ºåœºæ™¯ï¼ˆå¸¸æ€ã€è­¦å‘Šã€é”™è¯¯ï¼‰ï¼›</li><li>å¯è®¾ç½®ä½ç½®åç§»é‡ã€‚</li></ol><h3 id="å…¼å®¹æ€§"><a href="#å…¼å®¹æ€§" class="headerlink" title="å…¼å®¹æ€§"></a>å…¼å®¹æ€§</h3><p>IE7+(åŒ…æ‹¬IE7)ï¼Œç­‰ç°ä»£æµè§ˆå™¨ã€‚</p><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p>å¯ç”¨äºä»»ä½•å…·æœ‰<code>title</code>å±æ€§çš„DOMå…ƒç´ ã€‚ å¦‚ï¼š</p><pre><code>&lt;a href=&quot;&quot; title=&quot;your title&quot;&gt;text&lt;/a&gt;

&lt;div title=&quot;your title&quot;&gt;&lt;/div&gt;
</code></pre><h3 id="ä¾èµ–æ–‡ä»¶"><a href="#ä¾èµ–æ–‡ä»¶" class="headerlink" title="ä¾èµ–æ–‡ä»¶"></a>ä¾èµ–æ–‡ä»¶</h3><ul><li>jtip.css</li><li>jquery.js</li><li>jtip.js</li></ul><h3 id="è°ƒç”¨"><a href="#è°ƒç”¨" class="headerlink" title="è°ƒç”¨"></a>è°ƒç”¨</h3><pre><code>$(selector).jtip({
  direction : &apos;top&apos;,      // æ˜¾ç¤ºæ–¹å‘ï¼Œå¯é€‰å€¼ topã€bottom
  className: &apos;jtip&apos;,      // å¯è‡ªå®šä¹‰CSSç±»å
  type: &apos;&apos;,               // æ˜¾ç¤ºç±»å‹ï¼Œå¯é€‰å€¼ &apos;&apos;(ç¼ºçœä¸ºç©º)ã€warningã€danger
  skewing: 0              // ä½ç½®åç§»é‡
});
</code></pre><p>æºç å·²ä¸Šä¼ githubï¼Œ<a href="https://github.com/yscoder/jtip" target="_blank" rel="external">https://github.com/yscoder/jtip</a> ã€‚</p><h2 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h2><p><strong>1.è·å–DOMèŠ‚ç‚¹åŸºäºæ–‡æ¡£çš„ä½ç½®</strong></p><p>æŸäº›æƒ…å†µä¸‹<code>jQuery.offset()</code>åœ¨IE8ä¸‹æ— æ³•è·å–å‡†ç¡®æ•°å€¼ï¼Œå¯ä»¥ä½¿ç”¨åŸç”ŸDOMå±æ€§<code>offsetLeft</code>ã€<code>offsetTop</code>è·å–ï¼ŒIE7ä»éœ€ä½¿ç”¨<code>jQuery.offset()</code>è·å–ã€‚</p><p><strong>2.IE7å®¹å™¨å®½åº¦è‡ªé€‚åº”</strong></p><p>å•è¡Œå†…å®¹è®¾ç½®<code>display:inlineï¼›</code>å¤šè¡Œå†…å®¹è®¾ç½®<code>min-width</code>å’Œ<code>overflow:visible</code>ã€‚</p>]]></content>
    
    <summary type="html">
    
      åŸºäºjqueryçš„æ–‡å­—æç¤ºæ’ä»¶jtip
    
    </summary>
    
    
      <category term="jQueryæ’ä»¶" scheme="http://imys.net/tags/jQuery%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>ieä¸æ˜¾ç¤ºiconfontå­—ä½“å›¾æ ‡</title>
    <link href="http://imys.net/20150709/ie-nodisplay-iconfont.html"/>
    <id>http://imys.net/20150709/ie-nodisplay-iconfont.html</id>
    <published>2015-07-09T02:12:33.000Z</published>
    <updated>2016-11-12T19:20:26.977Z</updated>
    
    <content type="html"><![CDATA[<p>æ˜¨å¤©åŠ©ç†å¦¹å­æ”¶åˆ°å®¢æˆ·çš„åé¦ˆï¼Œè¯´æµè§ˆå™¨ä¸æ˜¾ç¤ºæŒ‰é’®äº†ã€‚ç»è¿‡è¿œç¨‹æŸ¥çœ‹ï¼Œå‘ç°æ˜¯iconfont(å­—ä½“å›¾æ ‡)ä¸æ˜¾ç¤ºäº†ã€‚æ–°ç‰ˆç½‘ç«™ä¸Šçº¿åæ•´ç«™ä½¿ç”¨iconfontæ›¿ä»£äº†å›¾ç‰‡å›¾æ ‡ï¼Œä¸€äº›å°æŒ‰é’®éƒ½æ˜¯ç›´æ¥ä½¿ç”¨çš„iconfontã€‚<br>æŸ¥çœ‹è¿‡åä¸€æ—¶åŠä¼šä¹Ÿæ˜¯æ‰¾ä¸åˆ°åŸå› ï¼Œåªæ˜¯åœ¨è„‘æµ·ä¸­ä¸€éä¸€éçš„å’’éª‚ä¸‡æ¶çš„IE(å®¢æˆ·ä½¿ç”¨çš„æ˜¯IE8)ï¼<br>å› ä¸ºæ¥è§¦ä¸åˆ°çœŸå®å®¢æˆ·ç¯å¢ƒçš„å…³ç³»ï¼Œæš‚æ—¶å…ˆè®©å®¢æˆ·ä½¿ç”¨å…¶ä»–æµè§ˆå™¨ç™»é™†ã€‚ç›´åˆ°ä»Šå¤©å…¬å¸é”€å”®éƒ¨é—¨ä¹Ÿåé¦ˆäº†ç±»ä¼¼çš„é—®é¢˜ï¼Œå¯ä»¥å»å®åœ°æ’æŸ¥åŸå› äº†ã€‚</p><a id="more"></a><ul><li>ç³»ç»Ÿç¯å¢ƒ win7 sp1 32ä½</li><li>æµè§ˆå™¨ ä¸–ç•Œä¹‹çª—æé€Ÿç‰ˆ</li></ul><p>åœ¨æµè§ˆå™¨æé€Ÿæ¨¡å¼ä¸‹æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œåˆ‡æ¢åˆ°å…¼å®¹æ¨¡å¼åå­—ä½“å›¾æ ‡å°±å¤±è¸ªäº†ï¼<br>æ‰€æœ‰åŒæ¨¡å¼åˆ‡æ¢çš„æµè§ˆå™¨çš„å…¼å®¹æ¨¡å¼å½’æ ¹ç»“åº•è¿˜æ˜¯è°ƒç”¨çš„æœ¬æœºçš„IEï¼Œæ‰€ä»¥è¿™è¿˜æ˜¯IEçš„é—®é¢˜ã€‚</p><p>æˆ‘ä»¬å…ˆæ˜¯æ‰¾åˆ°IEæµè§ˆå™¨ï¼Œå› ä¸ºæ˜¯win7ï¼Œæ‰€ä»¥æœ€ä½ä¹Ÿæ˜¯IE8äº†ã€‚</p><ul><li>æ›´æ”¹Interneté€‰é¡¹é‡Œçš„é…ç½®ï¼Œæ— æœï¼</li><li>æµ‹è¯•äº†é“¾æ¥å­—ä½“å›¾æ ‡åº“æ–‡ä»¶ï¼Œä¹Ÿæ˜¯æ­£å¸¸çš„ï¼</li><li>Win7è§†è§‰æ•ˆæœå…¨å¼€ä¹Ÿæ²¡ç”¨ï¼</li><li>F12æ·»åŠ è¡Œå†…å­—ä½“æ ·å¼ä¹Ÿæ²¡ä½œç”¨ï¼</li></ul><p>æœ€åå¾—å‡ºç»“è®ºï¼Œè¿™è´§å°±æ˜¯æ ¹æœ¬<strong>ä¸è¯†åˆ«å­—ä½“æ ·å¼</strong>å•Šï¼<br>è¿™è´§æ‰“å¼€çš„ä»»ä½•ä¸€ä¸ªç½‘é¡µéƒ½æ˜¯å®‹ä½“ï¼Œéš¾é“å­—ä½“åº“åªæœ‰å®‹ä½“å—ï¼Ÿå¯ä¸ºä»€ä¹ˆæé€Ÿæ¨¡å¼å­—ä½“å°±æ­£å¸¸å‘¢ï¼Ÿ<br><code>win+R -&gt; fonts</code> å‘ç°æ‰€æœ‰ç³»ç»Ÿè‡ªå¸¦å­—ä½“éƒ½å®‰å®‰é™é™çš„èººç€å‘¢ã€‚</p><p>å†æ¬¡æ‰“å¼€ Interneté€‰é¡¹ -&gt; å¤–è§‚ -&gt; å­—ä½“ -&gt; å¾®è½¯é›…é»‘ï¼Œæ‰€æœ‰é¡µé¢å­—ä½“éƒ½å˜æˆå¾®è½¯é›…é»‘äº†ã€‚<br>ç„¶å¹¶åµï¼</p><p>ä¸ç»æ„é—´ Interneté€‰é¡¹ -&gt; å¤–è§‚ -&gt; è¾…åŠ©åŠŸèƒ½â€¦æˆ‘æ»´ä¸ªç¥ï¼æˆ‘çœ‹åˆ°ä»€ä¹ˆäº†ï¼Ÿ</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/ie-nodisplay-iconfont.jpg" alt="ieä¸æ˜¾ç¤ºiconfontå­—ä½“å›¾æ ‡"></div><div class="image-caption">ieä¸æ˜¾ç¤ºiconfontå­—ä½“å›¾æ ‡</div></figure><p>åŸæ¥æ˜¯æŠŠç½‘é¡µå­—ä½“å¿½ç•¥äº†ï¼<br>ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡çŸ¥é“IEè¿˜æ˜¯è¿™äº›è®¾ç½®é€‰é¡¹ï¼Œè¿˜å¯ä»¥å®šä¹‰ç”¨æˆ·æ ·å¼ã€‚<br>è¿™æ¬¡ä¹Ÿç®—æ˜¯é•¿è§è¯†äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      ieä¸æ˜¾ç¤ºiconfont,ie8ä¸æ˜¾ç¤ºå­—ä½“å›¾æ ‡
    
    </summary>
    
    
      <category term="Html" scheme="http://imys.net/tags/Html/"/>
    
      <category term="iconfont" scheme="http://imys.net/tags/iconfont/"/>
    
  </entry>
  
  <entry>
    <title>css3é€‰æ‹©å™¨(:target)ç”¨æ³•</title>
    <link href="http://imys.net/20150629/css3-target-selector.html"/>
    <id>http://imys.net/20150629/css3-target-selector.html</id>
    <published>2015-06-29T00:57:17.000Z</published>
    <updated>2016-11-12T19:12:26.500Z</updated>
    
    <content type="html"><![CDATA[<p><strong>target</strong>è¯‘ä¸ºâ€œç›®æ ‡â€ï¼ŒåŠ å†’å·å³ä¸ºä¼ªç±»é€‰æ‹©å™¨ã€‚<br>æ­¤é€‰æ‹©å™¨ä¾¿æ˜¯ç”¨äºç»™ç›®æ ‡å…ƒç´ æ·»åŠ é¢å¤–æ ·å¼ï¼Œç±»ä¼¼äº<code>hover</code>ã€‚</p><a id="more"></a><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>è¯¥é€‰æ‹©å¯¹åº”çš„ç›®æ ‡å…ƒç´ ä¸ºé”šç‚¹è§¦å‘ã€‚<br>ä»¥ä¸‹ä»£ç å®šä¹‰äº†ä¸¤ä¸ª<code>a</code>å…ƒç´ ï¼Œå…¶ä¸­ä¸€ä¸ªä¸ºé“¾æ¥å…ƒç´ ï¼Œå¦ä¸€ä¸ªä½¿ç”¨æ ·å¼å®šä¹‰ä¸ºå—å…ƒç´ ã€‚<br>å—å…ƒç´ è®¾ç½®äº†é€æ˜åº¦ä¸º<code>0</code>ï¼Œå¹¶è®¾ç½®å…¶è¢«é“¾æ¥æ—¶é€æ˜åº¦ä¸º<code>1</code>å’Œè¿‡åº¦æ•ˆæœã€‚<br>æœ€ç»ˆçš„æ•ˆæœä¸ºç‚¹å‡»é“¾æ¥å…ƒç´ æ—¶ï¼Œ<code>div1</code>ä»é€æ˜åˆ°ä¸é€æ˜è¿‡åº¦ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>targeté€‰æ‹©å™¨<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"renderer"</span> <span class="attr">content</span>=<span class="string">"webkit"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line">    .link &#123;</div><div class="line">        display: block;</div><div class="line">        text-decoration: none;</div><div class="line">        text-align: center;</div><div class="line">        color: #fff;</div><div class="line">        background: #ff0000;</div><div class="line">        line-height: 30px;  </div><div class="line">    &#125;</div><div class="line">    .a-block &#123;</div><div class="line">        display: block;</div><div class="line">        opacity: 0;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    .a-block:target &#123;</div><div class="line">        opacity: 1;</div><div class="line">        transition: all .3s;</div><div class="line">    &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#div1"</span> <span class="attr">class</span>=<span class="string">"link"</span>&gt;</span>æ˜¾ç¤º<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">"div1"</span> <span class="attr">class</span>=<span class="string">"a-block"</span>&gt;</span></div><div class="line">        :targeté€‰æ‹©å™¨å¯ç”¨äºå½“å‰æ´»åŠ¨çš„targetå…ƒç´ çš„æ ·å¼ã€‚</div><div class="line">        :targeté€‰æ‹©å™¨å¯ç”¨äºå½“å‰æ´»åŠ¨çš„targetå…ƒç´ çš„æ ·å¼ã€‚</div><div class="line">        :targeté€‰æ‹©å™¨å¯ç”¨äºå½“å‰æ´»åŠ¨çš„targetå…ƒç´ çš„æ ·å¼ã€‚</div><div class="line">        :targeté€‰æ‹©å™¨å¯ç”¨äºå½“å‰æ´»åŠ¨çš„targetå…ƒç´ çš„æ ·å¼ã€‚</div><div class="line">        :targeté€‰æ‹©å™¨å¯ç”¨äºå½“å‰æ´»åŠ¨çš„targetå…ƒç´ çš„æ ·å¼ã€‚</div><div class="line">        :targeté€‰æ‹©å™¨å¯ç”¨äºå½“å‰æ´»åŠ¨çš„targetå…ƒç´ çš„æ ·å¼ã€‚</div><div class="line">        :targeté€‰æ‹©å™¨å¯ç”¨äºå½“å‰æ´»åŠ¨çš„targetå…ƒç´ çš„æ ·å¼ã€‚</div><div class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure><h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><p>èµ·åˆæˆ‘å†™ä¸‹è¿™æ®µDemoæ—¶ç›®æ ‡å…ƒç´ æ˜¯ç”¨çš„<code>div</code>ï¼Œåæ¥å‘ç°è¯¥é€‰æ‹©å™¨ä¸èƒ½åƒ<code>:hover</code>ä¸€æ ·ä½œç”¨äº<code>a</code>ä»¥å¤–çš„å…ƒç´ ã€‚<br>å¦å¤–è¯¥é€‰æ‹©å™¨çš„å…¼å®¹æ€§ä¸ºIE8ä»¥ä¸Šï¼ˆä¸åŒ…æ‹¬IE8ï¼‰ã€‚</p><h2 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h2><p>ç»“åˆè¿™ä¸ªDemoå¯ä»¥å‘ç°è¯¥é€‰æ‹©å™¨åˆä¸€æ¬¡å®ç°ä¹‹å‰éœ€è¦JSæ‰èƒ½å®ç°çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ç‚¹å‡»é“¾æ¥æ˜¾ç¤ºå…ƒç´ ã€‚<br>å¦å¤–åœ¨å…¨å±æ»šåŠ¨åŠ¨ç”»é¡µé¢æ—¶ä¹Ÿå¯ä»¥ç”¨åœ¨å¯¼èˆªä¹‹ä¸Šï¼Œæ¯”å¦‚ç‚¹å‡»å¯¼èˆªç»™å¯¹åº”çš„å—æ·»åŠ åŠ¨ç”»æ•ˆæœã€‚<br>æ›´å¤šä½¿ç”¨æ–¹æ³•ä¹Ÿå¾…æ…¢æ…¢æ‘¸ç´¢äº†ï¼</p>]]></content>
    
    <summary type="html">
    
      css3é€‰æ‹©å™¨(:target)ç”¨æ³•
    
    </summary>
    
    
      <category term="CSS3" scheme="http://imys.net/tags/CSS3/"/>
    
      <category term="selector" scheme="http://imys.net/tags/selector/"/>
    
      <category term="target" scheme="http://imys.net/tags/target/"/>
    
  </entry>
  
  <entry>
    <title>HTML5é¡µé¢å¯è§æ€§æ”¹å˜äº‹ä»¶</title>
    <link href="http://imys.net/20150615/js-page-visible.html"/>
    <id>http://imys.net/20150615/js-page-visible.html</id>
    <published>2015-06-15T03:01:53.000Z</published>
    <updated>2016-11-12T19:22:20.235Z</updated>
    
    <content type="html"><![CDATA[<p>é€šè¿‡è¯¥äº‹ä»¶å¯ä»¥åˆ¤æ–­å½“å‰é¡µé¢å¯¹äºç”¨æˆ·çš„å¯è§æ€§ï¼Œå³è¿”å›ç”¨æˆ·å½“å‰æµè§ˆçš„é¡µé¢æˆ–æ ‡ç­¾çš„çŠ¶æ€å˜åŒ–ã€‚<br><a id="more"></a></p><h2 id="visibilitychangeï¼ˆé¡µé¢å¯è§æ€§æ”¹å˜äº‹ä»¶ï¼‰"><a href="#visibilitychangeï¼ˆé¡µé¢å¯è§æ€§æ”¹å˜äº‹ä»¶ï¼‰" class="headerlink" title="visibilitychangeï¼ˆé¡µé¢å¯è§æ€§æ”¹å˜äº‹ä»¶ï¼‰"></a>visibilitychangeï¼ˆé¡µé¢å¯è§æ€§æ”¹å˜äº‹ä»¶ï¼‰</h2><p>è¯¥äº‹ä»¶å±äºHTML5æ–°APIï¼Œå…¼å®¹æ€§IE10+ï¼Œä»¥åŠå…¶ä»–ç°ä»£æµè§ˆå™¨ç­‰ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹ï¼Œå½“ç”¨æˆ·ç¦»å¼€å½“å‰é¡µé¢æ—¶æ”¹å˜é¡µé¢æ ‡é¢˜ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> pageVisible = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> title = <span class="string">''</span>;</div><div class="line">    <span class="keyword">var</span> change = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">document</span>.addEventListener(<span class="string">'visibilitychange'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> temp = <span class="keyword">this</span>.title;</div><div class="line">            <span class="keyword">this</span>.title = title;</div><div class="line">            title = temp;</div><div class="line">        &#125;)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">init</span>: <span class="function"><span class="keyword">function</span>(<span class="params">tit</span>)</span>&#123;</div><div class="line">            title = tit || <span class="string">'å¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸Šï¼'</span>;</div><div class="line">            change();</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">&#125;)();</div><div class="line"></div><div class="line">pageVisible.init();</div></pre></td></tr></table></figure><p>æ­¤å¤–ï¼Œè¿˜å¯ä»¥åœ¨äº‹ä»¶å†…å¯¹é¡µé¢å¯è§æ€§å±æ€§åˆ¤æ–­å¯è§æ€§çŠ¶æ€ã€‚</p><blockquote><p>document.hidden: Booleanå€¼ï¼Œè¡¨ç¤ºå½“å‰é¡µé¢å¯è§è¿˜æ˜¯ä¸å¯è§ã€‚</p></blockquote><p><strong>é€‚ç”¨åœºæ™¯ï¼Œå¦‚ï¼š</strong></p><p>1.ç”¨æˆ·ç¦»å¼€åª’ä½“é¡µé¢åœæ­¢æ’­æ”¾åª’ä½“ï¼›<br>2.ç”¨æˆ·ç¦»å¼€æ¸¸æˆé¡µé¢æš‚åœæ¸¸æˆï¼›<br>3.ç­‰ç­‰â€¦â€¦</p>]]></content>
    
    <summary type="html">
    
      HTML5é¡µé¢å¯è§æ€§æ”¹å˜äº‹ä»¶,é¡µé¢ç„¦ç‚¹
    
    </summary>
    
    
      <category term="Html5" scheme="http://imys.net/tags/Html5/"/>
    
      <category term="JavaScript" scheme="http://imys.net/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>jsé˜»æ­¢å­å…ƒç´ å“åº”çˆ¶å…ƒç´ äº‹ä»¶</title>
    <link href="http://imys.net/20150527/js-cancel-event.html"/>
    <id>http://imys.net/20150527/js-cancel-event.html</id>
    <published>2015-05-27T12:44:34.000Z</published>
    <updated>2016-11-12T19:19:21.842Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©åŒäº‹é‡åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œæ‰¾æˆ‘è§£å†³ã€‚<br>ä»–å¸Œæœ›ç‚¹å‡»æ•´ä¸ªDIVéƒ½å¯ä»¥å“åº”ç‚¹å‡»äº‹ä»¶ï¼Œä½†æ˜¯æœ‰äº›äº¤äº’å…ƒç´ éœ€è¦æ’é™¤æ‰ã€‚å¦‚ï¼šç‚¹å‡»é“¾æ¥é¡µé¢è·³è½¬ã€ç‚¹å‡»æŒ‰é’®å“åº”äº‹ä»¶ç­‰ï¼‰ã€‚<br>è¿™æ˜¯ä¸€ä¸ªå…³äº<strong>äº‹ä»¶å†’æ³¡</strong>çš„é—®é¢˜ï¼Œé‚£ä¾¿ä»äº‹ä»¶å†’æ³¡å†™èµ·ã€‚<br><a id="more"></a></p><h2 id="äº‹ä»¶å†’æ³¡"><a href="#äº‹ä»¶å†’æ³¡" class="headerlink" title="äº‹ä»¶å†’æ³¡"></a>äº‹ä»¶å†’æ³¡</h2><p>åœ¨ä¸€ä¸ªå…ƒç´ ä¸Šè§¦å‘äº‹ä»¶ï¼Œå¦‚æœæ­¤å…ƒç´ å®šä¹‰äº†å¤„ç†ç¨‹åºï¼Œé‚£ä¹ˆæ­¤æ¬¡äº‹ä»¶å°±ä¼šè¢«æ•è·ï¼Œæ ¹æ®ç¨‹åºè¿›è¡Œè¯¥äº‹ä»¶çš„å¤„ç†ã€‚å¦åˆ™è¿™ä¸ªäº‹ä»¶ä¼šæ ¹æ®DOMæ ‘å‘çˆ¶èŠ‚ç‚¹é€çº§ä¼ æ’­ï¼Œå¦‚æœä»å§‹è‡³ç»ˆéƒ½æ²¡æœ‰è¢«å¤„ç†ï¼Œé‚£ä¹ˆæœ€ç»ˆä¼šåˆ°è¾¾documentæˆ–windowæ ¹å…ƒç´ ã€‚</p><h2 id="é˜»æ­¢äº‹ä»¶å†’æ³¡"><a href="#é˜»æ­¢äº‹ä»¶å†’æ³¡" class="headerlink" title="é˜»æ­¢äº‹ä»¶å†’æ³¡"></a>é˜»æ­¢äº‹ä»¶å†’æ³¡</h2><p>W3Cæ ‡å‡†è°ƒç”¨äº‹ä»¶å¯¹è±¡çš„<code>stopPropagation()</code>æ–¹æ³•ï¼ŒIEå¯ä»¥è®¾ç½®å¯¹è±¡çš„<code>cancelBubble</code>å±æ€§ä¸º<code>true</code>;</p><p>åœ¨Jqueryä¸­çš„äº‹ä»¶æ–¹æ³•éƒ½å¸¦æœ‰<code>event</code>å‚æ•°ï¼Œè¿™æ˜¯ä¸€ä¸ªç¬¦åˆW3Cæ ‡å‡†çš„äº‹ä»¶å¯¹è±¡ï¼Œä¸”å…¼å®¹IEï¼Œå¯ä»¥ä½¿ç”¨<code>event.stopPropagation()</code>é˜»æ­¢å†’æ³¡ã€‚æ›´ç®€å•çš„ï¼Œç›´æ¥<code>return false;</code>ï¼Œç­‰ä»·äº<code>event.stopPropagation()</code>åŠ ä¸Š<code>event.preventDefault()</code>ã€‚</p><blockquote><p>åœ¨åŸç”ŸJSä¸­ï¼Œäº‹ä»¶å¯¹è±¡è¦åŒºåˆ«å¯¹å¾…ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">cancelEvent</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span>(e) &#123;</div><div class="line">        e.stopPropagation();  <span class="comment">//éIE</span></div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">window</span>.event.cancelBubble = <span class="literal">true</span>;  <span class="comment">//IE</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="é˜»æ­¢å¤šä¸ªå­å…ƒç´ çš„äº‹ä»¶"><a href="#é˜»æ­¢å¤šä¸ªå­å…ƒç´ çš„äº‹ä»¶" class="headerlink" title="é˜»æ­¢å¤šä¸ªå­å…ƒç´ çš„äº‹ä»¶"></a>é˜»æ­¢å¤šä¸ªå­å…ƒç´ çš„äº‹ä»¶</h2><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæƒ³è¦é“¾æ¥å’ŒæŒ‰é’®å…ƒç´ ä¸å“åº”çˆ¶èŠ‚ç‚¹äº‹ä»¶ï¼Œä¾¿è¦ä¸ºæ‰€æœ‰è¿™äº›å…ƒç´ æ³¨å†Œäº‹ä»¶ï¼Œç¼–å†™é˜»æ­¢äº‹ä»¶å†’æ³¡çš„ä»£ç ã€‚</p><p>ç°åœ¨çš„ä»£ç å¯ä»¥è¿™æ ·å†™ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> div = $(<span class="string">'#div'</span>);</div><div class="line">div.click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// do...</span></div><div class="line">&#125;);</div><div class="line">div.on(<span class="string">'click'</span>, <span class="string">'a,button,input'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">    event.stopPropagation();  <span class="comment">// æˆ– return false;</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>è¿™å½“ç„¶æ˜¯å¯ä»¥è§£å†³é—®é¢˜çš„ã€‚<br>å¯å¯¹äºå¤„å¥³åº§çš„æˆ‘å®Œå…¨æ— æ³•æ¥å—å¹³ç™½æ— æ•…å¤šå†™äº†ä¸€æ®µè«åå¥‡å¦™çš„ä»£ç ã€‚</p><p>äºæ˜¯æˆ‘æƒ³åˆ°äº†<code>event</code>å¯¹è±¡ã€‚</p><ul><li>event.target è¿”å›äº‹ä»¶çš„ç›®æ ‡èŠ‚ç‚¹ï¼ˆè§¦å‘è¯¥äº‹ä»¶çš„èŠ‚ç‚¹ï¼‰ã€‚</li><li>event.target.tagName ç›®æ ‡èŠ‚ç‚¹çš„æ ‡ç­¾å</li></ul><p>æŠŠä¸Šé¢ä¸¤ä¸ªäº‹ä»¶åˆå¹¶å¤„ç†ä¹‹ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">$(<span class="string">'#div'</span>).on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> tag = event.target.tagName;</div><div class="line">    <span class="keyword">if</span>(tag!=<span class="string">'A'</span> &amp;&amp; tag!=<span class="string">'BUTTON'</span> &amp;&amp; tag!=<span class="string">'INPUT'</span>)&#123;</div><div class="line">        <span class="comment">// do...</span></div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      jsé˜»æ­¢å­å…ƒç´ å“åº”çˆ¶å…ƒç´ äº‹ä»¶ï¼Œé˜»æ­¢äº‹ä»¶å†’æ³¡
    
    </summary>
    
    
      <category term="Event" scheme="http://imys.net/tags/Event/"/>
    
      <category term="JavaScript" scheme="http://imys.net/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Hexoæ·»åŠ Tocæ”¯æŒï¼Œç”Ÿæˆæ–‡ç« ç›®å½•</title>
    <link href="http://imys.net/20150514/hexo-toc.html"/>
    <id>http://imys.net/20150514/hexo-toc.html</id>
    <published>2015-05-14T07:25:47.000Z</published>
    <updated>2016-11-12T19:07:53.675Z</updated>
    
    <content type="html"><![CDATA[<p>Hexoæä¾›äº†è¯¸å¤šæ’ä»¶æ¥å¢å¼ºåšå®¢ä½“éªŒï¼Œåœ°å€<code>http://hexo.io/plugins/</code>ã€‚<br>åœ¨åšå®¢æ¬è¿çš„æ—¶å‘ç°ä¸€ä¸ªç”Ÿæˆæ–‡ç« ç›®å½•çš„æ’ä»¶ï¼Œ<a href="https://github.com/bubkoo/hexo-toc" target="_blank" rel="external">hexo-toc</a>ã€‚<br><a id="more"></a></p><h2 id="hexo-toc"><a href="#hexo-toc" class="headerlink" title="hexo-toc"></a>hexo-toc</h2><blockquote><p>ä¸ºé˜²æ’ä»¶è¯¯è®¤æ ‡è®°ï¼Œæ–‡ç« ä»¥ä¸‹å‡ºç°çš„ ttoc å®é™…ä¸º tocã€‚</p></blockquote><p>ä½¿ç”¨æ–¹æ³•è·Ÿæ˜¾ç¤ºæ–‡ç« æ‘˜è¦ç±»ä¼¼ï¼Œåœ¨Markdownä¸­éœ€è¦æ˜¾ç¤ºæ–‡ç« ç›®å½•çš„åœ°æ–¹æ·»åŠ  <code>&lt;!-- ttoc --&gt;</code>ã€‚</p><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">npm install hexo-toc --save</div></pre></td></tr></table></figure><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><p>åœ¨åšå®¢æ ¹ç›®å½•ä¸‹çš„ <code>_config.yml</code> ä¸­å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">toc:</div><div class="line">  maxDepth: 3</div></pre></td></tr></table></figure><blockquote><p><code>maxDepth</code> è¡¨ç¤ºç›®å½•æ·±åº¦ä¸º3ï¼Œå³æœ€å¤šç”Ÿæˆä¸‰çº§ç›®å½•ã€‚</p></blockquote><p>å¥½äº†ï¼Œç°åœ¨é‡å¯Hexoé¢„è§ˆä¸‹æ•ˆæœå§ã€‚</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/hexo-toc-1.jpg" alt="Tocæ–‡ç« ç›®å½•"></div><div class="image-caption">Tocæ–‡ç« ç›®å½•</div></figure><p>ç„¶åä½ ä¼šå‘ç°ç‚¹å‡»ç›®å½•é“¾æ¥ï¼Œæ²¡ååº”ï¼<br>F12æŸ¥çœ‹ç”Ÿæˆçš„HTMLä»£ç ï¼š</p><figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/hexo-toc-2.jpg" alt="Tocç”Ÿæˆä»£ç "></div><div class="image-caption">Tocç”Ÿæˆä»£ç </div></figure><p>æ ‡é¢˜idç”Ÿæˆæ²¡é—®é¢˜ï¼Œé”šé“¾æ¥ä¸­çš„ä¸­æ–‡éƒ½è¢«è½¬ä¹‰ä¸º <code>-</code> äº†ã€‚</p><p>çœ‹äº†è¯¥æ’ä»¶çš„issuesä¸­å·²ç»æåˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œä¸è¿‡å¥½åƒæ˜¯æ²¡è§£å†³ã€‚<br>ä¹Ÿæ²¡ç”¨æœç´¢åˆ°å…¶ä»–äººæœ‰å…³è¯¥æ’ä»¶çš„ä½¿ç”¨ç»éªŒã€‚<br>æ²¡åŠæ³•ï¼Œè‡ªå·±åŠ¨æ‰‹ä¸°è¡£è¶³é£Ÿï¼</p><h3 id="è§£å†³é”šé“¾æ¥ä¸­æ–‡è¢«è½¬ä¹‰"><a href="#è§£å†³é”šé“¾æ¥ä¸­æ–‡è¢«è½¬ä¹‰" class="headerlink" title="è§£å†³é”šé“¾æ¥ä¸­æ–‡è¢«è½¬ä¹‰"></a>è§£å†³é”šé“¾æ¥ä¸­æ–‡è¢«è½¬ä¹‰</h3><p>ä¹Ÿæ²¡ä»€ä¹ˆå¥½çš„åŠæ³•ï¼Œåªå‡­ç€å…¥é—¨çº§çš„Nodeæ°´å¹³ï¼Œé¡ºè—¤æ‘¸ç“œï¼<br>ä»æ’ä»¶ä¸‹çš„<code>index.js</code>å¼€å§‹ï¼Œä¸€è·¯è·Ÿè¸ªä»£ç è°ƒè¯•ï¼Œåœ¨æ„Ÿè§‰å¯èƒ½å‡ºç°é—®é¢˜çš„åœ°æ–¹consoleè¾“å‡ºå†…å®¹ï¼Œæœ€ç»ˆè®©æˆ‘ç»™æ‰¾åˆ°äº†ã€‚</p><p>æ–‡ä»¶ä½ç½®ï¼š<code>Hexoæ ¹ç›®å½•\node_modules\hexo-toc\node_modules\markdown-toc\index.js</code>ã€‚<br>æ‰¾åˆ°å¦‚ä¸‹æ–¹æ³•ï¼ŒæŠŠåŸæ¥è¿”å›å€¼æ³¨é‡Šæ‰ï¼Œç›´æ¥ <code>return str;</code> ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">slugify</span>(<span class="params">str, opts</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (opts &amp;&amp; opts.slugify === <span class="literal">false</span>) <span class="keyword">return</span> str;</div><div class="line">  <span class="keyword">if</span> (opts &amp;&amp; <span class="keyword">typeof</span> opts.slugify === <span class="string">'function'</span>) &#123;</div><div class="line">    <span class="keyword">return</span> opts.slugify(str, opts);</div><div class="line">  &#125;</div><div class="line">  str = str.split(<span class="string">'.'</span>).join(<span class="string">''</span>);</div><div class="line"></div><div class="line">  <span class="comment">//return str.toLowerCase().replace(/[^a-z0-9]/g, '-');</span></div><div class="line">  <span class="keyword">return</span> str;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ç°åœ¨é‡å¯Hexoåé“¾æ¥éƒ½æ­£å¸¸å¯ç”¨äº†ã€‚</p><p>æ›´å¥½çš„æ–¹æ³•æ˜¯ä¸æ”¹å˜æ’ä»¶æºä»£ç çš„æƒ…å†µä¸‹è¿›è¡Œé…ç½®ã€‚<br>åœ¨ä»¥ä¸Šæ–¹æ³•ä¸­å¯ä»¥å‘ç°ï¼Œæ’ä»¶æœ‰ä¸ª<code>slugify</code>çš„é…ç½®é¡¹ï¼Œå½“æ­¤é¡¹é…ç½®ä¸º<code>false</code>æ—¶å³ç›´æ¥<code>return str;</code>ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥åˆ°<code>_config.yml</code>æ·»åŠ tocé…ç½®ï¼š</p><pre><code>toc:
  maxDepth: 3
  slugify: false
</code></pre><h3 id="ç»™Tocæ·»åŠ æ ·å¼"><a href="#ç»™Tocæ·»åŠ æ ·å¼" class="headerlink" title="ç»™Tocæ·»åŠ æ ·å¼"></a>ç»™Tocæ·»åŠ æ ·å¼</h3><p>å¦‚æœ¬æ–‡ä¸­æ–‡ç« ç›®å½•æ ·å¼ï¼Œç½®äºæ–‡ç« å³ä¾§ï¼ŒåˆåŠ äº†ä¸ªèƒŒæ™¯ç­‰ã€‚</p><blockquote><p><code>hexo-toc</code>æ’ä»¶æ˜¯ç”Ÿæˆçš„æ–‡ç« ç›®å½•æœ€ç»ˆè¿˜æ˜¯Markdownæ ¼å¼çš„ï¼Œæœ€åè¢«Hexoçš„markedæ¨¡å—è§£æä¸ºHTMLã€‚</p></blockquote><p>è¦æ·»åŠ æ ·å¼å…ˆåŠ é€‰æ‹©å™¨ã€‚<br>æƒ³é€šè¿‡ä¿®æ”¹æ’ä»¶ä»£ç å¢åŠ é€‰æ‹©å™¨æ˜¯è¡Œä¸é€šçš„ï¼Œä¹Ÿä¸èƒ½ç›´æ¥åœ¨ <code>&lt;!-- ttoc --&gt;</code>æ ‡è®°å¤–åŒ…è£¹ <code>&lt;div&gt;</code>ã€‚</p><p><strong>å› ä¸ºæ·»åŠ äº†HTMLæ ‡ç­¾çš„åœ°æ–¹å°±ä¸ä¼šåœ¨è¢«markedæ¨¡å—è§£æã€‚</strong></p><p>é‚£å°±åªèƒ½åœ¨HTMLç”Ÿæˆä¹‹åå¢åŠ ï¼Œç”¨jsã€‚</p><blockquote><p><code>hexo-toc</code>æ’ä»¶ç”Ÿæˆæ–‡ç« ç›®å½•æ—¶è¿˜åœ¨å…¶å‰åå¢åŠ äº† <code>&lt;!-- ttoc --&gt;</code> å’Œ <code>&lt;!-- ttocstop --&gt;</code> æ³¨é‡Šã€‚<br>è§£å†³åŠæ³•å°±æ˜¯æŠŠè¿™ä¸¤ä¸ªæ³¨é‡Šæ›¿æ¢ä¸ºå¯æ§çš„ <code>&lt;div&gt;</code>ã€‚</p></blockquote><p>æ‰¾åˆ°ä¸»é¢˜ä¸‹çš„æ–‡ç« æ¨¡ç‰ˆï¼Œæˆ‘çš„æ˜¯<code>themes\yilia\layout\_partial\article.ejs</code>ã€‚<br>åœ¨å…¶æœ«å°¾å¢åŠ ä»£ç ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;% if (!index &amp;&amp; theme.toc)&#123; %&gt;</div><div class="line">&lt;script&gt;</div><div class="line">  var tocEx = function(el)&#123;</div><div class="line">    var toc = document.querySelector(el), content = toc.innerHTML;</div><div class="line">    content = content.replace(&apos;&lt;!-- ttoc --&gt;&apos;, &apos;&lt;div class=&quot;toc&quot;&gt;&apos;).replace(&apos;&lt;!-- ttocstop --&gt;&apos;, &apos;&lt;/div&gt;&apos;);</div><div class="line">    toc.innerHTML = content;</div><div class="line">  &#125;(&apos;.article-entry&apos;);</div><div class="line">&lt;/script&gt;</div><div class="line">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±ä¸ºæ–‡ç« ç›®å½•å¤–åŒ…è£¹äº†ä¸€å¯¹<code>&lt;div&gt;</code>æ ‡ç­¾å’Œä¸€ä¸ª<code>toc</code>ç±»ã€‚</p><p>å†å†™è¿™ä¸ªç±»çš„æ ·å¼ï¼Œæ”¾åˆ°ä¸»é¢˜ä¸‹çš„ç›¸å…³cssæ–‡ä»¶ä¸­ã€‚</p><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.toc</span> &#123;</div><div class="line">  <span class="attribute">float</span>: right;</div><div class="line">  <span class="attribute">margin-left</span>: <span class="number">40px</span>;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</div><div class="line">  <span class="attribute">background</span>: <span class="number">#f1f1f1</span>;</div><div class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</div><div class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">3px</span> <span class="number">#bbb</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>è¿™äº›éƒ½åšå®Œå†æ¬¡é‡å¯Hexoï¼ŒæˆåŠŸï¼</p><h2 id="2016å¹´æ›´æ–°"><a href="#2016å¹´æ›´æ–°" class="headerlink" title="2016å¹´æ›´æ–°"></a>2016å¹´æ›´æ–°</h2><p>Hexo å·²ç»æœ‰ç”Ÿæˆæ–‡ç« ç›®å½•çš„è¾…åŠ©å‡½æ•°äº†ï¼Œä½¿ç”¨æ›´æ–¹ä¾¿ã€‚æˆ‘ç°åœ¨åšå®¢ä¸­çš„æ–‡ç« ç›®å½•å°±æ˜¯ä½¿ç”¨è¾…åŠ©å‡½æ•°ç”Ÿæˆçš„ã€‚</p><p><a href="https://hexo.io/zh-cn/docs/helpers.html#toc" target="_blank" rel="external">Hexoè¾…åŠ©å‡½æ•°#toc</a></p><p>ä¸éœ€è¦å®‰è£…é¢å¤–æ’ä»¶ï¼<br>ä¸éœ€è¦åœ¨æ–‡ç« ä¸­æ’å…¥æ ‡è®°ï¼<br>ä¸éœ€è¦åœ¨é…ç½®æ–‡ä»¶æ·»åŠ é…ç½®ï¼</p><p>ä»…ä»…æ˜¯åœ¨ä½ çš„æ–‡ç« é¡µæ¨¡ç‰ˆä¸­ï¼Œæ’å…¥è°ƒç”¨è¾…åŠ©å‡½æ•°çš„ä»£ç å³å¯ã€‚</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">toc</span>(<span class="attr">page.content</span>, &#123;</span></div><div class="line">        <span class="attr">class:</span> '<span class="attr">post-toc</span>',  </div><div class="line">        <span class="attr">list_number:</span> <span class="attr">true</span></div><div class="line">    &#125;) %&gt;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      Hexoæ·»åŠ Tocæ”¯æŒï¼Œæ–‡ç« ç›®å½•
    
    </summary>
    
    
      <category term="Hexo" scheme="http://imys.net/tags/Hexo/"/>
    
      <category term="TOC" scheme="http://imys.net/tags/TOC/"/>
    
  </entry>
  
  <entry>
    <title>åšå®¢æ¬è¿è®° - ä»WordPressåˆ°Hexo</title>
    <link href="http://imys.net/20150513/wordpress-to-hexo.html"/>
    <id>http://imys.net/20150513/wordpress-to-hexo.html</id>
    <published>2015-05-13T01:50:02.000Z</published>
    <updated>2016-11-12T19:37:41.737Z</updated>
    
    <content type="html"><![CDATA[<p>ä»Šå¤©æ—©ä¸Šæ‰“å¼€ç”µè„‘ç¬¬ä¸€ä»¶äº‹å°±æ˜¯æŠŠpagesç»‘å®šäº†åŸŸåï¼Œä»æ­¤ä¾¿å¯ä»¥ä½¿ç”¨<code>http://imys.net</code>è¿›è¡Œè®¿é—®äº†ã€‚</p><p>è‡³æ­¤å·²ç»æŠ˜è…¾çš„å·®ä¸å¤šäº†ï¼Œåœ¨æ­¤è®°å½•ä¸‹æ¬è¿è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜åŠè§£å†³åŠæ³•ã€‚<br><a id="more"></a></p><h2 id="Hexo3æœ¬åœ°éƒ¨ç½²"><a href="#Hexo3æœ¬åœ°éƒ¨ç½²" class="headerlink" title="Hexo3æœ¬åœ°éƒ¨ç½²"></a>Hexo3æœ¬åœ°éƒ¨ç½²</h2><p>ç°åœ¨nodeä¸‹å®‰è£…çš„hexoä¸€èˆ¬éƒ½æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œç½‘ä¸Šæœç´¢åˆ°çš„ä¸€äº›æ•™ç¨‹ä¸ä¹æ˜¯è€ç‰ˆæœ¬çš„ï¼Œè¦ç‰¹åˆ«ç•™æ„ã€‚</p><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul><li><a href="http://forsweet.github.io/2015/04/20/%E7%94%A8Hexo%E6%90%AD%E5%BB%BAGithub%E5%8D%9A%E5%AE%A2/" target="_blank" rel="external">ç”¨Hexo 3 æ­å»ºgithub blog</a></li><li><a href="http://www.jianshu.com/p/73779eacb494" target="_blank" rel="external">Hexo 3.0 é™æ€åšå®¢ä½¿ç”¨æŒ‡å—</a></li></ul><p>ä»¥ä¸Šä¸¤ç¯‡æ–‡ç« åº”è¯¥èƒ½ä½¿ä½ é¡ºåˆ©çš„åœ¨<code>http://localhost:4000/</code>çœ‹åˆ°è‡ªå·±çš„æ–°åšå®¢ï¼Œå¹¶ä¸”ä½ ä¹Ÿç†Ÿæ‚‰äº†Hexoçš„å¸¸ç”¨å‘½ä»¤ã€‚</p><h3 id="Hexoæ— æ³•è§£ææ¨¡æ¿æ–‡ä»¶"><a href="#Hexoæ— æ³•è§£ææ¨¡æ¿æ–‡ä»¶" class="headerlink" title="Hexoæ— æ³•è§£ææ¨¡æ¿æ–‡ä»¶"></a>Hexoæ— æ³•è§£ææ¨¡æ¿æ–‡ä»¶</h3><p>æœ¬åœ°é¢„è§ˆé¡µé¢æ˜¾ç¤ºï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;%- partial(&apos;_partial/head&apos;) %&gt;</div><div class="line">&lt;%- partial(&apos;_partial/header&apos;) %&gt;</div><div class="line">&lt;%- body %&gt;</div><div class="line">&lt;% if (theme.sidebar &amp;&amp; theme.sidebar !== &apos;bottom&apos;)&#123; %&gt; &lt;%- partial(&apos;_partial/sidebar&apos;) %&gt; &lt;% &#125; %&gt;</div><div class="line">&lt;%- partial(&apos;_partial/footer&apos;) %&gt;</div><div class="line">&lt;%- partial(&apos;_partial/mobile-nav&apos;) %&gt; &lt;%- partial(&apos;_partial/after-footer&apos;) %&gt;</div></pre></td></tr></table></figure><p>åœ¨å·¥ç¨‹ç›®å½•æ‰§è¡Œä¸‹é¢3ä¸ªå‘½ä»¤ï¼Œé«˜ç‰ˆæœ¬çš„hexoç§»é™¤é»˜è®¤çš„ejsã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ npm install hexo-renderer-ejs --save</div><div class="line">$ npm install hexo-renderer-stylus --save</div><div class="line">$ npm install hexo-renderer-marked --save</div></pre></td></tr></table></figure><h2 id="ä¸Šä¼ åˆ°GitCafe"><a href="#ä¸Šä¼ åˆ°GitCafe" class="headerlink" title="ä¸Šä¼ åˆ°GitCafe"></a>ä¸Šä¼ åˆ°GitCafe</h2><ul><li><a href="http://www.sumrday.com/2014/09-18-Hello-Hexo.html" target="_blank" rel="external">æ³¨å†ŒGitCafeåˆ›å»ºPageé¡¹ç›®</a></li><li><a href="https://gitcafe.com/GitCafe/Help/wiki/%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85%E5%92%8C%E8%AE%BE%E7%BD%AE%20Git" target="_blank" rel="external">å®‰è£…å’Œè®¾ç½® Git</a></li></ul><p>ä»¥ä¸Šä¸¤ç¯‡å†…å®¹ç»“åˆç€çœ‹ï¼Œä¸è¿‡å¯¹ç¬¬ä¸€æ¬¡æ“ä½œè¿™äº›çš„äººæ¥è¯´å¯èƒ½ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ã€‚</p><h3 id="ç”ŸæˆSSH"><a href="#ç”ŸæˆSSH" class="headerlink" title="ç”ŸæˆSSH"></a>ç”ŸæˆSSH</h3><p>å½“å‘½ä»¤çª—å£å‡ºç°ä»¥ä¸‹ä¿¡æ¯æ—¶ï¼Œéœ€è¦ä½ è¾“å…¥<code>passphrase</code>å£ä»¤ã€‚ä¸è¿‡åœ¨æˆ‘æ“ä½œæ—¶è¾“å…¥å£ä»¤çš„è¯æ˜¯æ— æ³•ç”ŸæˆæˆåŠŸçš„ï¼Œç›´æ¥æŒ‰<code>enter</code>å³å¯ã€‚</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Enter passphrase (empty for no passphrase):</div></pre></td></tr></table></figure><h3 id="è®¾ç½®git"><a href="#è®¾ç½®git" class="headerlink" title="è®¾ç½®git"></a>è®¾ç½®git</h3><p>ç¬¬ä¸€æ¬¡åœ¨æœ¬åœ°è®¾ç½®gitæ—¶ï¼Œéœ€è®¾ç½®ç”¨æˆ·æ ‡è¯†ã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">$ git config --global user.name <span class="string">"yourname"</span>                   <span class="comment"># gitcafeä¸Šçš„ç”¨æˆ·å</span></div><div class="line">$ git config --global user.email <span class="string">"yourmaill@yourmaili.com"</span>   <span class="comment"># å¡«å†™è‡ªå·±çš„é‚®ç®±</span></div></pre></td></tr></table></figure><h3 id="è®¾ç½®æœ¬åœ°gitcafe-pagesç‰ˆæœ¬åº“"><a href="#è®¾ç½®æœ¬åœ°gitcafe-pagesç‰ˆæœ¬åº“" class="headerlink" title="è®¾ç½®æœ¬åœ°gitcafe-pagesç‰ˆæœ¬åº“"></a>è®¾ç½®æœ¬åœ°gitcafe-pagesç‰ˆæœ¬åº“</h3><ol><li>GitBashè¿›å…¥æœ¬åœ°Hexoç›®å½•</li><li><code>git checkout -b gitcafe-pages</code> åˆ›å»ºGitcafe-Pagesåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ã€‚</li><li><code>git add .</code> ï¼ˆ.ï¼‰ç‚¹è¡¨ç¤ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹ï¼Œäº¤ç»™gitç®¡ç†ï¼Œä¹Ÿå°±æ˜¯æäº¤åˆ°äº†gitçš„æœ¬åœ°ä»“åº“ã€‚</li></ol><h3 id="ä¸Šä¼ åˆ°gitcafe"><a href="#ä¸Šä¼ åˆ°gitcafe" class="headerlink" title="ä¸Šä¼ åˆ°gitcafe"></a>ä¸Šä¼ åˆ°gitcafe</h3><p><strong>ä¿®æ”¹hexoé…ç½®æ–‡ä»¶ï¼Œå³config.ymlï¼Œå¦‚ä¸‹é…ç½®ï¼š</strong></p><figure class="highlight yml"><table><tr><td class="code"><pre><div class="line"><span class="attr">deploy:</span></div><div class="line"><span class="attr">    type:</span> git</div><div class="line"><span class="attr">    repository:</span> git@gitcafe.com:yourname/yourname.git</div><div class="line"><span class="attr">    branch:</span> gitcafe-pages</div></pre></td></tr></table></figure><p>yourname ä¿®æ”¹æˆä½ çš„ç”¨æˆ·åï¼Œå¦‚æˆ‘çš„æ˜¯ï¼š<code>git@gitcafe.com:justgo/justgo.git</code></p><p>ä¿å­˜åç›´æ¥åœ¨<strong>GitBash</strong>ä¸­<code>hexo g &amp;&amp; hexo d</code>ä¸Šä¼ å³å¯ï¼ˆæˆ‘åœ¨è¿™ä¸€æ­¥æŠ˜è…¾äº†å¾ˆä¹…ï¼Œåœ¨cmdä¸‹è¿è¡Œ<code>hexo d</code>å‘½ä»¤ä¼šå‡ºé”™ï¼‰ã€‚</p><p>ç¨ç­‰ç‰‡åˆ»ï¼Œæ‰“å¼€ <code>http://youname/gitcafe.io</code> ä¾¿å¯ä»¥çœ‹åˆ°è‡ªå·±çš„åšå®¢äº†ã€‚</p><h2 id="WordPressæ–‡ç« è¿ç§»"><a href="#WordPressæ–‡ç« è¿ç§»" class="headerlink" title="WordPressæ–‡ç« è¿ç§»"></a>WordPressæ–‡ç« è¿ç§»</h2><p>WordPress åå°å¯ä»¥ç›´æ¥å¯¼å‡ºwordpress.xmlæ–‡ä»¶ï¼ŒæŠŠè¿™ä¸ªæ–‡ä»¶æ”¾å…¥ä½ çš„æœ¬åœ°Hexoç›®å½•ä¸‹ï¼Œç„¶åå®‰è£…ä¸€ä¸ªæ’ä»¶å¯ä»¥ç›´æ¥ç”Ÿæˆæ¯ç¯‡æ–‡ç« çš„Markdownæ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">npm install hexo-migrator-wordpress --save    <span class="comment"># å®‰è£…æ’ä»¶</span></div><div class="line"></div><div class="line">hexo migrate wordpress wordpress.xml          <span class="comment"># ç”ŸæˆMarkdown</span></div></pre></td></tr></table></figure><p>ç”Ÿæˆåçš„æ–‡ä»¶ç¨å¾®ä¿®æ”¹ä¸€ä¸‹æ ¼å¼å°±å¯ä»¥ä¸Šä¼ äº†ã€‚</p><p>åº†å¹¸çš„æ˜¯æˆ‘åšå®¢é‡Œçš„å›¾ç‰‡ä¸å¤šï¼Œä¸éœ€è¦å¤ªå¤šçš„é“¾æ¥ä¿®æ”¹ã€‚</p><p>ä¸è¿‡ä»¥åæˆ‘ä¹Ÿå¼€å§‹ä½¿ç”¨ä¸ƒç‰›å­˜å‚¨äº†ï¼Œå…å¾—ä»¥åæ¬è¿éº»çƒ¦ã€‚</p><h2 id="Hexoé…ç½®ä¼˜åŒ–"><a href="#Hexoé…ç½®ä¼˜åŒ–" class="headerlink" title="Hexoé…ç½®ä¼˜åŒ–"></a>Hexoé…ç½®ä¼˜åŒ–</h2><h3 id="å‚è€ƒ-1"><a href="#å‚è€ƒ-1" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><ul><li><a href="http://zipperary.com/2013/05/29/hexo-guide-3/" target="_blank" rel="external">hexoåšå®¢çš„é…ç½®ã€ä½¿ç”¨</a></li><li><a href="http://zipperary.com/2013/05/30/hexo-guide-4/" target="_blank" rel="external">hexoåšå®¢çš„ä¼˜åŒ–æŠ€å·§</a></li><li><a href="http://zipperary.com/2013/06/02/hexo-guide-5/" target="_blank" rel="external">hexoåšå®¢çš„ä¼˜åŒ–æŠ€å·§ç»­</a></li><li><a href="http://lukang.me/2014/optimization-of-hexo.html" target="_blank" rel="external">Hexo ä¼˜åŒ–ä¸å®šåˆ¶(ä¸€)</a></li><li><a href="http://lukang.me/2015/optimization-of-hexo-2.html" target="_blank" rel="external">Hexo ä¼˜åŒ–ä¸å®šåˆ¶(äºŒ)</a></li></ul><h3 id="æ— æ³•å¼€å¯RSSå’Œsitemap"><a href="#æ— æ³•å¼€å¯RSSå’Œsitemap" class="headerlink" title="æ— æ³•å¼€å¯RSSå’Œsitemap"></a>æ— æ³•å¼€å¯RSSå’Œsitemap</h3><p>æ‰“å¼€<code>http://localhost:4000/atom.xml</code> é¡µé¢æ˜¾ç¤º <code>Cannot GET atom.xml</code>ï¼Œ<code>http://localhost:4000/sitemap.xml</code> é¡µé¢æ˜¾ç¤º <code>Cannot GET sitemap.xml</code>ã€‚</p><p>è¿™ä¸ªé—®é¢˜å›°æ‰°äº†æˆ‘å¾ˆé•¿çš„æ—¶é—´ï¼Œå› ä¸ºæˆ‘çš„æ’ä»¶å®‰è£…å’Œé…ç½®éƒ½æ˜¯ç…§ç€<a href="http://hexo.io/plugins/" target="_blank" rel="external">ç¤ºä¾‹</a>åˆ†æ¯«ä¸å·®çš„è¿›è¡Œçš„ï¼Œå¯æ˜¯googleäº†å‡ ä¸ªå°æ—¶éƒ½æ²¡è§£å†³ï¼</p><p>æ’ä»¶ä¹Ÿé‡è£…æ›´æ–°äº†å‡ æ¬¡ï¼Œæƒ³è¿‡é‡æ–°åˆå§‹åŒ–Hexoï¼Œæ€•ä¼šä¸¢å¤±åŸæ¥çš„ä¸€äº›é…ç½®ï¼Œæœ€ååœ¨ <code>hexo/package.json</code> ä¸­æ‰¾åˆ°äº†åŸå› ã€‚</p><p>package.jsonï¼š</p><figure class="highlight json"><table><tr><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"name"</span>: <span class="string">"hexo-site"</span>,</div><div class="line">    <span class="attr">"version"</span>: <span class="string">"0.0.0"</span>,</div><div class="line">    <span class="attr">"private"</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">"hexo"</span>: &#123;</div><div class="line">    <span class="attr">"version"</span>: <span class="string">"3.0.1"</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">"dependencies"</span>: &#123;</div><div class="line">    <span class="attr">"hexo"</span>: <span class="string">"^3.0.0"</span>,</div><div class="line">    <span class="attr">"hexo-admin"</span>: <span class="string">"^0.3.0"</span>,</div><div class="line">    <span class="attr">"hexo-deployer-git"</span>: <span class="string">"0.0.4"</span>,</div><div class="line">    <span class="attr">"hexo-generator-archive"</span>: <span class="string">"^0.1.0"</span>,</div><div class="line">    <span class="attr">"hexo-generator-category"</span>: <span class="string">"^0.1.0"</span>,</div><div class="line">    <span class="attr">"hexo-generator-index"</span>: <span class="string">"^0.1.0"</span>,</div><div class="line">    <span class="attr">"hexo-generator-tag"</span>: <span class="string">"^0.1.0"</span>,</div><div class="line">    <span class="attr">"hexo-generator-feed"</span>: <span class="string">"^1.0.1"</span>,</div><div class="line">    <span class="attr">"hexo-generator-sitemap"</span>: <span class="string">"^1.0.1"</span>,</div><div class="line">    <span class="attr">"hexo-migrator-wordpress"</span>: <span class="string">"^0.1.2"</span>,</div><div class="line">    <span class="attr">"hexo-renderer-ejs"</span>: <span class="string">"^0.1.0"</span>,</div><div class="line">    <span class="attr">"hexo-renderer-marked"</span>: <span class="string">"^0.2.4"</span>,</div><div class="line">    <span class="attr">"hexo-renderer-stylus"</span>: <span class="string">"^0.2.0"</span>,</div><div class="line">    <span class="attr">"hexo-server"</span>: <span class="string">"^0.1.2"</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>æ£€æŸ¥æ­¤æ–‡ä»¶ä¸­æ˜¯å¦åŒ…æ‹¬äº†<code>hexo-generator-tag</code>å’Œ<code>hexo-generator-sitemap</code>ï¼Œæ²¡æœ‰çš„è¯æ·»åŠ ä¸€ä¸‹ã€‚<br>æ’ä»¶ç‰ˆæœ¬å·æŸ¥çœ‹å¯¹åº”æ’ä»¶ä¸‹çš„<code>package.json</code>æ–‡ä»¶ï¼Œå…¶ä»–æ’ä»¶çš„ç±»ä¼¼é—®é¢˜åº”è¯¥ä¹Ÿå¯ä»¥å°è¯•è¿™æ ·è§£å†³ã€‚</p>]]></content>
    
    <summary type="html">
    
      åšå®¢ä»WordPressæ¬è¿åˆ°Hexoï¼Œgitcafeéƒ¨ç½²
    
    </summary>
    
    
      <category term="Hexo" scheme="http://imys.net/tags/Hexo/"/>
    
      <category term="WordPress" scheme="http://imys.net/tags/WordPress/"/>
    
      <category term="Gitcafe" scheme="http://imys.net/tags/Gitcafe/"/>
    
  </entry>
  
  <entry>
    <title>jQuery.proxyæ–¹æ³•åŸç†ä¸ä½¿ç”¨</title>
    <link href="http://imys.net/20150510/jquery-proxy.html"/>
    <id>http://imys.net/20150510/jquery-proxy.html</id>
    <published>2015-05-09T16:25:13.000Z</published>
    <updated>2016-11-12T19:19:16.257Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åœ¨å†™ä¸€äº›jqæ’ä»¶æ—¶ï¼Œå¾€å¾€éœ€è¦åœ¨å›è°ƒå‡½æ•°ä¸Šä¸‹æ–‡ä¸­æ³¨å…¥è°ƒç”¨è€…å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ”¹å˜å‡½æ•°ä¸Šä¸‹æ–‡ä¸­ this çš„å¼•ç”¨ã€‚<br>ä»jQuery 1.4 å¼€å§‹ä¾¿å¯ä»¥ä½¿ç”¨ jQuery.proxy æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p></blockquote><a id="more"></a><h2 id="å®šä¹‰å’Œç”¨æ³•"><a href="#å®šä¹‰å’Œç”¨æ³•" class="headerlink" title="å®šä¹‰å’Œç”¨æ³•"></a>å®šä¹‰å’Œç”¨æ³•</h2><p>$.proxy æ–¹æ³•æ¥å—ä¸€ä¸ªå·²æœ‰çš„å‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¸¦ç‰¹å®šä¸Šä¸‹æ–‡çš„æ–°çš„å‡½æ•°ã€‚<br>è¯¥æ–¹æ³•é€šå¸¸ç”¨äºå‘ä¸Šä¸‹æ–‡æŒ‡å‘ä¸åŒå¯¹è±¡çš„å…ƒç´ æ·»åŠ äº‹ä»¶ã€‚</p><p><em>æç¤ºï¼šå¦‚æœæ‚¨ç»‘å®šä» $.proxy è¿”å›çš„å‡½æ•°ï¼ŒjQuery ä»ç„¶å¯ä»¥é€šè¿‡ä¼ é€’çš„åŸå…ˆçš„å‡½æ•°å–æ¶ˆç»‘å®šæ­£ç¡®çš„å‡½æ•°ã€‚</em></p><h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 1</span></div><div class="line">$(selector).proxy(<span class="function"><span class="keyword">function</span>,<span class="title">context</span>);</span></div><div class="line">// 2</div><div class="line"><span class="title">$</span>(<span class="params">selector</span>).<span class="title">proxy</span>(<span class="params">context,name</span>);</div></pre></td></tr></table></figure><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// ç”¨ä¾‹1</span></div><div class="line"><span class="keyword">var</span> obj1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.txt = <span class="string">"helloWorld"</span>;</div><div class="line">    $(<span class="built_in">document</span>).click(<span class="keyword">this</span>.fn);</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> obj2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.txt = <span class="string">"helloWorld"</span>;</div><div class="line">    $(<span class="built_in">document</span>).click($.proxy(<span class="keyword">this</span>.fn, <span class="keyword">this</span>));</div><div class="line">&#125;;</div><div class="line"></div><div class="line">obj1.prototype.fn = obj2.prototype.fn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.txt);</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> obj1();  <span class="comment">// undefined</span></div><div class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> obj2();  <span class="comment">// helloWorld</span></div><div class="line"></div><div class="line"><span class="comment">// ç”¨ä¾‹2</span></div><div class="line"><span class="keyword">var</span> dialog = &#123;</div><div class="line">    <span class="attr">msg</span>: <span class="string">'helloWorld'</span>,</div><div class="line">    <span class="attr">show</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.msg);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">$(<span class="built_in">document</span>).click(dialog.show); </div><div class="line"><span class="comment">// #document</span></div><div class="line"><span class="comment">// undefined</span></div><div class="line"></div><div class="line">$(<span class="built_in">document</span>).click($.proxy(dialog, <span class="string">"show"</span>));  </div><div class="line"><span class="comment">// Object &#123;msg: "helloWorld", show: function&#125;</span></div><div class="line"><span class="comment">// helloWorld</span></div></pre></td></tr></table></figure><p><em>æœªä½¿ç”¨ jQuery.proxy æ–¹æ³•æ—¶ï¼Œclick æ–¹æ³•ä¸­ this æŒ‡å‘ä¸ºæ‰§è¡Œ click æ–¹æ³•çš„ jQuery å¯¹è±¡ï¼›</em><br><em>ä½¿ç”¨ jQuery.proxy æ–¹æ³•æ—¶ï¼Œclick æ–¹æ³•ä¸­ this æŒ‡å‘ä¸ºä½ æ‰€æœŸæœ›çš„å¯¹è±¡ã€‚</em></p><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p>ä¸éš¾çŒœå‡ºå…¶åº•å±‚å®ç°åº”è¯¥æ˜¯åŸç”Ÿ js ä¸­çš„ call æˆ– apply æ–¹æ³•ã€‚</p><p><strong>jquery1.9 ä¸­çš„æºç ç‰‡æ®µï¼š</strong></p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">proxy: <span class="function"><span class="keyword">function</span>(<span class="params"> fn, context </span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> args, proxy, tmp;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> ( <span class="keyword">typeof</span> context === <span class="string">"string"</span> ) &#123;</div><div class="line">        tmp = fn[ context ];</div><div class="line">        context = fn;</div><div class="line">        fn = tmp;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// Quick check to determine if target is callable, in the spec</span></div><div class="line">    <span class="comment">// this throws a TypeError, but we will just return undefined.</span></div><div class="line">    <span class="keyword">if</span> ( !jQuery.isFunction( fn ) ) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">undefined</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// Simulated bind</span></div><div class="line">    args = core_slice.call( <span class="built_in">arguments</span>, <span class="number">2</span> );</div><div class="line">    proxy = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> fn.apply( context || <span class="keyword">this</span>, args.concat( core_slice.call( <span class="built_in">arguments</span> ) ) );</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="comment">// Set the guid of unique handler to the same of original handler, so it can be removed</span></div><div class="line">    proxy.guid = fn.guid = fn.guid || jQuery.guid++;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> proxy;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      jQuery.proxyæ–¹æ³•åŸç†ä¸ä½¿ç”¨
    
    </summary>
    
    
      <category term="jQuery" scheme="http://imys.net/tags/jQuery/"/>
    
      <category term="proxy" scheme="http://imys.net/tags/proxy/"/>
    
  </entry>
  
  <entry>
    <title>javascriptä¸­withè¯­å¥ç”¨æ³•</title>
    <link href="http://imys.net/20150508/javascript-with.html"/>
    <id>http://imys.net/20150508/javascript-with.html</id>
    <published>2015-05-08T03:16:52.000Z</published>
    <updated>2016-11-12T19:19:59.058Z</updated>
    
    <content type="html"><![CDATA[<p><strong>with</strong> è¯­å¥å¯ä»¥æ–¹ä¾¿åœ°ç”¨æ¥å¼•ç”¨æŸä¸ªç‰¹å®šå¯¹è±¡ä¸­å·²æœ‰çš„å±æ€§æˆ–æ–¹æ³•ï¼Œä½†æ˜¯ä¸èƒ½ç”¨æ¥ç»™å¯¹è±¡æ·»åŠ æ–°çš„å±æ€§æˆ–æ–¹æ³•ã€‚è¦ç»™å¯¹è±¡åˆ›å»ºæ–°çš„å±æ€§ï¼Œå¿…é¡»æ˜ç¡®åœ°å¼•ç”¨è¯¥å¯¹è±¡ã€‚<br><a id="more"></a></p><h3 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">function Student()&#123;</div><div class="line">    this.name = &apos;jeck&apos;;</div><div class="line">    this.age = 20;</div><div class="line">    this.gender = &apos;men&apos;;</div><div class="line">&#125;</div><div class="line"></div><div class="line">var stu = new Student();</div><div class="line"></div><div class="line">with(stu) &#123;</div><div class="line">    console.log(&apos;å§“åï¼š&apos; + name + &apos;ï¼Œæ€§åˆ«ï¼š&apos; + gender + &apos;ï¼Œå¹´é¾„ï¼š&apos; + age);  // å§“åï¼šjeckï¼Œæ€§åˆ«ï¼šmenï¼Œå¹´é¾„ï¼š20</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><blockquote><p>with è¯­å¥ä½¿ä»£ç æ›´ç®€æ´ã€æ˜“è¯»ã€‚<br>ç”±äº with ä¼šæ ¹æ®ç›®æ ‡å¯¹è±¡äº§ç”Ÿä¸€ä¸ªæ–°çš„å¯å˜å¯¹è±¡ï¼Œæ¨å…¥ä½œç”¨åŸŸé“¾çš„å¤´éƒ¨ï¼Œè¿™æ ·åŸæœ‰çš„å¯è®¿é—®å¯¹è±¡éƒ½è¢«å¾€åæ¨äº†ä¸€ä¸ªå±‚æ¬¡ï¼Œè¿™ä½¿å¾—å®ƒä»¬çš„è®¿é—®ä»£ä»·æ›´é«˜äº†ã€‚<br>å› æ­¤å¯¹äº with è¯­å¥æœ€å¥½é¿å…ä½¿ç”¨ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      javascriptä¸­withè¯­å¥ç”¨æ³•
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://imys.net/tags/JavaScript/"/>
    
      <category term="with" scheme="http://imys.net/tags/with/"/>
    
  </entry>
  
  <entry>
    <title>å›¾ç‰‡ä¸Šä¼ æœ¬åœ°é¢„è§ˆjqueryæ’ä»¶</title>
    <link href="http://imys.net/20150507/jqplugin-uploadpreview.html"/>
    <id>http://imys.net/20150507/jqplugin-uploadpreview.html</id>
    <published>2015-05-07T10:11:00.000Z</published>
    <updated>2016-11-12T19:19:41.771Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ç½‘ä¸Šæ‰¾åˆ°çš„ä¸€æ®µä»£ç ï¼Œç»è¿‡ä¸€ç•ªæµ‹è¯•ä¿®æ”¹ï¼Œå…¼å®¹äº†IE7+ã€ç«ç‹ã€è°·æ­Œã€‚<br>å¹¶ä¸”æ‰©å±•äº†å¤šå°ºå¯¸é¢„è§ˆåŠŸèƒ½ï¼Œå¯å®Œç¾æ­é… <a href="http://code.ciaoca.com/jquery/jcrop/" target="_blank" rel="external">jquery.Jcrop</a> æ’ä»¶è¿›è¡Œå›¾åƒè£å‰ªã€‚<br><a id="more"></a></p></blockquote><h3 id="æ’ä»¶ä»£ç "><a href="#æ’ä»¶ä»£ç " class="headerlink" title="æ’ä»¶ä»£ç "></a>æ’ä»¶ä»£ç </h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>) </span>&#123;</div><div class="line">    jQuery.fn.extend(&#123;</div><div class="line">        <span class="attr">uploadPreview</span>: <span class="function"><span class="keyword">function</span>(<span class="params">opts</span>) </span>&#123;</div><div class="line">            opts = jQuery.extend(&#123;</div><div class="line">                <span class="attr">width</span>: <span class="literal">null</span>,    </div><div class="line">                <span class="attr">height</span>: <span class="literal">null</span>,</div><div class="line">                <span class="attr">imgDiv</span>: <span class="string">"#imgDiv"</span>,  </div><div class="line">                <span class="attr">anyTarget</span>: <span class="literal">null</span>,    </div><div class="line">                <span class="attr">maxSize</span>: <span class="number">300</span>,       </div><div class="line">                <span class="attr">imgType</span>: [<span class="string">"gif"</span>, <span class="string">"jpeg"</span>, <span class="string">"jpg"</span>, <span class="string">"bmp"</span>, <span class="string">"png"</span>],  </div><div class="line">                <span class="attr">callback</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="literal">false</span>; &#125;  </div><div class="line">            &#125;, opts || &#123;&#125;);</div><div class="line"></div><div class="line">            <span class="keyword">var</span> _this = $(<span class="keyword">this</span>);</div><div class="line">            <span class="keyword">var</span> imgDiv = $(opts.imgDiv);</div><div class="line">            opts.width &amp;amp;&amp;amp; imgDiv.width(opts.width);</div><div class="line">            opts.height &amp;amp;&amp;amp; imgDiv.height(opts.height);</div><div class="line"></div><div class="line">            <span class="keyword">var</span> isIE = navigator.appName == <span class="string">'Microsoft Internet Explorer'</span>, </div><div class="line">                brVersion = navigator.appVersion, version;</div><div class="line">            isIE &amp;amp;&amp;amp; (version = brVersion.split(<span class="string">';'</span>)[<span class="number">1</span>].replace(<span class="regexp">/MSIE[ ]/g</span>,<span class="string">''</span>).replace(<span class="string">'.0'</span>,<span class="string">''</span>));</div><div class="line"></div><div class="line">            handle = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">                <span class="keyword">var</span> img = imgDiv.find(<span class="string">'img'</span>);</div><div class="line">                opts.anyTarget &amp;amp;&amp;amp; $.each(opts.anyTarget.split(<span class="string">','</span>), <span class="function"><span class="keyword">function</span>(<span class="params">index, val</span>) </span>&#123;</div><div class="line">                    $(val).html(img.clone());</div><div class="line">                &#125;);</div><div class="line">                img.width(opts.width).height(opts.height);</div><div class="line">                opts.callback(img);</div><div class="line">            &#125;,</div><div class="line"></div><div class="line">            createImg = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                imgDiv.html(<span class="string">''</span>);</div><div class="line"></div><div class="line">                <span class="keyword">var</span> img = $(<span class="string">"&lt;img /&gt;"</span>);</div><div class="line">                imgDiv.append(img);</div><div class="line">                <span class="keyword">return</span> img;</div><div class="line">            &#125;,</div><div class="line"></div><div class="line">            _this.change(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">                <span class="keyword">if</span> (<span class="keyword">this</span>.value) &#123;</div><div class="line">                    <span class="keyword">if</span> (!<span class="built_in">RegExp</span>(<span class="string">"\.("</span> + opts.imgType.join(<span class="string">"|"</span>) + <span class="string">")$"</span>, <span class="string">"i"</span>).test(<span class="keyword">this</span>.value.toLowerCase())) &#123;</div><div class="line">                        alert(<span class="string">"å›¾ç‰‡ç±»å‹å¿…é¡»æ˜¯"</span> + opts.imgType.join(<span class="string">"ï¼Œ"</span>) + <span class="string">"ä¸­çš„ä¸€ç§"</span>);</div><div class="line">                        <span class="keyword">this</span>.value = <span class="string">""</span>;</div><div class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                    &#125;</div><div class="line"></div><div class="line">                    <span class="keyword">if</span> (isIE &amp;amp;&amp;amp; version &lt; <span class="number">10</span>) &#123;</div><div class="line"></div><div class="line">                        <span class="keyword">if</span> (version == <span class="number">6</span>) &#123;</div><div class="line"></div><div class="line">                            <span class="keyword">var</span> image = <span class="keyword">new</span> Image();</div><div class="line">                            image.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                                <span class="keyword">if</span>( (image.fileSize/<span class="number">1024</span>) &gt; opts.maxSize) &#123;</div><div class="line">                                    alert(<span class="string">'å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡'</span>+opts.maxSize+<span class="string">'K'</span>);</div><div class="line">                                    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                                &#125;</div><div class="line">                            &#125;</div><div class="line">                            image.src = <span class="string">'file:///'</span> + <span class="keyword">this</span>.value;</div><div class="line"></div><div class="line">                            createImg().attr(<span class="string">'src'</span>, image.src);</div><div class="line">                            handle();</div><div class="line">                        &#125;  <span class="keyword">else</span> &#123;</div><div class="line"></div><div class="line">                            <span class="keyword">var</span> img = <span class="built_in">document</span>.selection.createRange().text || $(<span class="keyword">this</span>).val();</div><div class="line">                            <span class="keyword">var</span> image = $(<span class="string">'&lt;img /&gt;'</span>)</div><div class="line">                            image.load(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                                <span class="keyword">if</span>( (image.fileSize/<span class="number">1024</span>) &gt; opts.maxSize) &#123;</div><div class="line">                                    alert(<span class="string">'å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡'</span>+opts.maxSize+<span class="string">'K'</span>);</div><div class="line">                                    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                                &#125;</div><div class="line">                            &#125;);</div><div class="line">                            image.attr(<span class="string">'src'</span>, img);                           </div><div class="line">                            imgDiv.html(<span class="string">''</span>);           </div><div class="line"></div><div class="line">                            image.css(&#123; <span class="attr">filter</span>: <span class="string">"progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod='scale',src='"</span>+img+<span class="string">"')"</span> &#125;);</div><div class="line">                            imgDiv.append(image);</div><div class="line">                            setTimeout(handle, <span class="number">100</span>);                            </div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">else</span> &#123;</div><div class="line">                        <span class="keyword">var</span> img;</div><div class="line">                        <span class="keyword">try</span>&#123;   </div><div class="line">                            <span class="keyword">var</span> file = <span class="literal">null</span>;</div><div class="line">                            <span class="keyword">var</span> size = <span class="number">0</span>;</div><div class="line">                            <span class="keyword">if</span>(<span class="keyword">this</span>.files &amp;amp;&amp;amp; <span class="keyword">this</span>.files[<span class="number">0</span>] )&#123;</div><div class="line">                                file = <span class="keyword">this</span>.files[<span class="number">0</span>]; </div><div class="line">                                size = file.size;</div><div class="line">                            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>.files &amp;amp;&amp;amp; <span class="keyword">this</span>.files.item(<span class="number">0</span>)) &#123;                                </div><div class="line">                                file = <span class="keyword">this</span>.files.item(<span class="number">0</span>);   </div><div class="line">                                size = file.fileSize;</div><div class="line">                            &#125; </div><div class="line"></div><div class="line">                            <span class="keyword">if</span>((size/<span class="number">1024</span>) &gt; opts.maxSize)&#123;</div><div class="line">                                alert(<span class="string">'å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡'</span>+opts.maxSize+<span class="string">'K'</span>);</div><div class="line">                                <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                            &#125;</div><div class="line"></div><div class="line">                            img = createImg();</div><div class="line"></div><div class="line">                            <span class="comment">//Firefox å› å®‰å…¨æ€§é—®é¢˜å·²æ— æ³•ç›´æ¥é€šè¿‡input[file].value è·å–å®Œæ•´çš„æ–‡ä»¶è·¯å¾„</span></div><div class="line">                            <span class="keyword">try</span>&#123;</div><div class="line">                                <span class="comment">//Firefox7.0 ä»¥ä¸‹                             </span></div><div class="line">                                img.attr(<span class="string">'src'</span>, file.getAsDataURL());</div><div class="line">                            &#125;<span class="keyword">catch</span>(e)&#123;</div><div class="line">                                <span class="comment">//Firefox8.0ä»¥ä¸Š                              </span></div><div class="line">                                img.attr(<span class="string">'src'</span>, <span class="built_in">window</span>.URL.createObjectURL(file));</div><div class="line">                            &#125;</div><div class="line"></div><div class="line">                            img.css(&#123; <span class="string">"vertical-align"</span>: <span class="string">"middle"</span> &#125;);</div><div class="line">                            setTimeout(handle, <span class="number">100</span>);</div><div class="line">                        &#125;<span class="keyword">catch</span>(e)&#123;                          </div><div class="line">                            <span class="comment">//æ”¯æŒhtml5çš„æµè§ˆå™¨,æ¯”å¦‚é«˜ç‰ˆæœ¬çš„firefoxã€chromeã€ie10</span></div><div class="line">                            <span class="keyword">if</span> (<span class="keyword">this</span>.files &amp;amp;&amp;amp; <span class="keyword">this</span>.files[<span class="number">0</span>]) &#123;                          </div><div class="line">                                <span class="keyword">if</span>((<span class="keyword">this</span>.files[<span class="number">0</span>].size/<span class="number">1024</span>) &gt; opts.maxSize)&#123;</div><div class="line">                                    alert(<span class="string">'å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡'</span>+opts.maxSize+<span class="string">'K'</span>);</div><div class="line">                                    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">                                &#125;</div><div class="line"></div><div class="line">                                <span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader(); </div><div class="line">                                reader.onload = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;                                      </div><div class="line">                                    imgDiv.attr(<span class="string">'src'</span>, e.target.result);  </div><div class="line">                                &#125;;</div><div class="line">                                reader.readAsDataURL(<span class="keyword">this</span>.files[<span class="number">0</span>]); </div><div class="line">                                setTimeout(handle, <span class="number">100</span>);</div><div class="line">                            &#125;  </div><div class="line">                        &#125;;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;);</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;)(jQuery);</div></pre></td></tr></table></figure><h3 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h3><ul><li>width: å›¾ç‰‡å®¹å™¨å®½åº¦ï¼›</li><li>height: å›¾ç‰‡å®¹å™¨é«˜åº¦ï¼›</li><li>imgDiv: å›¾ç‰‡é¢„è§ˆå®¹å™¨ï¼›</li><li>anyTarget: å…¶ä»–å…³è”å®¹å™¨ï¼Œå¤šä¸ªå®¹å™¨é€—å·éš”å¼€ï¼›</li><li>maxSize: å›¾ç‰‡å¤§å°é™åˆ¶ï¼Œå•ä½KBï¼›</li><li>imgType: å›¾ç‰‡ç±»å‹é™åˆ¶ï¼›</li><li>callback: é¢„è§ˆæˆåŠŸåçš„å›è°ƒï¼Œå‚æ•° img(é¢„è§ˆçš„å›¾ç‰‡èŠ‚ç‚¹ï¼Œjqueryç±»å‹)ã€‚</li></ul><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge,chrome=1"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>å›¾ç‰‡ä¸Šä¼ é¢„è§ˆ<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"http://cdn.bootcss.com/jquery-jcrop/0.9.12/css/jquery.Jcrop.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="css"></span></div><div class="line">    <span class="selector-class">.fl</span> &#123;</div><div class="line">        <span class="attribute">float</span>: left;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.fr</span> &#123;</div><div class="line">        <span class="attribute">float</span>: right;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.logo-wrap</span> &#123;</div><div class="line">        <span class="attribute">overflow</span>: hidden;</div><div class="line">        <span class="attribute">margin</span>: <span class="number">30px</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.logo-350</span>, <span class="selector-class">.logo-350</span> <span class="selector-tag">img</span> &#123;</div><div class="line">        <span class="attribute">width</span>: <span class="number">350px</span>;</div><div class="line">        <span class="attribute">height</span>: <span class="number">350px</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.logo-350</span> &#123;</div><div class="line">        <span class="attribute">margin-right</span>: <span class="number">30px</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.logo-200</span>, <span class="selector-class">.logo-200</span> <span class="selector-tag">img</span> &#123;</div><div class="line">        <span class="attribute">width</span>: <span class="number">200px</span>;</div><div class="line">        <span class="attribute">height</span>: <span class="number">200px</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.logo-200</span> &#123;</div><div class="line">        <span class="attribute">margin-bottom</span>: <span class="number">30px</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.logo-200-wrap</span> &#123;</div><div class="line">        <span class="attribute">width</span>: <span class="number">200px</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.logo-100</span>, <span class="selector-class">.logo-100</span> <span class="selector-tag">img</span> &#123;</div><div class="line">        <span class="attribute">width</span>: <span class="number">100px</span>;</div><div class="line">        <span class="attribute">height</span>: <span class="number">100px</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="selector-class">.logo-60</span>, <span class="selector-class">.logo-60</span> <span class="selector-tag">img</span> &#123;</div><div class="line">        <span class="attribute">width</span>: <span class="number">60px</span>;</div><div class="line">        <span class="attribute">height</span>: <span class="number">60px</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="selector-class">.logo-350</span>, <span class="selector-class">.logo-200</span>, <span class="selector-class">.logo-100</span>, <span class="selector-class">.logo-60</span>, <span class="selector-class">.qrcode</span> &#123;</div><div class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</div><div class="line">        <span class="attribute">overflow</span>: hidden;</div><div class="line">    &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">value</span>=<span class="string">"ä¸Šä¼ æ–‡ä»¶"</span> <span class="attr">id</span>=<span class="string">"file"</span>&gt;</span>  </div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"logo-wrap"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"fl logo-350"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"fl logo-200-wrap"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"logo-200"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"fl logo-100"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"fr logo-60"</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://ysdn-wordpress.stor.sinaapp.com/js/jquery.uploadPreview.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://cdn.bootcss.com/jquery-jcrop/0.9.12/js/jquery.Jcrop.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript">  </span></div><div class="line"><span class="comment">//&lt;![CDATA[</span></div><div class="line">    $(<span class="string">"#file"</span>).uploadPreview(&#123; </div><div class="line">        <span class="attr">width</span>: <span class="number">350</span>,     </div><div class="line">        <span class="attr">height</span>: <span class="number">350</span>, </div><div class="line">        <span class="attr">imgDiv</span>: <span class="string">'.logo-350'</span>,    </div><div class="line">        <span class="attr">anyTarget</span>: <span class="string">'.logo-200 .content, .logo-100 .content, .logo-60 .content'</span>,</div><div class="line">        <span class="attr">maxSize</span>: <span class="number">1024</span> * <span class="number">2</span>,</div><div class="line">        <span class="attr">callback</span>: <span class="function"><span class="keyword">function</span>(<span class="params">el</span>) </span>&#123;</div><div class="line">            <span class="keyword">var</span> jOption = &#123;</div><div class="line">                <span class="attr">setSelect</span>: [<span class="number">75</span>, <span class="number">75</span>, <span class="number">275</span>, <span class="number">275</span>],</div><div class="line">                <span class="attr">minSize</span>: [<span class="number">200</span>, <span class="number">200</span>],</div><div class="line">                <span class="attr">onChange</span>: updatePreview,</div><div class="line">                <span class="attr">onSelect</span>: updatePreview,</div><div class="line">                <span class="attr">aspectRatio</span>: <span class="number">1</span></div><div class="line">            &#125;;</div><div class="line"></div><div class="line">            <span class="keyword">var</span> isIE = navigator.appName == <span class="string">'Microsoft Internet Explorer'</span>, </div><div class="line">                brVersion = navigator.appVersion, version;</div><div class="line">            isIE &amp;amp;&amp;amp; (version = brVersion.split(<span class="string">';'</span>)[<span class="number">1</span>].replace(<span class="regexp">/MSIE[ ]/g</span>,<span class="string">''</span>).replace(<span class="string">'.0'</span>,<span class="string">''</span>));</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (isIE &amp;amp;&amp;amp; version &lt; <span class="number">10</span>) &#123;</div><div class="line">                <span class="keyword">var</span> api = $.Jcrop(el.selector, jOption); </div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                el.Jcrop(jOption);</div><div class="line">            &#125;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">updatePreview</span>(<span class="params">c</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">parseInt</span>(c.w) &gt; <span class="number">0</span>) &#123;</div><div class="line">            $(<span class="string">'.logo-200, .logo-100, .logo-60'</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">index, el</span>) </span>&#123;</div><div class="line">                <span class="keyword">var</span> box = $(el), content = box.find(<span class="string">'.content'</span>), img = content.find(<span class="string">'img'</span>);</div><div class="line">                content.width($(<span class="string">'.logo-350'</span>).outerWidth()).height($(<span class="string">'.logo-350'</span>).outerHeight());</div><div class="line"></div><div class="line">                <span class="keyword">var</span> rx = box.width() / c.w;</div><div class="line">                <span class="keyword">var</span> ry = box.height() / c.h;</div><div class="line"></div><div class="line">                img.css(&#123;</div><div class="line">                    <span class="attr">width</span>: <span class="built_in">Math</span>.round(rx * <span class="number">350</span>) + <span class="string">'px'</span>,</div><div class="line">                    <span class="attr">height</span>: <span class="built_in">Math</span>.round(ry * <span class="number">350</span>) + <span class="string">'px'</span>,</div><div class="line">                    <span class="attr">marginLeft</span>: <span class="string">'-'</span> + <span class="built_in">Math</span>.round(rx * c.x) + <span class="string">'px'</span>,</div><div class="line">                    <span class="attr">marginTop</span>: <span class="string">'-'</span> + <span class="built_in">Math</span>.round(ry * c.y) + <span class="string">'px'</span></div><div class="line">                &#125;);</div><div class="line">            &#125;);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"><span class="comment">//]]&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      å›¾ç‰‡ä¸Šä¼ æœ¬åœ°é¢„è§ˆjqueryæ’ä»¶
    
    </summary>
    
    
      <category term="jQuery" scheme="http://imys.net/tags/jQuery/"/>
    
      <category term="jQueryæ’ä»¶" scheme="http://imys.net/tags/jQuery%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>javascriptä¹‹argumentså¯¹è±¡</title>
    <link href="http://imys.net/20150429/javascript-arguments.html"/>
    <id>http://imys.net/20150429/javascript-arguments.html</id>
    <published>2015-04-29T03:55:20.000Z</published>
    <updated>2016-11-12T19:20:07.394Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åœ¨javascriptä¸­å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šè‡ªåŠ¨åœ¨å‡½æ•°å†…äº§ç”Ÿä¸€ä¸ªargumentsçš„éšè—å¯¹è±¡ã€‚argumentsç±»ä¼¼äºæ•°ç»„ï¼Œä½†åˆä¸æ˜¯æ•°ç»„ã€‚å¯ä»¥ä½¿ç”¨[]æ“ä½œç¬¦è·å–å‡½æ•°è°ƒç”¨æ—¶ä¼ é€’çš„å®å‚ã€‚</p></blockquote><a id="more"></a><h3 id="å…¶ç±»å‹"><a href="#å…¶ç±»å‹" class="headerlink" title="å…¶ç±»å‹"></a>å…¶ç±»å‹</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">arguments</span>);  <span class="comment">// object</span></div><div class="line">&#125;</div><div class="line">test1();</div></pre></td></tr></table></figure><h3 id="å…¶å±æ€§"><a href="#å…¶å±æ€§" class="headerlink" title="å…¶å±æ€§"></a>å…¶å±æ€§</h3><p><strong>length</strong>ï¼šè·å–å‡½æ•°å†…ä¼ å…¥å®å‚ä¸ªæ•°ã€‚<br>é€‚ç”¨åœºæ™¯ï¼šæ¨¡æ‹Ÿå‡½æ•°é‡è½½ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test2</span>(<span class="params">a,b</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.length);  <span class="comment">// è·å–å‡½æ•°å†…ä¼ å…¥å®å‚ä¸ªæ•°ï¼š4</span></div><div class="line">    <span class="built_in">console</span>.log(test2.length);      <span class="comment">// å¯ä»¥é€šè¿‡ å‡½æ•°å.length è·å–å½¢å‚ä¸ªæ•°ï¼š2</span></div><div class="line">&#125;</div><div class="line">test2(<span class="number">1</span>, <span class="string">'a'</span>, <span class="number">5</span>, <span class="string">'gg'</span>);</div></pre></td></tr></table></figure><p><strong>callee</strong>ï¼šå¼•ç”¨å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°ã€‚<br>é€‚ç”¨åœºæ™¯ï¼šé€’å½’ã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// æ±‚1åˆ°nçš„è‡ªç„¶æ•°ä¹‹å’Œ</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">n</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">return</span> n + <span class="built_in">arguments</span>.callee(n<span class="number">-1</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="è½¬æ¢æˆçœŸæ­£çš„æ•°ç»„"><a href="#è½¬æ¢æˆçœŸæ­£çš„æ•°ç»„" class="headerlink" title="è½¬æ¢æˆçœŸæ­£çš„æ•°ç»„"></a>è½¬æ¢æˆçœŸæ­£çš„æ•°ç»„</h3><p><code>Array.prototype.slice.call(arguments)</code></p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// ä»»æ„æ•°é‡çš„ä¸€ç»„æ•°å­—æ’åº</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">mySort</span>(<span class="params">a,b,v</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> tags = <span class="keyword">new</span> <span class="built_in">Array</span>();</div><div class="line">    tags = tags.concat(tags.slice.call(<span class="built_in">arguments</span>)).sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> a - b;</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> tags;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> result = mySort(<span class="number">50</span>,<span class="number">11</span>,<span class="number">16</span>,<span class="number">32</span>,<span class="number">24</span>,<span class="number">99</span>,<span class="number">57</span>,<span class="number">100</span>);</div><div class="line"><span class="built_in">console</span>.log(result);   <span class="comment">// [11, 16, 24, 32, 50, 57, 99, 100]</span></div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      javascriptä¹‹argumentså¯¹è±¡
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://imys.net/tags/JavaScript/"/>
    
      <category term="arguments" scheme="http://imys.net/tags/arguments/"/>
    
  </entry>
  
  <entry>
    <title>jQueryæ‰©å±• - å»¶è¿Ÿæ‰§è¡Œhoveräº‹ä»¶</title>
    <link href="http://imys.net/20150428/jquery-delayHover.html"/>
    <id>http://imys.net/20150428/jquery-delayHover.html</id>
    <published>2015-04-28T09:15:57.000Z</published>
    <updated>2016-11-12T19:19:11.619Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>é€‚ç”¨åœºæ™¯å¦‚ï¼šé¼ æ ‡éšä¾¿ä¸€æ»‘ï¼Œæ— æ•°ä¸ªä¸‹æ‹‰èœå•å‡ºæ¥äº†ï¼Œç”¨æˆ·å¯èƒ½åªæ˜¯é¼ æ ‡â€œæ‰“ä¸ªé…±æ²¹â€ç½¢äº†ã€‚</p></blockquote><p>å®ç°å¾ˆç®€å•ï¼Œå°±æ˜¯ä½¿ç”¨<code>setTimeout</code>å»¶è¿Ÿäº‹ä»¶ä»£ç çš„æ‰§è¡Œã€‚<br><a id="more"></a></p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>)</span>&#123;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">DelayHover</span>(<span class="params">options</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> defaults = &#123;</div><div class="line">            <span class="attr">speed</span> : <span class="number">400</span>,                <span class="comment">// å»¶è¿Ÿæ—¶é—´(æ¯«ç§’)</span></div><div class="line">            onHover : <span class="function"><span class="keyword">function</span>(<span class="params">el</span>) </span>&#123;&#125;,  <span class="comment">// é¼ æ ‡æ‚¬æµ®</span></div><div class="line">            onOut : <span class="function"><span class="keyword">function</span>(<span class="params">el</span>)</span>&#123;&#125;      <span class="comment">// é¼ æ ‡ç¦»å¼€</span></div><div class="line">        &#125;;</div><div class="line"></div><div class="line">        <span class="keyword">this</span>.settings = $.extend(&#123;&#125;, defaults, options);</div><div class="line">        <span class="keyword">var</span> _this = <span class="keyword">this</span>, hoverTimer;</div><div class="line"></div><div class="line">        _this.bind = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            $(_this).hover(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">                hoverTimer = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                    _this.settings.onHover(_this);</div><div class="line">                &#125;, _this.settings.speed);</div><div class="line">            &#125;, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">                clearTimeout(hoverTimer);</div><div class="line">                _this.settings.onOut(_this);</div><div class="line">            &#125;);</div><div class="line"></div><div class="line">        &#125;;</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    $.fn.delayHover = <span class="function"><span class="keyword">function</span>(<span class="params">options</span>) </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">            DelayHover.call(<span class="keyword">this</span>,options);</div><div class="line">            <span class="keyword">this</span>.bind();</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;)(jQuery);</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      jQueryæ‰©å±• - å»¶è¿Ÿæ‰§è¡Œhoveräº‹ä»¶
    
    </summary>
    
    
      <category term="jQuery" scheme="http://imys.net/tags/jQuery/"/>
    
      <category term="jQueryæ’ä»¶" scheme="http://imys.net/tags/jQuery%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨css3åä»£é€‰æ‹©å™¨å®ç°å¤šèƒŒæ™¯è‰²æ ‡ç­¾æ ·å¼</title>
    <link href="http://imys.net/20150426/css3-selector-multiple-color.html"/>
    <id>http://imys.net/20150426/css3-selector-multiple-color.html</id>
    <published>2015-04-25T19:09:06.000Z</published>
    <updated>2016-11-12T19:12:17.203Z</updated>
    
    <content type="html"><![CDATA[<figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/css3-selector-multiple-color.jpg" alt="ä½¿ç”¨css3åä»£é€‰æ‹©å™¨å®ç°å¤šèƒŒæ™¯è‰²æ ‡ç­¾æ ·å¼"></div><div class="image-caption">ä½¿ç”¨css3åä»£é€‰æ‹©å™¨å®ç°å¤šèƒŒæ™¯è‰²æ ‡ç­¾æ ·å¼</div></figure><blockquote><p>css3å¢åŠ äº†è®¸å¤šæ–°çš„é€‰æ‹©å™¨ï¼ŒåŒ…æ‹¬å±æ€§é€‰æ‹©å™¨ã€åä»£é€‰æ‹©å™¨å’Œä¼ªç±»é€‰æ‹©å™¨ç­‰ï¼Œçµæ´»è¿ç”¨å¯ä»¥åšå‡ºå¾ˆå¤šå‡ºå½©çš„æ•ˆæœã€‚</p></blockquote><p>åœ¨ä¸€äº›åšå®¢ç«™ç‚¹ä¸Šç»å¸¸ä¼šè§åˆ°ä¸€äº›å¤šèƒŒæ™¯è‰²çš„æ ‡ç­¾æ ·å¼ï¼Œé¢œè‰²å›ºå®šä¸ºå‡ ç§ï¼ŒæŒ‰é¡ºåºå¾ªç¯å‘ˆç°ã€‚</p><p>ä½¿ç”¨jsè¿­ä»£å¹¶æ·»åŠ ä¸åŒçš„æ ·å¼å›ºç„¶å¯è¡Œï¼Œä¸è¿‡css3ä¸ºæˆ‘ä»¬æä¾›äº†æ›´ä¾¿æ·çš„æ–¹æ³•â€“åä»£é€‰æ‹©å™¨ã€‚<br><a id="more"></a></p><p><code>:nth-of-type(n)</code><br><em>åŒ¹é…åŒç±»å‹ä¸­çš„ç¬¬nä¸ªåŒçº§å…„å¼Ÿå…ƒç´ ã€‚</em><br><em>nå¯ä»¥æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œä¸€ä¸ªå…³é”®å­—ï¼Œæˆ–è€…ä¸€ä¸ªå…¬å¼ã€‚</em></p><p>å®ç°è¿™æ¬¡çš„éœ€æ±‚è¦ä½¿ç”¨å…¬å¼ä»£å…¥çš„æ–¹å¼ï¼Œ<code>nth-of-type(an+b)</code>ã€‚<br><em>aä»£è¡¨ä¸€ä¸ªå¾ªç¯çš„å¤§å°ï¼ŒNæ˜¯ä¸€ä¸ªè®¡æ•°å™¨ï¼ˆä»0å¼€å§‹ï¼‰ï¼Œä»¥åŠbæ˜¯åç§»é‡ã€‚</em></p><p>å‡è®¾æˆ‘ä»¬éœ€è¦4ç§æ ‡ç­¾é¢œè‰²ï¼Œå°±éœ€è¦è®¾ç½®4ä¸ªå…¬å¼å‹çš„åä»£é€‰æ‹©å™¨ï¼Œé‚£ä¹ˆå¯ä»¥æƒ³åˆ°çš„ç¬¬ä¸€ä¸ªå…¬å¼ä¸º<code>4n+0</code>ï¼Œé€‰å–ç´¢å¼•ä¸º4çš„å€æ•°çš„å…ƒç´ ã€‚<br>äºæ˜¯å°±å¯ä»¥æ¨å‡ºå‰©ä½™çš„3ä¸ªå…¬å¼ä¸º<code>4n-1</code>ã€<code>4n-2</code>ã€<code>4n-3</code>ã€‚</p><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>ä½¿ç”¨css3å­çº§é€‰æ‹©å™¨å®ç°å¤šé¢œè‰²æ ‡ç­¾æ ·å¼<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></div><div class="line">    html &#123;</div><div class="line">        background: #333;</div><div class="line">    &#125;</div><div class="line">    .tags &#123;</div><div class="line">        width: 240px;</div><div class="line">        margin: 150px auto;</div><div class="line">        padding: 10px;</div><div class="line">        background: #ddd;</div><div class="line">    &#125;</div><div class="line">    .tags&gt;a &#123;</div><div class="line">        display: inline-block;</div><div class="line">        text-decoration: none;</div><div class="line">        color: #fff;</div><div class="line">        padding: 5px 10px;</div><div class="line">        margin: 0 5px 5px 0;</div><div class="line">        border-radius: 3px;</div><div class="line">        transition: all .5s;</div><div class="line">        -webkit-transition: all .5s;</div><div class="line">    &#125;</div><div class="line">    .tags&gt;a:hover &#123;</div><div class="line">        background: #666 !important;</div><div class="line">    &#125;</div><div class="line">    .tags&gt;a:nth-of-type(4n+0) &#123;</div><div class="line">        background: #337AB7;</div><div class="line">    &#125;</div><div class="line">    .tags&gt;a:nth-of-type(4n-1) &#123;</div><div class="line">        background: #5CB85C;</div><div class="line">    &#125;</div><div class="line">    .tags&gt;a:nth-of-type(4n-2) &#123;</div><div class="line">        background: #5BC0DE;</div><div class="line">    &#125;</div><div class="line">    .tags&gt;a:nth-of-type(4n-3) &#123;</div><div class="line">        background: #F0AD4E;</div><div class="line">    &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tags"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>html<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>css<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>javascript<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>jQuery<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>html<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>css<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>javascript<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>jQuery<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>html<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>css<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>javascript<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>jQuery<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>html<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>css<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>javascript<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>jQuery<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>html<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>css<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>javascript<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>jQuery<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      ä½¿ç”¨css3åä»£é€‰æ‹©å™¨å®ç°å¤šèƒŒæ™¯è‰²æ ‡ç­¾æ ·å¼
    
    </summary>
    
    
      <category term="CSS3" scheme="http://imys.net/tags/CSS3/"/>
    
      <category term="selector" scheme="http://imys.net/tags/selector/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨é€»è¾‘è¿ç®—ç¬¦ || &amp;&amp; ç®€åŒ–javascriptä¸­if elseé€‰æ‹©ç»“æ„</title>
    <link href="http://imys.net/20150424/js-simple-condition.html"/>
    <id>http://imys.net/20150424/js-simple-condition.html</id>
    <published>2015-04-24T03:49:30.000Z</published>
    <updated>2016-11-12T19:23:12.154Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>|| å’Œ &amp;&amp; é€šå¸¸ä½¿ç”¨åœ¨æ¡ä»¶è¡¨è¾¾å¼ä¸­ï¼Œä½†æ˜¯ç”±äºjavascriptè¯­è¨€çš„ç‰¹æ®Šæ€§ï¼Œè¿™ä¸¤ä¸ªç¬¦å·åˆè¢«å¼€å‘å‡ºäº†ç‰¹åˆ«çš„ä½¿ç”¨æŠ€å·§ã€‚</p></blockquote><a id="more"></a><h3 id="æœ€åŸºæœ¬çš„ç”¨æ³•"><a href="#æœ€åŸºæœ¬çš„ç”¨æ³•" class="headerlink" title="æœ€åŸºæœ¬çš„ç”¨æ³•"></a>æœ€åŸºæœ¬çš„ç”¨æ³•</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="literal">true</span> &amp;amp;&amp;amp; <span class="literal">true</span>);  <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(<span class="literal">true</span> &amp;amp;&amp;amp; <span class="literal">false</span>);  <span class="comment">// false</span></div><div class="line"><span class="built_in">console</span>.log(<span class="literal">false</span> &amp;amp;&amp;amp; <span class="literal">true</span>);  <span class="comment">// false</span></div><div class="line"><span class="built_in">console</span>.log(<span class="literal">false</span> &amp;amp;&amp;amp; <span class="literal">false</span>);  <span class="comment">// false</span></div><div class="line"><span class="built_in">console</span>.log(<span class="literal">true</span> || <span class="literal">true</span>);  <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(<span class="literal">true</span> || <span class="literal">false</span>);  <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(<span class="literal">false</span> || <span class="literal">true</span>);  <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(<span class="literal">false</span> || <span class="literal">false</span>);  <span class="comment">// false</span></div></pre></td></tr></table></figure><p>è¿™æ˜¯æ‰€æœ‰çš„ç¼–ç¨‹è¯­éŸ³é€šç”¨çš„ä½¿ç”¨æ–¹æ³•ï¼Œæ¯‹åº¸ç½®ç–‘ã€‚</p><h3 id="javascriptä¸­å¯ä»¥è¿™ä¹ˆç”¨"><a href="#javascriptä¸­å¯ä»¥è¿™ä¹ˆç”¨" class="headerlink" title="javascriptä¸­å¯ä»¥è¿™ä¹ˆç”¨"></a>javascriptä¸­å¯ä»¥è¿™ä¹ˆç”¨</h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> target, num;</div><div class="line">target = <span class="literal">undefined</span> || <span class="string">'defaultValue'</span>; <span class="comment">// defaultValue</span></div><div class="line">num = <span class="number">0</span> || <span class="number">1</span>; <span class="comment">// 1</span></div></pre></td></tr></table></figure><p>ä½ å¯ä»¥çœ‹æˆè¿™æ ·ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> target;</div><div class="line">target = <span class="literal">false</span> || <span class="string">'defaultValue'</span>; <span class="comment">// defaultValue</span></div><div class="line">num = <span class="literal">false</span> || <span class="number">1</span>; <span class="comment">// 1</span></div></pre></td></tr></table></figure><p>å› ä¸ºåœ¨javascriptä¸­Objectã€functionã€é0çš„æ•´æ•°å’Œå­—ç¬¦ä¸²éƒ½ä¸º<code>true</code>ï¼Œundefinedã€nullå’Œç©ºå­—ç¬¦ä¸²â€â€ ä¸º<code>false</code>ã€‚</p><p>ä½†æ˜¯javascriptä¸­å´å¯ä»¥è¿”å›ä¸º<code>true</code>è¡¨è¾¾å¼çš„å€¼ï¼Œåº”è¯¥ç†è§£ä¸ºâ€œçœŸå€¼â€å’Œâ€œå‡å€¼â€æ›´è´´åˆ‡ã€‚</p><p><em>â€˜||â€™åœ¨javascriptä¸­çš„è§„åˆ™ï¼šå¦‚æœ||å·¦ä¾§è¡¨è¾¾å¼çš„å€¼ä¸ºçœŸå€¼ï¼Œåˆ™è¿”å›å·¦ä¾§è¡¨è¾¾å¼çš„å€¼ï¼›å¦åˆ™è¿”å›å³ä¾§è¡¨è¾¾å¼çš„å€¼ã€‚</em></p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="string">'çœŸå€¼'</span>||<span class="string">''</span>); <span class="comment">// çœŸå€¼</span></div><div class="line"><span class="built_in">console</span>.log(<span class="literal">undefined</span>||object); <span class="comment">// object</span></div></pre></td></tr></table></figure><p><em>â€˜&amp;&amp;â€™åœ¨javascriptä¸­çš„è§„åˆ™ï¼šå¦‚æœ&amp;&amp;å·¦ä¾§è¡¨è¾¾å¼çš„å€¼ä¸ºçœŸå€¼ï¼Œåˆ™è¿”å›å³ä¾§è¡¨è¾¾å¼çš„å€¼ï¼›å¦åˆ™è¿”å›å·¦ä¾§è¡¨è¾¾å¼çš„å€¼ã€‚</em></p><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="number">1</span> === <span class="number">1</span> &amp;amp;&amp;amp; <span class="number">2</span>) <span class="comment">// 2</span></div><div class="line"><span class="built_in">console</span>.log(<span class="number">0</span> === <span class="number">1</span> &amp;amp;&amp;amp; <span class="number">2</span>) <span class="comment">// false</span></div></pre></td></tr></table></figure><h3 id="äºæ˜¯æœ‰äº†é«˜é€¼æ ¼çš„javascriptä»£ç "><a href="#äºæ˜¯æœ‰äº†é«˜é€¼æ ¼çš„javascriptä»£ç " class="headerlink" title="äºæ˜¯æœ‰äº†é«˜é€¼æ ¼çš„javascriptä»£ç "></a>äºæ˜¯æœ‰äº†é«˜é€¼æ ¼çš„javascriptä»£ç </h3><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> n=<span class="number">1</span>;</div><div class="line">((n === <span class="number">1</span>) &amp;amp;&amp;amp; (n = <span class="number">3</span>)) || ((n === <span class="number">3</span>) &amp;amp;&amp;amp; (n = <span class="number">6</span>)) || (n = <span class="number">2</span>);  <span class="comment">// 3</span></div><div class="line">((n === <span class="number">1</span>) &amp;amp;&amp;amp; (n = <span class="number">3</span>)) || ((n === <span class="number">3</span>) &amp;amp;&amp;amp; (n = <span class="number">6</span>)) || (n = <span class="number">2</span>);  <span class="comment">// 6</span></div><div class="line">((n === <span class="number">1</span>) &amp;amp;&amp;amp; (n = <span class="number">3</span>)) || ((n === <span class="number">3</span>) &amp;amp;&amp;amp; (n = <span class="number">6</span>)) || (n = <span class="number">2</span>);  <span class="comment">// 2</span></div><div class="line"></div><div class="line"><span class="comment">//ä»¥ä¸Šä»£ç ç­‰ä»·äº</span></div><div class="line"><span class="keyword">if</span>(n === <span class="number">1</span>) &#123;</div><div class="line">    n = <span class="number">3</span>;</div><div class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(n === <span class="number">3</span>) &#123;</div><div class="line">    n = <span class="number">6</span>;</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    n = <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      ä½¿ç”¨é€»è¾‘è¿ç®—ç¬¦ || &amp;&amp; ç®€åŒ–javascriptä¸­if elseé€‰æ‹©ç»“æ„
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://imys.net/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>css3å¯¼èˆªæŒ‰é’®å›¾æ ‡æ ·å¼åˆ‡æ¢æ•ˆæœ</title>
    <link href="http://imys.net/20150420/css3-menu-style.html"/>
    <id>http://imys.net/20150420/css3-menu-style.html</id>
    <published>2015-04-20T05:29:44.000Z</published>
    <updated>2016-11-12T19:12:06.042Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>çº¯csså®ç°çš„å¯¼èˆªæŒ‰é’®å›¾æ ‡æ ·å¼åˆ‡æ¢æ•ˆæœï¼Œå›¾æ ‡æ ·å¼æ˜¯cssç”»å‡ºæ¥çš„ï¼Œå†è¾…ä»¥css3åŠ¨ç”»æ•ˆæœã€‚<br><a id="more"></a></p></blockquote><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>css3æ•ˆæœåˆ‡æ¢çš„å¯¼èˆªæŒ‰é’®<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></div><div class="line">  *&#123; </div><div class="line">    margin: 0; </div><div class="line">    padding: 0;</div><div class="line">  &#125;</div><div class="line">  body &#123;</div><div class="line">    background: #3B9DFF;</div><div class="line">  &#125;</div><div class="line">  .menuCtrl &#123;</div><div class="line">    display: block;</div><div class="line">    position: relative;</div><div class="line">    border: 5px solid #fff;</div><div class="line">    border-radius: 50%;</div><div class="line">    width: 30px;</div><div class="line">    height: 40px;</div><div class="line">    padding: 20px 25px;</div><div class="line">    margin: 150px auto;</div><div class="line">    transition: all 0.25s ease-in-out;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  .menuCtrl .line &#123;</div><div class="line">    width: 35px;</div><div class="line">    height: 0;</div><div class="line">    border-bottom: 5px solid #fff;</div><div class="line">    position: relative;</div><div class="line">    margin-left: -2px;</div><div class="line">    transition: all 0.25s ease-in-out;</div><div class="line">  &#125;</div><div class="line">  .menuCtrl .line:nth-child(1) &#123;</div><div class="line">    top: 10px;</div><div class="line">  &#125;</div><div class="line">  .menuCtrl .line:nth-child(2) &#123;</div><div class="line">    top: 13px;</div><div class="line">  &#125;</div><div class="line">  .menuCtrl .line:nth-child(3) &#123;</div><div class="line">    top: 16px;</div><div class="line">  &#125;</div><div class="line">  .menuCtrl:hover &#123;</div><div class="line">    padding: 25px 30px;</div><div class="line">  &#125;</div><div class="line">  .menuCtrl:hover .line:nth-child(1) &#123;</div><div class="line">    width: 20px;</div><div class="line">    transform: rotateZ(-45deg) translateX(-3px) translateY(0px);</div><div class="line">  &#125;</div><div class="line">  .menuCtrl:hover .line:nth-child(2) &#123;</div><div class="line">    width: 40px;</div><div class="line"></div><div class="line">  &#125;</div><div class="line">  .menuCtrl:hover .line:nth-child(3) &#123;</div><div class="line">    width: 20px;</div><div class="line">    transform: rotateZ(45deg) translateX(-3px) translateY(0px);</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span> <span class="attr">class</span>=<span class="string">"menuCtrl"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"line"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      css3å¯¼èˆªæŒ‰é’®å›¾æ ‡æ ·å¼åˆ‡æ¢æ•ˆæœ
    
    </summary>
    
    
      <category term="CSS3" scheme="http://imys.net/tags/CSS3/"/>
    
  </entry>
  
  <entry>
    <title>ä¸é“¾æ¥é¡µé¢åœ¨æ–°çª—å£æˆ–æ ‡ç­¾é¡µè¿è¡Œä»£ç </title>
    <link href="http://imys.net/20150415/online-run-code.html"/>
    <id>http://imys.net/20150415/online-run-code.html</id>
    <published>2015-04-15T01:58:21.000Z</published>
    <updated>2016-11-12T19:24:50.930Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åœ¨ä¸€äº›ITåšå®¢æˆ–è€…è®ºå›éƒ½æœ‰åœ¨æ–°çª—å£æˆ–æ ‡ç­¾é¡µç›´æ¥è¿è¡Œå½“å‰é¡µé¢å†…ä»£ç çš„åŠŸèƒ½ï¼Œä½†å´ä¸æ˜¯åƒä¸€äº›èµ„æºç½‘ç«™é‡Œçš„ç›´æ¥é¢„è§ˆèµ„æºé¡µé¢ã€‚è¿™æ ·åŠ¨æ€çš„è¿è¡Œä»£ç ï¼Œæ— ç–‘æ˜¯èŠ‚çœäº†å¾ˆå¤§æœåŠ¡å™¨ç©ºé—´ã€‚</p></blockquote><p>å‰ç«¯ç½‘ï¼ˆW3Cfunsï¼‰å°±æœ‰è¿™æ ·çš„åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥è¿è¡Œåšä¸»ç¬”è®°å†…çš„ä»£ç ï¼Œé—®ç­”è®ºå›ä¹Ÿä¸€æ ·ã€‚</p><p>æŸ¥çœ‹äº†ä¸€ä¸‹ä»£ç å®ç°ï¼ŒåŸæ¥æ˜¯<a href="http://www.w3school.com.cn/jsref/met_win_open.asp" target="_blank" rel="external">window.open()</a>æ–¹æ³•ã€‚<br><a id="more"></a></p><h3 id="è¯­æ³•é‡æ¸©"><a href="#è¯­æ³•é‡æ¸©" class="headerlink" title="è¯­æ³•é‡æ¸©"></a>è¯­æ³•é‡æ¸©</h3><p><code>window.open(URL,name,features,replace)</code></p><ul><li><code>URL</code> ä¸€ä¸ªå¯é€‰çš„å­—ç¬¦ä¸²ï¼Œå£°æ˜äº†è¦åœ¨æ–°çª—å£ä¸­æ˜¾ç¤ºçš„æ–‡æ¡£çš„ URLã€‚å¦‚æœçœç•¥äº†è¿™ä¸ªå‚æ•°ï¼Œæˆ–è€…å®ƒçš„å€¼æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæ–°çª—å£å°±ä¸ä¼šæ˜¾ç¤ºä»»ä½•æ–‡æ¡£ã€‚</li><li><code>name</code> ä¸€ä¸ªå¯é€‰çš„å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªç”±é€—å·åˆ†éš”çš„ç‰¹å¾åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…æ‹¬æ•°å­—ã€å­—æ¯å’Œä¸‹åˆ’çº¿ï¼Œè¯¥å­—ç¬¦å£°æ˜äº†æ–°çª—å£çš„åç§°ã€‚è¿™ä¸ªåç§°å¯ä»¥ç”¨ä½œæ ‡è®° <code>&lt;a&gt;</code> å’Œ <code>&lt;form&gt;</code> çš„å±æ€§ <code>target</code> çš„å€¼ã€‚å¦‚æœè¯¥å‚æ•°æŒ‡å®šäº†ä¸€ä¸ªå·²ç»å­˜åœ¨çš„çª—å£ï¼Œé‚£ä¹ˆ <code>open()</code> æ–¹æ³•å°±ä¸å†åˆ›å»ºä¸€ä¸ªæ–°çª—å£ï¼Œè€Œåªæ˜¯è¿”å›å¯¹æŒ‡å®šçª—å£çš„å¼•ç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>features</code> å°†è¢«å¿½ç•¥ã€‚</li><li><code>features</code> ä¸€ä¸ªå¯é€‰çš„å­—ç¬¦ä¸²ï¼Œå£°æ˜äº†æ–°çª—å£è¦æ˜¾ç¤ºçš„æ ‡å‡†æµè§ˆå™¨çš„ç‰¹å¾ã€‚å¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œæ–°çª—å£å°†å…·æœ‰æ‰€æœ‰æ ‡å‡†ç‰¹å¾ã€‚åœ¨çª—å£ç‰¹å¾è¿™ä¸ªè¡¨æ ¼ä¸­ï¼Œæˆ‘ä»¬å¯¹è¯¥å­—ç¬¦ä¸²çš„æ ¼å¼è¿›è¡Œäº†è¯¦ç»†çš„è¯´æ˜ã€‚</li><li><code>replace</code> ä¸€ä¸ªå¯é€‰çš„å¸ƒå°”å€¼ã€‚è§„å®šäº†è£…è½½åˆ°çª—å£çš„ URL æ˜¯åœ¨çª—å£çš„æµè§ˆå†å²ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ¡ç›®ï¼Œè¿˜æ˜¯æ›¿æ¢æµè§ˆå†å²ä¸­çš„å½“å‰æ¡ç›®ã€‚æ”¯æŒä¸‹é¢çš„å€¼ï¼štrue - URL æ›¿æ¢æµè§ˆå†å²ä¸­çš„å½“å‰æ¡ç›®ã€‚false - URL åœ¨æµè§ˆå†å²ä¸­åˆ›å»ºæ–°çš„æ¡ç›®ã€‚</li></ul><p>å‚æ•°1<code>URL</code>çœç•¥ä¼šæ‰“å¼€ä¸€ä¸ªç©ºç™½é¡µï¼Œä¹Ÿå°±æ˜¯<code>about:blank</code>é¡µã€‚ä¸è¿‡<code>window.open()</code>æ–¹æ³•å±…ç„¶æ˜¯æœ‰è¿”å›å€¼çš„ï¼Œå¯ä»¥è¿”å›æ–°é¡µé¢çš„<code>window</code>å¯¹è±¡ã€‚</p><p>å¦‚æ­¤çš„è¯ï¼Œæˆ‘ä»¬å°±èƒ½è®¿é—®æ–°é¡µé¢çš„<code>DOM</code>ï¼Œè‡ªç„¶å°±å¯ä»¥å†™å…¥ä»£ç äº†ã€‚</p><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>æ–°çª—å£æˆ–æ ‡ç­¾é¡µè¿è¡Œä»£ç <span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">style</span>=<span class="string">"width:600px;height:150px;"</span> <span class="attr">id</span>=<span class="string">"code"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript"></span></div><div class="line">        <span class="built_in">document</span>.write(<span class="string">"&lt;h1&gt;æˆ‘æ˜¯è¿è¡Œåœ¨æ–°çª—å£æˆ–æ ‡ç­¾é¡µçš„ä»£ç ã€‚&lt;/h1&gt;"</span>);</div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"runCode()"</span>&gt;</span>è¿è¡Œä»£ç <span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">runCode</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> example = <span class="built_in">window</span>.open(<span class="string">''</span>,<span class="string">''</span>,<span class="string">''</span>);</div><div class="line">        <span class="keyword">var</span> code = <span class="built_in">document</span>.getElementById(<span class="string">'code'</span>).value;</div><div class="line">        example.document.write(code)</div><div class="line">        example.focus();</div><div class="line">    &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      ä¸é“¾æ¥é¡µé¢åœ¨æ–°çª—å£æˆ–æ ‡ç­¾é¡µè¿è¡Œä»£ç 
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://imys.net/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>jsæ–‡æœ¬å¤åˆ¶å…¨å…¼å®¹å®ä¾‹</title>
    <link href="http://imys.net/20150414/js-copytext.html"/>
    <id>http://imys.net/20150414/js-copytext.html</id>
    <published>2015-04-14T06:00:45.000Z</published>
    <updated>2016-11-12T19:20:58.698Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å¯¹äºæ–‡æœ¬å¤åˆ¶æœ¬æ¥å°±æ˜¯<code>å³é”®-&gt;å¤åˆ¶</code>ï¼Œæˆ–è€…<code>Ctrl+C</code>ï¼Œå¾ˆç®€å•çš„äº‹æƒ…ã€‚ä¸è¿‡ä¸ºäº†æå‡ç”¨æˆ·ä½“éªŒï¼Œå°±è®©æˆ‘ä»¬æ‰¾ä¸€ä¸ªå…¼å®¹æ€§å¼ºçš„ä¸‡å…¨ä¹‹ç­–å§ã€‚</p></blockquote><p>çº¯JSå®ç°çš„æ–¹å¼ä¸èƒ½å…¼å®¹åˆ°ç°ä»£æµè§ˆå™¨ï¼Œçœ‹äº†Discuzå’Œbootstrapä¸Šä»£ç å¤åˆ¶çš„å®ç°ï¼Œå‘ç°éƒ½æ˜¯å€Ÿç”¨Flashæ¥å®ç°çš„ã€‚<br><a id="more"></a></p><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>Flashå¯ä»¥æ“ä½œå‰ªè´´æ¿ï¼Œç”¨ä¸€ä¸ªé€æ˜çš„Flashè¦†ç›–åˆ°ä¸€ä¸ªDOMå…ƒç´ ä¸Šã€‚ç‚¹å‡»DOMå®é™…æ˜¯ç‚¹å‡»äº†Flashï¼Œä»è€Œæ“ä½œå‰ªè´´æ¿ã€‚</p><p>éœ€è¦ç”¨åˆ°ä¸€ä¸ªJavaScriptåº“ï¼šZero Clipboardï¼Œå’Œä¸€ä¸ªFlashæ–‡ä»¶ã€‚<br>å¦å¤–è¦æ³¨æ„ï¼š<em>é¡µé¢å¿…é¡»åœ¨æ”¾åˆ°æœåŠ¡å™¨ä¸Šï¼Œæœ¬åœ°æ²¡æœ‰Flashæƒé™ã€‚</em></p><h3 id="ä»£ç å®ä¾‹"><a href="#ä»£ç å®ä¾‹" class="headerlink" title="ä»£ç å®ä¾‹"></a>ä»£ç å®ä¾‹</h3><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>JSæ–‡æœ¬å¤åˆ¶<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="css"></span></div><div class="line">    <span class="selector-class">.box</span> &#123;</div><div class="line">        <span class="attribute">width</span>: <span class="number">610px</span>;</div><div class="line">        <span class="attribute">margin</span>: <span class="number">50px</span> auto;</div><div class="line">        <span class="attribute">position</span>: relative;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-tag">textarea</span> &#123;</div><div class="line">        <span class="attribute">width</span>: <span class="number">600px</span>;</div><div class="line">        <span class="attribute">height</span>: <span class="number">150px</span>;</div><div class="line">        <span class="attribute">padding</span>: <span class="number">5px</span>;</div><div class="line">        <span class="attribute">resize</span>: none;</div><div class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</div><div class="line">        <span class="attribute">outline</span>: none;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-id">#copy-btn</span> &#123;</div><div class="line">        <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">8px</span>;</div><div class="line">        <span class="attribute">background</span>: <span class="number">#F7F7F9</span>;</div><div class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</div><div class="line">        <span class="attribute">border-radius</span>: <span class="number">4px</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>;</div><div class="line">        <span class="attribute">position</span>: absolute;</div><div class="line">        <span class="attribute">right</span>: -<span class="number">2px</span>;</div><div class="line">        <span class="attribute">margin-top</span>: -<span class="number">30px</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-id">#clip-btn</span> &#123;</div><div class="line">      <span class="attribute">width</span>: <span class="number">80px</span>;</div><div class="line">      <span class="attribute">height</span>: <span class="number">40px</span>;</div><div class="line">    &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>JSæ–‡æœ¬å¤åˆ¶å®ä¾‹<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">placeholder</span>=<span class="string">"å¤åˆ¶çš„å†…å®¹åŒº"</span> <span class="attr">id</span>=<span class="string">"content"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"copy-btn"</span>&gt;</span>ç‚¹å‡»å¤åˆ¶<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"clip-btn"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"ZeroClipboard.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">  <span class="keyword">var</span> clip = <span class="literal">null</span>;</div><div class="line">  <span class="comment">// è®¾ç½®Flashæ–‡ä»¶è·¯å¾„</span></div><div class="line">  ZeroClipboard.setMoviePath(<span class="string">"ZeroClipboard.swf"</span>);</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">copyCode</span>(<span class="params">text</span>) </span>&#123;</div><div class="line">    clip = <span class="keyword">new</span> ZeroClipboard.Client();</div><div class="line">    <span class="comment">// è®¾ç½®é¼ æ ‡æ‚¬æµ®æ ·å¼ </span></div><div class="line">    clip.setHandCursor(<span class="literal">true</span>); </div><div class="line">    <span class="comment">// ç‚¹å‡»å¤åˆ¶</span></div><div class="line">    clip.addEventListener(<span class="string">'mouseOver'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      clip.setText(text);</div><div class="line">    &#125;);</div><div class="line">    <span class="comment">// å¤åˆ¶å®Œæˆå›è°ƒ</span></div><div class="line">    clip.addEventListener( <span class="string">"complete"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; </div><div class="line">      alert(<span class="string">"å¤åˆ¶æˆåŠŸï¼"</span>); </div><div class="line">      clip.destroy(); <span class="comment">//é‡Šæ”¾</span></div><div class="line">    &#125;); </div><div class="line">    <span class="comment">// FlashåŠ è½½çš„ç›®æ ‡å®¹å™¨</span></div><div class="line">    clip.glue(<span class="string">'clip-btn'</span>);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">/* jså®ç° */</span></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">$</span>(<span class="params">id</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">document</span>.getElementById(id);</div><div class="line">  &#125;</div><div class="line">  $(<span class="string">'copy-btn'</span>).onmouseover = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> clipBtn = $(<span class="string">'clip-btn'</span>);</div><div class="line">    clipBtn.style.position = <span class="string">'absolute'</span>;</div><div class="line">    clipBtn.style.left = (e.clientX <span class="number">-55</span> )+<span class="string">'px'</span>;</div><div class="line">    clipBtn.style.top = (e.clientY - <span class="number">35</span>)+<span class="string">'px'</span>;</div><div class="line">    copyCode($(<span class="string">'content'</span>).value);</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  <span class="comment">/*jQueryå®ç°*/</span></div><div class="line">  <span class="comment">// $('#copy-btn').mouseover(function() &#123;</span></div><div class="line">  <span class="comment">//   var t = $(this);</span></div><div class="line">  <span class="comment">//   var cobyText = t.prev().val();</span></div><div class="line">  <span class="comment">//   $('#clip-btn').css(&#123;</span></div><div class="line">  <span class="comment">//     position: 'absolute',</span></div><div class="line">  <span class="comment">//     left: t.offset().left,</span></div><div class="line">  <span class="comment">//     top: t.offset().top,</span></div><div class="line">  <span class="comment">//     zIndex: 999</span></div><div class="line">  <span class="comment">//   &#125;).mouseleave(function() &#123;</span></div><div class="line">  <span class="comment">//     clip.destroy();</span></div><div class="line">  <span class="comment">//   &#125;);</span></div><div class="line">  <span class="comment">//   copyCode(cobyText);</span></div><div class="line">  <span class="comment">// &#125;);</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure><hr><ol><li>å‚è€ƒæ–‡ç« ï¼š<a href="http://www.jb51.net/article/58413.htm" target="_blank" rel="external">å…¼å®¹ä¸»æµæµè§ˆå™¨çš„JSå¤åˆ¶å†…å®¹åˆ°å‰ªè´´æ¿</a>&#160;<a href="#fnref-170:footnote">&#8617;</a></li></ol>]]></content>
    
    <summary type="html">
    
      jsæ–‡æœ¬å¤åˆ¶å…¨å…¼å®¹å®ä¾‹
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://imys.net/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>CSSå·§ç”¨borderç”»å°å›¾å½¢</title>
    <link href="http://imys.net/20150409/css-borde-shape.html"/>
    <id>http://imys.net/20150409/css-borde-shape.html</id>
    <published>2015-04-09T13:26:50.000Z</published>
    <updated>2016-11-12T19:11:34.203Z</updated>
    
    <content type="html"><![CDATA[<figure class="image-bubble"><div class="img-lightbox"><div class="overlay"></div><img src="http://7ximpj.com1.z0.glb.clouddn.com/css-borde-shape.jpg" alt="CSSå·§ç”¨borderç”»å°å›¾å½¢"></div><div class="image-caption">CSSå·§ç”¨borderç”»å°å›¾å½¢</div></figure><p>cssç”»ä¸‰è§’å½¢æ ·å¼ç›¸ä¿¡å¾ˆå¤šäººéƒ½ç”¨è¿‡ï¼Œæ¯”å¦‚ border-bottomè®¾ç½®å®½åº¦ã€é¢œè‰²ã€å®çº¿ï¼Œå…¶ä»–æ–¹å‘è®¾ç½®å®½åº¦å’Œé€æ˜è‰²å°±å‡ºç°ä¸€ä¸ªæœä¸Šçš„æ­£ä¸‰è§’å½¢ã€‚</p><p>ä»Šå¤©åœ¨çœ‹äº† <strong>zyp199737</strong> çš„ç¬”è®°<a href="http://www.w3cfuns.com/blog-5460967-5404928.html" target="_blank" rel="external">css3å·§ç”¨borderåšç¿»é¡µæ•ˆæœ</a>ä¸­ä¸€å¼ å›¾ï¼Œçªç„¶æƒ³åˆ°è®¾ç½®2ä¸ªæ–¹å‘æ˜¯ä»€ä¹ˆæ ·å¼ï¼Ÿæ˜¯ä¸æ˜¯å°±æ˜¯ç›´è§’ä¸‰è§’å½¢å‘¢ï¼Ÿ</p><p>åšäº†ä¸‹å®éªŒï¼Œå‘ç°ä¸æ­¢å¯ä»¥ç”»å‡ºç›´è§’ä¸‰è§’å½¢ï¼Œè€Œä¸”è¿˜æœ‰ä¹¦ç­¾çš„æ ·å¼ã€‚<br><a id="more"></a></p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>triangle<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></div><div class="line">    .shape &#123;</div><div class="line">        float: left;</div><div class="line">        margin-left: 50px;</div><div class="line">        width:0;</div><div class="line">        height:0;</div><div class="line">        border-width: 30px;</div><div class="line">        border-style: dashed dashed dashed dashed ;</div><div class="line">        border-color: transparent transparent transparent transparent ;</div><div class="line">    &#125;</div><div class="line">    /*ä¸‰è§’å½¢*/</div><div class="line">    .triangle &#123;</div><div class="line">        border-bottom: 30px solid #e66161;</div><div class="line">    &#125;</div><div class="line">    /*æ ‡ç­¾*/</div><div class="line">    .mark &#123;</div><div class="line">        border-left: 30px solid #e66161;</div><div class="line">        border-top: 30px solid #e66161;</div><div class="line">        border-right: 30px solid #e66161;</div><div class="line">    &#125;</div><div class="line">    /*ç›´è§’ä¸‰è§’å½¢*/</div><div class="line">    .right-triangle &#123;</div><div class="line">        border-left: 30px solid #e66161;</div><div class="line">        border-bottom: 30px solid #e66161;</div><div class="line">    &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"shape triangle"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"shape mark"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"shape right-triangle"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      CSSå·§ç”¨borderç”»å°å›¾å½¢
    
    </summary>
    
    
      <category term="CSS" scheme="http://imys.net/tags/CSS/"/>
    
      <category term="border" scheme="http://imys.net/tags/border/"/>
    
  </entry>
  
  <entry>
    <title>jQueryå®ç°é€šç”¨çš„å•é¡µé¢é”šç‚¹å¹³æ»‘æ»šåŠ¨</title>
    <link href="http://imys.net/20150407/jquery-anchor-scroll.html"/>
    <id>http://imys.net/20150407/jquery-anchor-scroll.html</id>
    <published>2015-04-07T05:45:03.000Z</published>
    <updated>2016-11-12T19:19:36.378Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å¾ˆå¤šå•†å“å±•ç¤ºé¡µï¼Œä¸“é¢˜é¡µç­‰éƒ½ä¼šç”¨åˆ°ã€‚<br><a id="more"></a></p></blockquote><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>é”šé“¾æ¥å¹³æ»‘æ»šåŠ¨<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"description"</span> <span class="attr">content</span>=<span class="string">""</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"keywords"</span> <span class="attr">content</span>=<span class="string">""</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="css"></span></div><div class="line">    * &#123;</div><div class="line">        <span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line">        <span class="attribute">padding</span>: <span class="number">0</span></div><div class="line">    &#125;</div><div class="line">    <span class="selector-tag">html</span>,<span class="selector-tag">body</span> &#123;</div><div class="line">        <span class="attribute">height</span>: <span class="number">100%</span>;</div><div class="line">        <span class="attribute">min-height</span>: <span class="number">100%</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.top</span> &#123;</div><div class="line">        <span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">        <span class="attribute">height</span>: <span class="number">40px</span>;</div><div class="line">        <span class="attribute">line-height</span>: <span class="number">40px</span>;</div><div class="line">        <span class="attribute">background</span>: <span class="built_in">rgba</span>(0, 0, 0, .6);</div><div class="line">        <span class="attribute">position</span>: fixed;</div><div class="line">        <span class="attribute">z-index</span>: <span class="number">9</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-tag">a</span> &#123;</div><div class="line">        <span class="attribute">color</span>: <span class="number">#fff</span>;</div><div class="line">        <span class="attribute">text-align</span>: center;</div><div class="line">        <span class="attribute">text-decoration</span>: none;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.top</span> <span class="selector-tag">a</span> &#123;</div><div class="line">        <span class="attribute">display</span>: inline-block;</div><div class="line">        <span class="attribute">width</span>: <span class="number">20%</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.top</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</div><div class="line">        <span class="attribute">background</span>: <span class="built_in">rgba</span>(0, 0, 0, .4);</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.page</span> &#123;</div><div class="line">        <span class="attribute">width</span>: <span class="number">100%</span>;</div><div class="line">        <span class="attribute">height</span>: <span class="number">100%</span>;</div><div class="line">        <span class="attribute">min-height</span>: <span class="number">100%</span>;</div><div class="line">        <span class="attribute">background</span>: <span class="number">#3C98FF</span>;</div><div class="line">        <span class="attribute">text-align</span>: center;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-tag">h1</span> &#123;</div><div class="line">        <span class="attribute">color</span>: <span class="number">#fff</span>;</div><div class="line">        <span class="attribute">padding-top</span>: <span class="number">20%</span>;</div><div class="line">    &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"top"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#div-1"</span>&gt;</span>div-1<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#div-2"</span>&gt;</span>div-2<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#div-3"</span>&gt;</span>div-3<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#div-4"</span>&gt;</span>div-4<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div-1"</span> <span class="attr">class</span>=<span class="string">"page"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ç¬¬ä¸€é¡µ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div-2"</span> <span class="attr">class</span>=<span class="string">"page"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ç¬¬äºŒé¡µ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div-3"</span> <span class="attr">class</span>=<span class="string">"page"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ç¬¬ä¸‰é¡µ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"div-4"</span> <span class="attr">class</span>=<span class="string">"page"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>ç¬¬å››é¡µ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://libs.baidu.com/jquery/2.0.0/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    $(<span class="string">'a[href*=#]'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</div><div class="line">        <span class="comment">// æ­¤å¤„æ­£åˆ™ç”¨äºè½¬æ¢å¸¦é¡µé¢URLçš„é”šç‚¹ï¼Œå¦‚ http://abc.html#div,å…·ä½“æ­£åˆ™æ ¼å¼æ®å®é™…æƒ…å†µè€Œå®š</span></div><div class="line">        <span class="keyword">var</span> targetId = $(<span class="keyword">this</span>).attr(<span class="string">'href'</span>).replace(<span class="regexp">/\w+.html/</span>,<span class="string">''</span>);</div><div class="line">        $(<span class="string">"html,body"</span>).animate(&#123;<span class="attr">scrollTop</span>: $(targetId).offset().top&#125;, <span class="number">1000</span>);</div><div class="line">    &#125;);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      jQueryå®ç°é€šç”¨çš„å•é¡µé¢é”šç‚¹å¹³æ»‘æ»šåŠ¨
    
    </summary>
    
    
      <category term="jQuery" scheme="http://imys.net/tags/jQuery/"/>
    
  </entry>
  
</feed>
