[{"title":"WebpackæŒ‰éœ€æ‰“åŒ…Lodashçš„å‡ ç§æ–¹å¼","date":"2016-12-16T17:41:21.000Z","path":"20161217/webpack-use-lodash.html","text":"åœ¨æ•°æ®æ“ä½œæ—¶ï¼ŒLodash å°±æ˜¯æˆ‘çš„å¼¹è¯åº“ï¼Œä¸ç®¡é‡åˆ°å¤šå¤æ‚çš„æ•°æ®ç»“æ„éƒ½èƒ½ç”¨ä¸€äº›å‡½æ•°è½»æ¾æ‹†è§£ã€‚ES6 ä¸­ä¹Ÿæ–°å¢äº†è¯¸å¤šæ–°çš„å¯¹è±¡å‡½æ•°ï¼Œä¸€äº›ç®€å•çš„é¡¹ç›®ä¸­ ES6 å°±è¶³å¤Ÿä½¿ç”¨äº†ï¼Œä½†è¿˜æ˜¯ä¼šæœ‰ä¾‹å¤–çš„æƒ…å†µå¼•ç”¨äº†å°‘æ•°çš„ Lodash å‡½æ•°ã€‚ä¸€ä¸ªå®Œæ•´çš„ Lodash åº“ï¼Œå³ä½¿æ˜¯å‹ç¼©åï¼Œç°æœ€æ–°ç‰ˆæœ¬ä¹Ÿæœ‰ 71k çš„ä½“ç§¯ã€‚ä¸èƒ½ä¸ºäº†åƒä¸€å£é¥­è€Œä¹°ä¸‹ä¸€ä¸ªé¥­åº—å•Šã€‚é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œå…¶å®å·²ç»æœ‰å¾ˆå¤šå¯é€‰æ–¹æ¡ˆäº†ã€‚å‡½æ•°æ¨¡å—Lodash ä¸­çš„æ¯ä¸ªå‡½æ•°åœ¨ NPM éƒ½æœ‰ä¸€ä¸ªå•ç‹¬çš„å‘å¸ƒæ¨¡å—ã€‚NPM: results for â€˜lodashâ€™å‡å¦‚ä½ åªéœ€è¦ä½¿ç”¨_.isEqualï¼Œé‚£ä¹ˆä½ åªéœ€è¦å®‰è£…lodash.isequalæ¨¡å—ï¼Œç„¶åæŒ‰ä»¥ä¸‹æ–¹å¼å¼•ç”¨ã€‚var isEqual = require('lodash.isequal')// or ES6import isEqual from 'lodash.isequal'isEqual([1, 2, 3], [1, 2, 3]) // trueå…¨è·¯å¾„å¼•ç”¨åœ¨ä½ å®Œæ•´å®‰è£… Lodash åï¼Œå¯ä»¥æŒ‰lodash/å‡½æ•°åçš„æ ¼å¼å•ç‹¬å¼•å…¥éœ€è¦çš„å‡½æ•°æ¨¡å—ã€‚var difference = require('lodash/difference')// or ES6import difference from 'lodash/difference'difference([1, 2], [1, 3]) // [2]ä½¿ç”¨æ’ä»¶ä¼˜åŒ–åœ¨ç®€å•åœºæ™¯ä¸‹ï¼Œä»¥ä¸Šä¸¤ç§æ–¹å¼è¶³ä»¥è§£å†³é—®é¢˜ã€‚è€Œé‡åˆ°å¤æ‚çš„æ•°æ®å¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬ä¸å¾—ä¸åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å¼•å…¥å¤šä¸ª Lodash å‡½æ•°ï¼Œè¿™æ ·å°±éœ€è¦åœ¨æ–‡ä»¶ä¸­å†™å¤šä¸ªrequireæˆ–importç›¸å…³å‡½æ•°ã€‚import remove from 'lodash/remove'import uniq from 'lodash/uniq'import invokeMap from 'lodash/invokeMap'import sortBy from 'lodash/sortBy'// more...æ­£å†™åˆ°å…³é”®å¤„å´å› ä¸ºå¼•å…¥ä¸€ä¸ªå‡½æ•°è¦æ‹‰åˆ°æ–‡ä»¶å¤´éƒ¨å»å®šä¹‰å¼•ç”¨è€Œæ‰“ä¹±äº†æ€è·¯ï¼Œå¾ˆä¸çˆ½ï¼äºæ˜¯æˆ‘æœºæ™ºçš„åˆ° Github å»æœç´¢äº†webpackå’Œlodashä¸¤ä¸ªå…³é”®è¯çš„ç»„åˆï¼Œæ’åœ¨é¦–ä½çš„ lodash-webpack-plugin æ­£æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æ’ä»¶ã€‚ä½¿ç”¨æ—¶éœ€è¦ä»¥ä¸‹æ¨¡å—ï¼Œå…¶å®é™¤äº†å‰ä¸¤ä¸ªå‰©ä¸‹çš„ä¸€èˆ¬éƒ½å·²å®‰è£…äº†ï¼š$ npm i -S lodash-webpack-plugin babel-plugin-lodash babel-core babel-loader babel-preset-es2015 webpacké…ç½®ï¼šwebpack.config.jsvar LodashModuleReplacementPlugin = require('lodash-webpack-plugin');var webpack = require('webpack');module.exports = &#123; module: &#123; loaders: [&#123; loader: 'babel', test: /\\.js$/, exclude: /node_modules/, query: &#123; plugins: ['transform-runtime', 'lodash'], presets: ['es2015'] &#125; &#125;] &#125;, plugins: [ new LodashModuleReplacementPlugin, new webpack.optimize.OccurrenceOrderPlugin, new webpack.optimize.UglifyJsPlugin ]&#125;å…¶ä¸­babel-plugin-lodashçš„é…ç½®ï¼Œä¹Ÿå°±æ˜¯plugins: [&#39;lodash&#39;]ï¼Œå¹¶ä¸æ˜¯ä¸€å®šè¦åœ¨loadersä¸­ï¼Œä¹Ÿå¯ä»¥å•ç‹¬å®šä¹‰babelã€‚webpack.config.jsvar LodashModuleReplacementPlugin = require('lodash-webpack-plugin');var webpack = require('webpack');module.exports = &#123; module: &#123; loaders: [&#123; loader: 'babel', test: /\\.js$/, exclude: /node_modules/ &#125;] &#125;, babel: &#123; presets: ['es2015'], plugins: ['transform-runtime', 'lodash'] &#125;, plugins: [ new LodashModuleReplacementPlugin, new webpack.optimize.OccurrenceOrderPlugin, new webpack.optimize.UglifyJsPlugin ]&#125;åˆæˆ–è€…æ˜¯.babelrcæ–‡ä»¶ä¸­ã€‚ä»¥ä¸Šå·¥ä½œå®Œæˆäº†ï¼Œåœ¨æ¯ä¸ªä½ éœ€è¦ä½¿ç”¨ lodash å‡½æ•°çš„æ–‡ä»¶ä¸­åªéœ€è¦å¼•ç”¨ä¸€æ¬¡ lodashï¼Œå³å¯è°ƒç”¨ä»»æ„å‡½æ•°è€Œä¸ä¼šé€ æˆå®Œå…¨æ‰“åŒ…ã€‚import _ from 'lodash'_.add(1, 2) // æ‰“åŒ…æ—¶åªä¼šå¼•å…¥è¿™ä¸€ä¸ªå‡½æ•°æ¨¡å—Endä»¥ä¸Šå³æ˜¯æˆ‘ç›®å‰æ‰€çŸ¥é“çš„å‡ ç§æ–¹å¼ï¼Œå¦‚æœå“ªä½æœ‹å‹æœ‰æ›´å¥½çš„æ–¹å¼ï¼ˆæ¯”å¦‚åªéœ€è¦å…¨å±€å¼•å…¥ä¸€æ¬¡ï¼‰ï¼Œè¯·ä¸€å®šåˆ†äº«ä¸æˆ‘ï¼ğŸ˜‹","tags":[{"name":"Webpack","slug":"Webpack","permalink":"http://imys.net/tags/Webpack/"},{"name":"Lodash","slug":"Lodash","permalink":"http://imys.net/tags/Lodash/"}]},{"title":"æ­£ç¡®ä½¿ç”¨VueæŒ‡ä»¤çš„é’©å­å‡½æ•°","date":"2016-12-16T14:45:54.000Z","path":"20161216/vue-custom-directive-hook.html","text":"åœ¨ Vue ä¸­å¯ä»¥æŠŠä¸€ç³»åˆ—å¤æ‚çš„æ“ä½œåŒ…è£…ä¸ºä¸€ä¸ªæŒ‡ä»¤ã€‚ä»€ä¹ˆæ˜¯å¤æ‚çš„æ“ä½œï¼Ÿæˆ‘çš„ç†è§£æ˜¯ï¼šå¤æ‚é€»è¾‘åŠŸèƒ½çš„åŒ…è£…ã€è¿èƒŒæ•°æ®é©±åŠ¨çš„ DOM æ“ä½œä»¥åŠå¯¹ä¸€äº› Hack æ‰‹æ®µçš„æ©ç›–ç­‰ã€‚æˆ‘ä»¬æ€»æ˜¯æœŸæœ›ä»¥æ“ä½œæ•°æ®çš„å½¢å¼æ¥å®ç°åŠŸèƒ½é€»è¾‘ã€‚é’©å­å‡½æ•°å¯¹äºè‡ªå®šä¹‰æŒ‡ä»¤çš„å®šä¹‰ï¼ŒVue2 æœ‰ 5 ä¸ªå¯é€‰çš„é’©å­å‡½æ•°ã€‚bind: åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ç¬¬ä¸€æ¬¡ç»‘å®šåˆ°å…ƒç´ æ—¶è°ƒç”¨ï¼Œç”¨è¿™ä¸ªé’©å­å‡½æ•°å¯ä»¥å®šä¹‰ä¸€ä¸ªåœ¨ç»‘å®šæ—¶æ‰§è¡Œä¸€æ¬¡çš„åˆå§‹åŒ–åŠ¨ä½œã€‚inserted: è¢«ç»‘å®šå…ƒç´ æ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ï¼ˆçˆ¶èŠ‚ç‚¹å­˜åœ¨å³å¯è°ƒç”¨ï¼Œä¸å¿…å­˜åœ¨äº document ä¸­ï¼‰ã€‚update: è¢«ç»‘å®šå…ƒç´ æ‰€åœ¨çš„æ¨¡æ¿æ›´æ–°æ—¶è°ƒç”¨ï¼Œè€Œä¸è®ºç»‘å®šå€¼æ˜¯å¦å˜åŒ–ã€‚componentUpdated: è¢«ç»‘å®šå…ƒç´ æ‰€åœ¨æ¨¡æ¿å®Œæˆä¸€æ¬¡æ›´æ–°å‘¨æœŸæ—¶è°ƒç”¨ã€‚unbind: åªè°ƒç”¨ä¸€æ¬¡ï¼ŒæŒ‡ä»¤ä¸å…ƒç´ è§£ç»‘æ—¶è°ƒç”¨ã€‚æ¥ä¸‹æ¥ï¼Œå®šä¹‰ä¸€ä¸ªç®€å•çš„æŒ‡ä»¤ä»¥éªŒè¯è¿™äº›é’©å­å‡½æ•°çš„è§¦å‘æ—¶æœºã€‚template&lt;div id=\"app\"&gt; &lt;my-comp v-if=\"msg\" :msg=\"msg\"&gt;&lt;/my-comp&gt; &lt;button @click=\"update\"&gt;æ›´æ–°&lt;/button&gt; &lt;button @click=\"uninstall\"&gt;å¸è½½&lt;/button&gt; &lt;button @click=\"install\"&gt;å®‰è£…&lt;/button&gt;&lt;/div&gt;scriptVue.directive('hello', &#123; bind: function (el) &#123; console.log('bind') &#125;, inserted: function (el) &#123; console.log('inserted') &#125;, update: function (el) &#123; console.log('update') &#125;, componentUpdated: function (el) &#123; console.log('componentUpdated') &#125;, unbind: function (el) &#123; console.log('unbind') &#125;&#125;)var myComp = &#123; template: '&lt;h1 v-hello&gt;&#123;&#123;msg&#125;&#125;&lt;/h1&gt;', props: &#123; msg: String &#125;&#125;new Vue(&#123; el: '#app', data: &#123; msg: 'Hello' &#125;, components: &#123; myComp: myComp &#125;, methods: &#123; update: function () &#123; this.msg = 'Hi' &#125;, uninstall: function () &#123; this.msg = '' &#125;, install: function () &#123; this.msg = 'Hello' &#125; &#125;&#125;)é¡µé¢åŠ è½½æ—¶bindinsertedç»„ä»¶æ›´æ–°æ—¶ç‚¹å‡»â€œæ›´æ–°â€æŒ‰é’®ï¼Œæ›´æ”¹æ•°æ®è§¦å‘ç»„ä»¶æ›´æ–°ã€‚updatecomponentUpdatedå¸è½½ç»„ä»¶æ—¶ç‚¹å‡»â€œå¸è½½â€æŒ‰é’®ï¼Œæ•°æ®ç½®ç©ºå¦å®šåˆ¤æ–­ä»¥è§¦å‘ç»„ä»¶å¸è½½ã€‚unbindé‡æ–°å®‰è£…ç»„ä»¶æ—¶ç‚¹å‡»â€œå®‰è£…â€æŒ‰é’®ï¼Œæ•°æ®èµ‹å€¼è‚¯å®šåˆ¤æ–­ä»¥è§¦å‘ç»„ä»¶é‡æ–°å®‰è£…ã€‚bindinsertedåŒºåˆ«ä»æ¡ˆä¾‹çš„è¿è¡Œä¸­ï¼Œå¯¹ 5 ä¸ªé’©å­å‡½æ•°çš„è§¦å‘æ—¶æœºæœ‰äº†åˆæ­¥çš„è®¤è¯†ã€‚å­˜ç–‘çš„ä¹Ÿå°±æ˜¯bindå’Œinsertedã€updateå’ŒcomponentUpdatedçš„åŒºåˆ«äº†ã€‚bind å’Œ insertedæ®æ–‡æ¡£æ‰€è¯´ï¼Œæ’å…¥çˆ¶èŠ‚ç‚¹æ—¶è°ƒç”¨ insertedï¼Œæ¥ä¸ªæµ‹è¯•ã€‚bind: function (el) &#123; console.log(el.parentNode) // null console.log('bind')&#125;,inserted: function (el) &#123; console.log(el.parentNode) // &lt;div id=\"app\"&gt;...&lt;/div&gt; console.log('inserted')&#125;åˆ†åˆ«åœ¨ä¸¤ä¸ªé’©å­å‡½æ•°ä¸­è¾“å‡ºçˆ¶èŠ‚ç‚¹ï¼šbind æ—¶çˆ¶èŠ‚ç‚¹ä¸º nullï¼Œinserted æ—¶çˆ¶èŠ‚ç‚¹å­˜åœ¨ã€‚update å’Œ componentUpdatedå…³äºè¿™ä¸¤ä¸ªçš„ä»‹ç»ï¼Œä»å­—çœ¼ä¸Šçœ‹æ„Ÿè§‰æ˜¯ç»„ä»¶æ›´æ–°å‘¨æœŸæœ‰å…³ï¼Œç»§ç»­éªŒè¯ã€‚update: function (el) &#123; console.log(el.innerHTML) // Hello console.log('update')&#125;,componentUpdated: function (el) &#123; console.log(el.innerHTML) // Hi console.log('componentUpdated')&#125;æ²¡æ¯›ç—…ï¼Œupdate å’Œ componentUpdated å°±æ˜¯ç»„ä»¶æ›´æ–°å‰å’Œæ›´æ–°åçš„åŒºåˆ«ã€‚ç»“è®ºæ–‡æ¡£è¯´çš„æ²¡é”™â€¦ğŸ˜’Demoæœ€ä½³å®è·µæ ¹æ®éœ€æ±‚çš„ä¸åŒï¼Œæˆ‘ä»¬è¦é€‰æ‹©æ°å½“çš„æ—¶æœºå»åˆå§‹åŒ–æŒ‡ä»¤ã€æ›´æ–°æŒ‡ä»¤è°ƒç”¨å‚æ•°ä»¥åŠé‡Šæ”¾æŒ‡ä»¤å­˜åœ¨æ—¶çš„å†…å­˜å ç”¨ç­‰ã€‚æ¯”è¾ƒå¸¸è§çš„åœºæ™¯æ˜¯ï¼šç”¨æŒ‡ä»¤åŒ…è£…ä¸€äº›æ— ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“ä»¥æ‰©å±•ç»„ä»¶åŠŸèƒ½ã€‚è€Œä¸€ä¸ªå¥å£®çš„åº“é€šå¸¸ä¼šåŒ…å«ï¼šåˆå§‹åŒ–å®ä¾‹ã€å‚æ•°æ›´æ–°å’Œé‡Šæ”¾å®ä¾‹èµ„æºå ç”¨ç­‰æ“ä½œã€‚Vue.directive('hello', &#123; bind: function (el, binding) &#123; // åœ¨ bind é’©å­ä¸­åˆå§‹åŒ–åº“å®ä¾‹ // å¦‚æœéœ€è¦ä½¿ç”¨çˆ¶èŠ‚ç‚¹ï¼Œä¹Ÿå¯ä»¥åœ¨ inserted é’©å­ä¸­æ‰§è¡Œ el.__library__ = new Library(el, binding.value) &#125;, update: function (el, binding) &#123; // æ¨¡ç‰ˆæ›´æ–°æ„å‘³ç€æŒ‡ä»¤çš„å‚æ•°å¯èƒ½è¢«æ”¹å˜ï¼Œè¿™é‡Œå¯ä»¥å¯¹åº“å®ä¾‹çš„å‚æ•°ä½œæ›´æ–° // é…Œæƒ…ä½¿ç”¨ update æˆ– componentUpdated é’©å­ el.__library__.setOptions(Object.assign(binding.oldValue, binding.value)) &#125;, unbind: function (el) &#123; // é‡Šæ”¾å®ä¾‹ el.__library__.destory() &#125;&#125;)","tags":[{"name":"Vue","slug":"Vue","permalink":"http://imys.net/tags/Vue/"},{"name":"VueDirective","slug":"VueDirective","permalink":"http://imys.net/tags/VueDirective/"}]},{"title":"è·å–éšè—å…ƒç´ çš„é«˜åº¦","date":"2016-12-08T02:15:25.000Z","path":"20161208/get-height-of-hidden-element.html","text":"å½“ä¸€ä¸ªå…ƒç´ çš„æ ·å¼è¢«è®¾ç½®äº†display: noneæ—¶ï¼Œå®ƒçš„é«˜åº¦ç›¸å…³å±æ€§å€¼ä¸º 0ã€‚è¿™æ˜¯å› ä¸ºä¿®æ”¹displayå±æ€§ä¼šè§¦å‘å…ƒç´ çš„é‡æ’å’Œé‡ç»˜ï¼Œè€Œå…ƒç´ é‡æ’æ—¶å°†ä¼šé‡æ–°è®¡ç®—å®ƒçš„ä¸€äº›å±æ€§å€¼ã€‚è¢«è®¾ç½®display: noneçš„å…ƒç´ ä¸å ç”¨æ–‡æ¡£ç©ºé—´ï¼Œè‡ªç„¶è®¡ç®—åˆ°çš„é«˜åº¦å€¼ä¸º 0ã€‚å…³äºé‡æ’å’Œé‡ç»˜ï¼šé‡ç»˜é‡æ’é‡æ¸²æŸ“ - Icaruséšè—å…ƒç´ çš„æ–¹å¼â€œéšè—â€å…ƒç´ çš„æ–¹å¼æœ‰å¤šç§ï¼Œé™¤äº†è®¾ç½®display: noneä»¥å¤–ï¼Œè¿˜æœ‰visibility: hiddenã€opacity: 0ã€height: 0; overflow: hiddenã€transform: scale(0)ç­‰ã€‚ä¸ºä»€ä¹ˆè¿™é‡Œæˆ‘æŠŠâ€œéšè—â€åŠ äº†å¼•å·ï¼Ÿå› ä¸ºä¸Šé¢æåˆ°çš„å„ç§æ–¹å¼ï¼Œæœ‰â€œçœŸå®éšè—â€å’Œâ€œè§†è§‰éšè—â€ä¹‹åˆ†ã€‚è¿™åº”è¯¥ä¸éš¾ç†è§£ï¼Œæ¯”å¦‚visibility: hiddenå’Œopacity: 0è™½ç„¶è§†è§‰ä¸Šçœ‹ä¸åˆ°ï¼Œå¯å…ƒç´ è¿˜æ˜¯åœ¨æ–‡æ¡£æµä¸­å ç”¨äº†ä½ç½®ã€‚è§†è§‰éšè—çš„å…ƒç´ å¯ä»¥ç›´æ¥è·å–åˆ°å…ƒç´ çš„é«˜åº¦ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è§£å†³çš„é—®é¢˜ä¸»è¦è¿˜æ˜¯è®¾ç½®display: noneçš„å…ƒç´ ã€‚å¤´è„‘é£æš´è§£å†³é—®é¢˜çš„å…³é”®åœ¨äºé€å½»çš„åˆ†æé—®é¢˜ã€‚å› ä¸ºæˆ‘ä»¬éšè—äº†å…ƒç´ ï¼Œæ‰€ä»¥è·å–ä¸åˆ°å…ƒç´ çš„é«˜åº¦ã€‚æˆ‘ä»¬æƒ³è¦è·å–â€œéšè—â€å…ƒç´ çš„é«˜åº¦åšä¸€äº›äº‹ã€‚æœ‰æ²¡æœ‰ä¸€ç§â€œéšè—â€å…ƒç´ çš„æ–¹å¼å…·æœ‰display: noneçš„ç‰¹å¾ï¼Œä¸”å¯ä»¥è·å–é«˜åº¦ã€‚OKã€‚æˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ç§å¯è¡Œæ€§æ¢ç´¢æ–¹æ¡ˆï¼Œæ¥ä¸‹æ¥åªè¦å»éªŒè¯å„ç§éšè—å…ƒç´ çš„æ–¹å¼åº”è¯¥å°±èƒ½è§£å†³é—®é¢˜äº†ã€‚scrollHeightè®¾ç½®overflow: hiddenå¯ä»¥æ ¹æ®å…ƒç´ é«˜åº¦è£å‰ªè§†åŒºï¼Œè®¾ç½®height: 0; overflow: hiddenè™½ç„¶æ–‡æ¡£æµä¸­å ç”¨äº†ä½ç½®ï¼Œç”±äºé«˜åº¦ä¸º 0ï¼Œæœ€ç»ˆè¡¨ç°ç‰¹å¾è¾¾åˆ°äº†æˆ‘ä»¬æœŸæœ›çš„display: noneã€‚æ­¤æ—¶è¯¥å…ƒç´ clientHeightã€offsetHeightä¸º 0ï¼Œä½†æ˜¯scrollHeightæ˜¯æœ‰å€¼çš„ã€‚scrollHeightæ˜¯ä¸€ä¸ªå…ƒç´ æ²¡æœ‰æ»šåŠ¨æ¡æ—¶çš„æ‰€æœ‰å†…å®¹é«˜åº¦å½“ä¸€ä¸ªå…ƒç´ æ²¡æœ‰æ»šåŠ¨æ¡æ—¶scrollHeight === offsetHeightå½“ä½ æœ‰â€œè·å–éšè—å…ƒç´ çš„é«˜åº¦â€è¿™ä¸ªéœ€æ±‚æ—¶ï¼ŒçœŸå®ç›®åœ°å…¶å®å°±æ˜¯è¦è·å–ä¸€ä¸ªå…ƒç´ æ²¡æœ‰æ»šåŠ¨æ¡æ—¶çš„æ‰€æœ‰å†…å®¹é«˜åº¦ã€‚å¦åˆ™å›ºå®šé«˜åº¦åŠ æ»šåŠ¨æ¡çš„æƒ…å†µä¸‹ï¼Œé«˜åº¦æ˜¯å·²çŸ¥çš„ï¼Œä¸ä¼šäº§ç”Ÿè¿™ä¸ªéœ€æ±‚ã€‚ä¹Ÿå°±æ˜¯è¯´scrollHeightå°±æ˜¯æˆ‘ä»¬æœ€åæƒ³è¦å¾—åˆ°çš„å€¼ã€‚caseæœ€åï¼Œå®¹æˆ‘ä¸€çŒœï¼Œå½“ä½ æœ‰è¿™ä¸ªéœ€æ±‚æ—¶ï¼Œä¹Ÿè®¸æ˜¯è¦å®ç°è¿™æ ·çš„æ•ˆæœå§ï¼šSlideDown","tags":[{"name":"scrollHeight","slug":"scrollHeight","permalink":"http://imys.net/tags/scrollHeight/"},{"name":"display","slug":"display","permalink":"http://imys.net/tags/display/"},{"name":"height","slug":"height","permalink":"http://imys.net/tags/height/"},{"name":"overflow","slug":"overflow","permalink":"http://imys.net/tags/overflow/"},{"name":"SlideDown","slug":"SlideDown","permalink":"http://imys.net/tags/SlideDown/"}]},{"title":"JavaScript è·å–è¾“å…¥æ—¶çš„å…‰æ ‡ä½ç½®åŠåœºæ™¯é—®é¢˜","date":"2016-11-25T02:02:01.000Z","path":"20161125/cursor-offset-at-input.html","text":"å‰è¨€åœ¨è¾“å…¥ç¼–è¾‘çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå¯èƒ½ä¼šéœ€è¦åœ¨å…‰æ ‡å½“å‰çš„ä½ç½®æˆ–é™„è¿‘æ˜¾ç¤ºæç¤ºé€‰é¡¹ã€‚æ¯”å¦‚ç¤¾äº¤è¯„è®ºä¸­çš„@useråŠŸèƒ½ï¼Œè¦ç¡®ä¿æç¤ºçš„ç”¨æˆ·åˆ—è¡¨æ€»æ˜¯å‡ºç°åœ¨@å­—ç¬¦å³ä¸‹æ–¹ï¼Œåˆæˆ–è€…æ˜¯åœ¨è‡ªå®šä¹‰ç¼–è¾‘å™¨ä¸­ autocomplete è¯­æ³•æç¤ºï¼Œéƒ½éœ€è¦è·å–å…‰æ ‡å½“å‰çš„ä½ç½®ä½œä¸ºå‚ç…§ç‚¹ã€‚ä¸¤ç§ä½ç½®å¯¹äº WEB å¼€å‘æ¥è®²ï¼Œå½“æˆ‘ä»¬æåˆ°æŸæŸå…ƒç´ çš„ä½ç½®ï¼Œé€šå¸¸æ˜¯æŒ‡è¿™ä¸ªå…ƒç´ ç›¸å¯¹äºçˆ¶çº§æˆ–æ–‡æ¡£çš„åƒç´ å•ä½åæ ‡ã€‚è€Œå¯¹äºè¾“å…¥æ¡†ä¸­å…‰æ ‡ï¼Œå°±æœ‰äº†é¢å¤–çš„åŒºåˆ†ã€‚ç›¸å¯¹äºå†…å®¹ç›¸å¯¹äºå†…å®¹ï¼Œå…‰æ ‡ä½äºç¬¬å‡ ä¸ªå­—ç¬¦ä¹‹åï¼Œå§‘ä¸”ç§°ä¹‹ä¸ºå­—ç¬¦ä½ç½®å§ã€‚ç›¸å¯¹äºUIç›¸å¯¹äºUIï¼Œä¹Ÿå°±æ˜¯è·Ÿæ™®é€šé¡µé¢å…ƒç´ ä¸€æ ·çš„åƒç´ ä½ç½®äº†ã€‚æ’å…¥æˆ–æ›¿æ¢å†…å®¹åœ¨å‰è¨€æåˆ°çš„åœºæ™¯ä¸­ï¼Œä¹Ÿæœ‰åœ¨å…‰æ ‡ä½ç½®å¤„æ’å…¥å†…å®¹çš„éœ€æ±‚ï¼Œæ¯”å¦‚å¯¹é€‰å–æ–‡å­—åŠ ç²—text =&gt; &lt;strong&gt;text&lt;/strong&gt;ç­‰ã€‚textareatextareaå…ƒç´ å¯ä»¥å¾ˆå®¹æ˜“è·å–åˆ°é€‰æ‹©çš„ä¸€æ®µæ–‡å­—çš„èµ·æ­¢ä½ç½®ã€‚å¦‚æœå½“å‰æ²¡æœ‰é€‰æ‹©æ–‡å­—ï¼Œåˆ™ä¸¤ä¸ªä½ç½®å€¼éƒ½ä¸ºå…‰æ ‡å³ä¾§å­—ç¬¦çš„ç´¢å¼•ï¼Œä» 0 å¼€å§‹ã€‚// å¼€å§‹ä½ç½®textarea.selectionStart// ç»“æŸä½ç½®textarea.selectionEndå¯¹äºåŠ ç²—åŠŸèƒ½ï¼Œæœ‰äº†èµ·æ­¢ä½ç½®ï¼Œå°±èƒ½è·å–åˆ°é€‰æ‹©çš„æ–‡å­—å†…å®¹ï¼Œç„¶åå¯¹å†…å®¹è¿›è¡Œæ›¿æ¢ã€‚ç”±äºtextareaä¸èƒ½åŒ…å«å­å…ƒç´ ï¼Œåªæœ‰çº¯æ–‡æœ¬ï¼Œæ‰€ä»¥åŸºäºtextareaå®ç°åŠ ç²—åªèƒ½åƒç”¨ Markdown æ ‡è®°è¯­æ³•å®ç°ã€‚var selectedText = textarea.value.substring(textarea.selectionStart, textarea.selectionEnd)textarea.setRangeText('**'+ selectedText +'**')textarea.setRangeText(text: String) æŠŠé€‰ä¸­çš„æ–‡å­—æ›¿æ¢ä¸ºå…¶ä»–å†…å®¹ã€‚contenteditableä¹Ÿå¯èƒ½æˆ‘ä»¬ä¼šä½¿ç”¨contenteditableå±æ€§æŠŠä¸€ä¸ªå…ƒç´ å˜ä¸ºå¯ç¼–è¾‘å…ƒç´ ã€‚è€Œä¸Šé¢æ‰€ç”¨çš„å±æ€§å’Œå‡½æ•°éƒ½æ˜¯æ™®é€šå…ƒç´ æ‰€æ²¡æœ‰çš„ï¼Œæ‰€ä»¥è¦æ¢ä¸€ç§å§¿åŠ¿å®ç°ã€‚è¿˜æ˜¯ä»¥åŠ ç²—åŠŸèƒ½ä¸ºä¾‹ã€‚// è·å–æ–‡æ¡£ä¸­é€‰ä¸­åŒºåŸŸvar range = window.getSelection().getRangeAt(0)var strongNode = document.createElement('strong')// é€‰ä¸­åŒºåŸŸæ–‡æœ¬strongNode.innerHTML = range.toString()// åˆ é™¤é€‰ä¸­åŒºrange.deleteContents()// åœ¨å…‰æ ‡å¤„æ’å…¥æ–°èŠ‚ç‚¹range.insertNode(strongNode)åŸºäºcontenteditableçš„å¯ç¼–è¾‘å…ƒç´ ï¼Œå…¶ä¸­çš„å†…å®¹å‡ä¸ºå­å…ƒç´ ï¼Œæ–‡æœ¬ä¸ºtextNodeï¼ŒåŠ ç²—ä½¿ç”¨ HTML å…ƒç´ ï¼Œæ’å…¥æˆ–æ›¿æ¢æ˜¯å¯¹å…ƒç´ çš„æ“ä½œã€‚å¦‚æœæƒ³ä½¿ç”¨æ“ä½œå†…å®¹çš„æ€è·¯å®ç°ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œå› ä¸ºå¯ä»¥è·å–åˆ°çš„èµ·æ­¢ä½ç½®æ˜¯åŸºäºå­å…ƒç´ çš„ã€‚&lt;div contenteditable&gt;hello&lt;strong&gt;ä½ å¥½&lt;/strong&gt;&lt;big&gt;w&lt;/big&gt;orld&lt;/div&gt;å‡å¦‚é€‰ä¸­çš„æ–‡å­—æ˜¯ä½ å¥½worï¼Œè°ƒç”¨ç›¸å…³ API çš„è¾“å‡ºå¦‚ä¸‹ã€‚// å½“å‰åœ¨æ–‡æ¡£ä¸­é€‰æ‹©çš„æ–‡æœ¬ï¼Œdocument å’Œ window éƒ½æœ‰è¿™ä¸ªå‡½æ•°// var selection = document.getSelection()var selection = window.getSelection()selection.anchorNode // ä½ å¥½selection.anchorOffset // 0selection.focusNode // orldselection.focusOffset // 2// æˆ–è€…ä½¿ç”¨ Rangevar range = selection.getRangeAt(0)range.startContainer // ä½ å¥½range.startOffset // 0range.endContainer // orldrange.endOffset // 2æœ€ç»ˆå¯ä»¥è·å–åˆ°èµ·æ­¢å…ƒç´ ä»¥åŠé€‰ä¸­åŒºåŸŸåœ¨å¼€å§‹å…ƒç´ å†…å®¹ä¸­çš„å­—ç¬¦ä½ç½®å’Œåœ¨ç»“æŸå…ƒç´ å†…å®¹ä¸­çš„å­—ç¬¦ä½ç½®ã€‚å…¶ä¸­çš„èµ·æ­¢å…ƒç´ å‡ä¸ºtextNodeç±»å‹ï¼Œé€šè¿‡parentNodeè·å–åˆ°åŒ…è£¹å…ƒç´ ã€‚range.startContainer.parentNode // &lt;strong&gt;ä½ å¥½&lt;/strong&gt;range.endContainer.parentNode // &lt;div contenteditable&gt;...&lt;/div&gt;éœ€è¦æ³¨æ„çš„æ˜¯é€šè¿‡Selectionå’ŒRangè·å–åˆ°èµ·æ­¢ä½ç½®æ˜¯æœ‰æ–¹å‘ä¹‹åˆ†çš„ï¼Œä»å·¦å‘å³é€‰æ‹©å’Œä»å³å‘å·¦é€‰æ‹©å¾—åˆ°çš„å€¼æ˜¯æ­£å¥½ç›¸åçš„ã€‚åŸºäºå…‰æ ‡åƒç´ ä½ç½®åˆ›å»ºå†…å®¹è¿™é‡Œå°±è¦å¼€å§‹ç”¨åƒç´ ä½ç½®ï¼ŒåŒæ ·åˆ†ä¸ºä¸¤ç§å®ç°æ¥è®²ã€‚contenteditableå¯ç¼–è¾‘å…ƒç´ è·å–å…‰æ ‡åƒç´ ä½ç½®å°±åƒtextareaè·å–å…‰æ ‡çš„å­—ç¬¦ä½ç½®ä¸€æ ·ç®€å•ã€‚var range = window.getSelection().getRangeAt(0)range.getBoundingClientRect() // &#123; width, height, top, right, bottom, right &#125;è¿™ä¹ˆå…·ä½“çš„å°ºå¯¸å€¼ï¼Œå®ç°è‡ªåŠ¨å®ŒæˆçœŸæ˜¯ So easy!textareatextareaå…¶ä¸­çš„å†…å®¹éƒ½æ˜¯çº¯æ–‡æœ¬ï¼Œåœ¨ DOM ä¸­ä¸å­˜åœ¨ç›¸å…³çš„å¯¹è±¡ï¼Œå¯¹äºåƒç´ ä½ç½®å°±å¾—å¦ä½œä»–æƒ³äº†ã€‚åŸºäºè¡Œé«˜å’Œå­—ä½“å¤§å°è®¡ç®—// 1.è·å–å…‰æ ‡ç»“æŸä½ç½®var end = textarea.selectionEnd// 2.é€šè¿‡åŒ¹é…å…‰æ ‡ä¹‹å‰æ–‡æœ¬ä¸­çš„æ¢è¡Œç¬¦è®¡ç®—æ‰€åœ¨è¡Œvar row = textarea.value.substring(0, end).match(/\\r\\n|\\r|\\n/).length// 3.è®¡ç®— topï¼Œè¡Œé«˜ * è¡Œæ•° + ä¸Šå¡«å…… + è¾¹æ¡†å®½åº¦var top = lineHeight * (row + 1) + paddingTop + borderWidth// 4.è·å–å…‰æ ‡å·¦ä¾§çš„æ–‡æœ¬var leftText = textarea.value.split(/\\r\\n|\\r|\\n/)[row]// 5.å½±å“ä¸€æ®µæ–‡å­—æ‰€å å®½åº¦çš„å› ç´ å¤ªå¤šï¼Œé™¤å­—ä½“å¤§å°ã€ä¸­è‹±æ–‡ã€ç¬¦å·ã€å­—ç¬¦é—´è·ç­‰ï¼Œè¿˜æœ‰å­—ä½“ã€æµè§ˆå™¨ã€ç³»ç»Ÿç­‰å®¢è§‚å› ç´ // var left = ...è¿™ä¸ªæ–¹æ¡ˆçš„æ€è·¯æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯è€ƒè™‘æ‰€æœ‰é—®é¢˜çš„æˆæœ¬å¤ªé«˜ã€‚è™½ç„¶å¯ä»¥åˆ›å»ºæµ‹è¯•å…ƒç´ å»è®¡ç®—æ–‡æœ¬å®½åº¦ï¼Œä½†è¿™ä¸ªæ–¹æ¡ˆæœ¬èº«æ˜¯ä»ä¸¥è°¨çš„è§’åº¦å‡ºå‘çš„ã€‚ä¸å…¶æ··åœ¨ä¸€å—ï¼Œç›´æ¥ç”¨å–å·§çš„åŠæ³•æ›´ç®€å•ã€‚è¿™ä¸ªæ–¹æ¡ˆçš„æ½œå°è¯æ˜¯ï¼šæ˜æ˜å¯ä»¥é è„¸åƒé¥­ï¼Œå´ååè¦é æ‰åï¼ ğŸ™„é•œåƒå…ƒç´ æ–‡æœ¬ä¸æ”¯æŒå®šä½ï¼Ÿé‚£æˆ‘åˆ›å»º DOM å¥½äº†ã€‚// å…‰æ ‡ä½ç½®var end = textarea.selectionEnd// å…‰æ ‡å‰çš„å†…å®¹var beforeText = textarea.value.slice(0, end)// å…‰æ ‡åçš„å†…å®¹var afterText = textarea.value.slice(end)// å¯¹å½±å“ UI çš„ç‰¹æ®Šå…ƒç´ ç¼–ç var escape = function(text) &#123; return text.replace(/&lt;|&gt;|`|\"|&amp;/g, '?').replace(/\\r\\n|\\r|\\n/g, '&lt;br&gt;')&#125;// åˆ›å»ºé•œåƒå†…å®¹ï¼Œå¤åˆ¶æ ·å¼var mirror = '&lt;div class=\"'+ textarea.className +'\"&gt;' + escape(beforeText) + '&lt;span id=\"cursor\"&gt;|&lt;/span&gt;' + escape(afterText) + '&lt;/div&gt;'// æ·»åŠ åˆ° textarea åŒçº§ï¼Œæ³¨æ„è®¾ç½®å®šä½åŠ zIndexï¼Œä½¿ä¸¤ä¸ªå…ƒç´ é‡åˆtextarea.insertAdjacentHTML('afterend', mirror)// é€šè¿‡é•œåƒå…ƒç´ ä¸­çš„å‡å…‰æ ‡å ä½å…ƒç´ è·å–åƒç´ ä½ç½®var cursor = document.getElementById('cursor')cursor.getBoundingClientRect() // &#123; width, height, top, right, bottom, right &#125;Endæœ€åæ‚„æ‚„è¯´ä¸€å¥ï¼Œä»¥ä¸Šå†…å®¹ä¸å…¼å®¹ä½ç‰ˆæœ¬ IEï¼Œä½†æ˜¯ IE æ¯•ç«Ÿä¸»åœºè¿è¡Œï¼Œæœ‰äº› API åè€Œæ˜¯å…¶ä»–æµè§ˆå™¨æ‰€æ²¡æœ‰çš„ã€‚å°±ä¸Šé¢æåˆ°çš„æ¡ˆä¾‹æ¥è¯´ï¼Œä½ç‰ˆæœ¬ IE ä¹Ÿæœ‰å¯¹åº”çš„ API å¯ç”¨ã€‚çœŸæ˜¯ä¸æƒ³åœ¨ IE ä¸Šå»æµªè´¹ç²¾åŠ›äº†ï¼Œç´¢æ€§ä¸æã€‚","tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://imys.net/tags/JavaScript/"},{"name":"Range","slug":"Range","permalink":"http://imys.net/tags/Range/"},{"name":"Selection","slug":"Selection","permalink":"http://imys.net/tags/Selection/"}]},{"title":"Vueå•å…ƒæµ‹è¯•èµ·æ­¥","date":"2016-11-10T03:08:14.000Z","path":"20161110/vue-unit-test-start.html","text":"æœ€è¿‘åœ¨æ­å»ºä¸€ä¸ªé¡¹ç›®çš„å‰ç«¯å¼€å‘ç¯å¢ƒï¼Œå‡†å¤‡è¶æ­¤æŠŠä¸€äº›æ²¡ç”¨è¿‡çš„ä¸œè¥¿å°è¯•ä¸‹ï¼Œæ¯”å¦‚ï¼šå•å…ƒæµ‹è¯•ã€‚ä½¿ç”¨vue-cliå¯ä»¥ç›´æ¥ç”Ÿæˆä¸€ä¸ªåŒ…å«unitã€e2eæµ‹è¯•çš„å¼€å‘ç¯å¢ƒï¼Œä¸è¿‡è¿˜æ˜¯éœ€è¦å»äº†è§£å…¶ä¸­çš„ç»„ç»‡ç»“æ„ã€é…ç½®å’Œæ¨¡å—çš„ä½¿ç”¨ç­‰ã€‚å‡†å¤‡æ²¡æœ‰ä¸€ç‚¹ç›¸å…³ç»éªŒï¼Œå…ˆæŠŠvue-cliç”Ÿæˆåçš„test/unitç›®å½•æ‹¿åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ã€‚test ç›®å½•ç»“æ„:â””â”€ test â””â”€ unit â”œâ”€ specs â”œâ”€ .eslintrc â”œâ”€ index.js â””â”€ karma.conf.jsä¹‹ååœ¨package.jsonä¸­æ‰¾åˆ°karmaç›¸å…³çš„æ¨¡å—ã€‚karma ä¸€ä¸ª JavaScript æµ‹è¯•è¿è¡Œå™¨ï¼Œå…¶åœ¨æµ‹è¯•ä¸­çš„ä½œç”¨ç›¸å½“äºå¼€å‘æ„å»ºä¸­ä½¿ç”¨çš„webpackã€‚karma-webpack è¿æ¥karmaå’Œwebpackçš„æ¡¥æ¢ã€‚ä¸ç»è¿‡webpackç¼–è¯‘å‘½ä»¤æ˜¯æ–‡ä»¶æ˜¯æ— æ³•ç‹¬ç«‹è¿è¡Œçš„ï¼Œkarmaéœ€è¦äº†è§£ä½ çš„webpacké…ç½®ï¼Œå†³å®šå¦‚ä½•å¤„ç†ä½ çš„æµ‹è¯•æ–‡ä»¶ã€‚karma-phantomjs-launcher æ˜¯phantomjsåœ¨karmaä¸­çš„å¯åŠ¨å™¨ï¼Œç”±æ­¤å¼•å‡ºäº†phantomjsã€‚PhantomJS æ˜¯ä¸€ä¸ªæ²¡æœ‰ç•Œé¢çš„ â€œæµè§ˆå™¨â€ ï¼Œå†…ç½®äº† JavaScript APIï¼Œæ”¯æŒå„ç§Webæ ‡å‡†ï¼šDOM å¤„ç†ã€CSS é€‰æ‹©å™¨ã€JSONã€Canvas å’Œ SVG ç­‰ã€‚åœ¨æŸ¥æ‰¾ç›¸å…³èµ„æ–™æ—¶ï¼Œä¹Ÿå‘ç°äº†å…¶ä»–çš„å¸¸è§„æµè§ˆå™¨launcherï¼Œæ¯”å¦‚ï¼šChromeã€Firefoxã€Safariã€IE ç­‰ï¼Œä»¥åº”å¯¹ä¸åŒæµè§ˆå™¨æˆ–å¤šæµè§ˆå™¨çš„æµ‹è¯•éœ€æ±‚ã€‚è§Browserskarma-sourcemap-loader Karmaæ’ä»¶ï¼Œç”Ÿæˆæ–‡ä»¶çš„sourcemapã€‚karma-mocha è®©ä½ åœ¨ karma ä¸­ä½¿ç”¨ Mocha æµ‹è¯•æ¡†æ¶çš„æ’ä»¶ï¼Œä½¿ç”¨æ—¶è¿˜éœ€è¦å®‰è£…å‰ç½®ä¾èµ–mochaã€‚karma-sinon-chai è®©ä½ åœ¨karmaä¸­ä½¿ç”¨sinon-chaiæ–­è¨€åº“çš„æ’ä»¶ï¼Œå‰ç½®ä¾èµ–æœ‰sinon-chaiã€sinonã€chaiâ€¦ğŸ˜•karma-spec-reporter ç”¨äºå°†æµ‹è¯•ç»“æœæ˜¾ç¤ºåˆ°æ§åˆ¶å°ã€‚karma-coverage ç”Ÿæˆä»£ç è¦†ç›–ç‡ã€‚å…¶ä¸­è¦ä½¿ç”¨karma-phantomjs-launcherï¼Œéœ€è¦å…ˆå®‰è£…PhantomJSï¼Œé€šè¿‡phantomjs-prebuiltå®‰è£…ã€‚çœ‹åˆ°è¿™ä¸€å¤§å †ä¾èµ–ï¼Œæ„Ÿè§‰é¢å‰åˆæ˜¯ä¸€ä¸ªä¸äºšäº Webpack çš„æŠ€æœ¯æ ˆã€‚ä¹‹æ‰€ä»¥å»äº†è§£æ¯ä¸ªæ¨¡å—çš„ç”¨å¤„ï¼Œå°±æ˜¯ä¸ºäº†åœ¨å­¦ä¹ çš„æ—¶å€™ç›´æ’å¿ƒè„ï¼Œå¿½ç•¥é‚£äº›ä¸é‡è¦çš„æ¨¡å—ã€‚ä»¥ä¸Šæ¥è¯´ï¼ŒKarma æ˜¯åŸºæœ¬çš„è¿è¡Œå™¨ï¼Œéœ€è¦äº†è§£å…¶é…ç½®å’Œä½¿ç”¨ã€‚æµ‹è¯•æ¡†æ¶ Mocha å’Œæ–­è¨€åº“ sinon-chai ç±»ä¼¼äºå¼€å‘ä¸­ä½¿ç”¨çš„ Lodashï¼Œæä¾›ä¸€ç³»åˆ—ç”¨äºæµ‹è¯•çš„å·¥å…·å‡½æ•°ã€‚å‰©ä¸‹çš„æŒ‰ç¤ºä¾‹é›†æˆå°±å¥½ã€‚å®‰è£…æ•´åˆä¸€æ¡å‘½ä»¤ã€‚npm i -D karma karma-webpack phantomjs-prebuilt karma-phantomjs-launcher karma-sourcemap-loader mocha karma-mocha sinon chai sinon-chai karma-sinon-chai karma-spec-reporter karma-coveragePhantomJS å®‰è£…æ¯”è¾ƒæ…¢ï¼Œä¹Ÿå¯ä»¥å»å…¶å®˜ç½‘ä¸‹è½½ï¼Œå¹¶æ‰‹åŠ¨é…ç½®ç¯å¢ƒå˜é‡ã€‚å®‰è£…å¥½äº†ï¼Œå…ˆè·‘ä¸€ä¸‹çœ‹çœ‹æ˜¯å¦å®‰è£…æ­£ç¡®ï¼Œåˆ°package.jsonçš„scriptsä¸­æ³¨å†Œä¸€ä¸ªå‘½ä»¤ï¼š&quot;unit&quot;: &quot;karma start test/unit/karma.conf.js --single-run&quot;ï¼Œç„¶åè¿è¡Œã€‚npm run unitç„¶åä¸å‡ºæ„æ–™çš„æŠ¥é”™äº†ï¼Œåªæ˜¯å°‘è£…äº†ä¸€ä¸ªæ¨¡å—isparta-loaderï¼Œæ˜¯ä¸€ä¸ªä»£ç è¦†ç›–å·¥å…·ï¼Œç»§ç»­å®‰è£…åè¿è¡ŒOKã€‚vue-unit-1é…ç½®karma.conf.js æ–‡ä»¶å†…å®¹åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚module.exports ä»¥ä¸Šæ˜¯å¯¹ Webpack é…ç½®çš„å¤„ç†ï¼Œåƒwebpack.dev.confå’Œwebpack.prod.confé‚£æ ·ï¼Œåœ¨ä¸åŒçš„ç¯å¢ƒé‡Œä½¿ç”¨ä¸åŒçš„é…ç½®ã€‚åä¸€éƒ¨åˆ†å°±æ˜¯å¯¹ Karma çš„é…ç½®äº†ã€‚module.exports = function (config) &#123; config.set(&#123; // è¦å¯åŠ¨çš„æµ‹è¯•æµè§ˆå™¨ browsers: ['PhantomJS'], // æµ‹è¯•æ¡†æ¶ frameworks: ['mocha', 'sinon-chai'], // æµ‹è¯•æŠ¥å‘Šå¤„ç† reporters: ['spec', 'coverage'], // è¦æµ‹è¯•çš„ç›®æ ‡æ–‡ä»¶ files: ['./index.js'], // å¿½ç•¥çš„æ–‡ä»¶ exclude: [], // é¢„å¤„ç†æ–‡ä»¶ preprocessors: &#123; './index.js': ['webpack', 'sourcemap'] &#125;, // webpack webpack: webpackConfig, webpackMiddleware: &#123; noInfo: true &#125;, // Coverage options coverageReporter: &#123; dir: './coverage', reporters: [ &#123; type: 'lcov', subdir: '.' &#125;, &#123; type: 'text-summary' &#125; ] &#125;, // true: è‡ªåŠ¨è¿è¡Œæµ‹è¯•å¹¶é€€å‡º // false: ç›‘æ§æ–‡ä»¶æŒç»­æµ‹è¯• singleRun: true, // ä»¥ä¸‹æ˜¯ vue-cli æ²¡æœ‰ç”Ÿæˆçš„ä¸€äº›é…ç½® // æ–‡ä»¶åŒ¹é…çš„èµ·å§‹è·¯å¾„ // basePath: '', // æœåŠ¡å™¨ç«¯å£ // port: 9876, // è¾“å‡ºç€è‰² // colors: true, // æ—¥å¿—çº§åˆ« // LOG_DISABLE || LOG_ERROR || LOG_WARN || LOG_INFO || LOG_DEBUG // logLevel: config.LOG_INFO, // ç›‘æ§æ–‡ä»¶æ›´æ”¹ // autoWatch: true, // è¶…æ—¶å¤„ç†ï¼Œ6så†…æ²¡æœ‰æ•è·æµè§ˆå™¨å°†ç»ˆæ­¢è¿›ç¨‹ // captureTimeout: 6000 &#125;)&#125;å…¶ä¸­å¯¹äºæµ‹è¯•æ–‡ä»¶å…¥å£æœ‰ç‚¹éš¾ä»¥ç†è§£ï¼Œä»…ä»…æ˜¯ä¸€ä¸ªè„šæœ¬æ–‡ä»¶ï¼Œè€Œä¸æ˜¯è·¯å¾„åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯é…ç½®æ–‡ä»¶åŒçº§çš„é‚£ä¸ªindex.jsï¼Œåªæœ‰ 5 è¡Œä»£ç ã€‚Function.prototype.bind = require('function-bind')const testsContext = require.context('./specs', true, /\\.spec$/)testsContext.keys().forEach(testsContext)const srcContext = require.context('../../src', true, /^\\.\\/(?!main(\\.js)?$)/)srcContext.keys().forEach(srcContext)çœ‹èµ·æ¥å¦‚æœä½¿ç”¨äº†é«˜ç‰ˆæœ¬çš„ NodeJs ç¬¬ä¸€è¡Œä»£ç æ˜¯å¯ä»¥å»æ‰äº†ã€‚testsContextåŒ¹é…çš„æ˜¯specsç›®å½•ï¼Œé‡Œé¢æ˜¯å­˜æ”¾çš„æ˜¯æµ‹è¯•ç”¨ä¾‹ï¼›srcContextåŒ¹é…çš„æ˜¯srcç›®å½•ï¼Œä»æ­£åˆ™ä¸Šçœ‹æ˜¯é™¤äº†main.jsä»¥å¤–çš„æ‰€æœ‰æ–‡ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è„šæœ¬æ–‡ä»¶è¿™ç§æ–¹å¼è®¾ç½®åŒ¹é…çš„ç›®æ ‡æ–‡ä»¶ã€‚å®è·µç°åœ¨çœ‹èµ·æ¥ä¸€åˆ‡å¦¥å½“äº†ï¼Œå¯ä»¥å¼€å§‹å†™æµ‹è¯•ç”¨ä¾‹äº†ã€‚æŠŠä»¥ä¸Šæ­¥éª¤åˆé‡å¤äº†ä¸€éï¼Œé›†æˆåˆ°äº†ä¸€ä¸ªè‡ªå·±å†™çš„ Demo é¡¹ç›®ä¸­ï¼Œç„¶åè¿è¡Œæµ‹è¯•ã€‚vue-unit-2ä»€ä¹ˆé¬¼ï¼Œæ‰¾ä¸åˆ° less å˜é‡ã€‚ä¸ºäº†éªŒè¯ä¸æ˜¯é…ç½®é—®é¢˜ï¼Œæˆ‘åœ¨ vue-cli ç”Ÿæˆé¡¹ç›®çš„ç»„ä»¶ä¸­ä½¿ç”¨ less å†™äº†ä¸ªæ ·å¼ï¼Œè¿è¡Œæµ‹è¯•å‡ºç°äº†ä¸€æ ·çš„é—®é¢˜ã€‚æœ€åæ‰¾åˆ°äº†è¿™æ¡issueã€‚ç¿»è¯‘äº†åŠå¤©ï¼Œæ„Ÿè§‰æ˜¯åŒ¹é…æ–‡ä»¶çš„é—®é¢˜ã€‚const srcContext = require.context('../../src', true, /^\\.\\/(?!main(\\.js)?$)/)åŸæ¥çš„æ­£åˆ™ä¼šåŒ¹é…é™¤äº†main.jsä»¥å¤–çš„æ‰€æœ‰æ–‡ä»¶ï¼Œæ‰€ä»¥æ ·å¼æ–‡ä»¶ä¹Ÿä¼šè¢«åŒ¹é…ä¸Šã€‚ä½¿ç”¨ less æ—¶ä¸€èˆ¬åªæœ‰ä¸€ä¸ªå˜é‡æ–‡ä»¶ï¼Œç„¶åä»ä¸€ä¸ª less å‡ºå£æ–‡ä»¶ä¸­è§£æï¼Œè€Œå•å…ƒæµ‹è¯•æœ¬èº«åšçš„å·¥ä½œæ˜¯å•æ–‡ä»¶æµ‹è¯•ï¼Œå•ä¸ª less æ–‡ä»¶è‚¯å®šæ˜¯æ‰¾ä¸åˆ°å˜é‡çš„ã€‚ä¸è¿‡æ ·å¼æœ¬èº«æ˜¯ä¸ä¼šå¯¹é€»è¾‘äº§ç”Ÿå½±å“çš„ï¼Œå¯ä»¥ä¸å‚ä¸æµ‹è¯•ï¼Œå¹²è„†ç›´æ¥é”å®šç›®æ ‡æ–‡ä»¶åç¼€ï¼Œä¹Ÿå°±æ˜¯ vue ç»„ä»¶ã€‚ä¿®æ”¹å¦‚ä¸‹ï¼šconst srcContext = require.context('../../src', true, /\\.vue$/)åˆšç¿»è¿‡ä¸€åº§å±±ï¼Œåˆé‡åˆ°ä¸€æ¡æ²³ã€‚vue-unit-3çœ‹èµ·æ¥æ˜¯å› ä¸º API ä¸å…¼å®¹ï¼ŒPhantomJS ä¸­è¿˜æ²¡æœ‰é›†æˆ Promiseã€‚vue-unit-4ä¸ºäº†é¿å…ç›¸ä¼¼çš„é—®é¢˜ï¼Œç´¢æ€§æŠŠ launcher æ¢æ‰äº†ï¼Œç”¨karma-chrome-launcherã€‚å®‰è£…åï¼Œæ›´æ”¹ Karma é…ç½®ä¸­çš„browserså±æ€§å€¼ä¸º[&#39;Chrome&#39;]ï¼Œæµ‹è¯•è¿è¡ŒæˆåŠŸã€‚vue-unit-5æœ‰ä¸€äº›é’è‰²çš„ LOGï¼Œç¬¬ä¸€æ¡ä½¿ç”¨ Vue çš„åº”è¯¥éƒ½å·²ç»ç†Ÿæ‚‰äº†ï¼Œæ˜¯æµè§ˆå™¨æ§åˆ¶å°è¾“å‡ºçš„ LOGï¼Œæ‰€ä»¥å…¶ä»–çš„ä¹Ÿæ˜¯æµè§ˆå™¨çš„æ—¥å¿—äº†ã€‚ç¬¬ 1ã€3ã€4 æ¡ LOG æ˜¯æœ‰ä¸€ä¸ªæŒ‡ä»¤æ²¡æœ‰æ‰¾åˆ°ï¼Œç¬¬ 2 æ¡æ˜¯å…³äºè·¯ç”±çš„ã€‚æŒ‡ä»¤å’Œè·¯ç”±çš„å¼•å…¥æ˜¯åœ¨é¡¹ç›®å…¥å£çš„ js æ–‡ä»¶å†…ï¼Œå¯ä»¥é¢„çŸ¥å¦‚æœæˆ‘ä½¿ç”¨äº†å…¶ä»–ç±»åˆ«çš„ Vue æ’ä»¶ä¹Ÿä¼šæŠ¥å‡º ERRORã€‚è¿˜æ˜¯æœ‰é—®é¢˜è¦è§£å†³å•Šï¼ğŸ˜’æµ‹è¯•ç”¨ä¾‹åˆæ¬¡æ¥è§¦æµ‹è¯•æ¡†æ¶å’Œæ–­è¨€ï¼Œå¯¹äºç»„ä»¶çš„æµ‹è¯•ç”¨ä¾‹ä¹Ÿè¿˜åœ¨æ‘¸ç´¢ä¸­ã€‚ä»ä¾‹å­ä¸Šçœ‹ï¼Œå¤§æ¦‚æ€è·¯å¦‚ä¸‹ï¼šå¼•å…¥ä¸€ä¸ªç»„ä»¶ï¼›åˆ›å»ºä¸€ä¸ªç”¨äºæµ‹è¯•çš„ Vue å®ä¾‹ï¼Œç„¶åç»„ä»¶æŒ‚ä¸Šå»ï¼›å¯¹å®ä¾‹è¿›è¡Œæ¨¡æ‹Ÿæ“ä½œï¼Œç„¶åæ–­è¨€æœŸæœ›å€¼ã€‚import Vue from 'vue'import SearchView from 'src/components/SearchView'describe('SearchView.vue', () =&gt; &#123; it('Input is normal', () =&gt; &#123; const vm = new Vue(&#123; el: document.createElement('div'), render: (h) =&gt; h(SearchView) &#125;) vm.key = 'æ›¾ç»çš„ä½ ' vm.$nextTick(() =&gt; &#123; expect(vm.$el.querySelector('.m-key').textContent).to.equal('æ›¾ç»çš„ä½ ') &#125;) &#125;)&#125;)å®é™…çš„é¡¹ç›®ä¸­ï¼Œé’ˆå¯¹å¤æ‚çš„é€»è¾‘æˆ–è€…å¼‚æ­¥æ“ä½œï¼Œæµ‹è¯•ä¸€å®šä¸ä¼šè¿™ä¹ˆç®€å•ã€‚ğŸ˜…ä¸‹ä¸€æ­¥å‡†å¤‡æ‰¾ä¸€äº› Vue çš„å¼€æºé¡¹ç›®ï¼Œå­¦ä¹ ä¸€ä¸‹å…¶ä¸­çš„æµ‹è¯•ç”¨ä¾‹å†™æ³•ã€‚End!","tags":[{"name":"Vue","slug":"Vue","permalink":"http://imys.net/tags/Vue/"},{"name":"Unit test","slug":"Unit-test","permalink":"http://imys.net/tags/Unit-test/"},{"name":"å•å…ƒæµ‹è¯•","slug":"å•å…ƒæµ‹è¯•","permalink":"http://imys.net/tags/å•å…ƒæµ‹è¯•/"},{"name":"Karma","slug":"Karma","permalink":"http://imys.net/tags/Karma/"},{"name":"Phantomjs","slug":"Phantomjs","permalink":"http://imys.net/tags/Phantomjs/"}]},{"title":"å…³äº text-transform: capitalize å¤±æ•ˆçš„åœºæ™¯ä¸è§£å†³æ–¹æ¡ˆ","date":"2016-10-31T05:39:02.000Z","path":"20161031/text-transform-capitalize-not-working.html","text":"text-transform æ˜¯ä¸€ä¸ªå¯ä»¥å°†æ–‡å­—è¿›è¡Œå¤§å°å†™è½¬æ¢æˆ–å•è¯é¦–å­—ç¬¦å¤§å†™çš„ CSS å±æ€§ã€‚è‡ªä»çŸ¥é“äº†å®ƒï¼Œæˆ‘å°±å¼€å§‹å·æ‡’ä¸åœ¨ js ä¸­å»åœ¨è°ƒç”¨ç›¸å…³çš„è½¬æ¢å‡½æ•°äº†ã€‚æ˜¨å¤©åœ¨ç»™å¤šè¯´æ‰©å±•ç”¨æˆ· UA åŠŸèƒ½æ—¶é‡åˆ°ä¸€ä¸ª text-transform: capitalize å¤±æ•ˆçš„é—®é¢˜ï¼Œç»è¿‡ä¸€ç•ªæµ‹è¯•ï¼Œæ‰¾åˆ°äº†é—®é¢˜çš„åŸå› ã€‚åœºæ™¯è¿˜åŸæ ¹æ®å½“æ—¶åœºæ™¯ï¼ŒæŠ½å–å…³é”® css å±æ€§ï¼š.capitalize &#123; text-transform: capitalize&#125;.before:before &#123; content: 'hello'&#125;.after:after &#123; content: 'world'&#125;ç°æœ‰å¦‚ä¸‹çš„ HTMLï¼Œä½ ä»¬çŒœæœ€ç»ˆä¼šæ˜¯ä»€ä¹ˆç»“æœï¼Ÿ&lt;h1 class=\"capitalize\"&gt;hello world&lt;/h1&gt;&lt;h1 class=\"capitalize\"&gt;HELLO WORLD&lt;/h1&gt;&lt;h1 class=\"capitalize before\"&gt;world&lt;/h1&gt;&lt;h1 class=\"capitalize after\"&gt;hello&lt;/h1&gt;ç»“æœï¼šHello WorldHELLO WORLDHelloworldHelloworldé—®é¢˜DEMOé“¾æ¥ï¼štext-transform: capitalize å¤±æ•ˆdemoé—®é¢˜è§£æé€šè¿‡è¿è¡Œç»“æœå¯ä»¥å‘ç°å…¨å°å†™å•è¯ç»„åˆæ—¶ï¼Œè½¬æ¢æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œç•¥è¿‡ã€‚å¤§å†™å•è¯ç»„åˆå…¨å¤§å†™å•è¯ç»„åˆï¼Œè½¬æ¢å¤±æ•ˆï¼ŸçœŸçš„æ˜¯è¿™æ ·å—ï¼Ÿé€šè¿‡æŸ¥é˜…ç›¸å…³æ–‡æ¡£ï¼Œå…³äº capitalize çš„ä»‹ç»ä¸ºï¼šå°†æ¯ä¸ªå•è¯çš„ç¬¬ä¸€ä¸ªå­—æ¯è½¬æ¢æˆå¤§å†™ã€‚çœ‹æ¥æ˜¯æˆ‘ä»¬å¯¹å®ƒæœŸæœ›å¤ªé«˜äº†ï¼Œtext-transform: capitalizeå¹¶ä¸èƒ½åƒ lodash åº“ä¸­çš„è½¬æ¢å‡½æ•°é‚£æ ·ï¼Œå°†å…¨å¤§å†™çš„çš„ AAA è½¬æ¢æˆä½ æœŸæœ›çš„ Aaaã€‚å«æœ‰ä¼ªå…ƒç´ è¿™ä¹Ÿæ˜¯æˆ‘é¢ä¸´åˆ°çš„é—®é¢˜ï¼Œæ¯ä¸ª UA æ ‡ç­¾ä¸Šçš„ tootip éƒ½æ˜¯æˆ‘ç”¨ä¼ªç±»æ¨¡æ‹Ÿçš„ã€‚ç”±äºå½“æ—¶ä¼ªå…ƒç´ æ˜¯ç»å¯¹å®šä½çš„ï¼Œåœ¨è§†è§‰ä¸ŠçœŸçš„æ˜¯å½“ä½œäº†å¦å¤–çš„å…ƒç´ çœ‹å¾…ã€‚è€Œåœ¨é—®é¢˜ DEMO ä¸­ï¼Œæˆ‘ä»¬è¿˜åŸäº†ä¼ªå…ƒç´ é»˜è®¤æ˜¾ç¤ºçš„ä½ç½®ï¼š:before å°±æ˜¯åœ¨åŸå§‹å†…å®¹å‰è¿½åŠ å†…å®¹ï¼Œ:after å°±æ˜¯åœ¨åŸå§‹å†…å®¹åè¿½åŠ å†…å®¹ã€‚ç”±äºæœ€åç”Ÿæˆçš„å†…å®¹ä¹‹é—´æ²¡æœ‰é—´éš™ï¼Œå¯¼è‡´ text-transform è½¬æ¢æ—¶å°†å…¶å½“ä½œä¸€ä¸ªå•è¯ã€‚ä¸ºäº†éªŒè¯æˆ‘çš„ç»“è®ºï¼Œæˆ‘åœ¨å«æœ‰ä¼ªå…ƒç´ çš„å†…å®¹å‰æˆ–ååŠ äº†ä¸ªç©ºæ ¼ï¼š&lt;h1 class=\"capitalize before\"&gt; world&lt;/h1&gt;&lt;h1 class=\"capitalize after\"&gt;hello &lt;/h1&gt;æœ€åè½¬æ¢æˆåŠŸï¼šHello WorldHello WorldDEMOè§£å†³æ–¹æ¡ˆè™½ç„¶æ‰¾åˆ°äº†é—®é¢˜çš„åŸå› ï¼Œä½†æ˜¯å®é™…åœºæ™¯ä¸­ä½¿ç”¨ä¼ªå…ƒç´ çš„åˆè¡·å°±æ˜¯è¦å°†ä¸€ä¸ªå…ƒç´ å½“ä½œå¤šä¸ªå…ƒç´ ä½¿ç”¨ï¼ŒHTML ä¸­åŠ ç©ºæ ¼ä¼šæœ‰åŠä¸ªä¸­æ–‡å­—ç¬¦å®½åº¦çš„ç©ºç™½ï¼Œä¹Ÿå°±ç­‰äºäº§ç”Ÿäº†ä¸å¿…è¦çš„è¾¹è·ã€‚åšåˆ°è¿™é‡ŒçœŸæ˜¯æ„Ÿè§‰ä¸å¦‚ç›´æ¥å†™ä¸ª js è½¬æ¢å‡½æ•°ç®—äº†ã€‚function capitalize(string) &#123; return string.charAt(0).toUpperCase() + string.substr(1).toLowerCase()&#125;å†™å‡ºæ¥åå¿½ç„¶å‘ç°è¿™æ®µä»£ç å®Œå…¨å¯ä»¥ç”¨ CSS å»â€œå®ç°â€ã€‚.capitalize &#123; text-transform: lowercase;&#125;.capitalize:first-letter &#123; text-transform: uppercase;&#125;ä¸Šä¸ªæœˆæ—­å“¥åšå®¢æœ‰ç¯‡å¾ˆè¯¦ç»†çš„ :first-letter ä»‹ç»ï¼šå¼ é‘«æ—­ï¼šæ·±å…¥CSS :first-letterä¼ªå…ƒç´ åŠå…¶å®ä¾‹ç­‰å…¶ä¸­æåˆ°äº† :first-letter å’Œ :before ä¹‹é—´çš„çŒ«è…»ï¼Œå°±æ˜¯è¯´ :first-letter ä¹Ÿç”Ÿæ•ˆäº :before ä¼ªå…ƒç´ ã€‚ä¸è¿‡æˆ‘æµ‹è¯•åå‘ç°ï¼Œå½“ :before ä¼ªå…ƒç´ è®¾ç½®ä¸ºç»å¯¹å®šä½æ—¶ï¼Œ:first-letterå°†åªä½œç”¨äºåŸå§‹å†…å®¹ã€‚:first-letterå’Œ:beforeç¤ºä¾‹demoåˆ©ç”¨è¿™ä¸ªæœºåˆ¶ï¼Œæ€»ç®—å¯ä»¥ç»™è‡ªå·±ä¸€ä¸ªå®Œç¾çš„ç­”å¤äº†ã€‚.capitalize &#123; text-transform: capitalize&#125;.before &#123; padding-left: 2.5em&#125;.before:before &#123; position: absolute; left: 0; content: 'hello'&#125;.before:first-letter &#123; text-transform: uppercase&#125;.after:after &#123; position: absolute; content: 'world'; text-transform: capitalize&#125;é™„åŠ å†…å®¹åœ¨ :before æ—¶ï¼Œä½¿ç”¨ :first-letter + uppercase è§£å†³ï¼Œå¦‚æœåŸå§‹å†…å®¹æœ‰å¤§å†™ï¼Œéœ€è¦å†ç»™åŸæ ‡ç­¾åŠ  lowercaseï¼›é™„åŠ å†…å®¹åœ¨ :after æ—¶ï¼Œç»™ :after å†åŠ  capitalizeã€‚DEMOEnd","tags":[{"name":"CSS","slug":"CSS","permalink":"http://imys.net/tags/CSS/"},{"name":"CSS3","slug":"CSS3","permalink":"http://imys.net/tags/CSS3/"},{"name":"text-transform","slug":"text-transform","permalink":"http://imys.net/tags/text-transform/"},{"name":"capitalize","slug":"capitalize","permalink":"http://imys.net/tags/capitalize/"}]},{"title":"ä½¿ç”¨â€œé˜Ÿåˆ—â€è§£å†³â€œæ’é˜Ÿâ€ä¸šåŠ¡åœºæ™¯","date":"2016-10-27T09:21:23.000Z","path":"20161027/use-queue-solve-continuous-request.html","text":"ä¸ºäº†è¾¾åˆ°æ“ä½œå˜åŒ–çš„å®æ—¶æ€§ï¼Œåœ¨å¤šé€‰æ‹©é¡¹çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå¾€å¾€ç‚¹å‡»ä¸€æ¬¡å°±ä¼šå‘é€ä¸€æ¬¡ HTTP è¯·æ±‚ã€‚ä½†åŒæ—¶åˆé¢ä¸´å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨è¿ç»­ç‚¹å‡»åŒä¸€ä¸ªé€‰æ‹©é¡¹æ—¶ï¼Œå°±ä¼šè¿ç»­è§¦å‘é’ˆå¯¹æ­¤é¡¹çš„åˆ é™¤æˆ–æ·»åŠ é€»è¾‘ï¼Œè¿›è€Œè¿ç»­å‘é€ POST æˆ– DELETE è¯·æ±‚ã€‚ç†æƒ³çš„çŠ¶æ€æ˜¯ä¸Šä¸€ä¸ªè¯·æ±‚ç»“æŸåæ‰å¼€å§‹ä¸‹ä¸€ä¸ªè¯·æ±‚ï¼Œä½†æ˜¯ç½‘ç»œè¯·æ±‚æ˜¯å¼‚æ­¥çš„ã€è¯·æ±‚è€—æ—¶æ˜¯ä¸å¯æ§çš„ï¼Œä¹Ÿå°±æœ‰å¯èƒ½åœ¨æ­¤é¡¹çš„æ·»åŠ è¯·æ±‚æœªå®Œæˆå‰ï¼Œåˆ é™¤è¯·æ±‚å…ˆå®Œæˆäº†ã€‚æˆ‘è§‰å¾—ç”¨â€œæ’é˜Ÿâ€æ¥æè¿°è¿™ä¸ªåœºæ™¯çœŸæ˜¯å†å¥½ä¸è¿‡äº†ã€‚é˜Ÿåˆ—æ—¢ç„¶æœ‰äººè¦â€œæ’é˜Ÿâ€ï¼Œæˆ‘ä»¬å°±è¦å®šä¹‰ä¸€ä¸ªè§„åˆ™ï¼šå…ˆè¿›å…ˆå‡ºã€‚ä¹Ÿå°±æ˜¯æ•°æ®ç»“æ„ä¸­çš„â€œé˜Ÿåˆ—â€äº†ã€‚javascript ä¸­é˜Ÿåˆ—çš„å®ç°ï¼š// å®ç°1var queue = []// è¿›é˜Ÿqueue.push(1)queue.push(2)queue.push(3)// å‡ºé˜Ÿqueue.shift() // 1queue.shift() // 2queue.shift() // 3// å®ç°2var queue2 = []// è¿›é˜Ÿqueue2.unshift(1)queue2.unshift(2)queue2.unshift(3)// å‡ºé˜Ÿqueue2.pop() // 1queue2.pop() // 2queue2.pop() // 3å®è·µå®šä¹‰ä¸€ä¸ªæ•°ç»„å­˜æ”¾æ¯ä¸€æ¬¡ç‚¹å‡»çš„ HTTP è¯·æ±‚ï¼Œæ­¤å¤–ä¸ç®¡ä½ ä½¿ç”¨ä½•ç§å¼€å‘æŠ€æœ¯éƒ½åº”è¯¥æœ‰ä¸ªå‘é€è¯·æ±‚çš„å‡½æ•°æˆ–åº“ï¼Œå¦‚æœæ˜¯åŸºäº promise å°±æ›´å¥½äº†ï¼Œè¿™é‡Œç®€å•ç”¨ XHR ä»£æ›¿ã€‚var requestQueue = []var XHR = function(method, url, param) &#123;&#125;ç‚¹å‡»æ“ä½œçš„å…¥å£å‡½æ•°ï¼Œå…ˆåˆ›å»ºè¯·æ±‚è¿›é˜Ÿã€‚å› ä¸ºç¬¬äºŒæ¬¡è¯·æ±‚å¿…é¡»è¦åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚å®Œæˆä¹‹åï¼Œæ‰€ä»¥åªæœ‰é˜Ÿåˆ—ä¸­ä»…å­˜åœ¨ä¸€ä¸ªè¯·æ±‚æ—¶æ‰å»è§¦å‘æ›´æ–°ã€‚function myClick(method, url, param) &#123; var len = requestQueue.push(XHR(method, url, param)) if(len === 1) &#123; update() &#125;&#125;æ‰§è¡Œçš„æ°¸è¿œæ˜¯é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªè¯·æ±‚ã€‚å½“ä¸€ä¸ªè¯·æ±‚å®Œæˆåï¼Œå°±å‡ºé˜Ÿï¼Œé˜Ÿåˆ—ä¸­å‰©ä½™çš„è¯·æ±‚ä¾æ¬¡å‰è¿›ä¸€ä¸ªä½ç½®ã€‚å¦‚æœå­˜åœ¨æœªå®Œæˆçš„è¯·æ±‚ï¼Œç»§ç»­è°ƒç”¨æ›´æ–°æ“ä½œã€‚function update() &#123; requestQueue[0].then(function(res)&#123; // request success requestQueue.shift() requestQueue.length &amp;&amp; update() &#125;)&#125;","tags":[{"name":"Promise","slug":"Promise","permalink":"http://imys.net/tags/Promise/"},{"name":"Request","slug":"Request","permalink":"http://imys.net/tags/Request/"},{"name":"HTTP","slug":"HTTP","permalink":"http://imys.net/tags/HTTP/"},{"name":"Queue","slug":"Queue","permalink":"http://imys.net/tags/Queue/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://imys.net/tags/æ•°æ®ç»“æ„/"}]},{"title":"javaé¡¹ç›®ä¸‹åŸºäºwebpackçš„å‰ç«¯å¼€å‘ç¯å¢ƒæ„å»º","date":"2016-10-13T06:05:56.000Z","path":"20161013/java-webpack-dev-build.html","text":"æ ‡é¢˜å¯èƒ½ä¸æ˜¯å¾ˆæ°å½“ï¼Œæƒ³ä¸åˆ°ä¸€ä¸ªåˆé€‚çš„æ ‡é¢˜æ¥æ¦‚æ‹¬æˆ‘é‡åˆ°ä»¥åŠè§£å†³çš„é—®é¢˜ï¼Œæš‚ä¸”è¿™æ ·å§ã€‚é¡¹ç›®æè¿°æ˜¯ä¸€ä¸ªä¸å®Œå…¨ä¸åç«¯åˆ†ç¦»çš„åŸºäº webpack æ„å»ºçš„ Vue é¡¹ç›®ã€‚é¡¹ç›®å…¥å£æ˜¯ä¸€ä¸ª jsp é¡µé¢ï¼Œå…¶ä¸­å¼•ç”¨äº†ä¸€äº› jsp æ¨¡ç‰ˆã€‚æˆ‘æƒ³æ˜¯å› ä¸ºæœ‰ä¸€äº›å†…å®¹éœ€è¦åç«¯ç›´å‡ºåˆ°é¡µé¢ä¸Šã€‚è¯¥é¡µé¢ä¸Šå›ºå®šå¼•ç”¨äº† webpack æ‰“åŒ…å¥½çš„ css åŠ js æ–‡ä»¶è·¯å¾„ï¼Œå½“ç„¶ä¹ŸåŠ äº†åŠ¨æ€å‚æ•°ç”¨äºåˆ·æ–°ç‰ˆæœ¬æ›´æ–°åçš„å®¢æˆ·ç«¯ç¼“å­˜ã€‚å¯ä»¥ä½¿ç”¨ webpack å‘½ä»¤æ‰“åŒ…ï¼Œæˆ–æ˜¯ç”¨ webpack --progress --colors --watch å‘½ä»¤å¯åŠ¨ç›‘å¬æ¨¡å¼åŠ¨æ€æ„å»ºã€‚è¿™è®©å‰ç«¯å¼€å‘ç¯å¢ƒå˜çš„ä¸å¤Ÿå‹å¥½ï¼šç›‘å¬æ¨¡å¼ä¸‹ä¿®æ”¹æ–‡ä»¶åï¼Œæ˜¯éœ€è¦é€šè¿‡åˆ·æ–°é¡µé¢è·å–æ›´æ”¹çš„ã€‚å¥½åƒå›åˆ°äº†ä¼ ç»Ÿçš„å‰ç«¯å¼€å‘ç¯å¢ƒä¸­ã€‚è§£å†³æ–¹æ¡ˆç”±äºå…¥å£é¡µé¢æ˜¯ç”±åç«¯æ¸²æŸ“ jsp ç”Ÿæˆçš„ï¼Œç”¨ html-webpack-plugin æ’ä»¶ç”Ÿæˆ html å¹¶æ³¨å…¥è„šæœ¬ã€æ ·å¼çš„æ³•å­è¡Œä¸é€šäº†ã€‚çƒ­æ›¿æ¢æ„Ÿè§‰æ²¡æˆäº†ï¼Œå°±æƒ³åŠæ³•åŠ ä¸ªè‡ªåŠ¨åˆ·æ–°å§ã€‚webpack-dev-serverå¼€å§‹ç”¨ webpack-dev-server ä»£ç†åç«¯æœåŠ¡å™¨ï¼Œå¯ä»¥å®ç°ç›‘å¬æ›´æ”¹ã€å®æ—¶æ„å»ºï¼Œä½†ç”±äºé¡µé¢ä¸Šçš„é¡µé¢æ ·å¼è„šæœ¬å¼•ç”¨ä¸ webpack æ„å»ºå¥½çš„æ–‡ä»¶è·¯å¾„åŒ¹é…ä¸ä¸Šï¼Œè¿˜æ˜¯è·å–ä¸åˆ°æ›´æ”¹ã€‚var webpack = require('webpack')var webpackDevServer = require('webpack-dev-server')var config = require('./webpack.config')var server = new webpackDevServer(webpack(config), &#123; hot: true, quiet: false, stats: &#123; chunks: false, colors: true &#125;, proxy: &#123; '**': 'http://localhost:8080' &#125;, historyApiFallback: true&#125;)server.listen(3000)è·‘äº† 3000 ç«¯å£ï¼Œé¡µé¢ä¸Šçš„æ–‡ä»¶å¼•ç”¨ä¾ç„¶æ˜¯ 8080 ç«¯å£ï¼Œå¥½åƒæ˜¯åœ¨åç«¯å°±å†™æ­»äº†ã€‚å³ä½¿æ˜¯æˆ‘ä¸´æ—¶æ”¹äº† jsp æ–‡ä»¶çš„å¼•ç”¨è·¯å¾„ï¼Œè¿˜æ˜¯éœ€è¦æ‰‹åŠ¨åˆ·æ–°ä¸‹é¡µé¢æ‰èƒ½è·å–æ›´æ”¹ã€‚browsersyncæƒ³èµ·äº† gulp æ—¶ä»£ä¸€ç›´ç”¨çš„ browsersyncï¼Œç”¨å®ƒä»£ç†åç«¯æœåŠ¡ï¼Œç›‘å¬æ–‡ä»¶å˜æ›´å¹¶æ‰§è¡Œ webpack å‘½ä»¤ï¼Œåˆ·æ–°æµè§ˆå™¨ã€‚require('shelljs/global')var bs = require('browser-sync').create()bs.init(&#123; proxy: 'http://localhost:8080'&#125;)bs.watch('./src/**/*.*').on('change', function()&#123; exec('webpack', bs.reload)&#125;)ä½†è¿™æ ·æ¯æ¬¡æ‰§è¡Œ webpack å‘½ä»¤ï¼Œéƒ½ç›¸å½“äºå…¨æ–°ç¼–è¯‘ï¼Œæ‰€ä»¥é€Ÿåº¦å¾ˆæ…¢ã€‚ä»¥è¯¥é¡¹ç›®è€Œè¨€ï¼Œæ¯æ¬¡æ›´æ”¹åéœ€è¦ç­‰å¾… 6s æ‰åˆ·æ–°æµè§ˆå™¨ã€‚è¿˜å®éªŒäº† gulp + webpack-streamï¼Œå±äºæ¢æ±¤ä¸æ¢è¯ï¼Œæ¯æ¬¡è¿˜æ˜¯å…¨æ–°ç¼–è¯‘ã€‚ä»Šå¤©å¿½ç„¶æƒ³åˆ°ï¼Œç›´æ¥ç”¨ webpack çš„ç›‘å¬æ¨¡å¼å¯åŠ¨ï¼Œåœ¨æ¯æ¬¡ç¼–è¯‘ååˆ·æ–°æµè§ˆå™¨å°±å¯ä»¥äº†ã€‚ç›‘å¬æ¨¡å¼ä¸‹ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡æ˜¯å…¨æ–°ç¼–è¯‘ï¼Œä¹‹åä¼šç¼“å­˜æœªå˜åŒ–çš„æ¨¡å—ï¼Œæ‰€ä»¥é€Ÿåº¦å¾ˆå¿«ã€‚var webpack = require('webpack')var webpackDevServer = require('webpack-dev-server')var config = require('./webpack.config')var bs = require('browser-sync').create()var compiler = webpack(config)bs.init(&#123; proxy: 'http://localhost:8080'&#125;)compiler.watch(&#123; aggregateTimeout: 300, // 300ms å†…çš„æ–‡ä»¶æ›´æ”¹èšåˆåˆ°ä¸€æ¬¡æ„å»ºä¸­ ignored: /node_modules/, // å¿½ç•¥å¤§æ–‡ä»¶æˆ–åŸºæœ¬ä¸ä¼šå˜æ›´çš„ç›®å½• poll: true &#125;, function(err, stats) &#123; bs.reload() console.log(stats.toString(&#123; chunks: false, colors: true &#125;))&#125;)ç›‘å¬æ¨¡å¼é™¤äº†å‘½ä»¤è¡Œå¯åŠ¨å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ watch æ–¹æ³•è°ƒç”¨ï¼Œè¿˜å¯ä»¥é€šè¿‡ ignored é…ç½®é¡¹å¿½ç•¥ä¸€äº›ä¸ä¼šå˜æ›´çš„ç›®å½•ã€‚ä¹‹åæ¯æ¬¡ä¿å­˜æ–‡ä»¶ï¼Œåªéœ€è¦ 100ms å·¦å³å°±ä¼šåˆ·æ–°æµè§ˆå™¨ã€‚æ„Ÿå¹ä¸€å¥å¦‚ä»Šçš„å‰ç«¯æŠŠå¤šå°‘æ—¶é—´éƒ½è€—åœ¨ç¯å¢ƒæ­å»ºä¸Šäº†~","tags":[{"name":"Java","slug":"Java","permalink":"http://imys.net/tags/Java/"},{"name":"jsp","slug":"jsp","permalink":"http://imys.net/tags/jsp/"},{"name":"Webpack","slug":"Webpack","permalink":"http://imys.net/tags/Webpack/"},{"name":"BrowserSync","slug":"BrowserSync","permalink":"http://imys.net/tags/BrowserSync/"}]},{"title":"å¦‚ä½•ä¸ºCanvasä¸­ç‰¹å®šå›¾å½¢ç»‘å®šäº‹ä»¶ï¼Ÿ","date":"2016-08-08T06:43:38.000Z","path":"20160808/canvas-event.html","text":"Canvas æœ¬èº«ä¹Ÿå±äº HTMLElementï¼Œè‡ªç„¶ä¹Ÿæ˜¯æ”¯æŒå„ç§äº‹ä»¶ç»‘å®šçš„ã€‚ä½†ç»˜åˆ¶åœ¨å…¶ä¸­çš„å›¾å½¢å¹¶ä¸ä½œä¸ºå…¶å­å…ƒç´ å­˜åœ¨ï¼Œè¿™å°±ä¸èƒ½æ–¹ä¾¿çš„ä¸º Canvas ä¸­çš„æŸä¸ªç‰¹å®šå›¾å½¢å»ç»‘å®šäº‹ä»¶ã€‚æˆ‘ä»¬éƒ½çŸ¥é“ js ä¸­çš„äº‹ä»¶å§”æ‰˜ï¼Œå°†äº‹ä»¶ç»‘å®šåˆ°çˆ¶èŠ‚ç‚¹ä¸Šï¼Œå¾…åˆ°çˆ¶èŠ‚ç‚¹å“åº”äº‹ä»¶æ—¶ï¼ŒåŠ¨æ€åˆ¤æ–­å½“å‰å“åº”å…ƒç´ ä¸ºç›®æ ‡å­èŠ‚ç‚¹æ—¶å†æ‰§è¡Œå¯¹åº”çš„æ“ä½œã€‚è¿™ä¸ªæ€æƒ³åŒæ ·ä¹Ÿå¯ä»¥ç”¨åœ¨ Canvas ä¸Šï¼Œåªéœ€è¦ä¸º canvas å…ƒç´ ç»‘å®šäº‹ä»¶ï¼Œäº‹ä»¶å“åº”æ—¶åˆ¤æ–­å½“å‰é¼ æ ‡ä½ç½®å¤„äºå“ªä¸ªå›¾å½¢ä¹‹ä¸Šï¼Œæ‰§è¡Œå¯¹åº”çš„æ“ä½œã€‚isPointInPathcontext.isPointInPath(x, y);ç†è®ºä¸Šè®²ï¼Œæƒ³è¦çŸ¥é“ä¸€ä¸ªç‚¹æ˜¯å¦å¤„äºä¸€ä¸ªå›¾å½¢ä¹‹ä¸­ï¼Œç°æˆçš„ç®—æ³•åº”è¯¥æ˜¯æœ‰å¾ˆå¤šäº†ã€‚ä¸è¿‡éš¾å¾— canvas æœ¬èº«å°±æä¾›äº†è¿™æ ·çš„å‡½æ•°ï¼Œç”¨æ¥åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯å¦å¤„äºå½“å‰è·¯å¾„ä¸­ã€‚var c = document.getElementById('canvas');var ctx = c.getContext('2d');ctx.rect(0, 0, 200, 200);console.log(ctx.isPointInPath(50, 100)) // trueå°±åƒè¿™æ ·ï¼Œå½“ä½ åˆ›å»ºä¸€ä¸ªçŸ©å½¢æ—¶ï¼Œå°±ä¼šäº§ç”Ÿä¸€ä¸ªè·¯å¾„ï¼Œæ­¤æ—¶å°±å¯ä»¥è°ƒç”¨è¯¥æ–¹æ³•å»åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯å¦å­˜åœ¨äºè¯¥è·¯å¾„ã€‚äº§ç”Ÿè·¯å¾„çš„å‡½æ•°è¿˜æœ‰å…¶ä»–ï¼Œæ¯”å¦‚ï¼šlineTo()ã€clip()ã€arc()ã€arcTo() ç­‰ã€‚å®ç°å›¾å½¢çš„äº‹ä»¶ç»‘å®šå…ˆæ¥ä¸ªç®€å•çš„é¥¼å›¾å§ã€‚&lt;canvas id=\"c\" width=\"400\" height=\"400\"&gt;&lt;/canvas&gt;var canvas = document.getElementById('c');var ctx = canvas.getContext('2d');var r = canvas.width / 2;ctx.beginPath();ctx.arc(r, r, r, 0, Math.PI * 1);ctx.fillStyle = '#2196f3'; //è“è‰²ctx.fill();ctx.beginPath();ctx.arc(r, r, r, Math.PI * 1, Math.PI * 2);ctx.fillStyle = '#f44336'; //çº¢è‰²ctx.fill();function isInPath (x, y)&#123; ctx.arc(r, r, r, 0, Math.PI * 1); return ctx.isPointInPath(x, y);&#125;canvas.addEventListener('click', function(e)&#123; if(isInPath(e.offsetX, e.offsetY)) &#123; console.log('hello') &#125;&#125;)ç°åœ¨åˆ›å»ºä¸€ä¸ªçº¢è“æ‹¼æ¥çš„é¥¼å›¾ï¼ŒisInPath æ–¹æ³•åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯å¦å¤„äºè“è‰²åŒºã€‚ç†æƒ³çš„ç»“æœæ˜¯åªæœ‰å½“é¼ æ ‡ç‚¹å‡»åŒºåŸŸä¸ºè“è‰²åŒºåŸŸæ—¶æ‰è¾“å‡º helloã€‚ä½†äº‹å®ç¡®ä¸æ˜¯å¦‚æ­¤ï¼Œç¤ºä¾‹Demoã€‚æ— è®ºç‚¹å‡»çº¢è‰²è¿˜æ˜¯è“è‰²åŒºåŸŸå‡ä¼šè¾“å‡º helloï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿè·¯å¾„æ—¢ç„¶ isPointInPath(x, y) çš„åŸºäºè·¯å¾„åˆ¤æ–­çš„ï¼Œé‚£æˆ‘ä»¬å°±ä»è·¯å¾„å…¥æ‰‹ã€‚ctx.arc(r, r, r, 0, Math.PI * 1);ctx.fillStyle = '#2196f3';ctx.fill();ctx.arc(r, r, r, Math.PI * 1, Math.PI * 2);ctx.fillStyle = '#f44336';ctx.fill();å½“æˆ‘ä»¬æŠŠç”»å›¾æ—¶çš„ ctx.beginPath() å»æ‰åï¼Œå‘ç°ç”Ÿæˆçš„å›¾å½¢å˜æˆä¸€ä¸ªçº¢è‰²çš„æ•´åœ†äº†ï¼šç¤ºä¾‹Demoã€‚beginPath() ç”¨æ¥é‡ç½®è·¯å¾„ï¼Œç”±äºç¬¬ä¸€ä¸ªåŠåœ†ç”»å®Œè·¯å¾„æœªé‡ç½®ï¼Œç¬¬äºŒä¸ªåŠåœ†å°±ç»˜åˆ¶äº†ä¸¤æ¡è·¯å¾„ã€‚è¿™ä¼¼ä¹è§£é‡Šäº†ä¸Šä¸ªé—®é¢˜çš„ç­”æ¡ˆã€‚åœ¨ isInPath(x, y) å‡½æ•°ä¸­ï¼Œç”±äºè·¯å¾„æ²¡æœ‰é‡ç½®ï¼Œæ‰€ä»¥æœ€ç»ˆæœ€ç»ˆåˆ¤æ–­çš„ä¸æ­¢æ˜¯ ctx.arc(r, r, r, 0, Math.PI * 1) è¿™ä¸ªè·¯å¾„ï¼Œè¿˜æœ‰æ–¹æ³•å¤–çš„ç”»çº¢è‰²åœ†çš„è·¯å¾„ã€‚ä¸¤ä¸ªè·¯å¾„åŠ ä¸€èµ·è‡ªç„¶å°±æ˜¯ä¸ªæ•´åœ†ï¼Œæ‰€ä»¥æ— è®ºè“è‰²åŒºè¿˜æ˜¯çº¢è‰²åŒºéƒ½ä¼šè¾“å‡ºã€‚æ­£ç¡®ç»“æœfunction isInPath (x, y)&#123; ctx.beginPath(); ctx.arc(r, r, r, 0, Math.PI * 1); return ctx.isPointInPath(x, y)&#125;ä¿®æ”¹ isInPath å‡½æ•°ï¼ŒåŠ å…¥é‡ç½®è·¯å¾„ï¼Œç»“æœæ­£ç¡®è¾“å‡ºï¼šç¤ºä¾‹Demoã€‚å®æˆ˜ç¤ºä¾‹é¼ æ ‡æ‚¬æµ®æ˜¾ç¤ºåŒºå—æ•°æ®çš„é¥¼å›¾ã€‚","tags":[{"name":"Html5","slug":"Html5","permalink":"http://imys.net/tags/Html5/"},{"name":"Canvas","slug":"Canvas","permalink":"http://imys.net/tags/Canvas/"},{"name":"Event","slug":"Event","permalink":"http://imys.net/tags/Event/"}]},{"title":"VsCodeæ’ä»¶ï¼šä¸ƒç‰›å›¾åºŠå·¥å…·ï¼Œå†™æ–‡ç« æ›´å¿«ä¸€æ­¥","date":"2016-07-26T01:53:52.000Z","path":"20160726/vscode-extension-qiniu-upload.html","text":"å‰è¨€ä¸€ç›´ä»¥æ¥ï¼Œæˆ‘éƒ½å¾ˆå°‘åœ¨æ–‡ç« ä¸­åŠ æ’å›¾ã€‚å› ä¸ºæ¯åŠ ä¸€å¼ æ’å›¾ï¼Œæˆ‘éƒ½éœ€è¦å…ˆæŠŠå›¾ç‰‡ä¸Šä¼ åˆ°ä¸ƒç‰›ï¼Œç„¶åæ‰èƒ½è·å–å¤–é“¾æ’å…¥æ–‡ç« ã€‚ä¹‹å‰å†™ Markdown ä¸€ç›´æ˜¯ç”¨çš„ Sublimeï¼Œç›´åˆ° Vscode æœ€è¿‘ä¸€æ¬¡æ›´æ–°æœ‰äº† Tabs ä¹‹åï¼Œä¾¿å¼€å§‹å°è¯•åœ¨å·¥ä½œä¸­ä½¿ç”¨ã€‚ä¸æœ€åˆçš„é¢„è§ˆç‰ˆç›¸æ¯”è¿›æ­¥è›®å¤§çš„ï¼Œèƒ½çœ‹åˆ°å¾ˆå¤š VS çš„å½±å­ã€‚ä¹‹å‰ä¹Ÿç”¨è¿‡ä¸€æ®µæ—¶é—´ Atomï¼Œè™½ç„¶ç•Œé¢æŒºå–œæ¬¢ï¼Œä½†å§‹ç»ˆæ²¡æœ‰åŸç”Ÿå®¢æˆ·ç«¯çš„æµç•…æ„Ÿã€‚åˆ°åº•å®¢æˆ·ç«¯è¿˜æ˜¯å¾®è½¯çš„å¼ºé¡¹ï¼ŒVscode è¿™æ–¹é¢èˆ’æœå¤šäº†ï¼Œå¯åŠ¨ä¸å¤§æ–‡ä»¶ç¼–è¾‘éƒ½ä¸æ¯” Sublime å·®ã€‚Vscode æ˜¯åŸºäºæµè§ˆå™¨å†…æ ¸çš„è·¨å¹³å°ç¼–è¾‘å™¨ï¼Œåº•å±‚ä»£ç å¤§éƒ¨åˆ†éƒ½æ˜¯ TypeScriptï¼Œå½“ç„¶æœ€ç»ˆè¿˜æ˜¯ä¼šç¼–è¯‘ä¸º javascriptã€‚è¿™æ ·å¯¹äºä¸€ä¸ªå‰ç«¯è€Œè¨€å°±å€æ„Ÿäº²åˆ‡äº†ï¼Œå¯ä»¥è½»æ˜“çš„ä½¿ç”¨è‡ªå·±åƒé¥­çš„è¯­è¨€å»æ‰©å±•åŠŸèƒ½ã€‚æ‰€ä»¥è¿™ä¸ªä¸ƒç‰›å›¾åºŠå·¥å…·å°±è¯ç”Ÿäº†ã€‚vscode-qiniu-pvå¦‚ä½•å¼€å§‹æ’ä»¶ç¼–å†™è¿™é‡Œè¿˜æ˜¯æœ‰å¿…è¦æŠŠè¿™ä¸ªæ’ä»¶ç¼–å†™è¿‡ç¨‹å›é¡¾ä¸€ä¸‹ï¼Œå› ä¸ºç°åœ¨å¯ä¾›å‚è€ƒçš„ä¸­æ–‡èµ„æ–™å®åœ¨ä¸å¤šã€‚å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  vscodeç¼–å†™æ’ä»¶è¯¦ç»†è¿‡ç¨‹ æ¥å®Œæˆæ’ä»¶å¼€å‘ç¯å¢ƒéƒ¨ç½²å’Œåˆ›å»ºåŸºæœ¬é¡¹ç›®ã€‚é¡¹ç›®é…ç½®ä»¥ Javascript ç¼–å†™æ’ä»¶ä¸ºä¾‹ï¼Œè¿™é‡Œæˆ‘å‡è®¾ä½ å·²ç»å»ºç«‹äº†ä¸€ä¸ªåŸºç¡€é¡¹ç›®ã€‚å°±å¦‚æˆ‘ä»¬ç»å¸¸åœ¨ github ä¸Šè§åˆ°çš„å‰ç«¯æˆ– Node é¡¹ç›®ä¸€æ ·ï¼Œéƒ½æœ‰ä¸€ä¸ª package.json ç”¨äºæè¿°é¡¹ç›®ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ npm å‘½ä»¤å®‰è£…ä½ éœ€è¦çš„ç¬¬ä¸‰æ–¹åº“ã€‚æ­¤å¤–è¿™ä¸ªæ–‡ä»¶ä¸­åˆåŒ…å«äº†ä¸€äº›ä¸“å±äº Vscode çš„é…ç½®é¡¹ã€‚è¿™é‡Œä¸åœ¨å…³æ³¨å¸¸è§„çš„ package.json é…ç½®é¡¹ï¼Œåªä»‹ç» Vscode ç›¸å…³çš„ã€‚activationEventsæ’ä»¶åœ¨ä½•æ—¶è¢«æ¿€æ´»ã€‚onLanguage:${language}ï¼šæ‰“å¼€æŸç§æ ¼å¼çš„æ–‡ä»¶æ—¶onCommand:${command}ï¼šè¾“å…¥æŸç§å‘½ä»¤æ—¶ï¼ˆVscodeä¸­æŒ‰F1ï¼‰onDebug:${type}ï¼šè°ƒè¯•æŸç§è¯­è¨€ç±»å‹æ—¶workspaceContains:${toplevelfilename}ï¼šå½“ä½ çš„å·¥ä½œåŒºåŒ…å«æŸç§æ–‡ä»¶æ—¶ï¼Ÿ*ï¼šä»»ä½•æ—¶å€™ï¼Œç¼–è¾‘å™¨å¯åŠ¨å°±æ¿€æ´»æè¿°å¯èƒ½æœ‰è¯¯ï¼Œå¯¹åº”æ–‡æ¡£ï¼šActivation Eventsã€‚contributesContributes æ„æ€æ˜¯è´¡çŒ®ï¼Œè¿™ä¸ªå±æ€§ä¸­åŒ…å«çš„éƒ½æ˜¯å¯æ‰©å±•ç‚¹ã€‚keybindingsï¼šç»‘å®šæŒ‰é”®æ¥æ‰§è¡ŒæŸä¸ªå‘½ä»¤configurationï¼šå®šä¹‰ä½ çš„æ’ä»¶ä¸ªæ€§åŒ–é…ç½®menusï¼šæ‰©å±•èœå•commandsï¼šç”¨å‘½ä»¤åæ‰§è¡ŒæŸä¸ªå‘½ä»¤â€¦â€¦è¿™å››é¡¹åº”è¯¥æ˜¯æœ€å¸¸ç”¨çš„ï¼Œæ›´å¤šï¼šContribution Pointsã€‚OKï¼Œæœ‰äº†è¿™äº›ï¼Œå¤§æ¦‚å¯ä»¥ä¸ºä½ çš„æ’ä»¶ç¼–å†™ä½œæ„æ€äº†ã€‚&#123; // æ’ä»¶ä½•æ—¶è¢«æ¿€æ´» \"activationEvents\": [ // æ‰“å¼€ä¸€ä¸ª Markdown æ–‡ä»¶æ—¶ï¼Œæ’ä»¶å°†è¢«æ¿€æ´» \"onLanguage:markdown\" ], // æ’ä»¶å…¥å£æ–‡ä»¶ \"main\": \"./extension\", // æ‰©å±•ç‚¹ \"contributes\": &#123; // æŒ‰é”®ç»‘å®šï¼Œå½“ç¼–è¾‘åŒºå…·æœ‰ç„¦ç‚¹ä¸”è¯­è¨€ä¸º markdown æ—¶ï¼ŒæŒ‰ ctrl+q æ‰§è¡Œ extension.qiniu.uploadï¼Œä¹Ÿå¯é’ˆå¯¹ mac å¹³å°ç‹¬ç«‹é…ç½® \"keybindings\": [&#123; \"command\": \"extension.qiniu.upload\", \"key\": \"ctrl+q\", \"mac\": \"ctrl+q\", \"when\": \"editorTextFocus &amp;&amp; editorLangId == 'markdown'\" &#125;], // æ’ä»¶é…ç½®å±æ€§ï¼Œå½“ä½ æƒ³è¦è·å– qiniu çš„é…ç½®æ—¶ï¼Œä»¥ä¸‹æ‰€æœ‰ qiniu.xx å±æ€§å°†åˆå¹¶äºä¸€ä¸ªå¯¹è±¡ä¸­ // title å’Œ description å°†ä½œä¸ºæ³¨é‡Šå’Œå±æ€§æç¤ºåˆ†åˆ«åœ¨é»˜è®¤é…ç½®æ–‡ä»¶å’Œç”¨æˆ·é…ç½®æ–‡ä»¶ä¸­å‘ˆç° \"configuration\": &#123; \"type\": \"object\", \"title\": \"qiniu configuration\", \"properties\": &#123; \"qiniu.enable\": &#123; \"type\": \"boolean\", \"default\": false, \"description\": \"ä¸ƒç‰›å›¾ç‰‡ä¸Šä¼ å·¥å…·å¼€å…³\" &#125;, \"qiniu.access_key\": &#123; \"type\": \"string\", \"default\": \"\", \"description\": \"ä¸€ä¸ªæœ‰æ•ˆçš„ä¸ƒç‰› AccessKey ç­¾åæˆæƒã€‚\" &#125;, \"qiniu.secret_key\": &#123; \"type\": \"string\", \"default\": \"\", \"description\": \"ä¸€ä¸ªæœ‰æ•ˆçš„ä¸ƒç‰› SecretKey ç­¾åæˆæƒã€‚\" &#125;, \"qiniu.bucket\": &#123; \"type\": \"string\", \"default\": \"\", \"description\": \"ä¸ƒç‰›å›¾ç‰‡ä¸Šä¼ ç©ºé—´.\" &#125;, \"qiniu.remotePath\": &#123; \"type\": \"string\", \"default\": \"$&#123;fileName&#125;\", \"description\": \"ä¸ƒç‰›å›¾ç‰‡ä¸Šä¼ è·¯å¾„ï¼Œå‚æ•°åŒ–å‘½åã€‚\" &#125;, \"qiniu.domain\": &#123; \"type\": \"string\", \"default\": \"\", \"description\": \"ä¸ƒç‰›å›¾åºŠåŸŸåã€‚\" &#125; &#125; &#125; &#125;&#125;ä»¥æˆ‘çš„ package.json ä¸ºä¾‹ï¼Œæè¿°äº†ä»¥ä¸‹ä¿¡æ¯ï¼šå½“ä½ æ‰“å¼€ä¸€ä¸ª Markdown æ–‡ä»¶æ—¶ï¼Œæ’ä»¶å°†è¢«æ¿€æ´»ã€‚æ‰§è¡Œ ctrl+Q å°†å¯åŠ¨ä¸€ä¸ªå‘½ä»¤ï¼Œè¿˜æœ‰ä¸€ä¸ª when å±æ€§ï¼Œè¡¨ç¤ºé¢å¤–çš„å‘½ä»¤æ¿€æ´»æ¡ä»¶ã€‚å› ä¸ºè¦ä¸Šä¼ åˆ°ä¸ƒç‰›ï¼Œæ‰€ä»¥éœ€è¦ä¸€äº›ä½ çš„ä¸ƒç‰›ç”¨æˆ·ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯ configurationï¼Œè¿™å¯ä»¥åœ¨ä»£ç ä¸­æ–¹ä¾¿çš„è¯»å–åˆ°ã€‚æœ€åæˆ‘éœ€è¦ä»¥åˆé€‚çš„æ–¹å¼è·å–ä½ æƒ³ä¸Šä¼ çš„æœ¬åœ°å›¾ç‰‡ï¼Œä»¥ Markdown çš„å›¾ç‰‡æ ¼å¼å†™å…¥åˆ°ä½ çš„å…‰æ ‡ä½ç½®ã€‚ç¼–ç æ’ä»¶çš„å…¥å£æ–‡ä»¶åªæœ‰ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯é…ç½®ä¸­çš„ &quot;main&quot;: &quot;./extension&quot;ã€‚ä¸€ä¸ªåŸºç¡€çš„å…¥å£æ–‡ä»¶æ˜¯è¿™æ ·çš„ï¼švar vscode = require('vscode');// æ’ä»¶æ¿€æ´»æ—¶æ‰§è¡Œfunction activate(context) &#123; // æ³¨å†Œå‘½ä»¤ var disposable = vscode.commands.registerCommand('extension.hello', function () &#123; // ç¼–è¾‘å™¨ä¸Šæ–¹æ˜¾ç¤ºä¸€æ¡ä¿¡æ¯ vscode.window.showInformationMessage('hello!'); &#125;) // åŠ å…¥é‡Šæ”¾é˜Ÿåˆ—ï¼Ÿ context.subscriptions.push(disposable);&#125;exports.activate = activate;// æ’ä»¶åœç”¨æ—¶æ‰§è¡Œfunction deactivate() &#123;&#125;exports.deactivate = deactivate;é€šè¿‡è¿™ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥å‘ç° vscode æ˜¯ä¸ªå…³é”®çš„å¯¹è±¡ï¼Œæ’ä»¶èƒ½åšå¤šå°‘äº‹éƒ½å–å†³äºè¿™ä¸ªå¯¹è±¡å¯ä»¥æä¾›å¤šå°‘æ¥å£æ”¯æŒã€‚æœ€åˆæˆ‘æ˜¯æƒ³é€šè¿‡å¤åˆ¶å‘½ä»¤å®ç°åŠŸèƒ½çš„ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·å¤åˆ¶ä¸€ä¸ªå›¾ç‰‡åˆ°ç¼–è¾‘å™¨ï¼Œç„¶åæ‹¦æˆªå‰ªè´´æ¿æ‹¿åˆ°å›¾ç‰‡è·¯å¾„ä¸Šä¼ ã€æ’å…¥æ–‡æ¡£ã€‚äº‹ä¸æ„¿è¿ï¼ŒVscode æ²¡æœ‰æä¾›è¿™æ–¹æ³•çš„æ¥å£æ”¯æŒï¼Œè§ï¼šIssues: Clipboard access through Extensions APIã€‚ä¸‹é¢æåˆ°ä¸€ä¸ªç¬¬ä¸‰æ–¹åŒ… node-copy-paste ä¹Ÿä»…èƒ½è®¿é—®å­—ç¬¦ä¸²ä¿¡æ¯ï¼Œåªå¥½ä½œç½¢ã€‚Vscode çš„æ¥å£è°ƒç”¨å¤§æ¦‚åˆ†ä¸ºä¸¤ç±»ï¼šå‘½ä»¤è°ƒç”¨ï¼šComplex Commands API å’Œå¯¹è±¡æ–¹æ³•è°ƒç”¨ï¼švscode namespace APIã€‚å‰è€…å¾ˆæ˜“ç”¨ï¼Œæ¯”å¦‚é¢„è§ˆ html çš„ç¤ºä¾‹ï¼šlet success = await commands.executeCommand('vscode.previewHtml', Uri.parse('file:///some/path/to/file.html'));æ–‡æ¡£çš„ç¤ºä¾‹æ˜¯ TypeScript å†™çš„ï¼Œè½¬æ¢ä¸º ES5 åº”è¯¥æ˜¯è¿™æ ·ï¼švar success = commands.executeCommand('vscode.previewHtml', Uri.parse('file:///some/path/to/file.html')) .then(function(ret)&#123; // success &#125;, function(err) &#123; // error &#125;)å¦‚æœèƒ½è°ƒç”¨ä¸€ä¸ªé€‰æ‹©æ–‡ä»¶çš„çª—å£è·å–æœ¬åœ°å›¾ç‰‡è·¯å¾„æœ€å¥½ä¸è¿‡äº†ã€‚å¯æˆ‘ç¿»éäº†æ–‡æ¡£ï¼Œä¹Ÿåªæ‰¾åˆ°äº†ä¸€ä¸ªé€‰æ‹©æ–‡ä»¶å¤¹çš„å‘½ä»¤ vscode.openFolderï¼Œç®€ç›´å°±æ˜¯ä¸æƒ³è®©ä½ å†™çš„å¤ªè½»æ¾ã€‚æœ€ç»ˆåªèƒ½ä½¿ç”¨ä¸€ä¸ªè¾“å…¥æ¡†æ¥æ¥æ”¶æœ¬åœ°å›¾ç‰‡è·¯å¾„ï¼Œä¹Ÿå°±æ˜¯é¢„è§ˆå›¾ä¸­çš„æ•ˆæœã€‚ä»¥ä¸‹æ˜¯æˆ‘ç”¨åˆ°çš„ä¸€äº›APIï¼š// è·å–é…ç½®æ–‡ä»¶ä¸­çš„æ’ä»¶é…ç½®vscode.workspace.getConfiguration('qiniu')// æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯vscode.window.showErrorMessage('error')// æ˜¾ç¤ºä¸€ä¸ªè¾“å…¥æ¡†ï¼Œè¿”å› Promise å¯¹è±¡vscode.window.showInputBox(option)// ç¼–è¾‘æ–‡ä»¶çš„å‡½æ•°ï¼Œå‚æ•°è¿˜æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°çš„å‚æ•°æ‰æ˜¯çœŸæ­£çš„å¯ä»¥ç”¨æ¥å¢åˆ æ–‡å­—çš„å¯¹è±¡vscode.window.activeTextEditor.edit(function(textEditorEdit) &#123; // åœ¨å…‰æ ‡ä½ç½®æ’å…¥æ–‡æœ¬ // textEditorEdit.insert(editor.selection.active, img);&#125;)æœ€ç»ˆæŠ€æœ¯æ”¯æŒå…¶å®æ˜¯ ä¸ƒç‰›SDK ãƒ¾(ï½¥Ï‰ï½¥`ï½¡)ã€‚å…·ä½“çš„ä»£ç å¯ä»¥å» Github ä¸Šçœ‹ã€‚å®‰è£…æ‰“åŒ…ã€å‘å¸ƒé‚£ç¯‡æ–‡ç« ä¸­ä¹Ÿæåˆ°äº†ï¼Œæˆ‘å·²ç»æ‰“åŒ…æ”¾åˆ°äº† Github ä»“åº“ä¸­ï¼Œå°±æ˜¯é‚£ä¸ª Â·vsix æ–‡ä»¶ã€‚ä½¿ç”¨ Ctrl+O é€‰æ‹©æ’ä»¶åŒ…å°±å¯ä»¥å®‰è£…äº†ï¼Œåœ¨ç”¨æˆ·é…ç½®æ–‡ä»¶ä¸­åŠ ä¸€ä¸‹ä½ çš„ä¸ƒç‰›é…ç½®ï¼Œé‡å¯ä¸‹å°±èƒ½ç”¨äº†ï¼Œå¿«æ·é”® ctrl+qã€‚åŒæ—¶å¯ä»¥é€šè¿‡ç¼–è¾‘å™¨å·¦ä¾§æ’ä»¶é¢æ¿åœ¨çº¿æœç´¢ qiniu-upload-image å®‰è£…ã€‚æ–‡ä»¶ -&gt; é¦–é€‰é¡¹ -&gt; ç”¨æˆ·è®¾ç½®ï¼Œåœ¨å³ä¾§åŒºåŸŸç¼–å†™æ’ä»¶é…ç½®è¦†ç›–é»˜è®¤é…ç½®ã€‚é…ç½®æ–‡ä»¶ç¤ºä¾‹å¦‚ä¸‹ï¼Œå‚è€ƒä½ çš„ä¸ƒç‰›ç”¨æˆ·ä¿¡æ¯å¡«å†™ï¼š&#123; \"qiniu.enable\": true, \"qiniu.access_key\": \"xxxxxxxxxxxxx\", \"qiniu.secret_key\": \"xxxxxxxxxxxxx\", \"qiniu.bucket\": \"yourBucket\", \"qiniu.remotePath\": \"$&#123;fileName&#125;\", \"qiniu.domain\": \"http://xxx.xxxxx.com\"&#125;ç¼–è¾‘å™¨ä¸­é¼ æ ‡æ‚¬æµ®ä¼šæ˜¾ç¤ºå±æ€§æç¤ºã€‚Enjoy!","tags":[{"name":"VsCode","slug":"VsCode","permalink":"http://imys.net/tags/VsCode/"},{"name":"Qiniu","slug":"Qiniu","permalink":"http://imys.net/tags/Qiniu/"},{"name":"Markdown","slug":"Markdown","permalink":"http://imys.net/tags/Markdown/"}]},{"title":"å¯¹å…ƒç´ ç‰¹æ€§å·§å¦™åˆ©ç”¨çš„ä¸€äº›ä¾‹å­","date":"2016-07-15T01:10:40.000Z","path":"20160715/clever-use-of-elements-feature.html","text":"åœ¨ä¸€äº›æ¡†æ¶å’Œåº“ä¸­éƒ½å¯è§åˆ°ä¸€äº›åˆ›å»ºä¸€ä¸ªç©ºå…ƒç´ ï¼Œé€šè¿‡å¯¹è¯¥å…ƒç´ ç‰¹æ€§æµ‹è¯•æ¥åˆ¤å®šå½“å‰è¿è¡Œç¯å¢ƒæ˜¯å¦æ”¯æŒæŸç§ç‰¹æ€§çš„è¿ç”¨ã€‚jQuery ä¹Ÿæ˜¯ä»¥æ­¤æ¥ support å„ç§ç¯å¢ƒï¼Œä¸å…¶é€šè¿‡å¯è¢«éšæ„ä¿®æ”¹çš„ UA æµ‹è¯•ç¯å¢ƒå€’ä¸å¦‚ç›´æ¥åˆ›å»ºå…ƒç´ æµ‹è¯•æ¥çš„å‡†ç¡®ã€‚æˆ‘ä»¬å¯åˆ©ç”¨å…ƒç´ æœ¬èº«ç‰¹æ€§å»åšçš„äº‹å¹¶ä¸æ­¢äº ç‰¹æ€§æµ‹è¯•ã€‚ç»†å¿ƒä¸€ç‚¹ï¼Œä½ ä¼šå‘ç°ä¸€äº›å…ƒç´ ç‹¬ä¸€æ— äºŒçš„ç‰¹æ€§å¯ä»¥è¢«å·§å¦™åˆ©ç”¨æ¥åšä¸€äº›å·¥ä½œã€‚HTMLè½¬ä¹‰åˆ›å»º Option å®ä¾‹ï¼Œä¼ å…¥è¦è¢«è½¬ä¹‰çš„å­—ç¬¦ä¸²ã€‚å› ä¸º Option æ„é€ å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°ä¸º textï¼Œæ‰€ä»¥ä»»ä½ ä¼ å…¥ä»»ä½• html ä»£ç éƒ½ä¼šè¢«è½¬ä¹‰ä¸º textNodeã€‚new Option('&lt;div&gt;&lt;/div&gt;').innerHTML // \"&amp;lt;div&amp;gt;&amp;lt;/div&amp;gt;\"åŒç†ï¼Œç»™ div çš„ innerText èµ‹å€¼ï¼Œå†é€šè¿‡ innerHTML å–ï¼Œä¹Ÿå¯ä»¥åšåˆ°ï¼Œåªæ˜¯çœ‹èµ·æ¥ä¸å¦‚ä¸€è¡Œä»£ç æ¥çš„å·§å¦™ã€‚var div = document.createElement('div');div.innerText = '&lt;a&gt;&lt;/a&gt;';console.log(div.innerHTML) // \"&amp;lt;a&amp;gt;&amp;lt;/a&amp;gt;\"è§£æURLa æ ‡ç­¾å¤©ç”Ÿæ”¯æŒè¿™äº› URL å±æ€§ï¼Œæ˜¯ä¸æ˜¯åƒæäº† NodeJS ä¸­ URL å¯¹è±¡ã€‚var a = document.createElement('a');a.href = 'http://test.com:3000/a/b?k=1#dd';console.log(a.protocol); // \"http:\"console.log(a.host); // \"test.com\"console.log(a.hostname) // \"test.com\"console.log(a.port) // 3000console.log(a.pathname) // \"/a/b\"console.log(a.search) // \"?k=1\"console.log(a.hash) // \"#dd\"è·å–ä¸€ä¸²æ–‡å­—åœ¨æµè§ˆå™¨ä¸­æ‰€å çš„å®½åº¦æƒ³çŸ¥é“å®½åº¦è¿˜ä¸ç®€å•ï¼Œæ‰”åˆ°æµè§ˆå™¨ä¸­è·‘ä¸€åœˆçœ‹çœ‹ã€‚var tester = document.createElement('div');tester.style.display = 'inline-block';tester.innerHTML = 'åšå®¢ï¼šimys.net';document.body.appendChild(tester);console.log(tester.offsetWidth)display å±æ€§ä¸€å®šè¦è®¾ç½®ä¸º inline-blockã€‚å› ä¸º div:display é»˜è®¤ä¸º blockï¼Œå—çº§å…ƒç´ å®½åº¦é»˜è®¤ç­‰äºçˆ¶çº§å…ƒç´ å®½åº¦ï¼Œè¿™æ ·è·å–åˆ°çš„å®½åº¦å°±ä¸æ˜¯å­—ç¬¦çš„å®½åº¦äº†ã€‚å½“ä½ æƒ³ç”¨ js å»æˆªæ–­ä¸€æ®µé•¿æ–‡å­—æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªä¾‹å­ã€‚åˆ¤æ–­canvasæ˜¯å¦ä¸ºç©ºä¸¤ä¸ªç­‰å®½ç­‰é«˜å†…å®¹ç›¸åŒçš„ canvas æ‰€ç”Ÿæˆçš„ dataURL æ˜¯ç›¸åŒçš„ï¼Œè¿™æ ·æœ€ç»ˆæŠŠå¯¹è±¡çš„æ¯”è¾ƒè½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ¯”è¾ƒã€‚function isCanvasBlank(canvas) &#123; var blank = document.createElement('canvas'); blank.width = canvas.width; blank.height = canvas.height; return canvas.toDataURL() === blank.toDataURL();&#125;è·å–Computed stylesè¿™é‡Œçš„ Computed styles ä¸æ˜¯æŒ‡ getComputedStyle(element) å‡½æ•°ç»“æœï¼Œè€Œæ˜¯åƒæµè§ˆå™¨ Dev Tools ä¸­ Styles é¢æ¿å³ä¾§çš„è®¡ç®—æ ·å¼ã€‚æ˜¯è¦è·å–æœ€ç»ˆè¢«æ ·å¼è¡¨å½±å“çš„ css å±æ€§ï¼Œä¸åŒ…æ‹¬æ ‡ç­¾é»˜è®¤å±æ€§å’Œ user agent stylesheetã€‚function filterInheritedStyles(el)&#123; var tester = document.createElement(el.tagName); document.body.appendChild(tester); // å…ƒç´ å¿…é¡»æ’å…¥åˆ°æ–‡æ¡£ä¸­æ‰èƒ½è®¡ç®—å‡ºé»˜è®¤æ ·å¼ var defaultStyle = window.getComputedStyle(tester, null); var currentStyle = window.getComputedStyle(el, null); var ret = &#123;&#125;; for(var k in currentStyle) &#123; if(currentStyle.getPropertyValue(k) !== defaultStyle.getPropertyValue(k)) &#123; ret[k] = currentStyle.getPropertyValue(k); &#125; &#125; document.body.removeChild(tester); return ret;&#125;åˆ›å»ºä¸€ä¸ªæ ‡ç­¾ç›¸åŒçš„ Element æ·»åŠ åˆ°æ–‡æ¡£ä¸­äº§ç”Ÿé»˜è®¤æ ·å¼ï¼Œä¸å½“å‰å…ƒç´ æ ·å¼é€ä¸ªæ¯”è¾ƒï¼Œè¿”å›ä¸ä¸€è‡´çš„æ ·å¼å±æ€§ã€‚ä¸è¿‡è¿™ä¸ªå‡½æ•°è¿˜ä¸æ˜¯æœ€ç»ˆç‰ˆçš„ã€‚å½“ä¸€ä¸ªå…ƒç´ è¢«æ’å…¥åˆ°æ–‡æ¡£ä¸­æ—¶ï¼Œç”±äºæ²¡æœ‰æ·»åŠ  id ã€ class ã€style å±æ€§ï¼Œä¹Ÿå°±ä¸ä¼šå— id é€‰æ‹©å™¨ã€ç±»é€‰æ‹©å™¨ã€è¡Œå†…æ ·å¼å½±å“ï¼Œä½†æ˜¾ç„¶ä¼šå—æ ‡ç­¾é€‰æ‹©å™¨å½±å“ã€‚æ‰€ä»¥å¦‚æœèƒ½åœ¨è¿”å›å€¼åŸºç¡€ä¸Šå¯¹æ ‡ç­¾é€‰æ‹©å™¨å±æ€§è¿›è¡Œè¿‡æ»¤ï¼Œæ‰æ˜¯æœ€ç»ˆç»“æœã€‚ä½†ç›®å‰é€šè¿‡ document.styleSheets åªé™äºè·å–å†…è”æ ·å¼è¡¨ä¸­è§„åˆ™ï¼Œå¯¹äºå¤–éƒ¨æ ·å¼è¡¨ä¸­çš„è§„åˆ™æ£€ç´¢è¿˜æ²¡æœ‰ä»€ä¹ˆå¥½çš„åŠæ³•ã€‚æš‚æ—¶åªçŸ¥é“è¿™ä¹ˆå¤šã€‚é’ˆå¯¹å‰ç«¯å¤æ‚çš„å®¢æˆ·ç¯å¢ƒï¼Œå•å°± ç‰¹æ€§æµ‹è¯• è€Œè¨€å·²ç»å¯ä»¥å¸®æˆ‘ä»¬è§£å†³å¾ˆå¤šé—®é¢˜äº†ã€‚","tags":[{"name":"Html","slug":"Html","permalink":"http://imys.net/tags/Html/"},{"name":"JavaScript","slug":"JavaScript","permalink":"http://imys.net/tags/JavaScript/"},{"name":"æŠ€å·§","slug":"æŠ€å·§","permalink":"http://imys.net/tags/æŠ€å·§/"},{"name":"Element","slug":"Element","permalink":"http://imys.net/tags/Element/"}]},{"title":"è·å–ç§»åŠ¨è®¾å¤‡æ—‹è½¬æ–¹å‘çš„å‡ ä¸ªæ–¹æ¡ˆ","date":"2016-06-22T01:02:03.000Z","path":"20160622/screen-rotation-case.html","text":"æŸäº›åé—¨çš„ API çœŸæ˜¯æ²¡æœ‰éœ€æ±‚ä¸€è¾ˆå­éƒ½ä¸çŸ¥é“å•Šã€‚åˆ†äº«ä¸€ä¸‹æœ€è¿‘å¯¹äºè·å–ç§»åŠ¨è®¾å¤‡æ—‹è½¬æ–¹å‘çš„æ¢ç´¢ã€‚deviceorientationwindow.addEventListener('deviceorientation', function(e)&#123; console.log('absolute: ' + e.absolute) console.log('alpha: ' + e.alpha) console.log('beta: ' + e.beta) console.log('gamma: ' + e.gamma)&#125;);ä¹‹å‰åœ¨ segmentfault å›ç­”è¿‡ç›¸å…³é—®é¢˜ï¼Œå½“æ—¶æ˜¯ä» MDN ç¿»å‡ºäº†è¿™ä¸ªäº‹ä»¶ã€‚åŸè´´ï¼šh5 é¡µé¢å¦‚ä½•è·å–æ‰‹æœºé™€èºä»ªçš„å‚æ•°è¯¥äº‹ä»¶åœ¨ç§»åŠ¨ç«¯å…¼å®¹è¾ƒå¥½ï¼šAndroid Webview 4.3+ã€Chrome for Android 5.0ã€iOS 8.4+ï¼Œæ®æˆ‘æµ‹è¯•å¾®ä¿¡ä¹Ÿæ˜¯æ”¯æŒçš„ã€‚æ²¡æœ‰åœ¨ä½ç«¯æœºä¸Šæµ‹è¯•è¿‡ï¼Œå¯èƒ½è¯¥äº‹ä»¶ä¼šä¾èµ–è®¾å¤‡ä¼ æ„Ÿå™¨ï¼Œå¯ä»¥åŠ ä¸ª &#39;ondeviceorientation&#39; in window åˆ¤æ–­ä¸€ä¸‹ã€‚è¯¥äº‹ä»¶è§¦å‘é¢‘ç‡é«˜ï¼Œé€‚åˆå¯¹è®¾å¤‡æ—‹è½¬ç²¾åº¦è¦æ±‚è¾ƒé«˜çš„åœºæ™¯æˆ–æ˜¯ 3d åœºæ™¯ç­‰ï¼Œæ¯”å¦‚ä¸Šé¢é—®é¢˜ä¸­çš„å¹³è¡¡çƒã€‚orientationchangeå½“è®¾å¤‡çš„æ–¹å‘æ”¹å˜æ—¶ï¼Œè§¦å‘è¯¥äº‹ä»¶ã€‚window.addEventListener(\"orientationchange\", function() &#123; console.log('angle: ' + screen.orientation.angle);&#125;);è¯¥äº‹ä»¶æ˜¯åŸºäº 2d å¹³é¢è§’åº¦è§¦å‘ï¼Œè¾“å‡ºä»…æœ‰ 0ã€90ã€270 3ä¸ªæ•°å€¼ï¼Œå¯ä»¥ç”¨æ¥çŸ¥æ™“å½“å‰è®¾å¤‡çš„æ‰‹æŒæ–¹å‘ã€‚è‡³äºä¸ºä»€ä¹ˆæ²¡æœ‰ 360 è¿™ä¸ªè§’åº¦ï¼Œå¯èƒ½è·Ÿè®¾å¤‡æœ‰å…³ã€‚æˆ‘çš„æ‰‹æœºæ€ä¹ˆè½¬éƒ½åˆ°ä¸äº† 360 åº¦ï¼Œä¹Ÿå°±æ˜¯ç«–å±æ—¶æ— æ³•ç¿»è½¬ã€‚è§¦å‘è¿™ä¸ªäº‹ä»¶éœ€è¦è®¾å¤‡å¼€å¯å±å¹•æ—‹è½¬ï¼Œæˆ–è€…å«å±å¹•é”å®šï¼Œä¸åŒçš„è®¾å¤‡å«æ³•ä¸ä¸€æ ·ã€‚å…¼å®¹æ€§æ˜¯ä¸ªå¤§é—®é¢˜ï¼Œç›®å‰åªå‘ç°æ‰‹æœºä¸Šçš„ Chrome å¯ä»¥ä½¿ç”¨ï¼Œå¾®ä¿¡ã€iOSã€ä»¥åŠä¸€äº›åŒæ ¸å›½äº§æµè§ˆå™¨éƒ½ä¸å…¼å®¹ã€‚screen.orientationé€šè¿‡ä¸Šä¸ªäº‹ä»¶è®©æˆ‘å‘ç°äº†screen.orientationï¼Œåœ¨æ§åˆ¶å°è¾“å‡ºåï¼Œå‘ç°å®ƒä¹Ÿæœ‰äº‹ä»¶æ”¯æŒã€‚console.log(screen.orientation) // &#123;angle: 0, type: \"landscape-primary\", onchange: null&#125;screen.orientation.onchange = function()&#123; console.log('angle: ' + screen.orientation.angle);&#125;é€šè¿‡å¯¹è¯¥å¯¹è±¡è¾“å‡ºï¼Œå‘ç°ä¹Ÿå¯ä»¥ä½¿ç”¨ screen.orientation.type åˆ¤æ–­è®¾å¤‡æ–¹å‘ã€‚landscape-primary | landscape-secondaryï¼šæ¨ªå±ï¼›portrait-primary | portrait-secondary: ç«–å±ï¼›primary è¡¨ç¤ºå‘ä¸Šæˆ–å‘å³ï¼Œsecondary è¡¨ç¤ºå‘å·¦æˆ–å‘ä¸‹ã€‚ä¹‹åæµ‹è¯•è¯¥äº‹ä»¶ï¼Œæ‰‹æœº Chrome å’Œå›½äº§åŒæ ¸æµè§ˆå™¨é€šè¿‡ï¼Œç”Ÿäº§ç¯å¢ƒä¸‹ä½¿ç”¨è¿˜ä¸å¤Ÿç†æƒ³ã€‚window.onresizeå®Œå…¨æ˜¯çµæœºä¸€åŠ¨æƒ³åˆ°çš„ï¼Œè®¾å¤‡æ—‹è½¬ä¼šä½¿å±å¹•å®½é«˜ç½®æ¢ï¼Œè‡ªç„¶å°±ä¼šè§¦å‘ resize äº‹ä»¶ã€‚window.onresize = function()&#123; console.log('innerWidth: ' + this.innerWidth + ' innerHeight: ' + this.innerHeight);&#125;é€šè¿‡å±å¹•å®½é«˜æ¯”è¾ƒæ¥åˆ¤æ–­æ¨ªå±è¿˜æ˜¯ç«–å±ï¼Œè®¾å¤‡å…¼å®¹åº¦æ¯‹å®¹ç½®ç–‘ã€‚Media Queriesæœ€åå°±æ˜¯ css3 åª’ä½“æŸ¥è¯¢äº†ã€‚@media screen and (orientation: portrait)&#123; /* æ¨ªå± */&#125;@media screen and (orientation: landscape)&#123; /* ç«–å± */&#125;å¦‚æœä»…ä»…æ˜¯ä¸ºäº†é’ˆå¯¹å±å¹•æ–¹å‘æ·»åŠ æ ·å¼çš„è¯ï¼Œä½¿ç”¨åª’ä½“æŸ¥è¯¢æ˜¯æœ€ä½³æ–¹æ¡ˆäº†ã€‚ç§»åŠ¨ç«¯ä½¿ç”¨ä¹Ÿæ²¡æœ‰å…¼å®¹é—®é¢˜ï¼Œåª’ä½“æŸ¥è¯¢ä» IE9 å°±å¼€å§‹æ”¯æŒäº†ã€‚æµ‹è¯•Demoæµ‹è¯•Demo","tags":[{"name":"Html5","slug":"Html5","permalink":"http://imys.net/tags/Html5/"},{"name":"Mobile","slug":"Mobile","permalink":"http://imys.net/tags/Mobile/"},{"name":"deviceorientation","slug":"deviceorientation","permalink":"http://imys.net/tags/deviceorientation/"},{"name":"orientation","slug":"orientation","permalink":"http://imys.net/tags/orientation/"}]},{"title":"javascripté«˜é˜¶å‡½æ•°ä»‹ç»","date":"2016-05-30T15:02:08.000Z","path":"20160530/javascript-advanced-functions.html","text":"javascript è¯­è¨€çš„ç‰¹è‰²ä¹‹ä¸€ä¾¿æ˜¯å‡½æ•°å³å¯¹è±¡ï¼Œå› æ­¤ä¾¿æ»¡è¶³äº†é«˜çº§å‡½æ•°çš„æ¡ä»¶ã€‚é«˜é˜¶å‡½æ•°åœ¨ã€Šjavascriptè®¾è®¡æ¨¡å¼å’Œå¼€å‘å®è·µã€‹ä¸­æ˜¯è¿™æ ·å®šä¹‰çš„ã€‚å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°è¢«ä¼ é€’ï¼›å‡½æ•°å¯ä»¥ä½œä¸ºè¿”å›å€¼è¾“å‡ºã€‚å®é™…ä¸Šæˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­ä¼šç»å¸¸ç”¨åˆ°é«˜é˜¶å‡½æ•°ã€‚æ¥ä¸‹æ¥é€šè¿‡å‡ ä¸ªç»å…¸çš„åº”ç”¨æ¡ˆä¾‹ï¼Œå¸¦ä½ è®¤çŸ¥é«˜é˜¶å‡½æ•°ã€‚å›è°ƒå‡½æ•°æèµ·å›è°ƒï¼Œç»å…¸çš„åº”ç”¨è«è¿‡äº Ajax å¼‚æ­¥è¯·æ±‚ã€‚ä»¥ jQuery ä¸ºä¾‹ã€‚var getData = function(url, callback) &#123; $.get(url, function(data)&#123; callback(data); &#125;);&#125;ç”±äºç½‘ç»œè¯·æ±‚æ—¶é—´çš„ä¸å›ºå®šæ€§ï¼Œæˆ‘ä»¬ä¸èƒ½ç¡®å®šè¯·æ±‚å®Œæˆçš„å…·ä½“æ—¶é—´ï¼Œé‚£ä¹ˆè§£å†³çš„åŠæ³•å°±æ˜¯ä¼ é€’ä¸€ä¸ªå¤„ç†å‡½æ•°ä½œä¸ºå‚æ•°åˆ°è¯·æ±‚æ•°æ®çš„æ–¹æ³•ä¸­ï¼Œè¯·æ±‚å®Œæˆåæ‰§è¡Œå›è°ƒå‡½æ•°ã€‚AOPAOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰æ˜¯è‘—åçš„Java Springæ¡†æ¶ä¸­çš„æ ¸å¿ƒæ¦‚å¿µä¹‹ä¸€ã€‚é€šè¿‡æ­¤ç¼–ç¨‹æ¨¡å¼å¯ä»¥åœ¨ä¿æŒä¸»é€»è¾‘ä»£ç ä¸å˜çš„å‰æä¸‹ï¼Œè¿›è¡Œé¢å¤–çš„åŠŸèƒ½æ‹“å±•ã€‚åœ¨ Java ä¸­ä½¿ç”¨ AOP å¾€å¾€è¦é€šè¿‡ä¸€äº›é«˜çº§ç‰¹æ€§æ¥å®ç°ï¼Œè€Œ javascript å°±ç®€å•å¤šäº†ã€‚æ¯”å¦‚æµ‹è¯•ä¸€ä¸ªå‡½æ•°çš„æ‰§è¡Œæ•ˆç‡ã€‚var service = function()&#123; console.log('åŠŸèƒ½é€»è¾‘...');&#125;var test = (function()&#123; var time_start; return &#123; before: function()&#123; time_start = (+new Date()); console.log('è®¡æ—¶å¼€å§‹...'); &#125;, after: function()&#123; var end = (+new Date()) - time_start; console.log('è®¡æ—¶ç»“æŸï¼Œç”¨æ—¶ï¼š' + end); &#125; &#125;&#125;)();var aop = function(fn, proxy)&#123; proxy.before &amp;&amp; proxy.before(); fn(); proxy.after &amp;&amp; proxy.after();&#125;aop(service, test);// è®¡æ—¶å¼€å§‹...// åŠŸèƒ½é€»è¾‘...// è®¡æ—¶ç»“æŸï¼š1æŸ¯é‡ŒåŒ–åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼ŒæŸ¯é‡ŒåŒ–ï¼ˆè‹±è¯­ï¼šCurryingï¼‰ï¼Œåˆè¯‘ä¸ºå¡ç‘åŒ–æˆ–åŠ é‡ŒåŒ–ï¼Œæ˜¯æŠŠæ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°å˜æ¢æˆæ¥å—ä¸€ä¸ªå•ä¸€å‚æ•°ï¼ˆæœ€åˆå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿”å›æ¥å—ä½™ä¸‹çš„å‚æ•°è€Œä¸”è¿”å›ç»“æœçš„æ–°å‡½æ•°çš„æŠ€æœ¯ã€‚è¿™æ¦‚å¿µç€å®è®©æˆ‘ç¢ç£¨äº†åŠå¤©ï¼Œè½¬æ¢æˆä»£ç å¤§æ¦‚æ˜¯è¿™æ ·çš„ã€‚fn(1, 2, 3, 4) -&gt; fn(1)(2)(3)(4)() å‡è®¾è¿™ä¸ªå‡½æ•°æ˜¯ç”¨äºæ±‚å’Œï¼Œé‚£ä¹ˆå°±æ˜¯æŠŠæœ¬æ¥æ¥æ”¶å¤šä¸ªå‚æ•°ä¸€æ¬¡æ€§æ±‚å’Œçš„å‡½æ•°æ”¹æˆäº†æ¥æ”¶å•ä¸€å‚æ•°é€ä¸ªæ±‚å’Œçš„å‡½æ•°ã€‚è¿™æ ·æ˜¯ä¸æ˜¯å®¹æ˜“ç†è§£äº†ã€‚æ¥å®ç°ä¸€ä¸ªæŸ¯é‡ŒåŒ–æ±‚å’Œå‡½æ•°ã€‚var currying = function(fn)&#123; var args = []; return function()&#123; if(!!arguments.length) &#123; [].push.apply(args, arguments); return arguments.callee; &#125; else &#123; return fn.apply(this, args); &#125; &#125;&#125;var sum = (function(num)&#123; var ret = 0; return function()&#123; for(var i = 0, len = arguments.length; i &lt; len; i++) &#123; ret += arguments[i]; &#125; return ret; &#125;&#125;)();var newSum = currying(sum);newSum(1)(2)(3)(4)() // 10çœ‹èµ·æ¥æŒºå·§å¦™ï¼Œä½†æ˜¯è¿™ç§æ¡ˆä¾‹æ˜æ‘†ç€å°±åƒä¸ä»å®é™…å‡ºå‘çš„é¢è¯•é¢˜ã€‚é‚£å†çœ‹ä¸‹ä¸€ä¸ªä¾‹å­ã€‚var find = function(arr, el)&#123; return arr.indexOf(el) !== -1;&#125;ä¸€ä¸ªç®€å•çš„å‡½æ•°ç”¨äºæŸ¥è¯¢æ•°ç»„ä¸­æ˜¯å¦æŸä¸ªå€¼ï¼Œæ¯æ¬¡ä½¿ç”¨éƒ½éœ€è¦è¿™æ ·è°ƒç”¨ã€‚find(arr, 1);find(arr, 2);æ—¢ç„¶ arr æ˜¯ä¸ªå›ºå®šå‚æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å…ˆä¿å­˜ä¸€ä¸ªæ¥æ”¶è¿‡ arr çš„å‡½æ•°ï¼Œå†ç”¨è¿™ä¸ªå‡½æ•°å»å¤„ç†å˜åŒ–çš„å‚æ•°ã€‚var newFind = currying(find)(arr);newFind(1);newFind(2);åæŸ¯é‡ŒåŒ–ä¸æŸ¯é‡ŒåŒ–ç›¸å¯¹åº”ã€‚æŸ¯é‡ŒåŒ–æ˜¯ä¸ºäº†ç¼©å°é€‚ç”¨èŒƒå›´ï¼Œåˆ›å»ºä¸€ä¸ªé’ˆå¯¹æ€§æ›´å¼ºçš„å‡½æ•°ï¼›åæŸ¯é‡ŒåŒ–åˆ™æ˜¯æ‰©å¤§é€‚ç”¨èŒƒå›´ï¼Œåˆ›å»ºä¸€ä¸ªåº”ç”¨èŒƒå›´æ›´å¹¿çš„å‡½æ•°ã€‚å¯¹åº”çš„ä»£ç è½¬æ¢å°±å˜æˆè¿™æ ·ã€‚fn(1)(2)(3)(4) -&gt; fn(1, 2, 3, 4) å®ä¾‹Array.forEach = function()&#123; var fn = [].pop.call(arguments); var arr = arguments.length &gt; 1 ? arguments : arguments[0]; return [].forEach.call(arr, fn);&#125;Array.forEach(1, 2, 3, function(i)&#123; console.log(i); // 1 2 3&#125;);Array.forEach('123', function(i)&#123; console.log(i); // 1 2 3&#125;);Array.forEach(&#123; '0': 1, '1': 2, '2': 3, 'length': 3&#125;, function(i)&#123; console.log(i); // 1 2 3&#125;);ç±»æ•°ç»„å€Ÿç”¨ Array åŸå‹å‡½æ•°ï¼Œæ˜¯å¾ˆå¸¸è§çš„åº”ç”¨äº†ã€‚è¿™ä¸ªä¾‹å­åº”ç”¨ call å‡½æ•°æå–å‡ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå¯ä»¥æ¥æ”¶æ›´å¤šçš„å‚æ•°å’Œç±»å‹ï¼Œé€‚ç”¨æ€§æ›´å¹¿ã€‚å‡½æ•°èŠ‚æµå‡½æ•°èŠ‚æµä¹Ÿä¸ç®—å¾ˆå‰å®³çš„æŠ€å·§äº†ï¼Œå¹³å¸¸å†™ä»£ç ä¸¥è°¨çš„äººåº”è¯¥éƒ½æœ‰æ­¤ç±»åº”ç”¨çš„ç»å†ã€‚æ¯”å¦‚é¡µé¢æ»šåŠ¨åŠ è½½æ•°æ®çš„åœºæ™¯ã€‚å½“é¡µé¢æ»šåŠ¨åˆ°åº•éƒ¨æ—¶ï¼Œä¼šè§¦å‘ Ajax å»è¯·æ±‚æ•°æ®ï¼›å½“é¡µé¢æ»šåŠ¨é¢‘ç¹æ—¶ï¼Œå°±å¯èƒ½å‡ºç°ä¸Šä¸ªè¯·æ±‚è¿˜æœªç»“æŸåˆå¼€å§‹äº†ä¸€ä¸ªæ–°çš„è¯·æ±‚ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨å‡½æ•°èŠ‚æµäº†ã€‚var getData = (function()&#123; var onAjax = false; // æ˜¯å¦å¼€å§‹ ajax return function(callback)&#123; if(!onAjax) &#123; onAjax = true; $.get('/xxx', function(data)&#123; callback(data); onAjax = false; &#125;); &#125; &#125;&#125;)();$(window).scroll(function()&#123; if(æ»šåŠ¨åˆ°åº•éƒ¨) &#123; getData(render); &#125;&#125;);åˆ†æ—¶å‡½æ•°ä¸å‡½æ•°èŠ‚æµä¸€æ ·ï¼Œåˆ†æ—¶å‡½æ•°ä¹Ÿæ˜¯ç”¨æ¥è§£å†³å‡½æ•°é¢‘ç¹æ‰§è¡Œå¸¦æ¥çš„æ€§èƒ½é—®é¢˜ã€‚ä¸åŒçš„æ˜¯ï¼Œå‡½æ•°èŠ‚æµåœºæ™¯ä¸ºè¢«åŠ¨è°ƒç”¨ï¼Œåˆ†æ—¶å‡½æ•°ä¸ºä¸»åŠ¨è°ƒç”¨ã€‚å°±ç®—ä¸€ä¸ªåˆ—è¡¨å±•ç¤ºé¡µé¢æ²¡æœ‰ä½¿ç”¨åˆ†é¡µç»„ä»¶ï¼Œä¹Ÿä¼šåƒä¸Šä¸ªä¾‹å­é‚£æ ·è§¦å‘å¼åˆ†ç»„æ¸²æŸ“ã€‚è€Œå¦‚æœçœŸçš„é‡åˆ°éœ€è¦ä¸€æ¬¡æ€§æŠŠæ‰€æœ‰æ•°æ®æ¸²æŸ“åˆ°åˆ—è¡¨æ—¶ï¼Œå¤§é‡çš„ DOM åˆ›å»ºä¼šå¯¹æµè§ˆå™¨é€ æˆæå¤§å¼€é”€ï¼Œæˆ–å¡é¡¿ã€æˆ–å‡æ­»ç­‰ã€‚è¯¥å¤„ç†æ˜¯å¦å¿…é¡»åŒæ­¥å®Œæˆï¼Ÿæ•°æ®æ˜¯å¦å¿…é¡»æŒ‰é¡ºåºå®Œæˆï¼Ÿå¦‚æœä»¥ä¸Šä¸¤ä¸ªé—®é¢˜éƒ½ä¸ºâ€œå¦â€çš„è¯ï¼Œä¸ºä½•ä¸å°è¯•åˆ†å‰²è¿™ä¸ªå¤„ç†è¿‡ç¨‹ã€‚// arr: æºæ•°æ®// process: å¤„ç†å‡½æ•°// count: æ¯æ¬¡æŠ½å–ä¸ªæ•°var chunk = function(arr, process, count)&#123; setTimeout(function()&#123; for(var i = 0; i &lt; Math.min(count, arr.length); i++) &#123; process(arr.shift()); &#125; if(arr.length &gt; 0) &#123; setTimeout(arguments.callee, 100); &#125; &#125;, 100);&#125;åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—ï¼Œä½¿ç”¨å®šæ—¶å™¨å–å‡ºä¸‹ä¸€æ‰¹è¦å¤„ç†çš„é¡¹ç›®è¿›è¡Œå¤„ç†ï¼Œæ¥ç€åœ¨è®¾ç½®å¦ä¸€ä¸ªå®šæ—¶å™¨ã€‚ä¸€æ—¦æŸä¸ªå‡½æ•°éœ€è¦èŠ± 50ms ä»¥ä¸Šçš„æ—¶é—´å®Œæˆï¼Œé‚£ä¹ˆæœ€å¥½çœ‹çœ‹èƒ½å¦å°†ä»»åŠ¡åˆ†å‰²ä¸ºä¸€ç³»åˆ—å¯ä»¥ä½¿ç”¨å®šæ—¶å™¨çš„å°ä»»åŠ¡ã€‚æƒ°æ€§åŠ è½½å½“ä½ é€›ç½‘åº—å‘ç°äº†å¿ƒæ€¡çš„å•†å“æ—¶ï¼Œæ˜¯ç«‹åˆ»æ”¶è—æˆ–åŠ è´­ç‰©è½¦ï¼Œè¿˜æ˜¯ç­‰åˆ°ä¹°çš„æ—¶å€™å†æœç´¢ç›¸å…³å•†å“ä¸€ä¸ªä¸€ä¸ªçš„æ‰¾åˆ°å®ƒï¼Ÿæµè§ˆå™¨ç‰¹å¾æ£€æµ‹æ˜¯å‰ç«¯å¼€å‘ä¸­å¿…ä¸å¯å°‘çš„ï¼Œæ¯”å¦‚è¿”å›é¡¶éƒ¨ï¼Œæˆ‘ä»¬éœ€è¦åŒºåˆ†ç«ç‹å’Œå…¶ä»–æµè§ˆå™¨æ¥å†³å®š scrollTop åº”å½“è®¾ç½®ç»™è°ã€‚// æ–°æ‰‹var gotop = function()&#123; if(/firefox/i.test(navigator.userAgent)) &#123; document.documentElement.scrollTop = 0; &#125; else &#123; document.body.scrollTop = 0; &#125;&#125;// è€å¸æœºvar gotop = (function()&#123; var isFF = /firefox/i.test(navigator.userAgent); var docEl = document[ isFF ? 'documentElement' : 'body' ]; return function()&#123; docEl.scrollTop = 0; &#125;&#125;)();æµè§ˆå™¨çš„ç‰¹å¾æ˜¯ä¿æŒä¸å˜çš„ï¼Œæ—¢ç„¶å¦‚æ­¤ä¸ºä»€ä¹ˆä¸ä¸€å¼€å§‹å°±ä¿å­˜ä¸‹æ¥å‘¢ã€‚ä¸æ­¤åŒç†ï¼Œæ—¥å¸¸ç¼–ç¨‹ä¸­è¦æ³¨æ„ç¼“å­˜é‚£äº›ç»å¸¸ä½¿ç”¨ã€æ”¹å˜è¾ƒå°‘æˆ–ä¸åšæ”¹å˜çš„å†…å®¹ã€‚å‚è€ƒã€ŠJavaScriptè®¾è®¡æ¨¡å¼ä¸å¼€å‘å®è·µã€‹ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹ ç¬¬ä¸‰ç‰ˆJSå‡½æ•°å¼ç¼–ç¨‹æŒ‡å— - æŸ¯é‡ŒåŒ–ã€Šç¼–å†™é«˜è´¨é‡ä»£ç ï¼šæ”¹å–„JavaScriptç¨‹åºçš„188ä¸ªå»ºè®®ã€‹","tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://imys.net/tags/JavaScript/"},{"name":"Function","slug":"Function","permalink":"http://imys.net/tags/Function/"}]},{"title":"Hexoæ·»åŠ ç«™å†…æœç´¢åŠŸèƒ½åˆæ­¥å®Œæˆ","date":"2016-05-11T08:08:50.000Z","path":"20160511/hexo-search.html","text":"ä¸æ­¢ä¸€æ¬¡æœ‰åŒå­¦åœ¨ Issuesã€é‚®ä»¶ç­‰æ¸ é“ä¸­å‘æˆ‘åé¦ˆå¢åŠ ç«™å†…æœç´¢åŠŸèƒ½ã€‚æœ¬æ¥å‡†å¤‡ä»€ä¹ˆæ—¶å€™æä¸ª 2.0 ç‰ˆçš„ä¸»é¢˜å†åŠ ä¸Šè¿™äº›æ–°åŠŸèƒ½ï¼Œå¯ä¸€ç›´æ²¡ä»€ä¹ˆå¤ªå¥½çš„æƒ³æ³•ï¼Œåæ­£ä¹Ÿæ˜¯æŠ˜è…¾ï¼Œå°±æŠŠæœç´¢åŠŸèƒ½åšäº†ä¸€ä¸‹ã€‚æœç´¢æ–¹æ¡ˆé’ˆå¯¹æ— æ•°æ®åº“çš„é™æ€åšå®¢æœç´¢æ–¹æ¡ˆä¸€èˆ¬æœ‰ä¸¤ç§ï¼šç¬¬ä¸‰æ–¹æœç´¢æœåŠ¡ï¼›åºåˆ—åŒ–ç«™ç‚¹å†…å®¹ä½œä¸ºæ•°æ®æºï¼Œç„¶åè‡ªå·±å†™æŸ¥è¯¢æ–¹æ³•ã€‚ç¬¬ä¸‰æ–¹æœç´¢æœåŠ¡åŸºäºæœç´¢å¼•æ“çš„åŒ…æ‹¬ Google å’Œç™¾åº¦æä¾›çš„ç«™å†…æœç´¢ï¼Œæ¯”å¦‚ Hexo æ–‡æ¡£ä¸­çš„è¾…åŠ©å‡½æ•° search-form å°±æä¾›äº†ä¸€ä¸ª Google æœç´¢æ¡†ã€‚æœç´¢ç»“æœå–å†³äºè¯¥æœç´¢å¼•æ“å¯¹ä½ ç«™ç‚¹çš„æ”¶å½•æƒ…å†µã€‚æŠ›å¼€å…¶ä»–åŸå› æ¥è®²ï¼Œæ²¡æœ‰é¢œå€¼çš„æœç´¢æœåŠ¡æˆ‘æ˜¯ä¸ä¼šè€ƒè™‘çš„ã€‚æ¥ç€æˆ‘å®éªŒäº†ä¸€ä¸‹åœ¨ Hexo ä¸­æœ‰ç”¨æˆ·åŸºç¡€çš„ Swiftype å’Œ Hexo å®˜ç½‘ä½¿ç”¨çš„ Algoliaã€‚SwiftypeSwiftype å®‰è£…å¾ˆç®€å•ï¼Œå…³äºå…¶åœ¨ Hexo ä¸­ä½¿ç”¨çš„æ–‡ç« ä»‹ç»ä¹Ÿå¾ˆå¤šï¼Œæˆ‘åªè¯´ä¸‹ä½¿ç”¨ä½“éªŒã€‚é…åˆæˆ‘è‡ªå®šä¹‰çš„æœç´¢æ¡†æ ·å¼ï¼Œå¤–è§‚å±•ç°è¿˜ç®—è¿‡å…³ã€‚å¯ä»¥å¯¹è‰²è°ƒè¿›è¡Œä¿®æ”¹ï¼Œç”±äºæ˜¯åœ¨å•é¡µé¢å±•ç¤ºæœç´¢ç»“æœï¼Œå°±ç®—ä¸æä¾›å¤–è§‚ä¿®æ”¹ä¹Ÿå¯ä»¥è‡ªå·±é‡å†™ css ï¼Œç±»ä¼¼å¤šè¯´ã€‚Swiftype-colorsæœç´¢ç»“æœçš„å±•ç¤ºå¯ä»¥è‡ªå®šä¹‰ï¼ŒåŒ…æ‹¬å†…å®¹å¸ƒå±€ã€å­—æ®µæ’åˆ—ã€åˆ†é¡µç­‰ã€‚Swiftype-resultsæœç´¢ç»“æœå®¹å™¨å¯å®Œå…¨è‡ªå®šä¹‰ï¼Œå¯è®¾ç½®å•é¡µæˆ–æ–°é¡µé¢æ˜¾ç¤ºæœç´¢ç»“æœï¼Œå¯¹å¤–è§‚çš„æ§åˆ¶åŠ›æ›´å¼ºã€‚Swiftype-containerå¯ä»¥è®¾ç½®å­—æ®µæƒé‡ï¼Œæ¯”å¦‚ä¼˜å…ˆå±•ç¤ºæ–‡ç« æ ‡é¢˜çš„åŒ¹é…ç»“æœã€‚Swiftype-sortå¯ä»¥å•ç‹¬ä¸ºæŸä¸ªå…³é”®å­—æœç´¢ç»“æœè¿›è¡Œç®¡ç†ï¼Œæ¯”å¦‚æ’åºã€ç½®é¡¶ã€åˆ é™¤ç­‰ç­‰ï¼Œè¯è¯´æŸåº¦æ¨å¹¿ä¸å°±æ˜¯è¿™æ ·å—ã€‚Swiftype-rankå¯ä»¥è®¾ç½®æŠ“å–è§„åˆ™ï¼Œæ¯”å¦‚åªæŠ“å–æ–‡ç« é¡µã€‚Swiftype-rulesé»˜è®¤çš„å­—æ®µåŒ¹é…ä¸æ»¡æ„ï¼Œä¸‹å›¾æ˜¯å¯¹hexoçš„æœç´¢ç»“æœã€‚Swiftype çš„bodyå­—æ®µé»˜è®¤æŠ“å–æ•´ä¸ªé¡µé¢ï¼Œæˆ‘æ¯ä¸ªé¡µé¢çš„å·¦ä¾§ footer éƒ½æœ‰hexoè¿™ä¸ªå•è¯ï¼Œåœ¨æˆ‘è®¾ç½®äº†åªæŠ“å–æ–‡ç« é¡µåï¼Œåšå®¢ä¸€å…± 46 ç¯‡æ–‡ç« ä¹Ÿå°±åŒ¹é…äº† 46 ä¸ªç»“æœã€‚æˆ‘æœŸæœ›å®ƒåªå¯¹æ–‡ç« å†…å®¹æ£€ç´¢ï¼Œè¿™æ ·æ›´ç²¾å‡†ã€‚Swiftype-showå¦‚æœèƒ½è‡ªå®šä¹‰æŠ“å–å­—æ®µï¼ŒæŒ‡å®šæŠ“å–å†…å®¹å½“ç„¶æ˜¯æå¥½çš„ã€‚Swiftype æ–‡æ¡£ä¸­ä¹Ÿæä¾›äº†è¿™æ–¹é¢å†…å®¹ï¼ŒCrawlerã€‚å¤§æ¦‚çœ‹äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰ Content Inclusion/Exclusion å’Œ Meta Tags æ–¹å¼åº”è¯¥èƒ½æ»¡è¶³éœ€æ±‚ã€‚æˆ‘ä¹Ÿå°è¯•äº†ä¸€ä¸‹ï¼Œå‘ç°æ²¡æ•ˆæœï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯è¦é‡æ–°æŠ“å–æ‰ç”Ÿæ•ˆã€‚è®¾ç½®é‡æ–°æŠ“å–åç­‰äº† 1 ä¸ªå°æ—¶è¿˜æ²¡ä»€ä¹ˆæ•ˆæœï¼Œæˆ‘åªå¥½å…ˆè¿›è¡Œä¸‹ä¸€æ­¥äº†ã€‚AlgoliaAlgolia æˆ‘åªæ³¨å†Œäº†è´¦æˆ·ï¼Œç„¶åå°±æ²¡æœ‰ç„¶åäº†ã€‚ã€‚ã€‚å› ä¸ºæˆ‘å‡†å¤‡ä½¿ç”¨æ–¹æ¡ˆ2äº†ã€‚ä» Algolia ç®¡ç†ç•Œé¢å’Œæ–‡æ¡£ä¸Šæ¥çœ‹ä¸ä¼šæ¯” Swiftype å·®ï¼Œå¯ç•™ä½œå¤‡é€‰ã€‚è‡ªå®šä¹‰æœç´¢æ²¡æœ‰æ•°æ®åº“çš„å‰æä¸‹å®ç°æŸ¥è¯¢ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ•°æ®æ–‡ä»¶åšæ•°æ®æºã€‚Hexo ä¸­ä¹Ÿæœ‰è¿™æ–¹é¢çš„å…ˆé©±è€…ï¼Œåœ¨ Hexo-Plugins é¡µå¯ä»¥æ‰¾åˆ°ç”Ÿæˆæ•°æ®æ–‡ä»¶çš„ä¸¤ä¸ªæ’ä»¶ï¼Œhexo-generator-json-content å’Œ hexo-generator-searchã€‚hexo-generator-json-content ç”Ÿæˆçš„æ•°æ®æ–‡ä»¶ä¸ºjsonæ ¼å¼ã€‚meta: &#123; title: hexo.config.title, subtitle: hexo.config.subtitle, description: hexo.config.description, author: hexo.config.author, url: hexo.config.url&#125;,pages: [&#123; //-&gt; all pages title: page.title, slug: page.slug, date: page.date, updated: page.updated, comments: page.comments, permalink: page.permalink, path: page.path, excerpt: page.excerpt, //-&gt; only text ;) keywords: null //-&gt; it needs settings text: page.content, //-&gt; only text minified ;) raw: page.raw, //-&gt; original MD content content: page.content //-&gt; final HTML content&#125;],posts: [&#123; //-&gt; only published posts title: post.title, slug: post.slug, date: post.date, updated: post.updated, comments: post.comments, permalink: post.permalink, path: post.path, excerpt: post.excerpt, //-&gt; only text ;) keywords: null //-&gt; it needs settings text: post.content, //-&gt; only text minified ;) raw: post.raw, //-&gt; original MD content content: post.content, //-&gt; final HTML content categories: [&#123; name: category.name, slug: category.slug, permalink: category.permalink &#125;], tags: [&#123; name: tag.name, slug: tag.slug, permalink: tag.permalink &#125;]&#125;]hexo-generator-search ç”Ÿæˆçš„æ•°æ®æ–‡ä»¶ä¸ºxmlæ ¼å¼ã€‚&lt;search&gt; &lt;entry&gt; &lt;title&gt;Post title&lt;/title&gt; &lt;url&gt;http://yourposturl.html&lt;/url&gt; &lt;content type=\"html\"&gt;helloworldhelloworldhelloworldhelloworldhelloworldhelloworld&lt;/content&gt; &lt;/entry&gt; &lt;entry&gt; &lt;title&gt;Post title&lt;/title&gt; &lt;url&gt;http://yourposturl.html&lt;/url&gt; &lt;content type=\"html\"&gt;helloworldhelloworldhelloworldhelloworldhelloworldhelloworld&lt;/content&gt; &lt;/entry&gt;&lt;/search&gt;å¯¹äº js è¯­è¨€æ¥è¯´è¿˜æ˜¯è§£æ json æ›´æ–¹ä¾¿ï¼Œå¦‚æœéœ€è¦ç”¨xmlåšæ•°æ®æ–‡ä»¶æˆ‘å®Œå…¨å¯ä»¥ä½¿ç”¨å·²æœ‰çš„atom.xmlã€‚hexo-generator-json-content ç”Ÿæˆçš„jsonæ•°æ®å†…å®¹æŒºå…¨çš„ï¼Œä¸è¿‡å¹¶ä¸æ˜¯æˆ‘éƒ½éœ€è¦çš„ã€‚å¯ä»¥é€šè¿‡æ·»åŠ ç«™ç‚¹é…ç½®è®¾ç½®ä½ éœ€è¦ç”Ÿæˆçš„å­—æ®µã€‚metaæ˜¯ç«™ç‚¹ä¿¡æ¯ï¼Œpagesæ˜¯é™¤æ–‡ç« é¡µä»¥å¤–çš„é¡µé¢ä¿¡æ¯ï¼Œè¿™éƒ½æ˜¯æˆ‘ä¸éœ€è¦çš„ï¼Œæˆ‘åªè¦æ±‚æœç´¢æ–‡ç« é¡µã€‚æ­¤å¤–ï¼Œæ–‡ç« é¡µçš„å­—æ®µä¹Ÿå¯ä»¥æ ¹æ®éœ€æ±‚å‡å°‘ï¼Œä»¥å‡å°æ•°æ®æ–‡ä»¶å¤§å°ã€‚ä¸‹å›¾å¯ä»¥ç›´è§‚çœ‹å‡ºæ¯ä¸ªå­—æ®µè¡¨ç¤ºçš„å†…å®¹ã€‚hexo-generator-json-contentslugã€commentsã€linkã€keywordsã€categorieséƒ½æ˜¯æ— å†…å®¹æˆ–ä¸éœ€è¦çš„å­—æ®µï¼›dateå’Œupdatedã€pathå’Œpermalinkç•™å…¶ä¸€å³å¯ï¼›excerptå¯ä»¥ä¸è¦ï¼Œå› ä¸ºæˆ‘ä»¬è¦æ£€ç´¢æ–‡ç« å…¨æ–‡ï¼›rawæ˜¯markdownå…ƒæ•°æ®ï¼Œcontentæ˜¯åŒ…å«htmlæ ‡ç­¾çš„æ–‡ç« å†…å®¹ï¼Œå¤„ç†èµ·æ¥æœ€æ–¹ä¾¿çš„æ˜¯textçº¯æ–‡æœ¬ã€‚æœ€åçš„é…ç½®å¦‚ä¸‹ï¼Œéœ€è¦æ”¾åˆ°hexo/_config.ymlä¸­ã€‚jsonContent: meta: false pages: false posts: title: true date: true path: true text: true raw: false content: false slug: false updated: false comments: false link: false permalink: false excerpt: false categories: false tags: trueæ¥ç€å°±æ˜¯å®ç°æŸ¥è¯¢æ–¹æ³•å¹¶æŠŠç»“æœæ¸²æŸ“åˆ°é¡µé¢ã€‚// xhråŠ è½½æ•°æ®function loadData(callback) &#123; // ç•¥...&#125;// åŒ¹é…æ–‡ç« å†…å®¹è¿”å›ç»“æœfunction matcher(post, regExp) &#123; // åŒ¹é…ä¼˜å…ˆçº§ï¼štitle &gt; tags &gt; text return regExp.test(post.title) || post.tags.some(function(tag) &#123; return regExp.test(tag.name); &#125;) || regExp.test(post.text);&#125;// æ¸²æŸ“åˆ°é¡µé¢function render(data) &#123; // ç•¥...&#125;// æŸ¥è¯¢function search(key) &#123; // å…³é”®å­— =&gt; æ­£åˆ™ï¼Œç©ºæ ¼éš”å¼€çš„çœ‹ä½œå¤šä¸ªå…³é”®å­— // a b c =&gt; /a|b|c/gmi var regExp = new RegExp(key.replace(/[ ]/g, '|'), 'gmi'); loadData(function(data) &#123; var result = data.filter(function(post) &#123; return matcher(post, regExp); &#125;); render(result); &#125;);&#125;æ­£åˆ™åŠ ä¸Šfilterã€someä¸¤ä¸ªæ•°ç»„è¿‡æ»¤å‡½æ•°ï¼Œå°±è¿™ä¹ˆç®€å•ã€‚ä¹Ÿæ²¡æƒ³åšå¤ªå¤æ‚ï¼Œå¦åˆ™åŒ¹é…ç»“æœé«˜äº®ã€åŒ¹é…ç‰‡æ®µæˆªå–åˆå¤ŸæŠ˜è…¾åŠå¤©ã€‚å®Œæˆåå°±æ˜¯ç°åœ¨åšå®¢çš„æœç´¢äº†ï¼ŒPC ç«¯æµ®åŠ¨é¢æ¿æ˜¾ç¤ºï¼ŒMobile ç«¯å…¨å±æ˜¾ç¤ºã€‚","tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://imys.net/tags/Hexo/"}]},{"title":"Vueä¸­çš„æ•°æ®äº¤äº’","date":"2016-05-03T09:39:44.000Z","path":"20160503/vue-data-interaction.html","text":"åœ¨ Vue ä¸­é€šå¸¸ä»¥ä¸€ä¸ª Vue å®ä¾‹æ¥è¡¨ç¤ºä¸€ä¸ªåº”ç”¨ï¼Œä¸€ä¸ªåº”ç”¨ç”±è‹¥å¹²ä¸ªç»„ä»¶æ‹¼è£…è€Œæˆã€‚æ²¡é”™ï¼Œå°±åƒâ€œè£…æœºâ€ä¸€æ ·ã€‚å½“ä½ æŠŠä¸»æ¿ã€CPUã€æ˜¾å¡ã€å†…å­˜ã€æ•£çƒ­å™¨ã€SSDã€ç”µæºç­‰æ‘†æ”¾åˆ°æœºç®±çš„å„ä¸ªä½ç½®åï¼Œå¾ˆæ˜æ˜¾äº§ç”Ÿäº†ä¸€ä¸ªæ˜ç¡®çš„éœ€æ±‚ï¼šæˆ‘æ€ä¹ˆè®©è¿™äº›ä¸œè¥¿ååŒå·¥ä½œï¼Ÿå›åˆ° Vue ä¸­ï¼Œå¤„ç†ä¸åŒç»„ä»¶ä¹‹é—´çš„æ•°æ®æˆ–çŠ¶æ€æ˜¯ä¸€ä»¶ç»å¸¸é‡åˆ°çš„äº‹ã€‚å¥½åœ¨ Vueçš„æ–‡æ¡£ è¶³å¤Ÿè¯¦ç»†ã€‚å…³äºç»„ä»¶äº¤äº’çš„éƒ¨åˆ†ï¼Œå¦‚æœæ²¡æœ‰å®é™…éœ€æ±‚ï¼Œæˆ‘è¡¨ç¤ºéš¾ä»¥æ˜ç™½propsä»¥åŠè‡ªå®šä¹‰äº‹ä»¶ç­‰ä½¿ç”¨åœºæ™¯æ˜¯ä»€ä¹ˆã€‚Propspropsæ˜¯å®šä¹‰åœ¨å­ç»„ä»¶ä¸­çš„å±æ€§ï¼Œç”¨æ¥å®šä¹‰æœŸæœ›ä»çˆ¶ç»„ä»¶ä¼ ä¸‹æ¥çš„æ•°æ®ã€‚ä»å®é™…åœºæ™¯ç€æ‰‹ï¼Œå†™ä¸€ä¸ªç®€å•çš„éœ€æ±‚ã€‚&lt;!-- å­ç»„ä»¶æ¨¡æ¿ --&gt;&lt;template&gt; &lt;p&gt;&#123;&#123;helloWorld&#125;&#125;&lt;/p&gt;&lt;/template&gt;&lt;!-- çˆ¶ç»„ä»¶æ¨¡æ¿ --&gt;&lt;template&gt; &lt;input type=\"text\" v-model=\"text\"&gt; &lt;child&gt;&lt;/child&gt;&lt;/template&gt;å½“çˆ¶ç»„ä»¶ä¸­è¾“å…¥å†…å®¹æ—¶æ˜¾ç¤ºåˆ°å­ç»„ä»¶ä¸­ã€‚è¿™æ—¶ï¼Œæˆ‘éœ€è¦åœ¨å­ç»„ä»¶ä¸­å£°æ˜ä¸€ä¸ª props å±æ€§æ¥æ¥æ”¶çˆ¶ç»„ä»¶ä¸­è¾“å…¥çš„å†…å®¹ã€‚// å­ç»„ä»¶module.exports = &#123; props: &#123; helloWorld: String &#125;&#125;;// çˆ¶ç»„ä»¶module.exports = &#123; components: &#123; child: require('child') &#125;, data: function()&#123; return &#123; text: '' &#125; &#125;&#125;;è¿˜éœ€è¦å‘Šè¯‰å­ç»„ä»¶ï¼Œå®ƒçš„ props å¯¹åº”çˆ¶ç»„ä»¶ä¸­çš„å“ªä¸ªæ•°æ®ã€‚&lt;!-- åœ¨å­ç»„ä»¶ä¸Šæ ‡è®° --&gt;&lt;child :hello-world=\"text\"&gt;&lt;/child&gt;camelCase æ ¼å¼å±æ€§ç”¨ä½œ HTML ç‰¹æ€§æ—¶éœ€è¦è½¬æ¢æˆ kebab-case æ ¼å¼ã€‚å½“å‰éœ€æ±‚è½»æ¾çš„è§£å†³äº†ï¼æœ‰æ²¡æœ‰å‘ç° props å¥½åƒæ˜¯å•å‘çš„ï¼Œçˆ¶ -&gt; å­ï¼Ÿä¸ï¼Œå¹¶ä¸æ˜¯ã€‚åªæ˜¯é»˜è®¤æ˜¯å•å‘çš„ã€‚å¯ä»¥é€šè¿‡æ·»åŠ é¢å¤–çš„ä¿®é¥°ç¬¦æ¥æ˜¾ç¤ºå¼ºåˆ¶åŒå‘æˆ–å•è¯ç»‘å®šã€‚&lt;!-- åŒå‘ç»‘å®š --&gt;&lt;child :hello-world.sync=\"text\"&gt;&lt;/child&gt;&lt;!-- å•æ¬¡ç»‘å®š --&gt;&lt;child :hello-world.once=\"text\"&gt;&lt;/child&gt;è€Œæ­£åƒ Vue æ–‡æ¡£ä¸­æ‰€è¯´çš„ï¼Œé»˜è®¤å•å‘ç»‘å®šæ˜¯ä¸ºäº†é˜²æ­¢å­ç»„ä»¶æ— æ„ä¿®æ”¹äº†çˆ¶ç»„ä»¶çš„çŠ¶æ€â€”â€”è¿™ä¼šè®©åº”ç”¨çš„æ•°æ®æµéš¾ä»¥ç†è§£ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœå½“å‰å­ç»„ä»¶è®¾ç½®ä¸ºåŒå‘ç»‘å®šï¼Œå¦æœ‰å…¶ä»–çš„å­ç»„ä»¶ä¾èµ–çˆ¶ç»„ä»¶çš„helloWorldå±æ€§ã€‚è¿™ç§å…³ç³»ä¸‹å¦‚æœå­ç»„ä»¶ä¿®æ”¹äº†æ•°æ®ï¼ŒåŠ¿å¿…å¼•èµ·å…¶ä»–å­ç»„ä»¶çš„çŠ¶æ€æ”¹å˜ã€‚æŸäº›åœºæ™¯ä¸‹æˆ‘ä»¬å¹¶ä¸å¸Œæœ›å‘ç”Ÿè¿™ç§æƒ…å†µã€‚è‡ªå®šä¹‰äº‹ä»¶ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶ä¹Ÿå¯ä»¥å®ç°çˆ¶å­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œé€šè¿‡äº‹ä»¶è§¦å‘çš„å½¢å¼æ¥ä¼ é€’æ•°æ®ã€‚ä½¿ç”¨$on()ç›‘å¬äº‹ä»¶ï¼›ä½¿ç”¨$emit()åœ¨å®ƒä¸Šé¢è§¦å‘äº‹ä»¶ï¼›ä½¿ç”¨$dispatch()æ´¾å‘äº‹ä»¶ï¼Œäº‹ä»¶æ²¿ç€çˆ¶é“¾å†’æ³¡ï¼›ä½¿ç”¨$broadcast()å¹¿æ’­äº‹ä»¶ï¼Œäº‹ä»¶å‘ä¸‹ä¼ å¯¼ç»™æ‰€æœ‰çš„åä»£ã€‚ç°åœ¨å˜æ›´éœ€æ±‚ï¼ŒæŠŠè¾“å…¥æ¡†æ‹¿å‡ºæ¥ä½œä¸ºå­ç»„ä»¶Bã€‚&lt;!-- å­ç»„ä»¶Bæ¨¡æ¿ --&gt;&lt;template&gt; &lt;input type=\"text\" &gt;&lt;/template&gt;&lt;!-- çˆ¶ç»„ä»¶æ¨¡æ¿ --&gt;&lt;template&gt; &lt;child-b&gt;&lt;/child-b&gt; &lt;child&gt;&lt;/child&gt;&lt;/template&gt;å½“å­ç»„ä»¶Bå†…å®¹å˜åŒ–æ—¶ï¼Œæˆ‘åº”å½“é€šçŸ¥çˆ¶ç»„ä»¶ï¼šå¤´å„¿ï¼Œæˆ‘çš„å·¥ä½œå®Œæˆäº†ã€‚&lt;template&gt; &lt;input type=\"text\" v-model=\"text\" @change=\"onInput\"&gt;&lt;/template&gt;&lt;script&gt;module.exports = &#123; data: function () &#123; return &#123; text: '' &#125; &#125;, methods: &#123; onInput: function () &#123; if(this.text.trim()) &#123; this.$dispatch('child-next', this.text); &#125; &#125; &#125;&#125;;&lt;/script&gt;çˆ¶ç»„ä»¶æ”¶åˆ°é€šçŸ¥åï¼Œå¹¿æ’­ç»™å…¶ä»–éœ€è¦çš„å­ç»„ä»¶ï¼šBå·²ç»å®ŒæˆXXXäº†ï¼Œå‰©ä¸‹çš„ä¸œè¥¿äº¤ç»™ä½ äº†ã€‚module.exports = &#123; components: &#123; child: require('child'), 'child-b': require('childB') &#125;, events: &#123; 'child-next': function (text) &#123; this.$broadcast('child-finish', text); &#125; &#125;&#125;;æˆ–è€…ä¸ºäº†èƒ½ä»çˆ¶ç»„ä»¶ä¸­ç›´è§‚çš„çœ‹å‡ºäº‹ä»¶æ¥æºï¼Œå¯ä»¥ä½¿ç”¨æ˜¾ç¤ºå£°æ˜ç»‘å®šäº‹ä»¶ã€‚&lt;template&gt; &lt;child-b @child-next=\"handle\"&gt;&lt;/child-b&gt; &lt;child&gt;&lt;/child&gt;&lt;/template&gt;&lt;script&gt;module.exports = &#123; components: &#123; child: require('child'), 'child-b': require('childB') &#125;, methods: &#123; handle: function (text) &#123; this.$broadcast('child-finish', text); &#125; &#125;&#125;;&lt;/script&gt;æ¥æ”¶å¹¿æ’­çš„å­ç»„ä»¶ï¼Œéœ€è¦æ·»åŠ å¯¹åº”çš„å¤„ç†äº‹ä»¶ã€‚&lt;template&gt; &lt;p&gt;&#123;&#123;helloWorld&#125;&#125;&lt;/p&gt;&lt;/template&gt;&lt;script&gt;module.exports = &#123; data: function () &#123; return &#123; helloWorld: '' &#125; &#125;, events: &#123; 'child-finish': function (text) &#123; this.helloWorld = text; &#125; &#125;&#125;;&lt;/script&gt;ä¸ props æ–¹å¼ç›¸æ¯”ï¼Œè‡ªå®šä¹‰äº‹ä»¶çš„æ–¹å¼å„ä¸ªç»„ä»¶çš„æ•°æ®ç‹¬ç«‹ï¼Œä¸ä¼šè¢«çˆ¶æˆ–å­ç»„ä»¶è½»æ˜“ä¿®æ”¹ã€‚å› ä¸ºæˆ‘ä»¬èƒ½æ§åˆ¶åœ¨ä½•æ—¶è¿›è¡Œäº‹ä»¶æ´¾å‘å’Œå¹¿æ’­ã€‚å½“ç„¶è¿™ä¸¤ç§æ–¹å¼å¹¶ä¸å†²çªï¼Œå¯ä»¥ç»“åˆä½¿ç”¨æ¥åˆ›é€ æœ€ä½³å®è·µã€‚Vuexæœ€åå°±æ˜¯ä½¿ç”¨å¤§æ€å™¨ Vuex äº†ã€‚ä¸ç®¡æ˜¯propsè¿˜æ˜¯è‡ªå®šä¹‰äº‹ä»¶ï¼Œå¦‚æœæ•°æ®è¦ç”±å­ç»„ä»¶åˆ°å¦ä¸€ä¸ªå­ç»„ä»¶ä¸­ï¼Œéƒ½è¦è¿›è¡Œçˆ¶ç»„ä»¶çš„ä¸­è½¬ã€‚éšç€é¡¹ç›®çš„é€æ­¥å¢å¤§ï¼Œæ•°æ®æµä¹Ÿä¼šå˜å¾—å¤æ‚ï¼Œéš¾ä»¥ç®¡ç†å’Œå‘ç°é—®é¢˜ã€‚è€Œ Vuex å°±æ˜¯ç‹¬ç«‹çš„ä¸€ä¸ªæ•°æ®ç®¡ç†å±‚ã€‚ä½ éœ€è¦æŠŠç»„ä»¶çš„æœ¬åœ°çŠ¶æ€å’Œåº”ç”¨çŠ¶æ€åŒºåˆ†å¼€æ¥ï¼ŒæŠŠåº”ç”¨çŠ¶æ€äº¤ç”± Vuex æ¥ç®¡ç†ï¼Œæ–¹ä¾¿æ¯ä¸€ä¸ªç»„ä»¶å»äº¤æ¢æ•°æ®æ›´æ–°çŠ¶æ€ã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­","tags":[{"name":"Vue","slug":"Vue","permalink":"http://imys.net/tags/Vue/"},{"name":"Vuex","slug":"Vuex","permalink":"http://imys.net/tags/Vuex/"}]},{"title":"ä¸€ä¸ªHTMLå…ƒç´ å¯ä»¥åšä»€ä¹ˆï¼Ÿ","date":"2016-04-13T08:37:53.000Z","path":"20160413/one-element-can-do-much.html","text":"è‡ª CSS3 é—®ä¸–ä»¥æ¥ï¼Œåœ¨å¹¿å¤§å¼€å‘è€…çš„æ™ºæ…§ä¸‹è¯ç”Ÿäº†å¾ˆå¤šåˆ›é€ æ€§çš„è®¾è®¡ï¼Œå¦‚ï¼š18ä¸ªä½ å¯èƒ½ä¸ç›¸ä¿¡æ˜¯ç”¨CSSåˆ¶ä½œå‡ºæ¥çš„ä¸œè¥¿ã€‚ä¸ªäººå¹³æ—¶ä¹Ÿå–œæ¬¢æ”¶è—è¿™äº›æœ‰è¶£çš„ä¸œè¥¿ï¼Œå…¶ä¸­ä¸€äº›è®¾è®¡å¯¹å•ä¸ª HTML å…ƒç´ çš„æé™åˆ©ç”¨ï¼Œå¾ˆå€¼å¾—æˆ‘ä»¬å»å­¦ä¹ ã€‚ä»¥ä¸‹å°±æ¥è¯´ä¸€è¯´è¿™äº›ç¥å¥‡çš„é»‘ç§‘æŠ€ã€‚ä¼ªå…ƒç´ ä¼ªå…ƒç´ æ˜¯æ¯”è¾ƒå¸¸è§çš„å•å…ƒç´ åˆ©ç”¨äº†ï¼Œ:beforeä¸:afteråŸºæœ¬ä¸Šæ”¯æŒæ™®é€šå…ƒç´ çš„æ‰€æœ‰ CSS å±æ€§ï¼Œå®ƒä½¿ 1 ä¸ªå…ƒç´ å¯ä»¥å½“ä½œ 3 ä¸ªå…ƒç´ æ¥ä½¿ç”¨ã€‚æ¯”å¦‚åˆ¶ä½œä¸€ä¸ªå•å…ƒç´ çš„èœå•å›¾æ ‡ï¼Œä¸‰æ¡çº¿ã€‚.icon-menu &#123; position: relative;&#125;.icon-menu,.icon-menu:before,.icon-menu:after &#123; width: 1em; height: .25em; background: #666;&#125;.icon-menu:before,.icon-menu:after &#123; content: ''; position: absolute; left: 0;&#125;.icon-menu:before &#123; top: .3125em;&#125;.icon-menu:after &#123; top: .625em;&#125;åœ¨è¾…ä»¥åœ†è§’ã€CSSä¸‰è§’ç­‰ï¼Œä¸€äº›çœ‹èµ·æ¥å¤æ‚çš„å›¾æ ‡ä¹Ÿä¸æ˜¯ä¸èƒ½å®ç°ã€‚Github æ—©å·²æœ‰ css å›¾æ ‡çš„é¡¹ç›®äº†ï¼šCikonssã€‚å®é™…åœºæ™¯ä¸­çš„åº”ç”¨ä¸é™äºæ­¤ï¼Œå¦‚ï¼šä¸‹æ‹‰èœå•ä¸Šçš„ä¸‰è§’ç®­å¤´ã€æ—¶é—´çº¿ä¸Šçš„åœ†ç‚¹æ ‡è®°ï¼ˆåœ¨æˆ‘çš„åšå®¢å½’æ¡£é¡µå°±æ˜¯æ­¤ç§ï¼‰ç­‰ã€‚å½“ä½ éœ€è¦æ·»åŠ ä¸€äº›æ— å†…å®¹çš„ä¿®é¥°æ€§å…ƒç´ æ—¶ï¼Œä½ å°±è¯¥æƒ³åˆ°ä½¿ç”¨ä¼ªå…ƒç´ ã€‚ä½†ä¹Ÿä¸æ˜¯è¯´æœ‰å†…å®¹çš„ç”¨ä¼ªå…ƒç´ æ— æ³•å®ç°ï¼Œä¸€äº›é™æ€çš„å±•ç¤ºå†…å®¹ä¹Ÿå¯ä»¥ç”¨ï¼Œå¯ä»¥åˆ©ç”¨ä¼ªå…ƒç´ contentå±æ€§ã€‚æ¯”å¦‚ä¸€ä¸ªå¸¦ç»Ÿè®¡æ•°é‡çš„badgeï¼Œå¯¹åº”çš„ html å¯ä»¥è¿™æ ·å†™ã€‚&lt;span data-count=\"10\" class=\"badge\"&gt;æ¶ˆæ¯&lt;/span&gt;åœ¨ css ä¸­åˆ©ç”¨ä¼ªå…ƒç´ å±•ç¤ºè‡ªå®šä¹‰å±æ€§ã€‚.badge:after &#123; content: attr(data-count); /* ... */&#125;æˆ‘çš„åšå®¢ PC ç«¯æ–‡ç« é¡µå³ä¾§çš„åˆ†äº«æ‰€ç”¨çš„ tips å°±æ˜¯åˆ©ç”¨ä¼ªå…ƒç´ çº¯ css å®ç°çš„ã€‚borderborderå®ç° css å›¾å½¢çš„æ¡ˆä¾‹å·²ç»å±¡è§ä¸é²œäº†ï¼Œå®é™…åº”ç”¨ä¸­å¸¸ç”¨çš„è¿˜æ˜¯ä¸‰è§’å½¢ã€‚æ—¢ç„¶æåˆ°äº†borderï¼Œä¹Ÿåº”è¯¥é¡ºå¸¦æä¸‹outlineã€‚ä¸¤è€…éƒ½å¯ä»¥è‚†æ„çš„å®ç°å„ç§é•¿çŸ­ç²—ç»†çš„çº¿æ¡ï¼Œä¸€äº›ç‰¹æ®Šçš„åœºæ™¯ä¸­ä¸€æ¡ç²—è¾¹æ¡†å°±å¯å½“ä½œä¸€ä¸ªçŸ©å½¢æ¥åˆ©ç”¨ã€‚è¿˜æ‹¿èœå•å›¾æ ‡æ¥è¯´ï¼Œè®¾ç½®ä¸Šä¸‹ä¸¤ä¸ªè¾¹æ¡†æ ·å¼ï¼Œoutline åœ¨ç”»ä¸Šä¸€æ¡ï¼Œå¯ä»¥é€šè¿‡outline-offsetæ¥è°ƒæ•´é—´è·ï¼Œæ˜¯ä¸æ˜¯ä¹Ÿèƒ½å‡‘å‡ºä¸€ä¸ªå›¾æ ‡å‘¢ã€‚é™¤äº†ä½¿ç”¨borderç»˜åˆ¶å¤šè¾¹å½¢å¤–ï¼Œå…¶å®æ‰‡å½¢ã€å¼§çº¿ä¹Ÿæ˜¯å¯ä»¥å¾ˆå®¹æ˜“å®ç°çš„ã€‚/* æ‰‡å½¢ */.sector &#123; width: 0; height: 0; border: 30px solid #000; border-top-color: transparent; border-bottom-color: transparent; border-radius: 50%;&#125;/* å¼§çº¿ */.arc &#123; width: 40px; height: 40px; border: 1px solid #000; border-top-color: transparent; border-bottom-color: transparent; border-radius: 50%;&#125;å…·ä½“æ˜¯ä»€ä¹ˆæ•ˆæœï¼Œè‡ªæµ‹å§ã€‚æ‰‡å½¢ã€å¼§çº¿å¯ä»¥è½»æ˜“çš„åˆ¶ä½œä¸€ä¸ª loading æ•ˆæœï¼šcsså®ç°çš„å„ç§loadingæ•ˆæœã€‚box-shadowbox-shadowå¯ä»¥è®¾ç½®å…ƒç´ é˜´å½±æ•ˆæœï¼Œä¸”å¯ä»¥è®¾ç½®å¤šç»„å€¼ã€‚ä½†æ˜¯æˆ‘ä¸‡ä¸‡æ²¡æœ‰æƒ³åˆ°å®ƒå±…ç„¶å¼ºå¤§å¦‚æ–¯ï¼š1ä¸ªå…ƒç´ å®ç°çš„åƒç´ ç”»ã€‚å…ˆçœ‹ä¸‹box-shadowçš„æ–‡æ¡£ä»‹ç»å‹å‹æƒŠã€‚box-shadow: [inset] offset-x offset-y [blur] [spread] [color];å€¼è¯´æ˜insetå¯é€‰ï¼Œé»˜è®¤é˜´å½±åœ¨è¾¹æ¡†å¤–ã€‚ä½¿ç”¨insetåï¼Œé˜´å½±åœ¨è¾¹æ¡†å†…ï¼ˆå³ä½¿æ˜¯é€æ˜è¾¹æ¡†ï¼‰ï¼ŒèƒŒæ™¯ä¹‹ä¸Šå†…å®¹ä¹‹ä¸‹ã€‚offset-x/offset-yå¿…éœ€ï¼Œç”¨æ¥è®¾ç½®é˜´å½±åç§»é‡ã€‚offset-xè®¾ç½®æ°´å¹³åç§»é‡ï¼Œå¦‚æœæ˜¯è´Ÿå€¼åˆ™é˜´å½±ä½äºå…ƒç´ å·¦è¾¹ã€‚offset-yè®¾ç½®å‚ç›´åç§»é‡ï¼Œå¦‚æœæ˜¯è´Ÿå€¼åˆ™é˜´å½±ä½äºå…ƒç´ ä¸Šé¢ã€‚å¦‚æœä¸¤è€…éƒ½æ˜¯ 0ï¼Œé‚£ä¹ˆé˜´å½±ä½äºå…ƒç´ åé¢ã€‚è¿™æ—¶å¦‚æœè®¾ç½®äº†bluræˆ–spreadåˆ™æœ‰æ¨¡ç³Šæ•ˆæœã€‚blurå¯é€‰ï¼Œæ¨¡ç³Šè·ç¦»ã€‚å€¼è¶Šå¤§ï¼Œç³Šç³Šé¢ç§¯è¶Šå¤§ï¼Œé˜´å½±å°±è¶Šå¤§è¶Šæ·¡ã€‚ ä¸èƒ½ä¸ºè´Ÿå€¼ã€‚é»˜è®¤ä¸º 0ï¼Œæ­¤æ—¶é˜´å½±è¾¹ç¼˜é”åˆ©ã€‚spreadå¯é€‰ï¼Œé˜´å½±çš„å¤§å°ã€‚å–æ­£å€¼æ—¶ï¼Œé˜´å½±æ‰©å¤§ï¼›å–è´Ÿå€¼æ—¶ï¼Œé˜´å½±æ”¶ç¼©ã€‚é»˜è®¤ä¸º0ï¼Œæ­¤æ—¶é˜´å½±ä¸å…ƒç´ åŒæ ·å¤§ã€‚colorå¯é€‰ï¼Œé˜´å½±çš„é¢œè‰²ã€‚å¹³å¸¸ä½¿ç”¨ä¸­ä¸€èˆ¬ä¼šè®¾ç½® 4 ä¸ªå€¼æ¥å®ç°é˜´å½±æ•ˆæœï¼Œå³offset-xã€offset-yã€blurã€colorã€‚ä»å±æ€§ä»‹ç»ä¸­çœ‹å½“blurçœç•¥åï¼Œé»˜è®¤å€¼ä¸º 0ï¼Œè¾¹ç¼˜é”‹åˆ©ï¼Œä¹Ÿå°±æ˜¯å°æ–¹å—çš„æ•ˆæœã€‚è€Œé€šè¿‡è®¾ç½®æ¯ä¸€ç»„offset-xã€offset-yçš„åç§»å€¼ï¼ŒåŠ ä¸Šä¸åŒçš„é¢œè‰²è®¾ç½®ï¼Œçš„ç¡®æ˜¯å®ç°åƒç´ ç”»çš„ç»å¦™ä¹‹æƒ³ã€‚å½“å‰åšå®¢çš„404é¡µé¢å°±æ˜¯ç”¨box-shadowå †å å‡ºæ¥çš„ã€‚ç›¸å…³èµ„æºåˆ†äº«ï¼šsingledivcsså›¾å½¢26ä¸ªå­—æ¯åŸæ¥è¿™ä¸ªä¸–ç•Œè¿˜æœ‰å¦å¤–ä¸€ç§ cssï¼šåˆ«äººæ‰‹ä¸­çš„ cssã€‚","tags":[{"name":"Html","slug":"Html","permalink":"http://imys.net/tags/Html/"},{"name":"CSS","slug":"CSS","permalink":"http://imys.net/tags/CSS/"},{"name":"CSS3","slug":"CSS3","permalink":"http://imys.net/tags/CSS3/"}]},{"title":"CSSå®ç”¨Tips","date":"2016-04-06T09:42:48.000Z","path":"20160406/css-tips.html","text":"ä½œä¸ºè‡ªå·±åšå‰ç«¯å¼€å‘ä»¥æ¥çš„CSSçˆ¬å‘æ€»ç»“ï¼Œå†…å®¹åå‘PCç«¯ï¼Œä¸å®šæœŸè¡¥å……ã€‚åªä½œæç¤ºï¼Œä¸æ·±è°ˆã€‚ç›’å­æ¨¡å‹1ã€åŒºåˆ†content-boxå’Œborder-boxçš„å°ºå¯¸è®¡ç®—ã€‚2ã€è¡Œçº§å…ƒç´ æ— å®½é«˜ï¼Œä½†å¯è®¾å†…å¤–è¾¹è·ã€‚3ã€å¤–è¾¹è·marginå¯è®¾è´Ÿå€¼ï¼Œå†…è¾¹è·paddingä¸å¯ä»¥ã€‚4ã€å½“å†…å¤–è¾¹è·å€¼ä¸ºç™¾åˆ†æ¯”æ—¶æ˜¯ç›¸å¯¹äºå…ƒç´ å®½åº¦è®¡ç®—çš„ã€‚5ã€borderæ˜¯ä¸ªå¥½ç©çš„ä¸œè¥¿ï¼Œå…³é”®å­—ï¼šcssä¸‰è§’å½¢ã€‚å®šä½ä¸å¸ƒå±€1ã€æ·»åŠ äº†position: absoluteä¸floatæ ·å¼åï¼Œå…ƒç´ ä¼šéšå¼æ”¹å˜displayå±æ€§ä¸ºinline-blockï¼Œå¯ä»¥è®¾ç½®å®½é«˜å±æ€§ï¼Œä¸éœ€è¦å†æ˜¾ç¤ºè®¾ç½®displayã€‚2ã€æ¸…é™¤æµ®åŠ¨ï¼Œä¸€èˆ¬æœ‰clear: both/left/rightå’Œoverflow: hiddenã€‚é¦–é€‰clearï¼Œå¦‚æœç›®æ ‡åŒºå—å­˜åœ¨æº¢å‡ºå…ƒç´ æ—¶ï¼Œä¼šè¢«overflow: hiddenæˆªæ–­ã€‚3ã€ç»å¯¹å®šä½çš„å…ƒç´ ï¼Œåœ¨topã€rightã€bottomã€leftå±æ€§æœªè®¾ç½®æ—¶ï¼Œé»˜è®¤ä¸ºautoï¼Œåœ¨æ–‡æ¡£æµä¸­ç´§è·Ÿå‰ä¸€ä¸ªå…ƒç´ ã€‚è¿™ä¸ªç‰¹æ€§é€šå¸¸å¯ä»¥å®ç°ä¸€äº›ç¥å¥‡çš„æ•ˆæœã€‚4ã€å°½é‡ä¸ºæ¯ä¸€ä¸ªå®šä½å…ƒç´ åˆç†åˆ†é…z-indexï¼Œç‰¹åˆ«æ˜¯relativeå…ƒç´ ã€‚æŒ‰çº§åˆ«ä¸€èˆ¬ä¸ºï¼šä¸»ä½“å†…å®¹ &lt; ä¸‹æ‹‰åˆ—è¡¨ã€æ—¥å†ç­‰ä¸ä¸»ä½“ç´§å¯†è”ç³»çš„å†…å®¹ &lt; æµ®åŠ¨çš„å¤´éƒ¨æˆ–å·¦å³å¯¼èˆªã€å·¥å…·æ ç­‰ &lt; é®ç½©ã€æ¨¡æ€çª—å£ç­‰ã€‚éµå¾ªè¿™ä¸ªè§„åˆ™èƒ½å°‘è¸©å¾ˆå¤šå‘ã€‚5ã€ç»å¯¹å®šä½çš„å…ƒç´ å¯ä»¥æº¢å‡ºæ·»åŠ äº†overflow: hiddençš„çˆ¶å®¹å™¨ä¸”ä¸è¢«æˆªæ–­ï¼›ç»å¯¹å®šä½çš„èµ·å§‹ç‚¹æ˜¯å‚ç…§ç¦»å…¶æœ€è¿‘çš„ç¥–å…ˆå®šä½å…ƒç´ ï¼Œä¸€ç›´åˆ°bodyã€‚6ã€éšè—å…ƒç´ ä¸€èˆ¬ç”¨display: noneã€visibility: hiddenï¼Œä½¿ç”¨CSS3è¿‡æ¸¡å’ŒåŠ¨ç”»æ—¶é¦–é€‰visibilityã€‚å› ä¸ºdisplayåªæœ‰ä¸¤ä¸ªçŠ¶æ€æ”¹å˜none -&gt; block/inline-block/...ï¼Œæ²¡æœ‰å€¼åŸŸçš„å˜åŒ–ï¼ˆæˆ‘æ˜¯è¿™ä¹ˆç†è§£çš„ï¼‰ï¼Œvisibilityåœ¨åº•å±‚å®ç°ä¸­æ˜¯æœ‰ä¸€ä¸ª 0-1 çš„å˜åŒ–ã€‚7ã€å½“IE&lt;=7æ—¶ï¼Œé‡åˆ°å®šä½å¸ƒå±€é—®é¢˜ï¼Œä½ å¯èƒ½éœ€è¦äº†è§£haslayoutä¸å±‚å ä¸Šä¸‹æ–‡ã€‚8ã€åœ¨ç§»åŠ¨ç«¯å¼€å‘ä¸­ï¼Œä½¿ç”¨Flexboxæ–°æ—§è¯­æ³•æ··åˆæ˜¯å¾ˆå¥½ç”¨çš„å¸ƒå±€è§£å†³æ–¹æ¡ˆã€‚é€‰æ‹©å™¨1ã€ä¸€äº›ç®€å•çš„äº¤äº’æ•ˆæœå°±ä¸éœ€è¦ç”¨jså»å®ç°äº†ï¼Œçµæ´»ä½¿ç”¨é€‰æ‹©å™¨å°±å¯ä»¥æå®šã€‚å¦‚ï¼šé¼ æ ‡æ‚¬æµ®äºä¸€ä¸ªå…ƒç´ æ—¶æ˜¾ç¤ºæŸä¸ªå­å…ƒç´ æˆ–å…„å¼Ÿå…ƒç´ ã€è¾“å…¥æ¡†å…·æœ‰ç„¦ç‚¹æ—¶æ˜¾ç¤ºè¾“å…¥æç¤ºã€CSSæ¨¡æ‹Ÿå•å¤é€‰æ¡†ç­‰ã€‚2ã€jqueryä¸­æœ‰çš„é€‰æ‹©å™¨ï¼ŒåŸºæœ¬ä¸Šä¹Ÿèƒ½åœ¨CSSä¸­ä½¿ç”¨æˆ–æ‰¾åˆ°æ›¿ä»£æ–¹æ¡ˆã€‚3ã€é“¾æ¥çš„ä¼ªç±»æ ·å¼è¦æŒ‰ç…§linkã€visitedã€hoverã€activeé¡ºåºè®¾ç½®ï¼Œç§»åŠ¨ç«¯ç”¨activeä»£æ›¿hoverã€‚4ã€é™¤äº†é¦–å…ƒç´ ã€æœ«å…ƒç´ å¤–ï¼Œè¿˜æœ‰é¦–è¡Œé€‰æ‹©å™¨:first-lineå’Œé¦–å­—ç¬¦é€‰æ‹©å™¨:first-letterã€‚5ã€ä½¿ç”¨å­å…ƒç´ ä¼ªç±»é€‰æ‹©å™¨:nth-child(n)å¯ä»¥æŒ‰ç…§ä½ çš„è§„åˆ™é€‰å–ä»»æ„ç»„åˆçš„å­å…ƒç´ ã€‚6ã€ä¼ªå…ƒç´ é€‰æ‹©å™¨:before/:afterå¯ä»¥æŠŠä¸€ä¸ªå…ƒç´ å½“ä½œä¸‰ä¸ªå…ƒç´ ä½¿ç”¨ï¼Œéœ€æ³¨æ„æŸäº›å…ƒç´ ä¸æ”¯æŒè¯¥é€‰æ‹©å™¨ã€‚å…¶å±æ€§contentä¸ºå¿…è®¾å€¼ï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–ä½¿ç”¨attr()æ’å…¥å…ƒç´ å±æ€§å€¼ã€ä½¿ç”¨url()æ’å…¥å›¾åƒç­‰ã€‚æ’ç‰ˆä¸ä¿®é¥°1ã€æ–‡æœ¬å¤„ç†ï¼šå¤§å°å†™è½¬æ¢text-transformã€æ–‡å­—æˆªæ–­text-overflowã€æ”¹å˜æ–‡æœ¬æµæ–¹å‘directionã€ä¹¦å†™æ–¹å‘writing-modeã€æ¢è¡Œå¤„ç†white-spaceç­‰ã€‚2ã€å½“font-weightè®¾ä¸ºæ•°å€¼æ—¶ï¼Œéœ€è¦å¯¹åº”çš„å­—ä½“æœ‰è¯¥æ•°å€¼å­—é‡æ”¯æŒï¼Œå¦åˆ™æ— æ•ˆã€‚boldç­‰ä»·äº700æ•°å€¼ã€‚3ã€å‚ç›´å¯¹é½vertical-alignæ˜¯ä¸ªèµ„æ·±å¥‡è‘©ï¼Œå„ä¸ªæµè§ˆå™¨è§£æå‡æœ‰å·®å¼‚ã€‚é™¤äº†ä¸€äº›å›ºæœ‰å±æ€§å€¼å¤–ï¼Œè¿˜å¯ä»¥è®¾æ•°å€¼ã€ç™¾åˆ†æ¯”ã€‚4ã€ä½ æƒ³è®¾ç½®2ä¸ªè¾¹æ¡†å—ï¼Ÿä½¿ç”¨outlineå§ã€‚5ã€æµè§ˆå™¨å­—ä½“æœ€å°åŸºå‡†æ˜¯12pxã€‚6ã€è®¾è®¡å›¾ä¸­çš„ä¸€äº›å­—ä½“æ•ˆæœï¼Œå¯ä»¥å°è¯•ç”¨text-shadowå®ç°ï¼Œå‡å°‘å›¾ç‰‡åº”ç”¨ã€‚7ã€ä½¿ç”¨CSS3æ—¶éµå¾ªæ¸è¿›å¢å¼ºåŸåˆ™ï¼Œå¯¹äºä¸æ”¯æŒçš„æµè§ˆå™¨ä¿è¯å¸ƒå±€æ— é”™ä¹±ã€åŠŸèƒ½æ­£å¸¸ä½¿ç”¨ã€‚","tags":[{"name":"CSS","slug":"CSS","permalink":"http://imys.net/tags/CSS/"},{"name":"CSS3","slug":"CSS3","permalink":"http://imys.net/tags/CSS3/"}]},{"title":"ä½¿ç”¨HTML5 history APIå¢å¼ºç§»åŠ¨ç«¯ç”¨æˆ·ä½“éªŒ","date":"2016-03-16T06:42:51.000Z","path":"20160316/use-history-pushState.html","text":"èµ·å› æœ€è¿‘åšçš„ä¸€ä¸ªå›¾ç‰‡æµè§ˆåŠŸèƒ½ï¼Œè¯·è‡ªè¡Œè„‘è¡¥æ‰‹æœºå›¾åº“ã€å¾®åšæŸ¥çœ‹å›¾ç‰‡ç­‰åœºæ™¯ã€‚åŠŸèƒ½åšå¥½ä¹‹åï¼Œé©¬ä¸Šæœ‰åŒå­¦ååº”ï¼šè¿›å…¥å›¾ç‰‡æµè§ˆå±‚æ—¶ï¼Œå¦‚æœç”¨æˆ·è§¦æ‘¸æ‰‹æœºåé€€æŒ‰é’®ï¼Œæ•´ä¸ªé¡µé¢éƒ½ä¼šè¿”å›ï¼Œèƒ½å¦åœ¨è§¦æ‘¸è¿”å›æ—¶åªå…³é—­æµè§ˆå±‚ï¼Ÿä¸€èˆ¬ç§»åŠ¨ç«¯ä¼šå¯¹ WebView åšä¸€äº›é»˜è®¤çš„è®¾ç½®ï¼Œæ¯”å¦‚ Hook ç”¨æˆ·è§¦æ‘¸åé€€æŒ‰é’®ï¼Œè°ƒç”¨ WebView åé€€æ–¹æ³•ã€‚æ—¢ç„¶å¦‚æ­¤ï¼Œå°±å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œé€šè¿‡æ“çºµæµè§ˆè®°å½•ä½¿ç”¨æˆ·è§¦æ‘¸åé€€å…³é—­æµè§ˆå±‚ã€‚historyæƒ³è¦æ“çºµæµè§ˆè®°å½•ï¼Œå°±ä¸å¾—ä¸æhistoryå¯¹è±¡äº†ã€‚é€šè¿‡å¸¸ç”¨çš„back()ã€forward()ã€go()æ–¹æ³•å°±å¯ä»¥è‡ªç”±çš„æ§åˆ¶æµè§ˆå™¨è·³è½¬åˆ°ä»»æ„ä¸€ä¸ªå†å²è®°å½•ã€‚è€Œåœ¨ HTML5 ä¸­ï¼Œhistory åˆæ·»åŠ ä¸€äº›æ–°çš„æˆå‘˜ï¼Œå…è®¸ä½ å¯¹æµè§ˆè®°å½•è¿›è¡Œæ·»åŠ å’Œä¿®æ”¹å´ä¸ä¼šåˆ·æ–°é¡µé¢ï¼Œè¿™å°±æ˜¯è§£å†³é—®é¢˜çš„å…³é”®äº†ã€‚history.pushState(stateObj, title, url) ç”¨äºåˆ›å»ºæ–°å†å²è®°å½•ï¼›history.replaceState(stateObj, title, url) ç”¨äºä¿®æ”¹å½“å‰å†å²è®°å½•ï¼›history.state è¯»å–å½“å‰çŠ¶æ€ï¼Œåˆ›å»ºå†å²è®°å½•æ—¶ä¼šæ·»åŠ çŠ¶æ€å¯¹è±¡ï¼›window.onpopstate æ˜¯ä¸€ä¸ªäº‹ä»¶ï¼Œå½“å†å²è®°å½•è¢«ä¿®æ”¹æ—¶ä¼šè§¦å‘ã€‚ç®€å•å®ç°&lt;div id=\"container\"&gt;&lt;/div&gt;å°±æŠŠè¿™ä¸ª div çœ‹ä½œä¸€ä¸ªå›¾ç‰‡æµè§ˆå±‚å§ï¼Œæ ·å¼è„‘è¡¥ã€‚function Demo(id) &#123; this.el = document.getElementById(id);&#125;Demo.prototype = &#123; constructor: Demo, show: function() &#123; // å¤„ç†æ˜¾ç¤ºçš„ä»£ç ... this.el.classList.add('in'); &#125;, hide: function() &#123; // å¤„ç†éšè—çš„ä»£ç ... this.el.classList.remove('in'); &#125;, useState: &#123; show: function() &#123; // å‚æ•°1æ˜¯ Object ç±»å‹ï¼Œå¯ä»¥è¢« history.state è¯»å– // å‚æ•°2æ˜¯æ ‡é¢˜ï¼Œåœ¨ä¸€äº›æµè§ˆå™¨ä¸­ä¼šè¢«å¿½ç•¥ï¼Œè±¡å¾æ€§çš„ä¼ ç©ºå°±å¯ä»¥äº† // å‚æ•°3æ˜¯æ–°è®°å½•çš„åœ°å€ï¼Œä¼šåœ¨æœ«å°¾è¿½åŠ ï¼Œå¦‚ï¼šhttp://test.com/demo history.pushState(&#123; page: 'demo' &#125;, '', '/demo'); // è°ƒç”¨çœŸæ­£çš„æ˜¾ç¤ºæ–¹æ³• this.show(); &#125;, hide: function() &#123; // è¿”å›ä¸Šä¸€æ¡å†å²è®°å½• history.back(); &#125; &#125;, bindEvent: function() &#123; var _this = this, handelShow = this.show, handelHide = this.hide, imgs = document.getElementsByTagName('img'), // å‡è®¾å›¾ç‰‡æµè§ˆå±‚ä¸Šæœ‰ä¸€ä¸ª .back åé€€æŒ‰é’® back = document.getElementsByClassName('back')[0]; // åŠ ä¸ªåˆ¤æ–­é¿å…å…¼å®¹æ€§é—®é¢˜ if(history.pushState) &#123; // å¦‚æœå¯ä»¥ä½¿ç”¨ history API å°±é‡æ–°èµ‹å€¼ handelShow å’Œ handelHide handleShow = this.useState.show.bind(this); handleHide = this.useState.hide.bind(this); // history.state å˜åŒ–æ—¶è§¦å‘ï¼Œå‡è®¾åˆå§‹ URL = http://test.com window.onpopstate = function(e) &#123; // è¿™é‡Œçš„ e.state å’Œ history.state ç­‰ä»·çš„ if(!e.state) &#123; // æ— çŠ¶æ€æ—¶éšè— _this.hide(); console.log(document.location); // http://test.com &#125; else if(e.state.page === 'demo') &#123; // å¦‚æœæ˜¯è‡ªå·±å®šä¹‰çš„çŠ¶æ€å°±æ˜¾ç¤º _this.show(); console.log(document.location); // http://test.com/demo &#125; &#125;; &#125; // ç»™å›¾ç‰‡ç»‘å®šäº‹ä»¶ [].forEach.call(imgs, function(img)&#123; img.addEventListener('touchstart', function() &#123; handelShow(); &#125;); &#125;); // å›¾ç‰‡æµè§ˆå±‚ä¸Šçš„åé€€äº‹ä»¶ back.addEventListener('touchstart', function() &#123; handelHide(); &#125;); &#125;&#125;;// è°ƒç”¨new Demo('container');æ‰§è¡Œhistory.pushState()æ—¶ä¸ä¼šè§¦å‘window.onpopstateï¼Œåªæœ‰å‰è¿›forward()ã€åé€€back()æ—¶æ‰ä¼šè§¦å‘ï¼Œæ‰€ä»¥åœ¨ä¹‹åè¿˜éœ€è¦è°ƒç”¨æ˜¾ç¤ºçš„æ–¹æ³•ã€‚å¯¹äºä¸æ”¯æŒhistory.pushStateçš„æµè§ˆå™¨æ‰§è¡Œçš„è¿˜æ˜¯åŸæ¥çš„æ˜¾ç¤ºå’Œéšè—æ–¹æ³•ï¼ŒhandleShowå’ŒhandleHideåœ¨åˆ¤æ–­å†…æ‰è¢«é‡æ–°èµ‹å€¼ã€‚é€šè¿‡åœ¨window.onpopstateåˆ¤æ–­history.stateæ¥æ‰§è¡Œä¸åŒçš„æ“ä½œï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥åˆ¤æ–­locationã€‚ä»¥ä¸Šä»£ç æœªç»æµ‹è¯•ï¼Œåªä½œæ€è·¯å±•ç¤ºï¼Œæ³¨é‡Šè¯´æ˜äº†ä¸€åˆ‡ã€‚åº”ç”¨åœºæ™¯åœ¨ SPA åœºæ™¯ä¸­ï¼Œhistory æ—©å·²å¤§æ˜¾ç¥é€šã€‚ä¸history.stateç›¸ä¼¼çš„è¿˜æœ‰location.hashï¼Œä¹Ÿæœ‰å…¶å¯¹åº”çš„äº‹ä»¶window.onhashchangeï¼Œä¸€èˆ¬ç”¨äºå¤„ç† IE ä½ç‰ˆæœ¬çš„å…¼å®¹ã€‚æŠ›å¼€æœ¬ç¯‡æè¿°çš„åŠŸèƒ½éœ€æ±‚ï¼Œç±»ä¼¼çš„åœºæ™¯ä¹Ÿå¯ä»¥è¿ç”¨ã€‚æ¯”å¦‚å·¦ä¾§å¯¼èˆªåœ¨åŸç”ŸAPPéƒ½æ˜¯å¯ä»¥é€šè¿‡è§¦æ‘¸è¿”å›æ¥å…³é—­ï¼Œåœ¨æµè§ˆå™¨ä¸­ä¹Ÿå¯ä»¥æ¨¡æ‹Ÿè¿™ç§æ“ä½œä½“éªŒã€‚","tags":[{"name":"Html5","slug":"Html5","permalink":"http://imys.net/tags/Html5/"},{"name":"History","slug":"History","permalink":"http://imys.net/tags/History/"},{"name":"ç”¨æˆ·ä½“éªŒ","slug":"ç”¨æˆ·ä½“éªŒ","permalink":"http://imys.net/tags/ç”¨æˆ·ä½“éªŒ/"}]},{"title":"é˜¿é‡Œäº‘æ­å»ºGitæœåŠ¡ï¼Œå®ç°Hexoè‡ªåŠ¨éƒ¨ç½²","date":"2016-03-03T08:33:19.000Z","path":"20160303/hexo-nginx-auto-deploy.html","text":"ä½¿ç”¨ gitcafe pages æ›´æ–°åšå®¢åªéœ€è¦æ•²å‡ æ¡å‘½ä»¤ï¼Œå¦‚æœå› ä¸ºåšå®¢æ¬åˆ°äº†é˜¿é‡Œäº‘ï¼Œå´æ²¡æœ‰åŸæ¥æ“ä½œæ–¹ä¾¿ï¼Œé‚£ä¾¿å¾—ä¸å¿å¤±äº†ã€‚æ‰€ä»¥å°±å‡†å¤‡åœ¨æœåŠ¡å™¨ä¸Šå»ºä¸ª Git è¿œç¨‹ä»“åº“ï¼Œç”¨ Git Hooks å®ç°è‡ªåŠ¨éƒ¨ç½²ã€‚Git HooksGit Hooks å°±æ˜¯ä¸€äº›è§¦å‘ç‰¹å®šäº‹ä»¶çš„è„šæœ¬ã€‚æ¯”å¦‚ commitã€pushã€merge ç­‰ç­‰ï¼Œä¹ŸåŒºåˆ†æœ¬åœ° Hooks å’ŒæœåŠ¡ç«¯ Hooksã€‚æˆ‘è¿™æ¬¡ä½¿ç”¨çš„æ˜¯post-receiveã€‚å½“ç”¨æˆ·åœ¨æœ¬åœ°ä»“åº“æ‰§è¡Œgit-pushå‘½ä»¤æ—¶ï¼ŒæœåŠ¡å™¨ä¸Šè¿œç¨‹ä»“åº“å°±ä¼šå¯¹åº”æ‰§è¡Œgit-receive-packå‘½ä»¤ï¼Œè€Œgit-receive-packå‘½ä»¤ä¼šè°ƒç”¨pre-receiveé’©å­ã€‚è¿™éœ€è¦åœ¨æœåŠ¡å™¨ä¸Šå»ºç«‹ä¸€ä¸ª Git è¿œç¨‹ä»“åº“ï¼Œå’Œä¸€ä¸ªç”¨äºè·å–æ›´æ–°ï¼ˆgit pullï¼‰çš„æœ¬åœ°ä»“åº“ã€‚è¿œç¨‹ä»“åº“ï¼šæœ€åŸå§‹çš„ç‰ˆæœ¬åº“ï¼Œæ‰€æœ‰çš„æœ¬åœ°ä»“åº“å°±å¯ä»¥å…‹éš†è¿™ä¸ªä»“åº“ã€‚å°±åƒä½ åœ¨ Github åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªè¿œç¨‹ä»“åº“ã€‚æœ¬åœ°ä»“åº“ï¼šè¿™ä¸ªå°±æ˜¯å¹³å¸¸çš„å·¥ä½œç›®å½•ï¼Œå®¹æ˜“ç†è§£ã€‚æ€»ä½“çš„æµç¨‹ä¸ºï¼šæœ¬åœ°æ‰§è¡Œgit pushï¼›Git æœåŠ¡å™¨æ›´æ–°å¹¶ Hookï¼›æ‰§è¡Œpre-receiveè„šæœ¬ï¼Œå‘½ä»¤ä¸ºï¼šå®šä½åˆ°æœåŠ¡å™¨æœ¬åœ°ä»“åº“ç›®å½•ï¼Œæ‰§è¡Œgit pullã€‚æˆ‘çš„ git å·²ç»å®‰è£…äº†ï¼ŒUbuntu å®‰è£…å¾ˆç®€å•ï¼šsudo apt-get install git åˆ›å»º git ç”¨æˆ·ï¼Œç”¨æ¥è¿è¡Œ git æœåŠ¡ï¼šsudo adduser git ç”¨ git ç”¨æˆ·è¿è¡Œè²Œä¼¼æ˜¯çº¦å®šä¿—æˆçš„äº‹ï¼Œåƒ github ä¸€ä¸ªä»“åº“çš„ URL ä¸ºgit@github.com:user/project.gitï¼Œ@ ç¬¦å·å‰é¢çš„ git å°±æ˜¯è¿è¡Œ git æœåŠ¡çš„ç”¨æˆ·åã€‚åˆå§‹åŒ–è¿œç¨‹ä»“åº“ï¼šæˆ‘çš„ç›®å½•åä¸ºwebsiteï¼Œä»“åº“åä¸ºblogï¼Œä»¥æ­¤ä¸ºä¾‹ã€‚cd /website sudo git init --bare blog.git è¿œç¨‹ä»“åº“åä»¥.gitç»“å°¾ã€‚è¿˜éœ€è¦ç»™ git ç”¨æˆ·è®¾ç½®è¯¥ç›®å½•çš„æƒé™ï¼šsudo chown -R git:git blog.git å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œç¦ç”¨ shell ç™»å½•ï¼švi /etc/passwd æ‰¾åˆ°è¿™ä¸€è¡Œï¼šgit:x:1002:1002:,,,:/home/git:/bin/bash ä¿®æ”¹ä¸ºï¼šgit:x:1002:1002:,,,:/home/git:/usr/bin/git-shell å¯ä»¥ä½¿ç”¨git-shellï¼Œé€šè¿‡sshä½¿ç”¨ gitï¼Œä½†æ— æ³•ä½¿ç”¨ shell ç™»å½•ã€‚åˆ›å»ºè¯ä¹¦ç™»å½•ï¼ŒæŠŠæœ¬åœ°å…¬é’¥æ·»åŠ åˆ°/home/git/.ssh/authorized_keysã€‚ä¸è¿‡é»˜è®¤çš„id_rsaå…¬é’¥ä¸€èˆ¬éƒ½è¢«å ç”¨äº†ï¼Œå¯ä»¥å†å»ºä¸ªå…¶ä»–åå­—ï¼Œåˆ›å»º.ssh/configåŒºåˆ†ã€‚åˆå§‹åŒ–æœåŠ¡å™¨æœ¬åœ°ä»“åº“ï¼šæˆ‘æ˜¯åœ¨è¿œç¨‹ä»“åº“æ—è¾¹å»ºç«‹çš„ã€‚cd /website git clone blog.git å› ä¸ºæ˜¯åœ¨åŒä¸€å°ç”µè„‘ä¸Šï¼Œæ‰€ä»¥å…‹éš†ç›´æ¥ä½¿ç”¨æœ¬åœ°è·¯å¾„ã€‚è¿™å°†ä¼šåœ¨websiteç”Ÿæˆä¸€ä¸ªåä¸ºblogæœ¬åœ°ä»“åº“ã€‚ls -la å¯ä»¥çœ‹åˆ°å½“å‰è·¯å¾„ä¸‹æœ‰ä¸€ä¸ªblog.gitç›®å½•å’Œä¸€ä¸ªblogç›®å½•ã€‚è€ƒè™‘åˆ° git-hooks è¿è¡Œä½¿ç”¨çš„æ˜¯ git ç”¨æˆ·ï¼Œä¹Ÿå¯¹æœåŠ¡å™¨æœ¬åœ°ä»“åº“æˆæƒï¼šchown -R git:git blog è®¾ç½® hook æ‰§è¡Œè„šæœ¬ï¼švi blog.git/hooks/post-receive è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š#!/bin/sh cd /website/blog git pull origin master å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯å®šä½åˆ°æœåŠ¡å™¨æœ¬åœ°ä»“åº“ç„¶åæ‹‰å–æ›´æ–°ã€‚ä¿å­˜åèµ‹äºˆå¯æ‰§è¡Œæƒé™ï¼šchmod +x blog.git/hooks/post-receive ç°åœ¨å¯ä»¥åœ¨æœ¬åœ°ï¼ˆä½ çš„ç”µè„‘ä¸Šï¼‰è¿›è¡Œæµ‹è¯•äº†ã€‚æ‰¾ä¸€ä¸ªç›®å½•ï¼Œè¿›è¡Œç‰ˆæœ¬åº“å…‹éš†ï¼šgit clone git@server:/website/blog.git server æ˜¯ä½ çš„æœåŠ¡å™¨åŸŸåæˆ–è€…IPã€‚å› ä¸ºä»“åº“è¿˜æ²¡æœ‰å†…å®¹ï¼Œæ‰€ä»¥ä¼šæ˜¾ç¤ºï¼šYou appear to have cloned an empty repository. ä½ å…‹éš†äº†ä¸€ä¸ªç©ºä»“åº“ã€‚ç°åœ¨å¯ä»¥éšä¾¿åˆ›å»ºç‚¹ä¸œè¥¿ï¼Œpush åˆ°è¿œç¨‹ä»“åº“ï¼Œç„¶ååˆ°/website/blogç›®å½•ä¸‹çœ‹çœ‹æœ‰æ²¡æœ‰å˜åŒ–ã€‚æˆ‘åœ¨æ“ä½œçš„æ—¶å€™é‡åˆ°ä¸€ä¸ªé”™è¯¯ï¼šfatal: Not a git repository: â€˜.â€™å› ä¸º hook è„šæœ¬æ‰§è¡Œäº† cd ä¹‹åï¼Œç»§ç»­æ‰§è¡Œ git è¯­å¥æ‹‰å–çš„æ—¶å€™è¿˜æ˜¯åœ¨ hooks æ–‡ä»¶å¤¹ä¸‹ï¼Œè€Œä¸æ˜¯ cd çš„æ–‡ä»¶è·¯å¾„ã€‚ä¿®æ”¹åçš„è„šæœ¬å¦‚ä¸‹ï¼š#!/bin/sh unset GIT_DIR #è¿˜åŸç¯å¢ƒå˜é‡ cd /website/blog git pull origin master ç°åœ¨å·²ç»å®ç°æœ¬åœ°åˆ°è¿œç¨‹æœåŠ¡å™¨çš„åŒæ­¥äº†ï¼Œåªå·®ä¸€ä¸ª Web æœåŠ¡å™¨äº†ã€‚Nginxå®‰è£…é…ç½®ç›®å‰æˆ‘çš„åšå®¢åœ¨ gitcafe ä¸Šï¼Œåœ¨ URL åé¢éšä¾¿åŠ ç‚¹åç¼€è¿›å…¥ 404 é¡µé¢ï¼Œå¯ä»¥æ¸…æ¥šçš„çœ‹åˆ° nginx/1.8.0 çš„å­—æ ·ã€‚ä»¥åè¿˜è¦ç©è´Ÿè½½å‡è¡¡ï¼ŒæœåŠ¡å™¨è‚¯å®šå°±é€‰å®ƒäº†ã€‚sudo apt-get install nginx çœ‹äº†å¾ˆå¤šæ–‡ç« ï¼Œå‘ç°å…¶ä¸­æè¿°çš„ Nginx çš„æ–‡ä»¶ç»“æ„éƒ½ä¸å¤ªä¸€æ ·ï¼Œçœ‹æ¥è·Ÿç³»ç»Ÿç¯å¢ƒæœ‰å…³ç³»ã€‚æˆ‘çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼Œç¯å¢ƒæ˜¯é˜¿é‡Œäº‘ Ubuntu 14.04 ï¼šæ‰€æœ‰çš„é…ç½®æ–‡ä»¶éƒ½åœ¨/etc/nginxä¸‹ï¼Œå¹¶ä¸”æ¯ä¸ªè™šæ‹Ÿä¸»æœºå·²ç»å®‰æ’åœ¨äº†/etc/nginx/sites-availableä¸‹å¯åŠ¨ç¨‹åºæ–‡ä»¶åœ¨/usr/sbin/nginxæ—¥å¿—æ”¾åœ¨äº†/var/log/nginxä¸­ï¼Œåˆ†åˆ«æ˜¯access.logå’Œerror.logåœ¨/etc/init.d/ä¸‹åˆ›å»ºäº†å¯åŠ¨è„šæœ¬nginxé»˜è®¤çš„è™šæ‹Ÿä¸»æœºçš„ç›®å½•è®¾ç½®åœ¨/usr/share/nginx/htmlå¯åŠ¨ Nginx ï¼šsudo /etc/init.d/nginx start é»˜è®¤çš„æœåŠ¡å™¨é…ç½®æ˜¯ 80 ç«¯å£ï¼Œå¦‚æœä½ æ²¡æœ‰å…¶ä»–çš„ Web Server åœ¨è¿è¡Œï¼Œæ‰“å¼€æœåŠ¡å™¨åŸŸåæˆ– IP åº”è¯¥å¯ä»¥çœ‹åˆ°Welcome to nginx!ç°åœ¨å®šä½åˆ°é…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹é…ç½®ï¼švi /etc/nginx/nginx.conf æ‰¾åˆ°server { ... }åŒºåŸŸï¼šserver &#123; listen 80; #ç«¯å£ server_name localhost yoursite.com; #åŸŸåæˆ–IP root /website/blog; #ç«™ç‚¹æ ¹ç›®å½• charset utf-8; #æ–‡ä»¶ç¼–ç  index index.html index.htm; #é¦–é¡µ error_page 404 /404.html; #404é¡µé¢ error_page 500 502 503 504 /50x.html; #æœåŠ¡ç«¯é”™è¯¯é¡µé¢ #urlè®¿é—®åŒ¹é…è·¯å¾„ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ª location / &#123; index index.html index.htm; root /website/blog; #è¿™é‡Œå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„æˆ–è€…ç›¸å¯¹è·¯å¾„ï¼ŒåŸºäºç«™ç‚¹æ ¹ç›®å½• &#125;&#125;å¯ä»¥ç”¨ä¸€æ¡å‘½ä»¤æµ‹è¯•é…ç½®æ˜¯å¦æ­£ç¡®ï¼šnginx -t -c /etc/nginx/nginx.conf é‡å¯ Nginx æœåŠ¡å™¨ä½¿é…ç½®ç”Ÿæ•ˆï¼š/etc/init.d/nginx restart ç°åœ¨å¼€å§‹éƒ¨ç½² Hexoã€‚Hexo éƒ¨ç½²åŸæ¥çš„ Hexo ä½¿ç”¨çš„æ˜¯ hexo-deployer-git æ’ä»¶ï¼Œä¼šåœ¨ Hexo ä¸‹ç”Ÿæˆä¸€ä¸ª .deploy_git ç›®å½•ï¼Œä»è¿™ä¸ªç›®å½•ä¸Šä¼ åˆ° pages åˆ†æ”¯ã€‚ç°åœ¨æˆ‘è§‰å¾—ä¸éœ€è¦è¿™ä¸ªæ’ä»¶äº†ï¼Œå¯ä»¥ç›´æ¥åœ¨ public ç›®å½•ä¸‹åˆå§‹åŒ– git ä»“åº“ç„¶åä¸Šä¼ ã€‚cd hexo/public git init git add -A git commit -m &apos;add myBlog&apos; git remote add origin git@server:/website/blog.git git push origin master è¿™æ—¶å€™æ‰“å¼€ç«™ç‚¹ï¼Œå°±å¯ä»¥çœ‹åˆ°åšå®¢äº†ã€‚æˆ‘çš„åŸŸåè¿˜æ²¡æœ‰å¤‡æ¡ˆï¼Œä¹‹å‰æ³¨å†Œçš„åŸŸåæœ‰å¤‡æ¡ˆå·ï¼Œéœ€è¦è¿åˆ°é˜¿é‡Œäº‘ã€‚å¥½åƒå®¡æ ¸æœŸé—´éœ€è¦å…³ç«™ï¼ŒçœŸæ˜¯éº»çƒ¦ã€‚å‚è€ƒå»–é›ªå³°-æ­å»ºGitæœåŠ¡å™¨ä½¿ç”¨ Git Hooks å®ç°è‡ªåŠ¨é¡¹ç›®éƒ¨ç½²Nginxä¸­æ–‡æ–‡æ¡£","tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://imys.net/tags/Hexo/"},{"name":"Nginx","slug":"Nginx","permalink":"http://imys.net/tags/Nginx/"},{"name":"Linux","slug":"Linux","permalink":"http://imys.net/tags/Linux/"},{"name":"éƒ¨ç½²","slug":"éƒ¨ç½²","permalink":"http://imys.net/tags/éƒ¨ç½²/"}]},{"title":"é˜¿é‡Œäº‘Linux-UbuntuæŠ˜è…¾è®°","date":"2016-02-20T08:25:34.000Z","path":"20160220/start-linux-on-aliyun.html","text":"è§‚æœ›é˜¿é‡Œäº‘å¾ˆä¹…äº†ï¼Œç»ˆäºåœ¨è¿™ä¸ªæ˜¥èŠ‚æ¥äº†åï¼Œä¸€å’¬ç‰™ã€ä¸€ç‹ å¿ƒã€ä¸€è·ºè„šå°±ä¹°ä¸‹äº†ä¸€å° ECSã€‚ä¸åˆ†æ˜¼å¤œçš„æŠ˜è…¾äº†å‡ å¤©åï¼Œç»ˆäºåœ¨å‡ å¤©å‰é…ç½®å¥½äº†è‡ªå·±æœŸæœ›çš„ä½¿ç”¨ç¯å¢ƒã€‚ç”±äºæœ¬äººåˆæ¬¡æ¥è§¦ Linuxï¼Œé…ç½®æœŸé—´ä¸‰åº¦åˆå§‹åŒ–ç£ç›˜ï¼ˆç­‰ä»·äºæ‰‹æœºæ¢å¤å‡ºå‚è®¾ç½®ï¼‰ï¼Œå¯ä»¥è¯´æ˜¯ä¸€æ­¥ä¸€ä¸ªå‘çš„èµ°ä¸‹æ¥çš„ã€‚ç°è¶çƒ­æ‰“é“å¯¹æœ€åä¸€æ¬¡æ­£ç¡®çš„å®‰è£…é…ç½®åšä¸€ä¸‹æ€»ç»“ï¼Œç»™åäººä¹˜å‡‰å§ã€‚é€‰æ‹©é…ç½®ä½œä¸ºå¼€å‘è€…ï¼Œé€‰æ‹© Linux æ˜¯æ¯‹åº¸ç½®ç–‘çš„ã€‚CPU å•æ ¸2Gï¼Œå¯¹äºæˆ‘ç›®å‰æ¥è¯´ç»å¯¹æ˜¯å¤Ÿç”¨äº†ã€‚æˆ‘ä¼šç”¨æ¥åšä»€ä¹ˆï¼Ÿå½“ç„¶æ˜¯çæŠ˜è…¾äº†ï¼ä¸€å°è¿œç¨‹æœåŠ¡å™¨å°±ç›¸å½“äºä½ å¤šäº†ä¸€å°24å°æ—¶ä¸å…³æœºçš„ç”µè„‘ï¼Œå¯ä»¥æŒ‚ç‚¹æœ‰è¶£çš„æœåŠ¡è·‘ç€ï¼Œæ¯”å¦‚çˆ¬è™«ä¹‹ç±»ã€‚æˆ–è€…å½“ä¸ªä»£ç ä»“åº“ï¼Œç”¨æ¥é¡¹ç›®æ¼”ç¤ºã€‚å½“ç„¶ï¼Œåšå®¢ä¹Ÿè‚¯å®šä¼šè¿è¿‡å»çš„ã€‚å¸¦å®½ 2Gï¼Œä¸çŸ¥é“å¸¦å®½æå‡æ˜¯ä¸æ˜¯ä¼šå½±å“è¿œç¨‹æ¡Œé¢é€Ÿåº¦ã€‚å¯¹äº Linux çš„è¯¸å¤šç‰ˆæœ¬ä¹‹é—´çš„ä¼˜åŠ£ï¼Œæˆ‘ä¹Ÿä¸ç”šäº†è§£ï¼Œå°±é€‰äº†ä¸ªè€³æ¿¡ç›®æŸ“è¾ƒå¤šçš„ Ubuntuï¼Œç‰ˆæœ¬è‡ªç„¶æ˜¯é€‰æœ€æ–°ç‰ˆçš„64ä½ã€‚Linux è‡ªå¸¦ 20G ç³»ç»Ÿç›˜ï¼Œå¦å¤–æˆ‘åˆåŠ äº†ä¸€å— 100G äº‘ç›˜ï¼Œæ„Ÿè§‰ç°åœ¨è¿˜ç”¨ä¸äº†è¿™ä¹ˆå¤§ç©ºé—´ã€‚ä»¥ä¸Šé…ç½®ä¸€å¹´çš„ä»·æ ¼æ˜¯ 1200+ï¼Œæˆ‘é€‰æ‹©çš„åœ°åŸŸæ˜¯é’å²›ï¼Œæ¯”å›½å†…å…¶ä»–åœ°åŸŸç›¸å¯¹ä¾¿å®œç‚¹ã€‚å¦å¤–ä»˜æ¬¾çš„æ—¶å€™å¡«å†™æ¨èç å¯ä»¥ä¼˜æƒ  10%ï¼Œè¿™æ˜¯æˆ‘çš„æ¨èç ï¼šrg2j5mã€‚å½“ç„¶ä½ ä½¿ç”¨æˆ‘çš„æ¨èç ä»˜æ¬¾åæˆ‘å°†å¾—åˆ°ä¸€å®šçš„è¿”æ¯”ä»£é‡‘å·ï¼Œå¯ä»¥ç”¨æ¥è´­ä¹°é˜¿é‡Œäº‘çš„äº§å“ã€‚ç›®çš„æœ¬æ–‡æœ€ç»ˆå°†ä¼šé…ç½®å®Œæˆè¿™æ ·ä¸€ä¸ª Linux ä½¿ç”¨ç¯å¢ƒï¼šGNOME ä¸­æ–‡å›¾å½¢ç•Œé¢ï¼›Windows è¿œç¨‹æ¡Œé¢è¿æ¥ï¼›Nodejs å®‰è£…ã€‚æ›´æ–°è½¯ä»¶æºä¸ç®¡æ˜¯ä»é˜¿é‡Œäº‘è¿æ¥ç®¡ç†ç»ˆç«¯è¿˜æ˜¯ç”¨çš„ Putty ç­‰ SSH è¿æ¥å·¥å…·ï¼Œæ€»ä¹‹ä½ ç°åœ¨åº”è¯¥å·²ç»æ‰“å¼€ä¸€ä¸ªé»‘çª—å£äº†ã€‚å¼€å§‹ç¬¬ä¸€æ­¥ã€‚sudo apt-get update apt-getæ˜¯ä¸€ä¸ªåŒ…ç®¡ç†å·¥å…·ï¼Œåœ¨ Ubuntu ç¯å¢ƒä¸‹ï¼Œä¼šæ˜¯ä½ ä»¥åç»å¸¸ç”¨åˆ°çš„å‘½ä»¤ä¹‹ä¸€ï¼Œç±»ä¼¼äº Nodejs ç¯å¢ƒä¸‹çš„npmã€‚apt-get å‘½ä»¤ä¸€èˆ¬éœ€è¦ root æƒé™æ‰§è¡Œï¼Œæ‰€ä»¥ä¸€èˆ¬è·Ÿç€sudoå‘½ä»¤ã€‚æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœä½ çš„ä¸€ä¸ªå‘½ä»¤è¿è¡Œå¤±è´¥ï¼Œå¯ä»¥åŠ ä¸Šsudoå‘½ä»¤å†å°è¯•ä¸‹ï¼Œä¹Ÿè®¸å°±ç¥å¥‡çš„æˆåŠŸäº†ã€‚Linux ç³»ç»ŸåŸºæœ¬ä¸Šåˆ†ä¸¤å¤§ç±»ï¼šRedHatç³»åˆ—ï¼šRedhatã€Centosã€Fedoraç­‰ï¼Œä½¿ç”¨ yumï¼›Debianç³»åˆ—ï¼šDebianã€Ubuntuç­‰ï¼Œä½¿ç”¨ apt-getã€‚apt-get å¸¸ç”¨å‘½ä»¤ï¼šupdate æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨upgrade å‡çº§è½¯ä»¶åŒ…install pkg å®‰è£…è½¯ä»¶åŒ…remove ç§»é™¤è½¯ä»¶åŒ…å‚è€ƒï¼šapt-getçš„æ›´å¤šä½¿ç”¨åœ¨æŸ¥æ‰¾ Linux ç›¸å…³èµ„æ–™æ—¶ï¼Œå°½é‡å¸¦ä¸Šç³»ç»Ÿç¯å¢ƒä¸ç‰ˆæœ¬ï¼Œä¸åŒç‰ˆæœ¬ç¯å¢ƒä¸‹å‡ºç°é—®é¢˜çš„è§£å†³åŠæ³•ä¸ä¸€å®šé€‚ç”¨ã€‚GNOME å®‰è£…å®‰è£… x-window çš„åŸºç¡€ï¼šsudo apt-get install x-window-system-core å®‰è£… GNOME ç™»å½•ç®¡ç†å™¨ï¼šsudo apt-get install gdm å®‰è£… Ubuntu çš„æ¡Œé¢ï¼šsudo apt-get install ubuntu-desktop å®‰è£… GNOME åŸºç¡€è½¯ä»¶ï¼šsudo apt-get install GNOME-core OKï¼ç°åœ¨ä»é˜¿é‡Œäº‘è¿æ¥ç®¡ç†ç»ˆç«¯ç™»å½•çš„è¯ï¼Œå°±å¯ä»¥çœ‹åˆ° GNOME æ¼‚äº®çš„ç™»å½•ç•Œé¢ã€‚å¦‚æœè¿˜æ˜¯é»‘å±çš„è¯ï¼Œæ‰§è¡ŒstartXå‘½ä»¤ã€‚startX å³ä¸ºå¯åŠ¨ x-window æœåŠ¡ï¼Œé€‚ç”¨äºä»»ä½•å›¾å½¢ç•Œé¢çš„å¯ç”¨ã€‚åœ¨ Ubuntu ç¯å¢ƒä¸‹å½“ç„¶ä¸æ­¢ GNOME ä¸€ç§å›¾å½¢ç•Œé¢ï¼Œå¸¸è§çš„è¿˜æœ‰ KDEã€XFCE ç­‰ï¼Œä»ç¬¬2ä¸ªæ­¥éª¤å¼€å§‹å¯¹åº”å‘½ä»¤å¦‚ä¸‹ï¼šsudo apt-get install kdm æˆ– xdmsudo apt-get install Kubunut-desktop æˆ– Xubuntu-desktopæˆ‘æ²¡æœ‰ä½¿ç”¨ç»éªŒï¼Œä¸çŸ¥é“å­°ä¼˜å­°åŠ£ï¼Œæœ‰å…´è¶£ï¼Œå¯è‡ªè¡Œå°è¯•ã€‚ä¸è¿‡è¿™ä¸‰ç§æ¡Œé¢æˆ‘å€’æ˜¯éƒ½å®‰è£…è¿‡ï¼Œä¹‹æ‰€ä»¥æœ€åé€‰æ‹© GNOME å®Œå…¨æ˜¯æ’ä¸Šäº†ï¼Œå› ä¸ºæˆ‘ä¸‰åº¦åˆå§‹åŒ–ç£ç›˜ã€‚å¯¹ï¼Œæ˜¯å·§åˆï¼ä»ç•Œé¢ç¾è§‚ä¸Šçœ‹ï¼Œæˆ‘æ›´å€¾å‘äºæœ€åçš„ GNOMEã€‚è®¾ç½®ä¸­æ–‡ç¯å¢ƒè¿™ä¸ªå‘æˆ‘çˆ¬äº†å¾ˆä¹…ï¼å¦‚æœä½ çš„äººå“å¥½ï¼Œè¯·ä½¿ç”¨æœ€ç®€å•çš„ç•Œé¢è®¾ç½®æ–¹å¼æ¥åˆ‡æ¢è¯­è¨€ç¯å¢ƒã€‚System Settings -&gt; Language Support è¿›æ¥ä¼šæœ‰ä¸€ä¸ªå¼¹å‡ºæ¡†è‡ªåŠ¨å®‰è£…è¯­è¨€æ›´æ–°ï¼Œç›´æ¥å…³æ‰Install/Remove Languagesâ€¦ -&gt; Chinese Simplified å‹¾é€‰ -&gt; Apply Changesä»ä¸Šé¢åˆ—è¡¨é‡ŒæŠŠæ±‰è¯­æ‹‰åˆ°ç¬¬ä¸€ä½ï¼Œå¦‚æœå¯ä»¥çš„è¯ï¼ˆåæ­£æˆ‘æ˜¯æ€ä¹ˆéƒ½æ‹‰ä¸ä¸Šå»ï¼‰é€‰é¡¹å¡ Text -&gt; åˆ—è¡¨é‡Œé€‰æ‹©æ±‰è¯­ -&gt; Apply System-Wideâ€¦æ³¨é”€åç™»å½•å°±æ˜¯æ±‰è¯­äº†è€Œæˆ‘æ˜¯ä½¿ç”¨å‘½ä»¤çš„æ–¹å¼å¼ºè¡Œè®¾ç½®çš„ã€‚ä¸Šé¢çš„æ­¥éª¤æœ€å¥½å…ˆå°è¯•ä¸‹ï¼Œæˆ‘ä¹Ÿä¸ç¡®å®šç›´æ¥ä½¿ç”¨å‘½ä»¤å½¢å¼è®¾ç½®èƒ½å¦æˆåŠŸã€‚å®‰è£…ä¸­æ–‡çš„æ”¯æŒsudo apt-get install language-selector language-env language-pack-zhv ä½¿å®‰è£…ç”Ÿæ•ˆï¼Œé…ç½®åŒºåŸŸï¼Œçœ‹åˆ°zh_CN.UTF-8... up-to-dateå°±è¡¨ç¤ºæˆåŠŸäº†dpkg-reconfigure locales å°†æœ¬åœ°é»˜è®¤è¯­è¨€æ”¹ä¸ºä¸­æ–‡LC_ALL=zh_CN.UTF-8 é…ç½®ç³»ç»Ÿç¯å¢ƒsudo vi /var/lib/locales/supported.d/zh åŠ å…¥ä»¥ä¸‹é…ç½®å‚æ•°ï¼šzh_CN.GB18030 GB18030zh_CN.GBK GBKzh_CN.GB2312 GB2312zh_CN.GB18031 GB18031zh_HK.BIG5 BIG5zh_TW.BIG5 BIG5ç”Ÿæˆlocaleï¼ˆä¿å­˜åœ¨/usr/lib/locale/ä¸­ï¼‰ï¼šsudo locale-gen ç¼–è¾‘vi /etc/profileï¼šexport LC_ALL=&quot;zh_CN.GB18030&quot; ç¼–è¾‘vi /etc/default/localeï¼š#LANG=&quot;zh_CN.UTF-8&quot;#LANGUAGE=&quot;zh_CN:zh&quot;LC_ALL=&quot;zh_CN.GB18030&quot;LANG=&quot;zh_CN.GB18030&quot;LANGUAGE=&quot;zh_CN.GB18030:zh_CN.GB2312:zh_CN&quot;SUPPORTED=&quot;zh_CN.GB18030:zh_CN:zh:en_US.UTF-8:en_US:en&quot;SYSFONT=&quot;lat0-sun16&quot;SYSFONTACM=&quot;8859-15&quot;æ·»åŠ ä¸ªäººç³»ç»Ÿå˜é‡ï¼Œå½“ GNOME å¯åŠ¨åï¼Œä¼šè¯»å–è¿™ä¸ªæ–‡ä»¶é‡Œé¢çš„è®¾ç½®ï¼švi ~/.profileexport G_FILENAME_ENCODING=GB18030export G_BROKEN_FILENAMES=1æ³¨é”€é‡æ–°ç™»å½•æˆ–é‡å¯ç”Ÿæ•ˆã€‚åœ¨ä»¥ä¸Šçš„æ­¥éª¤ä¸­ç”¨åˆ°äº†viå‘½ä»¤ï¼Œè¿è¡Œåå¯ä»¥åœ¨ shell ç¯å¢ƒä¸­ç¼–è¾‘æ–‡ä»¶ã€‚è‘—åçš„ VIM ç¼–è¾‘å™¨å°±æ˜¯åœ¨ VI çš„åŸºç¡€ä¸Šæ”¹è¿›çš„ã€‚ä»¥ä¸‹è¿™äº›æ“ä½œå¯èƒ½è®©ä½ å¾ˆå¿«ä¸Šæ‰‹ VIï¼Œæ¯”å¦‚å¯¹è·¯å¾„ä¸º/aæ–‡ä»¶è¿›è¡Œç¼–è¾‘ã€‚æ‰§è¡Œvi /aæ‰“å¼€æ–‡ä»¶ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºï¼›æŒ‰é”®ç›˜ç¼–è¾‘åŠŸèƒ½é”®insertä½¿æ–‡ä»¶è¿›å…¥è¾“å…¥æ¨¡å¼ï¼Œç°åœ¨å¯å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œåƒä½¿ç”¨ä»»æ„æ–‡æœ¬ç¼–è¾‘å™¨ä¸€æ ·ï¼›æŒ‰escé€€å‡ºè¾“å…¥æ¨¡å¼ï¼Œè¿›å…¥æŒ‡ä»¤æ¨¡å¼ï¼›è¾“å…¥:wq!å¯¹ä¿®æ”¹çš„æ–‡ä»¶è¿›è¡Œä¿å­˜å¹¶é€€å‡ºï¼›å¦‚æœæ–‡ä»¶æ²¡æœ‰è¿›è¡Œä¿®æ”¹ï¼Œè¾“å…¥:qé€€å‡ºï¼›å¦‚æœè¦æ”¾å¼ƒä¿®æ”¹ï¼Œè¾“å…¥:q!é€€å‡ºã€‚å‚è€ƒï¼šLinuxä¸‹viå‘½ä»¤å¤§å…¨è¿œç¨‹æ¡Œé¢è¿æ¥é˜¿é‡Œäº‘çš„ç½‘é¡µç‰ˆè¿æ¥ç®¡ç†ç»ˆç«¯åœ¨å›¾å½¢ç•Œé¢ä¸‹éå¸¸å¡ï¼Œä¸€å®šè®©ä½ å¾ˆä¸çˆ½ã€‚è®©æˆ‘ä»¬å¼€å§‹æœ‰è¶£çš„éƒ¨åˆ†å§ï¼å®‰è£… Xrdpï¼šsudo apt-get install xrdp vnc4server xbase-clients å®‰è£… dconf-editorï¼šsudo apt-get install dconf-editor è¿è¡Œ dconf-editorï¼šdconf-editor å±•å¼€org -&gt; GNOME -&gt; desktop -&gt; remote-accessï¼›åªæ‰“å¼€enabledå’Œnotify-on-connectï¼Œå…¶ä»–éƒ½å…³æ‰ï¼›ä¿®æ”¹vnc-passwordï¼Œè¿™æ˜¯ä½ çš„è¿œç¨‹ç™»å½•å¯†ç ï¼›å¯åŠ¨è¿œç¨‹æ¡Œé¢è¿æ¥ï¼šWindows ä¸Šï¼ŒæŒ‰win + Rè¿è¡Œmstscï¼›è¾“å…¥ä½ çš„æœåŠ¡å™¨ IP å’Œç”¨æˆ·åè¿æ¥ï¼›ç™»é™†æ¨¡å¼é€‰vnc-anyï¼ŒIPå’Œå¯†ç è¾“å…¥è¿æ¥æˆåŠŸã€‚å¦‚æœä½ ä¾ç„¶è§‰å¾—å¡çš„è¯ï¼Œå¯ä»¥å¯¹è¿œç¨‹è¿æ¥åšä»¥ä¸‹é…ç½®ã€‚å¯åŠ¨è¿œç¨‹æ¡Œé¢è¿æ¥ -&gt; æ˜¾ç¤ºé€‰é¡¹æ˜¾ç¤º -&gt; é¢œè‰²å¯è¿›è¡Œé™çº§è°ƒæ•´ï¼Œè¿˜å¯ä»¥åœ¨æ˜¾ç¤ºè®¾ç½®è°ƒæ•´è¿œç¨‹æ¡Œé¢çª—å£å¤§å°ä½“éªŒ -&gt; è¿›è¡Œè¿æ¥å’ŒåŠŸèƒ½çš„é™çº§è°ƒæ•´è¿™äº›è°ƒæ•´éœ€è¦ç»“åˆæœåŠ¡å™¨é…ç½®å’Œç½‘ç»œæ¡ä»¶è¿›è¡Œåˆç†çš„é€‰æ‹©ã€‚å¦å¤–è¿˜æœ‰ä¸€ç§åŸºäº XFCE æ¡Œé¢ç¯å¢ƒçš„è¿æ¥æ–¹å¼ï¼Œè¿™åœ¨æˆ‘ç¬¬ä¸€å›åˆå°±å°è¯•è¿‡ï¼Œä¹Ÿæ˜¯å¯è¡Œçš„ã€‚å‚è€ƒï¼šWindows 7è¿œç¨‹æ¡Œé¢è¿æ¥Ubuntu 14.04Nodejs å®‰è£…Nodejs çš„å®‰è£…æœ‰å¾ˆå¤šç§ï¼Œæœ€ç®€å•çš„å°±æ˜¯åœ¨æœåŠ¡å™¨æµè§ˆå™¨é‡Œé¢ä» Nodejs ç½‘ç«™ä¸­é€‰æ‹©å¯¹åº”ç‰ˆæœ¬ä¸‹è½½ï¼Œå…¶æ¬¡è¿˜å¯ä»¥ä¸‹è½½æºç ç¼–è¯‘ä»¥åŠä»è½¯ä»¶ä¸­å¿ƒ(apt-get)å®‰è£…ç­‰ã€‚æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ NVM å®‰è£…ï¼Œå®ƒæ˜¯ä¸€ä¸ª Node ç‰ˆæœ¬ç®¡ç†å™¨ã€‚å®‰è£… Gitï¼šsudo apt-get install git å®‰è£… NVMï¼šcd ~/å®‰è£…è·¯å¾„git clone https://github.com/creationix/nvm.gitè®¾ç½® NVM ä¸‹è½½æºä¸ºæ·˜å®é•œåƒï¼šNVM_NODEJS_ORG_MIRROR=https://npm.taobao.org/dist nvm install 0.11.11 é…ç½® NVVM çš„ç›¸å…³ç¯å¢ƒå˜é‡ï¼Œç¼–è¾‘~/.bashrcï¼šsource ~/git/nvm/nvm.shexport NVM_NODEJS_ORG_MIRROR=https://npm.taobao.org/distå®‰è£… Nodejsï¼Œnvm install versionï¼šnvm install v4.2.4 åŒæ—¶å¯ä»¥å®‰è£…ä¸‹cnpmï¼Œä»æ·˜å®é•œåƒå®‰è£…æ¨¡å—ï¼šnpm install -g cnpm --registry=https://registry.npm.taobao.org å¼€å§‹è¿›è¡ŒæœåŠ¡å™¨è¿æ¥æµ‹è¯•ï¼Œä»¥ä¸‹ä¸æ˜¯å¿…é¡»è¦åšçš„ã€‚å®‰è£… Express ç”Ÿæˆå™¨ï¼šcnpm install express-generator -g ç”Ÿæˆæµ‹è¯•åº”ç”¨ï¼šcd ~/demoexpress testå®‰è£…æ‰€æœ‰ä¾èµ–åŒ…ï¼šcd testcnpm installå¯åŠ¨æµ‹è¯•åº”ç”¨ï¼šnpm start ä»æœ¬åœ°æ‰“å¼€http://æœåŠ¡å™¨IP:3000å¯ä»¥çœ‹åˆ° Welcome to Expressï¼Œå°±è¯æ˜æœåŠ¡å™¨è¿æ¥æˆåŠŸã€‚æ„Ÿè°¢Windowsä½¿ç”¨VNC viewerè®¿é—®Ubuntu 14.04è¿œç¨‹æ¡Œé¢çš„ç®€å•æ–¹æ³•http://www.cnblogs.com/huangfenghit/archive/2011/05/08/2040201.htmlå¿«é€Ÿæ­å»º Node.js å¼€å‘ç¯å¢ƒä»¥åŠåŠ é€Ÿ npmå¿«é€Ÿæ­å»º Node.js å¼€å‘ç¯å¢ƒä»¥åŠåŠ é€Ÿ npmå½“ç„¶ï¼Œå®é™…å‚è€ƒçš„æ–‡ç« è¿œæ¯”è¿™å¤šçš„å¤šã€‚ä¸è¿‡ï¼Œæ˜¯è¿™å‡ ç¯‡æ–‡ç« åœ¨é‡è¦çš„é˜¶æ®µå¸¦æˆ‘ç™»ä¸Šäº‘ç«¯ã€‚é—æ†¾çš„æ˜¯å®‰è£…è¿‡ç¨‹ä¸­æ²¡æœ‰æˆªå›¾ï¼Œåªæ˜¯å‡­è®°å¿†æŠŠè¿™äº›ä¸œè¥¿ä¸²è¿èµ·æ¥äº†ï¼Œå®é™…æ“ä½œä¸­éš¾å…æœ‰è¯¯ï¼Œè§è°…ï¼","tags":[{"name":"Nodejs","slug":"Nodejs","permalink":"http://imys.net/tags/Nodejs/"},{"name":"Linux","slug":"Linux","permalink":"http://imys.net/tags/Linux/"},{"name":"Ubuntu","slug":"Ubuntu","permalink":"http://imys.net/tags/Ubuntu/"}]},{"title":"å†™ä¸€ä¸ªæ­Œæ›²ä¸‹è½½å·¥å…·","date":"2016-02-15T08:33:31.000Z","path":"20160215/download-music-by-nodejs.html","text":"æœ€è¿‘æœ‰æœ‹å‹æ‰¾æˆ‘å¸®ä»–ä¸‹è½½æ­Œæ›²ï¼Œæœç„¶åœ¨å…¶ä»–äººçœ¼é‡Œï¼Œç¨‹åºå‘˜ç®€ç›´æ˜¯â€œæ— æ‰€ä¸èƒ½â€çš„å­˜åœ¨å•Šã€‚ä¸è¿‡ï¼Œè¿™ä¸ªéœ€æ±‚å¯¹äºç¨‹åºå‘˜æ¥è®²ï¼Œè¿˜ç®—æ˜¯æ¯”è¾ƒæ­£å¸¸çš„ï¼Œæ¯”é‚£äº›æ‰¾ä½ â€œåˆ·QBâ€ã€â€œç›—å·â€ä»€ä¹ˆçš„å¼ºå¤šäº†ã€‚è¦æ˜¯æ”¾åˆ°ä»¥å‰ä¸‹è½½æ­Œæ›²ï¼Œç›´æ¥å›ä¸€å¥â€œæœç™¾åº¦â€å®Œäº‹ï¼Œè¿‘å¹´æ¥æ­Œæ›²ç‰ˆæƒé€æ¸è¢«é‡è§†äº†ï¼Œä¸€äº›æ­Œæ›²é€æ¸å˜ä¸ºä¼šå‘˜ä¸‹è½½æˆ–è€…æ”¶è´¹ä¸‹è½½ã€‚ä¸è¿‡å¥½æ­¹è¿˜æ˜¯å¯ä»¥åœ¨çº¿æ’­æ”¾çš„ï¼Œåªè¦èƒ½æ’­æ”¾ï¼Œé‚£æƒ³æ‰¾åˆ°æ­Œæ›²æ–‡ä»¶å°±å¾ˆç®€å•äº†ã€‚å¯ä»¥ä»å¼€å‘è€…å·¥å…· - Network é‡Œæ‰¾éŸ³ä¹æ–‡ä»¶çš„è¯·æ±‚é“¾æ¥ï¼Œæˆ–è€…æ‰“å¼€æµè§ˆå™¨æœ¬åœ°ç¼“å­˜æ–‡ä»¶å¤¹æ‰¾å¤§æ–‡ä»¶ã€‚ä¸ºäº†é˜²æ­¢ä»¥åæœ‰æœ‹å‹å‘å‡ºé‡å¤éœ€æ±‚ï¼Œæˆ‘å†³å®šå†™ä¸€ä¸ªå·¥å…·å‡ºæ¥ã€‚è¿™å…¶ä¸­æ¶‰åŠåˆ°äº†è·¨åŸŸè®¿é—®ã€é¡µé¢å†…å®¹æŠ“å–ï¼Œæœ€ç»ˆå†³å®šç”¨expresså’Œcheerioæ¥æï¼ŒæœåŠ¡ç«¯ä¸å­˜åœ¨è·¨åŸŸé—®é¢˜ã€‚è¯•äº†ä¸€äº›éŸ³ä¹ç½‘ç«™çš„æ­Œæ›²æœç´¢å’Œæ’­æ”¾åï¼Œæœ€ç»ˆæŠŠç›®æ ‡ç„å‡†äº†é…·æˆ‘éŸ³ä¹ã€‚æœç´¢é…·æˆ‘çš„æ­Œæ›²æœç´¢å°±æ˜¯ä¸€ä¸ªè¡¨å•æäº¤ï¼Œé¡µé¢è·³è½¬ï¼ŒæœåŠ¡ç«¯ç›´æ¥è¾“å‡ºä¸€ä¸ªåŒ…å«æœç´¢ç»“æœçš„é¡µé¢ï¼Œè¿™ä¸ªé¡µé¢çš„ URL åŒ…å«äº†æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚http://sou.kuwo.cn/ws/NSearch?type=music&amp;key=æ›¾ç»çš„ä½ å­—æ®µtypeè¡¨ç¤ºæœç´¢ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯¥é¡µé¢ä¸Šçš„ 7 ä¸ªæ ‡ç­¾é¡µã€‚å¯¹åº”å…³ç³»å¦‚ä¸‹ï¼šall --ç»¼åˆartist --æ­Œæ‰‹music --æ­Œæ›²album --ä¸“è¾‘mv --MVplaylist --æ­Œå•lyric --æ­Œè¯å¯¹äºç›®å‰çš„éœ€æ±‚æ¥è¯´ï¼Œtype=musicå·²ç»è¶³å¤Ÿäº†ã€‚keyæ˜¯æœç´¢å…³é”®å­—ã€‚è¯¥é¡µç­¾ä¸‹è¿˜æœ‰ä¸€ä¸ªå‚æ•°pnè¡¨ç¤ºé¡µæ•°ï¼Œæ¯é¡µæœ€å¤šæ˜¾ç¤º 25 é¡¹ï¼Œè¯¥å‚æ•°çœç•¥è¡¨ç¤ºç¬¬ä¸€é¡µã€‚è¯¥é¡µé¢çš„æœç´¢åˆ—è¡¨å’Œåˆ†é¡µå‡ä¸ºåç«¯ç›´å‡ºï¼Œæƒ³è¦å°è£…è‡ªå·±çš„æ¥å£åªå¥½è·å–æ•´ä¸ªé¡µé¢å†…å®¹ï¼Œç„¶åè§£æ DOM ï¼Œç»„æˆè‡ªå·±éœ€è¦çš„æ•°æ®ã€‚æ¨¡ç‰ˆviews/index.html&lt;input type=\"text\" id=\"key\" value=\"æ›¾ç»çš„ä½ \"&gt;&lt;button id=\"search\"&gt;æœç´¢&lt;/button&gt;&lt;hr&gt;&lt;ol id=\"list\"&gt;&lt;/ol&gt;&lt;hr&gt;&lt;div id=\"page\"&gt;&lt;/div&gt;&lt;script src=\"http://apps.bdimg.com/libs/jquery/1.9.0/jquery.min.js\"&gt;&lt;/script&gt;æ¨¡ç‰ˆä½¿ç”¨çš„ ejsã€‚è·¯ç”±// é¡µé¢æ¸²æŸ“app.get('/', function(req, res) &#123; res.render('index', &#123; title: 'Music' &#125;);&#125;);// æœç´¢app.get('/search/:key/:pn', function(req, res) &#123;&#125;);å®ç°é€»è¾‘å¾ˆç®€å•ï¼Œç‚¹å‡»æœç´¢æ—¶å–æ–‡æœ¬æ¡†çš„å€¼ ajax è¯·æ±‚/search/:key/:pnè·å–æ•°æ®æ¸²æŸ“#listå’Œ#pageã€‚(function () &#123; var $key = $('#key'), $so = $('#search'), $list = $('#list'), $page = $('#page'); function getData(key, pn) &#123; $.getJSON('/search/' + key + '/' + pn, function(data) &#123; // æ¸²æŸ“ #list å’Œ #page &#125;); &#125; function search() &#123; var key = $.trim($key.val()); if(!key) &#123; return; &#125; getData(key, 1); &#125; $so.click(function () &#123; search(); &#125;); $key.keyup(function(event) &#123; if(event.keyCode === 13) &#123; search(); &#125; &#125;);&#125;.call(this));æ ¹æ®å‰ç«¯çš„éœ€æ±‚ï¼Œåç«¯è¾“å‡ºçš„æ•°æ®æ ¼å¼åº”è¯¥æ˜¯è¿™æ ·çš„ã€‚&#123; list: [], page: ''&#125;å¼€å§‹å°è£…å¯¹åº”æ ¼å¼çš„æ•°æ®ã€‚é€šè¿‡å¼€å‘è€…å·¥å…· - Elements å¯ä»¥æ‰¾åˆ°é…·æˆ‘æœç´¢ç»“æœé¡µé¢çš„åˆ—è¡¨å’Œåˆ†é¡µçš„ Domã€‚å¯ä»¥ä½¿ç”¨ http æ¨¡å—å»è¯·æ±‚è¿™ä¸ªé¡µé¢ï¼Œæ‹¿åˆ°æ•´ä¸ªé¡µé¢æ–‡æ¡£ï¼Œä½¿ç”¨ cheerio é€‰å–å¯¹åº”çš„ Dom æ¥ç»„è£…æˆæˆ‘ä»¬éœ€è¦çš„æ•°æ®ã€‚ç›¸å…³Domæ­Œæ›²åˆ—è¡¨çš„é€‰æ‹©å™¨ä¸º.m_list ulï¼Œåˆ†é¡µçš„é€‰æ‹©å™¨ä¸º.pageã€‚å½“ç„¶ï¼Œä½¿ç”¨ç±»é€‰æ‹©å™¨æ—¶è¦ç¡®å®šè¯¥ç±»åœ¨é¡µé¢å†…æ˜¯å”¯ä¸€çš„ã€‚// æœç´¢app.get('/search/:key/:pn', function(req, res) &#123; // http://sou.kuwo.cn/ws/NSearch?type=music&amp;key=æ›¾ç»çš„ä½ &amp;pn=1 var key = req.params.key, pn = req.params.pn, option = &#123; host: 'sou.kuwo.cn', port: 80, path: '/ws/NSearch?' + querystring.stringify(&#123; type: 'music', key: key, pn: pn &#125;), method: 'GET' &#125;; var req2 = http.request(option, function(res2) &#123; var body = ''; res2.setEncoding('utf8'); res2.on('data', function(data) &#123; body += data; &#125;); res2.on('end', function() &#123; // è§£æ html var $ = cheerio.load(body), $list = $('.m_list ul li'), $page = $('.page'), list = []; $list.each(function(i, el) &#123; var $this = $(el); list.push(&#123; id: parseInt($this.find('input[name=\"musicNum\"]').val()), name: $this.find('.m_name a').attr('title'), album: $this.find('.a_name a').attr('title'), singer: $this.find('.s_name a').attr('title') &#125;); &#125;); $page.find('a').each(function(i, el) &#123; var $this = $(el), href = $this.attr('href'); if (href !== '#@') &#123; var num = href.split('=').reverse()[0]; $this.attr('data-option', JSON.stringify(&#123; key: key, pn: num &#125;)); &#125; $this.attr('href', 'javascript:;'); &#125;); res.send(&#123; page: $page.html(), list: list &#125;); &#125;); &#125;); req2.on('error', function(e) &#123; console.log(e); &#125;); req2.end();&#125;);æ­Œæ›²çš„æ•°æ®é¡¹å–äº† idã€æ­Œåã€ä¸“è¾‘ã€æ­Œæ‰‹ã€‚åˆ†é¡µçš„ Dom ç»“æ„æ¯”è¾ƒç®€å•ï¼Œæˆ‘ç›´æ¥æŠŠåˆ†é¡µå†…çš„a:hrefå±æ€§æ›¿æ¢äº†ï¼Œæ·»åŠ è‡ªå®šä¹‰æ•°æ®ç”¨äºå‰ç«¯ç‚¹å‡»é‡æ¸²æŸ“ï¼Œç›´æ¥è¿”å›æ•´ä¸ªåˆ†é¡µçš„ HTMLã€‚ä»¥ä¸Šä»£ç å¼•ç”¨çš„æ¨¡å—æœ‰httpã€querystringã€cheerioã€‚ä¸å¾—ä¸è¯´cheerioç”¨æ¥çˆ¬é¡µé¢å®åœ¨æ˜¯å¤ªæ£’äº†ï¼ä»¥ä¸Šä»£ç åœ¨ä¸€ä¸ªè¯·æ±‚å¤„ç†é€»è¾‘ä¸­åˆå‘å‡º http è¯·æ±‚ï¼Œæ˜¾ç„¶å¯ä»¥å°è£…å‡ºä¸€ä¸ªè¯·æ±‚æ¨¡å—ï¼Œä»¥å¤‡å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚lib/request.jsvar http = require('http');module.exports = function(options) &#123; return new Promise(function(resolve, reject) &#123; var req = http.request(options, function(res) &#123; var body = ''; res.setEncoding('utf8'); res.on('data', function(data) &#123; body += data; &#125;); res.on('end', function() &#123; resolve(body); &#125;); &#125;); req.on('error', function(e) &#123; reject(e); &#125;); req.end(); &#125;);&#125;æ·»åŠ ä¸€ä¸ª request æ¨¡å—ç”¨äº http è¯·æ±‚ï¼Œä»¥ Promise æ–¹å¼è¿”å›ã€‚è¿™æ ·æœç´¢çš„å¤„ç†é€»è¾‘ä»£ç å°±å˜æˆè¿™æ ·ã€‚app.get('/search/:key/:pn', function(req, res) &#123; // http://sou.kuwo.cn/ws/NSearch?type=music&amp;key=æ›¾ç»çš„ä½ &amp;pn=1 var key = req.params.key, pn = req.params.pn, option = &#123; host: 'sou.kuwo.cn', port: 80, path: '/ws/NSearch?' + querystring.stringify(&#123; type: 'music', key: key, pn: pn &#125;), method: 'GET' &#125;; request(option).then(function(body) &#123; // è§£æ html var $ = cheerio.load(body), $list = $('.m_list ul li'), $page = $('.page'), list = []; $list.each(function(i, el) &#123; var $this = $(el); list.push(&#123; id: parseInt($this.find('input[name=\"musicNum\"]').val()), name: $this.find('.m_name a').attr('title'), album: $this.find('.a_name a').attr('title'), singer: $this.find('.s_name a').attr('title') &#125;); &#125;); $page.find('a').each(function(i, el) &#123; var $this = $(el), href = $this.attr('href'); if (href !== '#@') &#123; var num = href.split('=').reverse()[0]; $this.attr('data-option', JSON.stringify(&#123; key: key, pn: num &#125;)); &#125; $this.attr('href', 'javascript:;'); &#125;); res.send(&#123; page: $page.html(), list: list &#125;); &#125;, function(e) &#123; console.log(e); &#125;);&#125;);æ•°æ®æœ‰äº†ï¼Œå¼€å§‹å†™å‰ç«¯é¡µé¢æ¸²æŸ“éƒ¨åˆ†ã€‚function getData(key, pn) &#123; $.getJSON('/search/' + key + '/' + pn, function(data) &#123; var body = ''; data.list.forEach(function (v, i) &#123; body +='&lt;li&gt;&lt;a href=\"download/'+ v.id +'\"&gt;'+ v.name +' '+ v.album +' '+ v.singer +'&lt;/a&gt;&lt;/li&gt;'; &#125;); $list.html(body); $page.html(data.page); &#125;);&#125;æ¯æ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•éƒ½ä¼šè·å–æ•°æ®æ¸²æŸ“åˆ—è¡¨å’Œåˆ†é¡µã€‚æ­Œæ›²åˆ—è¡¨çš„æ¯ä¸€é¡¹ç›´æ¥ä½¿ç”¨äº† a é“¾æ¥ï¼Œç‚¹å‡»ç›´æ¥ä¸‹è½½æ­Œæ›²ï¼Œä¼šæœ‰ä¸€ä¸ªæ–°çš„è·¯ç”±/download/:idã€‚åˆ†é¡µå†…çš„ a é“¾æ¥å·²ç»åŠ ä¸Šäº†è‡ªå®šä¹‰æ•°æ®ï¼Œç›´æ¥æ·»åŠ ç‚¹å‡»äº‹ä»¶æ‹¿åˆ°æ•°æ®è°ƒç”¨getDataæ–¹æ³•ã€‚$page.on('click', 'a[data-option]', function () &#123; var option = $(this).data('option'); getData(option.key, option.pn);&#125;);è‡³æ­¤ï¼Œæœç´¢åŠ åˆ†é¡µå°±å…¨éƒ¨å®Œæˆäº†ã€‚ä¸‹è½½åœ¨é…·æˆ‘çš„é¡µé¢ä¸­ç‚¹å‡»æ­Œæ›²åå¯ä»¥è·³è½¬åˆ°ä¸€ä¸ªæ­Œæ›²æ’­æ”¾é¡µï¼Œè¯¥é¡µé¢ URL æ ¼å¼ä¸ºhttp://www.kuwo.cn/yinyue/100062/ï¼Œå…¶ä¸­çš„ 100062 å°±æ˜¯æ­Œæ›²IDäº†ã€‚å¯¹äºèµ„æºæ–‡ä»¶ï¼Œç›´æ¥åˆ†æ Networkï¼Œæ‰¾åˆ°èµ„æºæ–‡ä»¶è¯·æ±‚å’Œæ­Œæ›²IDä¹‹é—´çš„å…³ç³»ï¼ŒæœŸæœ›å¯ä»¥ç›´æ¥è·å–åˆ°èµ„æºæ–‡ä»¶çš„é“¾æ¥ã€‚é…·æˆ‘Networkæœ€ç»ˆåˆ†æç»“æœï¼šID100062 çš„èµ„æºæ–‡ä»¶åæ˜¯ 1058000744.aacã€‚æœ‰ä¸€ä¸ªè¯·æ±‚ http://antiserver.kuwo.cn/anti.s?rid=MUSIC_100062&amp;format=aac|mp3&amp;type=convert_url&amp;response=url çš„ç»“æœä¸º http://win.web.ra03.sycdn.kuwo.cn/07baab80f0a6dd9b3a091879b308ae68/56c2840e/resource/a1/48/63/96/1058000744.aacã€‚è¿™æ ·æˆ‘ä»¬ç›´æ¥ç”¨æ­Œæ›²IDå»è¯·æ±‚http://antiserver.kuwo.cn/anti.så°±èƒ½è·å¾—æ­Œæ›²é“¾æ¥äº†ã€‚é…·æˆ‘çš„é»˜è®¤è¯·æ±‚ä¸º.aacæ ¼å¼ï¼Œåº”è¯¥æ˜¯å’Œå‚æ•°format=aac|mp3æœ‰å…³ï¼Œå¯ä»¥æ”¹æˆformat=mp3|aacã€‚app.get('/download/:id', function(req, res) &#123; // http://antiserver.kuwo.cn/anti.s?rid=MUSIC_100062&amp;format=aac|mp3&amp;type=convert_url&amp;response=url var option = &#123; host: 'antiserver.kuwo.cn', port: 80, path: '/anti.s?rid=MUSIC_' + req.params.id + '&amp;format=mp3|aac&amp;type=convert_url&amp;response=url', method: 'GET' &#125;; request(option).then(function(body) &#123; res.redirect(body); &#125;, function(e) &#123; console.log(e); &#125;);&#125;);request æ¨¡å—åˆæ´¾ä¸Šç”¨åœºäº†ï¼Œç”±äºè¯¥è¯·æ±‚ç›´æ¥è¿”å›äº†æ­Œæ›²é“¾æ¥ï¼Œæˆ‘å°±ç›´æ¥é‡å®šå‘åˆ°è¯¥é“¾æ¥äº†ã€‚ä¸ºäº†ä½¿æ­Œæ›²åœ¨æ–°çª—å£æ‰“å¼€ï¼Œå‰ç«¯é¡µé¢åˆ—è¡¨é¡¹ä¸­çš„ a é“¾æ¥è¦æ·»åŠ target=&quot;_blank&quot;ã€‚æˆæœå±•ç¤ºæˆªå›¾DownloadMusicCodeGithub - DownloadMusic","tags":[{"name":"Nodejs","slug":"Nodejs","permalink":"http://imys.net/tags/Nodejs/"},{"name":"Express","slug":"Express","permalink":"http://imys.net/tags/Express/"},{"name":"Cheerio","slug":"Cheerio","permalink":"http://imys.net/tags/Cheerio/"}]},{"title":"æˆ‘ä¸ºä»€ä¹ˆé€‰æ‹©äº†å‰ç«¯ï¼Ÿ","date":"2016-02-07T05:43:14.000Z","path":"20160207/end-2015.html","text":"åˆå‡ºèŒ…åºå‰å¹´çš„è…ŠæœˆäºŒåä¹æˆ‘æ¥åˆ°äº†ä¸Šä¼ ç®€å†åçš„ç¬¬ä¸€ä¸ªé¢è¯•é€šçŸ¥ï¼Œäºæ˜¯å»å¹´åˆå…­æ²¡åˆ°ï¼Œæˆ‘å°±æ”¶æ‹¾å¥½ä¸œè¥¿æ¥éƒ‘å·äº†ã€‚æˆ‘å½“æ—¶çš„æ±‚èŒæ„å‘å†™çš„æ˜¯ï¼š.NET/JAVA/å‰ç«¯ã€‚ä¸çŸ¥é“å“ªå„¿æ¥çš„è‡ªä¿¡ï¼Œæˆ‘å°±æ˜¯æ„Ÿè§‰è‡ªå·±å¹²ä»€ä¹ˆéƒ½å¯ä»¥ã€‚æˆ‘ä»æ¥éƒ½è§‰å¾—ä¸€ä¸ªç¨‹åºå‘˜ä¸åº”è¯¥è¢«è¯­è¨€å’ŒæŠ€æœ¯æ‰€æ ‡è®°ã€‚åœ¨è¿™ä¸ªè¡Œä¸šï¼Œå­¦ä¹ èƒ½åŠ›å†³å®šäº†ä½ èƒ½èµ°å¤šè¿œã€‚äº‹å®ä¸Šï¼Œæˆ‘æ ¹æœ¬å°±æ˜¯ä¸€ä¸ªåˆšå‡ºç‚‰çš„èœé¸Ÿã€‚é‚£ä¸ªæ—¶å€™å·²ç»æœ‰ä¸€å¹´å¤šçš„ç é¾„ï¼Œçœ‹èµ·æ¥ä»€ä¹ˆéƒ½ä¼šç‚¹ï¼Œä¹Ÿèƒ½å†™å‡ºä¸€äº›è®©åˆå­¦è€…æ„Ÿè§‰å¼ç‚¸å¤©çš„ä¸œè¥¿æ¥ã€‚å¯æ˜¯å¯¹äºå¾ˆå¤šä¸œè¥¿çš„ç†è§£éƒ½ä¸å¤Ÿæ·±ï¼Œæ„Ÿè§‰å°±æ˜¯å­¦äº†ä¸€äº›æ‚ä¸ƒæ‚å…«çš„æ‹›å¼ï¼Œæ‰€çŸ¥ç§ç§ä¹Ÿéƒ½è¿˜åœ¨åŸºæœ¬åº”ç”¨çš„å±‚é¢ã€‚è¿™äº›ä¹Ÿç»ˆäºåœ¨é¢è¯•çš„æ—¶å€™æš´æ¼äº†ã€‚ç”±äºæˆ‘çš„æ±‚èŒå²—ä½å¤šï¼Œé¢è¯•æœºä¼šä¹Ÿå¤šã€‚å†™ç®€å†çš„æ—¶å€™è¿˜æƒ³æŠŠå®‰å“ä¹Ÿå†™ä¸Šï¼Œå°è¯•å†™è¿‡ä¸€ä¸ªAPPï¼Œæ„Ÿè§‰ä»£ç è·Ÿ java swing å·®ä¸å¤šï¼Œä¸Šæ‰‹ä¹Ÿä¸éš¾ã€‚å½“æ—¶è·¨å¹³å°å‘¼å£°å¾ˆå¤§ï¼Œè¿˜æ˜¯å†³å®šèµ° WEB è·¯çº¿ã€‚é¢è¯•æŒ«æŠ˜ä¸åˆ°ä¸€å‘¨çš„æ—¶é—´ï¼Œå¤§æ¦‚é¢è¯•äº†å…­ä¸ƒå®¶å…¬å¸ï¼Œç°åœ¨æ‰€åœ¨æ˜¯é¢è¯•çš„ç¬¬ä¸‰å®¶ã€‚å¹¶ä¸æ˜¯è¿™å®¶å…¬å¸çš„å¾…é‡æœ‰å¤šå¥½ï¼Œè€Œæ˜¯æœ‰ä¸€å®¶å…¬å¸æ‰“å‡»åˆ°äº†æˆ‘ï¼ˆè™½ç„¶æˆ‘ä¸æœï¼‰ã€‚é‚£å®¶å…¬å¸é¢è¯•çš„æ˜¯å‰ç«¯ï¼Œè¿˜æ˜¯æˆ‘æ¯”è¾ƒçœ‹å¥½çš„ä¸€å®¶ã€‚æ‡‚åç«¯çš„å»é¢è¯•å‰ç«¯ä¸€èˆ¬æ˜¯å¾ˆå—æ¬¢è¿çš„ï¼Œæˆ‘ä¹Ÿè¿™ä¹ˆè®¤ä¸ºçš„ã€‚è™½ç„¶å½“æ—¶å¯¹äºåŸå‹ã€ä½œç”¨åŸŸã€é—­åŒ…ç­‰ä¸€äº›è¿›é˜¶çŸ¥è¯†éƒ½ä¸€å¤´é›¾æ°´ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯ç©å‡ºäº† java ç¼–ç¨‹çš„æ„Ÿè§‰ã€‚æˆ‘è¿˜å†™äº†ç±»ã€å¯¹è±¡ã€ç»§æ‰¿ã€ç®€å•å·¥å‚æ¨¡å¼ï¼Œç¡¬æ˜¯ç”¨ js å®ç°äº†ä¸€ä¸ªæ£‹ç‰Œæ¸¸æˆçš„è§„åˆ™ã€‚æœ€åå¯¼å¸ˆå‘Šè¯‰æˆ‘ï¼Œé¢å‘å¯¹è±¡è¿ç”¨çš„ä¸é”™ï¼Œç¼–ç¨‹å¥—è·¯æ˜¯ä¸åŒºåˆ†è¯­è¨€çš„ï¼Œä½†æ˜¯è§„åˆ™å¦‚æœå†™åˆ°å‰ç«¯æ˜¯ä¸æ˜¯å°±ä¸å®‰å…¨äº†ã€‚ä¹Ÿå¯¹ï¼Œæˆ‘å¼€ä¸ªæ§åˆ¶å°ï¼Œæ”¹ç‚¹å˜é‡ä¸å°±æ— æ•Œäº†ã€‚æ‰€ä»¥è¯´ï¼Œå½“æ—¶çš„æˆ‘å¯¹äºé¢è¯•å‰ç«¯æœ‰ç€ç›²ç›®çš„è‡ªä¿¡ã€‚ä¸€åˆ°é‚£è¾¹å°±å¼€å§‹åšç¬”è¯•äº†ã€‚è¯¥å…¬å¸é€¼æ ¼å¾ˆé«˜ï¼Œä¸¤å¥—é¢è¯•é¢˜ï¼Œä¸€å¥—ä¸­æ–‡ï¼Œä¸€å¥—è‹±æ–‡ï¼Œæˆ‘å½“æ—¶æ‡µé€¼äº†ã€‚ç„¶åå‘ HR ç¡®è®¤å¯ä»¥ä¸åšè‹±æ–‡æ‰æ”¾ä¸‹äº†å¿ƒã€‚è¿™æ˜¾ç„¶æ˜¯ä¸€ä¸ªå¯¹è‹±è¯­æ°´å¹³çš„æ£€æµ‹ï¼Œè‡³äºæˆ‘çš„è‹±æ–‡æ°´å¹³ï¼Ÿæˆ‘å¯ä»¥è¿™ä¹ˆè¯´ï¼Œè°·æ­Œæ‡‚çš„æˆ‘éƒ½æ‡‚ï¼é¢è¯•é¢˜ä¹Ÿéƒ½å¾ˆåŸºç¡€ï¼Œæ¯”å¦‚ HTML æ ‡ç­¾çš„ä½¿ç”¨ï¼ˆè€ƒå¯Ÿæ–‡æ¡£ç»“æ„è¯­ä¹‰åŒ–ï¼‰ã€HTML5 å’Œ CSS3 å¸¸ç”¨æ ‡ç­¾å’Œå±æ€§ï¼ˆè€ƒå¯Ÿå¯¹æ–°æŠ€æœ¯çš„äº†è§£ï¼‰ã€å®ç°æŸç§éœ€æ±‚è¦å¦‚ä½•å†™æ ·å¼ï¼ˆè€ƒå¯ŸåŸºæœ¬åŠŸï¼‰ã€å¦‚ä½•è§£å†³æŸç§é¡µé¢ å…¼å®¹æ€§é—®é¢˜ï¼ˆè€ƒå¯Ÿç»éªŒï¼‰ã€js è¯­è¨€åŸºç¡€å’Œ jquery çš„ä¸€äº›å±æ€§å’Œæ–¹æ³•çš„æŒæ¡ï¼ˆä¹Ÿæ˜¯åŸºæœ¬åŠŸï¼‰ï¼Œè¿˜æœ‰åˆ¤æ–­ js ä»£ç çš„æ‰§è¡Œç»“æœï¼ˆè€ƒå¯Ÿå¯¹ js è¯­è¨€çš„æŒæ¡ï¼‰ã€‚æˆ‘æ˜¯ä¸€é¢˜ä¸è½çš„å†™å®Œäº†ï¼Œä¸æ±‚å¯¹ï¼Œåªæ±‚å®Œæ•´ã€‚åœ¨å†™é¢˜çš„è¿‡ç¨‹ä¸­æˆ‘å·²ç»å‘ç°äº†è‡ªå·±çš„ä¸è¶³ã€‚ä¸»è¦æ˜¯é¡µé¢å…¼å®¹æ€§å’Œ js è¯­è¨€åŸºç¡€ã€‚å­¦ä¹ è¿‡ç¨‹ä¸­éƒ½æ˜¯åç«¯ä¸ºä¸»ï¼Œä½œä¸ºå¤„å¥³åº§ï¼Œå‰ç«¯æˆ‘ä¹Ÿä¼šç”¨CSS3ã€jqç‰¹æ•ˆä»¥åŠbootstrapä¹‹ç±»çš„æ¡†æ¶æ‰“æ‰®çš„æ¼‚æ¼‚äº®äº®çš„ã€‚æˆ‘æ€ä¹ˆå¯èƒ½å»æƒ³ä»€ä¹ˆé¡µé¢å…¼å®¹æ€§é—®é¢˜ã€‚å†™ jsï¼Œå¤§æ¦‚é™¤äº†åˆ¤æ–­ã€å¾ªç¯ã€å®šä¹‰å˜é‡å’Œå‡½æ•°å°±å…¨æ˜¯ä¸€è‚¡è„‘å„¿ jq äº†ã€‚ä¸è¶³æ˜¯ä¸è¶³ï¼Œæˆ‘ç›¸ä¿¡è¿™äº›æˆ‘éƒ½æ˜¯å¯ä»¥åœ¨ä»¥åçš„å·¥ä½œä¸­å¿«é€ŸæŒæ¡çš„ã€‚æˆ‘è¿˜æ˜¯å¯¹é¢è¯•æˆåŠŸæŠ±æœ‰å¸Œæœ›çš„ã€‚åšå®Œé¢è¯•é¢˜åï¼ŒHR å«äº†ä¸€ä¸ªå°ä¼™å­è¿›æ¥ï¼Œçœ‹æ¥æ˜¯è¦è¿›è¡ŒçœŸæ­£çš„è€ƒéªŒäº†ã€‚è¯´ä¸€ä¸‹å°è±¡æ·±åˆ»çš„å‡ ä¸ªé—®é¢˜ã€‚é—®æˆ‘ä¸ºä»€ä¹ˆè¦åšå‰ç«¯ï¼Ÿçš„ç¡®ï¼Œæˆ‘çš„ç®€å†ä¸Šåç«¯æŠ€æœ¯å±…å¤šï¼Œä¸çŸ¥é“ä¸€äº›äººæ˜¯ä¸æ˜¯ä¼šä»¥ä¸ºæˆ‘æ˜¯äºŒå‚»å­ã€‚æˆ‘è„±å£è€Œå‡ºï¼šå‰ç«¯å¥½ç©ï¼è¿™æ˜¯æ¥è‡ªå¿ƒåº•çš„ç­”æ¡ˆã€‚éš¾é“å‰ç«¯ä¸å¥½ç©å—ï¼Ÿç”¨ winformã€swing å†™ç•Œé¢çš„æ—¶å€™å¤ªç—›è‹¦äº†ã€‚è€Œåœ¨å‰ç«¯ç®€ç›´å°±æ²¡æœ‰å®ç°ä¸äº†çš„ï¼ŒåŠ ä¸Šæ–°çš„ h5ã€css3 åˆè®©ç½‘é¡µå¢æ·»è®¸å¤šè¡¨ç°åŠ›ã€‚å­¦åç«¯ä¸ä»£è¡¨æˆ‘ä¸å…³æ³¨å‰ç«¯ï¼Œé€šè¿‡ä¸€äº›æŠ€æœ¯ç¤¾åŒºå’Œåšå®¢ï¼Œæˆ‘å¯æ˜¯çŸ¥é“å‰ç«¯è¿›å…¥äº†ä¸€ä¸ªæ€æ ·çš„æ—¶ä»£ã€‚è¿™è®©æˆ‘æ„Ÿè§‰å‰ç«¯å¤§æœ‰å¯ä¸ºï¼è¿™ä¹Ÿæ˜¯æˆ‘åœ¨æ±‚èŒæ„å‘å†™ä¸Šå‰ç«¯çš„ç†ç”±ä¹‹ä¸€ã€‚è¿˜æœ‰ä¸€ä¸ªç†ç”±æ˜¯ CURD å†™çƒ¦äº†ï¼Œå‰ç«¯ç›´æ¥å¤„ç†æ•°æ®åˆç†çš„å±•ç¤ºç»™ç”¨æˆ·ï¼Œæ›´èƒ½æœ‰æˆå°±æ„Ÿï¼é—®äº†ä¸€ä¸ªæˆ‘ä»æ¥æ²¡æœ‰å…³å¿ƒè¿‡çš„é—®é¢˜ï¼Œjs æœ‰å“ªå‡ ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼Ÿæˆ‘å›ç­”çš„æ˜¯ï¼šæ•´å‹ã€æµ®ç‚¹å‹ã€å¸ƒå°”å‹å’Œå­—ç¬¦ä¸²ï¼Œè¿˜æ˜¯ååˆ†è‚¯å®šçš„è¯­æ°”ã€‚ä»åç«¯çš„è§’åº¦è€ƒè™‘ï¼ŒåŸºæœ¬ç±»å‹å°±æ˜¯ä¸éœ€è¦ç”¨newæ¥å£°æ˜ï¼Œå› ä¸ºçŸ¥é“æœ‰ä¸€ä¸ªparseFloatå‡½æ•°ï¼Œç†æ‰€å½“ç„¶çš„ä»¥ä¸ºfloatæ˜¯ä¸€ç§æ•°æ®ç±»å‹ã€‚è€Œæ­£ç¡®ç­”æ¡ˆä¸­çš„undefinedã€nullå±…ç„¶ä¼šæ˜¯æ•°æ®ç±»å‹ï¼Œè¿™å¯¹äºä½¿ç”¨å¼ºç±»å‹è¯­è¨€çš„æˆ‘æ ¹æœ¬æ˜¯éš¾ä»¥ç†è§£çš„ã€‚è¿˜ç°åœºçœ‹äº†æˆ‘çš„ä»£ç ï¼Œå°±æ˜¯æ£‹ç‰Œæ¸¸æˆé‚£ä¸ªã€‚å¼€å¤´å°±æŒ‡ç€$().ready(function(){ })è¯´æˆ‘å†™çš„ä¸å¯¹ï¼Œ$()é‡Œé¢åº”è¯¥å†™å‚æ•°ã€å†™windowã€‚æˆ‘ä¸ç½®å¯å¦ã€‚ç„¶åå¯¹æˆ‘å†™çš„ç±»å’Œç»§æ‰¿æå‡ºè´¨ç–‘ã€‚ç»§æ‰¿çš„å®ç°æœ‰å¤šç§ï¼Œæˆ‘è¿˜æ˜¯çŸ¥é“çš„ã€‚æˆ‘å†™çš„è¿™ç§åº”è¯¥æ˜¯å°‘è§çš„ï¼Œä½†ä¹Ÿä¸è‡³äºè¯´æœ‰ä»€ä¹ˆé”™è¯¯ã€‚ç›´åˆ°æˆ‘ç°åœ¨çœ‹çœ‹å½“æ—¶çš„ä»£ç ï¼Œéƒ½æ¯”æˆ‘ä»¬å…¬å¸åç«¯å†™çš„ js å¼ºå¤šäº†ã€‚é—®äº†æˆ‘ js å¸¸ç”¨çš„å‡½æ•°ä»¥åŠè°ƒç”¨æ–¹å¼ã€‚æˆ‘å›ç­”çš„ä¸å¤Ÿå¥½ï¼Œå¹³å¸¸è¿˜æ˜¯å¤ªä¾èµ– jqï¼Œæˆ–è€…ä½¿ç”¨çš„æ—¶å€™æŸ¥æ–‡æ¡£ã€‚ä¸€äº›ç­”æ¡ˆéƒ½æ˜¯çŒœçš„ï¼Œå› ä¸ºè¯­è¨€çš„å…±é€šæ€§ï¼Œä½ å‡ ä¹å¯ä»¥ç¡®å®š java ä¸­æŸäº›ç±»çš„ä¸€äº›å‡½æ•°ï¼Œjs ä¸­ä¹Ÿæœ‰ã€‚æˆ‘è¯´ç”¨çš„æ—¶å€™æŸ¥ä¸‹ä¸å°±è¡Œäº†ï¼Œä»–è¯´ä½ æŸ¥å“ªå„¿ï¼Œæˆ‘è¯´ w3cSchoolã€‚ç„¶åæˆ‘æ¸…æ¥šçš„è®°å¾—ä»–é‚£å†™æ»¡ä¸€è„¸ hehe çš„è¡¨æƒ…ã€‚:-)æœ€åæ˜¯ç°åœºç¼–ç ï¼Œå†’æ³¡æ’åºã€‚æˆ‘å½“æ—¶ä¹Ÿæ˜¯æ…Œäº†ï¼Œè¿ä¸ªå†’æ³¡éƒ½æ²¡å†™æ­£ç¡®ï¼Œé¢è¯•å®Œä¸‹æ¥¼æ‰æç„¶å¤§æ‚Ÿï¼Œæ˜¯å†…å±‚å¾ªç¯æ¡ä»¶å†™é”™äº†ã€‚ä»–é—®æˆ‘æœ‰æ²¡æœ‰ä»€ä¹ˆé—®é¢˜è¦é—®ä»–çš„ã€‚æˆ‘ä¸€è„¸å¾®ç¬‘çš„çœ‹ç€ä»–ï¼Œé—®ï¼šä½ å·¥ä½œå¤šä¹…äº†ï¼Ÿ :-)ä»–ä¸€è„¸ä¸çˆ½ï¼Œæœ‰ç‚¹ä¸è€çƒ¦çš„è¯´ï¼š2å¹´äº†ã€‚ ä¸€ ä¸€+èµ°çš„æ—¶å€™ HR è¯´å›å»ç­‰é€šçŸ¥ï¼Œç»“æœåŠè·¯ä¸Šå°±æ”¶åˆ°çŸ­ä¿¡ç»™æˆ‘ç”»ä¸Šå¥å·äº†ã€‚é˜´å·®é˜³é”™ä¹‹åçš„å‡ ä¸ªé¢è¯•ä¹Ÿä¸ç†æƒ³ï¼Œéƒ‘å·å¾ˆå¤šå°ä½œåŠçš„ç½‘ç»œå…¬å¸ï¼Œè¿›å»å°±æ˜¯å‘ã€‚è€Œæˆ‘ç°åœ¨æ‰€åœ¨çš„å…¬å¸ï¼Œå½“æ—¶ç»™æˆ‘çš„å·¥èµ„çœŸçš„ä¸é«˜ï¼Œå®Œå…¨å°±æ˜¯æŠŠæˆ‘å½“åˆå­¦è€…ã€‚æˆ‘æœ€åˆå»çš„æ—¶å€™ä»¥ä¸ºé¢è¯•çš„èŒä½æ˜¯ .NETï¼Œæ¯ä¸ªè¦é¢è¯•çš„å…¬å¸æˆ‘éƒ½ä¼šæå‰åšåŠŸè¯¾äº†è§£è¯¥å…¬å¸è¡Œä¸šå’ŒæŠ€æœ¯ç±»åˆ«ã€‚ç»“æœæ¥é¢è¯•æˆ‘çš„äººï¼Œå°±æ˜¯æˆ‘ç°åœ¨çš„é¢†å¯¼ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜¯å«æˆ‘æ¥åšå‰ç«¯ã€‚ä¹Ÿæ²¡åšä»€ä¹ˆç¬”è¯•ï¼Œä¸è¿‡ç™»è®°è¡¨å¡«äº†åŠå¤©ï¼ŒæŸ¥æˆ·å£ä¸€æ ·ã€‚é¢è°ˆä¹Ÿæ²¡é—®æˆ‘ä»€ä¹ˆç‰¹åˆ«éš¾çš„é—®é¢˜ï¼Œæ›´å¤šçš„æ˜¯é—®äº†æˆ‘å¯¹æ–°æŠ€æœ¯çš„äº†è§£ã€‚è¿™ç‚¹æˆ‘è¿˜æ˜¯å¾ˆè®©äººæ»¡æ„çš„ï¼Œå¹¶ä¸”æˆ‘è¡¨ç°å‡ºäº†è¶³å¤Ÿçš„å…´è¶£ã€‚â€œä¸€è°ˆæŠ€æœ¯ï¼Œä¸¤çœ¼æ”¾å…‰â€ï¼Œè¯´çš„å°±æ˜¯é‚£æ—¶çš„æˆ‘äº†ã€‚é¢†å¯¼è¿˜æ˜¯æˆ‘çš„è€ä¹¡ã€‚ç¬¬äºŒæ¬¡å»çš„æ—¶å€™ï¼Œå°±æ˜¯åœ¨ä¹‹å‰çš„é¢è¯•å¤±è´¥ä¹‹åäº†ã€‚é‚£å¤©å›å»ä¹‹åæˆ‘å°±æŠŠé¢è¯•ä¸­å­˜åœ¨çš„ç–‘é—®æŸ¥æ‰¾äº†ä¸‹ç­”æ¡ˆã€‚å¯¹äºè¿™æ ·çš„é¢è¯•ç»“æœè™½ç„¶ä¸æ»¡æ„ï¼Œä½†æ˜¯å´èŒå‘äº†æˆ‘èµ°å‰ç«¯ä¹‹è·¯çš„å¿ƒæ€ã€‚é™Œç”Ÿçš„é¢†åŸŸå¾€å¾€æœ‰ç€è‡´å‘½çš„è¯±æƒ‘ã€‚å¦‚æœè¯´ç°åœ¨æœ‰æ¸¸æˆå¼€å‘çš„å·¥ä½œæ„¿æ„è¦æˆ‘ï¼Œç»™æˆ‘è¾ƒä½çš„å·¥èµ„æˆ‘ä¹Ÿæ„¿æ„å»ã€‚è¿™æ¬¡æ¥å°±æ˜¯ç¡®å®šæ„å‘çš„ã€‚å› ä¸ºè–ªèµ„ç»™çš„ä½ï¼Œæˆ‘é—®åˆ°äº†æ¶¨è–ªåˆ¶åº¦ã€‚ä»–è¡¨ç¤ºåŠå¹´æ¶¨ä¸€æ¬¡å›ºå®šè–ªèµ„ã€‚æˆ‘ç»§ç»­è¿½é—®äº†æœ‰æ²¡æœ‰å¯èƒ½ç»™äºˆä¼˜ç§€çš„äººæ¶¨æ›´é«˜çš„å·¥èµ„ï¼Œæˆ‘è¡¨ç¤ºè‡ªå·±èƒ½å¤Ÿå¿«é€Ÿçš„æˆé•¿èµ·æ¥ã€‚ä»–è¡¨ç¤ºå¦‚æœè¯•ç”¨æœŸè¡¨ç°å¥½ï¼Œå¯ä»¥æ¶¨å¤šç‚¹ã€‚æœ€åä»–ä»‹ç»äº†ä¸‹å…¬å¸çŠ¶å†µä»¥åŠè¡Œä¸šåœ°ä½ï¼Œä»¥åŠå½“å‰å›¢é˜Ÿæ­£åœ¨è¿›è¡Œçš„é¡¹ç›®ï¼Œå¹¶ä¸”å‘æˆ‘è¡¨ç¤ºæœ‰ç§»åŠ¨ç«¯å¼€å‘é¡¹ç›®ã€‚å½“æˆ‘çŸ¥é“ç›®å‰ä»–ä»¬å›¢é˜Ÿï¼Œä¹Ÿå°±æ˜¯æˆ‘ç°åœ¨çš„å›¢é˜Ÿï¼Œæ­£åœ¨åšæ•´ç«™æ”¹ç‰ˆçš„æ—¶å€™ï¼Œæˆ‘å†³å®šç•™ä¸‹æ¥äº†ã€‚æ—¢ç„¶æˆ‘è¦è¸å…¥å‰ç«¯ï¼Œé‚£ä¹ˆè¿™æ¬¡æ•´ç«™æ”¹ç‰ˆå°±æ˜¯ä¸€æ¬¡å¾ˆå¥½çš„å®è·µæœºä¼šï¼Œåº”è¯¥å¯ä»¥ä»å¤´åˆ°å°¾ç³»ç»Ÿçš„å­¦ä¹ å¾ˆå¤šä¸œè¥¿ã€‚å°±å½“æ˜¯ä¸€æ¬¡å‘å·¥èµ„çš„åŸ¹è®­äº†ã€‚å¥½åƒæœ‰ç‚¹æ··ä¹±ï¼Œæˆ‘ä¹Ÿå¿˜äº†æ˜¯ä¸€æ¬¡è°ˆå¥½è¿˜æ˜¯å»äº†ä¸¤æ¬¡ã€‚ç„‰çŸ¥éç¦æœ€åä¸è°¦è™šçš„è¯´ï¼Œæˆ‘ä»¬å…¬å¸æ˜¯çœŸçš„èµšåˆ°äº†ã€‚ç›®å‰å…¬å¸ 3 ä¸ªå‰ç«¯ï¼Œjs åŸºæœ¬éƒ½æ˜¯æˆ‘å†™çš„ï¼Œæˆ–è€…æ˜¯ä»–ä»¬ä¿©å¤åˆ¶æˆ‘çš„ä»£ç åˆ°å…¶ä»–åœ°æ–¹ã€‚æˆ‘æ‰¿æ‹…äº†å‰ç«¯çš„å¤§éƒ¨åˆ†å·¥ä½œï¼Œåœ¨åç«¯çš„é…åˆä¸Šä¹Ÿæœ‰ç€ç»å¯¹çš„ä¼˜åŠ¿ã€‚æˆ‘ä¹Ÿèµšåˆ°äº†ï¼Œå› ä¸ºè¿™ä¸ªå¹³å°ï¼Œè®©æˆ‘å®Œæˆäº†å¾ˆå¤šå®è·µã€‚åæ­£è¿™é‡Œå‰ç«¯æ²¡æœ‰æ¯”æˆ‘å¼ºçš„ï¼Œä¹Ÿä¸æ€•æœ‰äººå¯¹æˆ‘æœ‰ä½•è§æ•™ã€‚è¿™ä¸ª MD æ˜¯å¹´å‰åˆ›å»ºçš„ï¼Œç›´åˆ°ä»Šå¤©æˆ‘æ‰å†™å®Œã€‚â•®(â•¯â–½â•°)â•­","tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://imys.net/tags/å‰ç«¯/"},{"name":"é¢è¯•","slug":"é¢è¯•","permalink":"http://imys.net/tags/é¢è¯•/"}]},{"title":"æˆ‘åˆšçŸ¥é“çš„ Promise","date":"2016-02-03T03:19:47.000Z","path":"20160203/js-promise.html","text":"æœ‰æ—¶å€™ï¼Œä½ ä¼šå‘ç°æ»¡ä¸–ç•Œéƒ½æ˜¯æŸä¸ªå­—çœ¼ã€‚Promiseï¼Œå°±æ˜¯è¿™ä¸ªå®¶ä¼™ã€‚ç®€ç›´é˜´é­‚ä¸æ•£ï¼Œèµ°åˆ°å“ªå„¿éƒ½èƒ½çœ‹åˆ°å®ƒã€‚fetchã€koaä¸­éƒ½æœ‰TAçš„èº«å½±ï¼Œè€Œæˆ‘å´å¯¹TAä¸€æ— æ‰€çŸ¥ã€‚æœç´¢TAçš„æ–‡ç« ä»‹ç»ï¼Œç¬¬ä¸€é¡µä¸­æœ€æ—©çš„ä¸€ç¯‡æ–‡ç« å·²ç»æ˜¯2011å¹´äº†ã€‚é‚£æ˜¯ä¸ªæˆ‘è¿˜ä¸ä¼šHelloWorldçš„å¹´ä»£å•Šï¼ç”¨æ³•Promise å¯¹è±¡ç”¨äºå»¶è¿Ÿ(deferred) è®¡ç®—å’Œå¼‚æ­¥(asynchronous ) è®¡ç®—ã€‚ä¸€ä¸ªPromiseå¯¹è±¡ä»£è¡¨ç€ä¸€ä¸ªè¿˜æœªå®Œæˆï¼Œä½†é¢„æœŸå°†æ¥ä¼šå®Œæˆçš„æ“ä½œã€‚çœ‹æ¦‚å¿µå¾ˆè¿·ç³Šï¼Œç›´æ¥çœ‹å®ä¾‹ç†è§£å§ã€‚function $http(url)&#123; var core = &#123; ajax : function (method, url, args) &#123; var promise = new Promise( function (resolve, reject) &#123; var client = new XMLHttpRequest(); var uri = url; if (args &amp;&amp; (method === 'POST' || method === 'PUT')) &#123; uri += '?'; var argcount = 0; for (var key in args) &#123; if (args.hasOwnProperty(key)) &#123; if (argcount++) &#123; uri += '&amp;'; &#125; uri += encodeURIComponent(key) + '=' + encodeURIComponent(args[key]); &#125; &#125; &#125; client.open(method, uri); client.send(); client.onload = function () &#123; if (this.status &gt;= 200 &amp;&amp; this.status &lt; 300) &#123; resolve(this.response); &#125; else &#123; reject(this.statusText); &#125; &#125;; client.onerror = function () &#123; reject(this.statusText); &#125;; &#125;); return promise; &#125; &#125;; return &#123; get : function(args) &#123; return core.ajax('GET', url, args); &#125;, post : function(args) &#123; return core.ajax('POST', url, args); &#125;, put : function(args) &#123; return core.ajax('PUT', url, args); &#125;, delete : function(args) &#123; return core.ajax('DELETE', url, args); &#125; &#125;;&#125;;$http('http://url/api').get(&#123; id: 111&#125;).then(function(data)&#123; // success&#125;, function(data)&#123; // error&#125;);ä»¥ä¸Šæ˜¯ä¸€ä¸ªåŸºäº Promise çš„ ajax å®ç°ï¼Œè°ƒç”¨å½¢å¼è·Ÿ vue-resource å¦‚å‡ºä¸€è¾™ï¼ˆæœç„¶åˆæ˜¯å¤§ç¥ä»¬åš¼çƒ‚çš„ç©æ„å„¿ï¼‰ã€‚Promise çš„æ„é€ å‡½æ•°å¯ä»¥å¸¦æœ‰1ä¸ªå‚æ•°ï¼Œå®ƒæ˜¯å¸¦æœ‰resolveã€rejectä¸¤ä¸ªå‚æ•°çš„å‡½æ•°å¯¹è±¡ï¼Œå¦‚ä»¥ä¸Šcore.ajaxå‡½æ•°ä¸­åˆ›å»ºçš„ Promise å¯¹è±¡ã€‚å…¶ä¸­ resolve ç”¨äºå¤„ç†æ‰§è¡ŒæˆåŠŸçš„åœºæ™¯ï¼Œreject ç”¨äºå¤„ç†æ‰§è¡Œå¤±è´¥çš„åœºæ™¯ã€‚åœ¨æˆåŠŸä¸å¤±è´¥çš„å¤„ç†é˜¶æ®µ hook åˆ°ä¸€ä¸ª Promise å¯¹è±¡ä¸­ï¼Œæœ€åé€šè¿‡thenæ–¹æ³•æ¥çœŸæ­£çš„å¤„ç†è¿”å›ç»“æœã€‚Promise.prototype.then(onFulfilled[, onRejected])Promise.prototype.catch(onRejected)å¹¶ä¸æ˜¯æ‰€æœ‰çš„å¤±è´¥åœºæ™¯éƒ½éœ€è¦åœ¨thenæ–¹æ³•ä¸­å¤„ç†ï¼Œåœ¨å…¶åç»§ç»­è¿½åŠ catchæ–¹æ³•ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚$http('http://url/api').get(&#123; id: 111&#125;).then(function(data)&#123; // success&#125;).catch(function(data)&#123; // error&#125;);ç”±äºthenå’Œcatchä»ç„¶è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥å‡ºç°å¤šä¸ªthenæˆ–catchæ¥å¤„ç†ä¸åŒçš„ä¸šåŠ¡åœºæ™¯ã€‚$http('http://url/api').get(&#123; id: 111&#125;).then(function(data)&#123; return handleA(data);&#125;).then(function(data)&#123; // æ­¤å¤„ data ä¸º handleA æ–¹æ³•å¤„ç†åçš„æ•°æ® return handleB(data);&#125;);ä¸ºä½•è¦ç”¨å’‹ä¸€çœ‹ Promise å°±æ˜¯ä¸€ä¸ªåŒ…è£…å¥½çš„ä»£ç†å¯¹è±¡ã€‚ä¸è¿‡å®ƒçš„å‡ºç°ç©¶ç«Ÿæ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿåœ¨ Promise å‡ºç°ä¹‹å‰ï¼Œå¦‚æœä½ çš„é€»è¾‘ä¸­å‡ºç°äº†å¼‚æ­¥æ“ä½œï¼Œè€Œåˆéœ€è¦åœ¨å¼‚æ­¥æ“ä½œå¤–è·å–å¼‚æ­¥æ“ä½œå†…çš„ç»“æœï¼Œä¸å¤–ä¹æ˜¯è¦ä½¿ç”¨å›è°ƒäº†ã€‚function getList(callback) &#123; $.get(yourApi, function(data)&#123; callback(data); &#125;);&#125;ä½¿ç”¨ Promise å‘¢ï¼Ÿfunction getList() &#123; return new Promise( function (resolve, reject) &#123; $.get(yourApi, function(data)&#123; resolve(data); &#125;).error(function(data)&#123; reject(data); &#125;); &#125;&#125;ä½¿ç”¨ Promise ä»£ç†äº†åŸæ¥æ‰€éœ€è¦çš„å›è°ƒçš„ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡è€Œä¸æ˜¯ä¼ å…¥å›è°ƒå‚æ•°çš„æ–¹æ³•å½¢å¼æ›´ç›´è§‚å’Œå®¹æ˜“ç†è§£ã€‚åœ¨ä¹‹åçš„ç¼–ç¨‹ä¸­ï¼Œå½“ç›®æ ‡æ–¹æ³•è¿”å›äº†ä¸€ä¸ª Promise å¯¹è±¡ï¼Œæˆ‘ä»¬å°±çŸ¥é“å‘ç”Ÿäº†å¼‚æ­¥æ“ä½œï¼Œéœ€è¦é€šè¿‡ then æ–¹æ³•æ¥å¤„ç†åœºæ™¯éœ€æ±‚ã€‚åˆ°æ­¤ä¸ºæ­¢ï¼ŒPromise ç»™æˆ‘çš„æ„Ÿè§‰ä¹Ÿåªä¸è¿‡æ˜¯è¯­æ³•ç³–ç½¢äº†ï¼Œè¿™ç§å½¢å¼çš„å†™æ³•æˆ‘ä¹Ÿå¯ä»¥å°è£…å‡ºæ¥å•Šã€‚æ¥ä¸‹æ¥æ‰æ˜¯å…¶çœŸæ­£çš„ä¼˜ç‚¹ã€‚æ¯”å¦‚å¼‚æ­¥å¤„ç†å¤šä¸ªçš„è¯·æ±‚ç»“æœï¼ŒåŸå§‹å†™æ³•ã€‚function getData(callback)&#123; $.get('/ApiA', function(dataA)&#123; $.get('/ApiB', function(dataB)&#123; $.get('/ApiC', function(dataC)&#123; callback(dataA, dataB, dataC); &#125;); &#125;); &#125;);&#125;å½“ç„¶ä»¥ä¸Šæ˜¯ä¸€ç§æ¯”è¾ƒè ¢çš„å†™æ³•ï¼Œå½“è¯·æ±‚æ•°é‡å‘ç”Ÿå˜åŒ–æ—¶çš„æ—¶å€™ï¼Œè¿™æ®µä»£ç å°±éœ€è¦ä¿®æ”¹äº†ã€‚å¯ä»¥ç”¨é€’å½’ä¼˜åŒ–ä¸‹ã€‚function getData(url, callback)&#123; if(url instanceof Array) &#123; var i = 0, len = url.length, dataArr = [], eachLoad = function(url)&#123; $.get(url, function(data)&#123; dataArr.push(data); if(i++ &lt; len - 1) &#123; eachLoad(url[i]); &#125; else &#123; callback.apply(null, dataArr); &#125; &#125;); &#125;; eachLoad(url[i]); &#125; else &#123; $.get(url, function(data)&#123; callback(data); &#125;); &#125;&#125;ä½¿ç”¨ Promise è§£å†³ã€‚var promiseA = $http('/List').get(&#123; id: 111 &#125;), promiseB = $http('/List').get(&#123; id: 222 &#125;);Promise.all([promiseA, promiseB]).then(function(data)&#123; // do...&#125;);ä½¿ç”¨Promise.allæ–¹æ³•ä¸€æ¬¡æ€§å¤„ç†å¤šä¸ªæ“ä½œã€‚Promise å±äº ES6 ç‰¹æ€§ï¼Œç›®å‰åœ¨ IE ä¸­è¿˜ä¸èƒ½ç”¨ï¼Œä¸è¿‡å„å¤§æ¡†æ¶ä¹Ÿéƒ½æœ‰è‡ªå·±çš„å®ç°ã€‚jQuery ä¸­çš„ PromisejQuery ä¸­å¾ˆå¤šå¼‚æ­¥æ“ä½œéƒ½ä¼šè¿”å›ä¸€ä¸ªå»¶è¿Ÿå¯¹è±¡$.Deferredï¼Œè¯¥å¯¹è±¡å…·æœ‰ä¸€ç³»åˆ—çš„æ“ä½œæ–¹æ³•ã€‚// animate$('div').animate(&#123; width: '50%'&#125;, 300).done(function()&#123; // å½“å»¶è¿ŸæˆåŠŸæ—¶è°ƒç”¨&#125;);// ajax$.get('/List').then(function()&#123; // succee&#125;, function()&#123; // error&#125;);// when$.when($.ajax('/List1'), $.ajax('/List2')).then(function()&#123; // succee&#125;, function()&#123; // error&#125;);// è¿˜æœ‰å¾ˆå¤šï¼Œå¯ä»¥å» jQuery Api ä¸­çœ‹ã€‚å‚è€ƒjavascriptæ ‡å‡†åº“-Promise | MDNJavaScriptå¼‚æ­¥ç¼–ç¨‹çš„Promiseæ¨¡å¼JavaScript Promiseè¿·ä½ ä¹¦","tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://imys.net/tags/JavaScript/"},{"name":"ES6","slug":"ES6","permalink":"http://imys.net/tags/ES6/"},{"name":"Promise","slug":"Promise","permalink":"http://imys.net/tags/Promise/"},{"name":"async","slug":"async","permalink":"http://imys.net/tags/async/"}]},{"title":"ä½ ä»¥ä¸ºä½ å†™çš„1pxå°±æ˜¯1pxå—ï¼Ÿ","date":"2016-01-27T14:33:05.000Z","path":"20160127/mobile-1px.html","text":"â€œè¿™ä¸€è¡Œçš„åˆ†å‰²çº¿é«˜äº†ä¸€ç‚¹ã€‚â€å¥½çš„ï¼Œå‡å°è¡Œé«˜, åŠ ç‚¹ä¸Šä¸‹å†…è¾¹è·ã€‚â€œè¿™å‡ ä¸ªå…ƒç´ è¦ä¸¤ç«¯å¯¹é½ã€‚â€å¥½çš„ï¼Œflexæ²¡æœ‰è§£å†³ä¸äº†çš„å¸ƒå±€ï¼Œjustify-content: space-between;æå®šã€‚â€¦â€¦â€œè¿™ä¸ªå›¾æ ‡é¢œè‰²ä¸å¯¹ï¼Œåº”è¯¥æ˜¯#999ã€‚â€å¥½çš„ï¼Œæˆ‘æ”¹â€¦ç­‰ç­‰ï¼Œæ˜æ˜å°±æ˜¯ #999 å•Šï¼Œè¿™åˆ†æ˜æ˜¯æƒ³è¢«æ‰“è„¸çš„èŠ‚å¥ã€‚æ‰“å¼€é¡µé¢ï¼Œå³é”®å›¾æ ‡ï¼Œå®¡æŸ¥å…ƒç´ ï¼Œæˆªå›¾ã€‚æ˜¯ä¸æ˜¯ 999 ï¼Ÿæ˜¯ä¸æ˜¯ 999 ï¼Ÿï¼Ÿæ˜¯ä¸æ˜¯ 999 ï¼Ÿï¼Ÿï¼Ÿâ€œæ‰€æœ‰çš„ä¸‹è¾¹æ¡†éƒ½åº”è¯¥æ˜¯1pxã€‚â€æˆ‘çœ‹åˆ°è¿™ä¸ªé—®é¢˜çš„ç¬é—´ï¼Œæ„Ÿè§‰åƒåœ¨ä¾®è¾±æˆ‘çš„æ™ºå•†ã€‚è¾¹æ¡† 1px è¿™ä¹ˆå¸¸ç”¨çš„æ ·å¼ï¼Œæˆ‘è¿˜ä¼šå†™é”™ä¸æˆï¼Ÿæ­£å½“å‡†å¤‡ç»§ç»­â€œæ‰“è„¸â€æ—¶ï¼Œçªç„¶æˆ‘çš„å¥½å¥‡å¿ƒä¸Šæ¥äº†ã€‚å…³äº 1px è¾¹æ¡†åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šçœ‹èµ·æ¥æ¯”è¾ƒç²— è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¹Ÿæ›¾ç»æƒ³è¿‡ã€‚å› ä¸ºé¡µé¢å…¶ä»–å†…å®¹çœ‹èµ·æ¥éƒ½æ˜¯æ­£å¸¸çš„ï¼Œæ‰€ä»¥æˆ‘ä¸€ç›´è§‰å¾—è¿™æ˜¯ç§»åŠ¨è®¾å¤‡æµè§ˆå™¨çš„æ¸²æŸ“é—®é¢˜ï¼Œå±äºå¤–éƒ¨åŸå› ã€‚ä¹Ÿæ›¾è®¾ç½®è¿‡ .5px ï¼Œä½†æ˜¾ç„¶æµè§ˆå™¨å¹¶ä¸ä¹°è´¦ã€‚æœç´¢å…³é”®å­—1px borderï¼Œæ‰¾åˆ°äº†é—®é¢˜æ‰€åœ¨ã€‚devicePixelRatioè¯´æ¥æƒ­æ„§ï¼Œå…³äº devicePixelRatioï¼Œæˆ‘ä¹Ÿç®—æ˜¯æœ‰ä½¿ç”¨ç»éªŒçš„äººäº†ï¼Œæ€ä¹ˆå°±æ²¡æœ‰æƒ³åˆ°å‘¢ã€‚ç®€å•ä¸¾ä¾‹ä¸€ä¸‹ï¼Œæˆ‘çš„ MX5 åˆ†è¾¨ç‡æ˜¯ 1920*1080ï¼Œä½†æ˜¯å®é™…å±å¹•ç‰©ç†åƒç´ æ˜¯ 640*360ï¼Œæ¢ç®—å¾—å‡º devicePixelRatio = 3ã€‚ä¹Ÿå°±æ˜¯è¯´å±å¹•ä¸­çš„1ç‚¹ = 3pxã€‚è®¾è®¡å¸ˆæå‡ºçš„å›¾æ ‡é¢œè‰²ä¸å¯¹çš„é—®é¢˜ä¹Ÿåœ¨äºæ­¤ï¼Œå› ä¸ºé¢œè‰²ä¹Ÿå—ç›Šäºåˆ†è¾¨ç‡ã€‚viewportè¿™ä¸€åˆ‡éƒ½æ˜¯ viewport åœ¨ä½œæ€ªï¼æˆ‘ä»¬åœ¨å¼€å‘æ‰‹æœºé¡µé¢æ—¶ï¼Œéƒ½ä¼šè¿™æ ·è®¾ç½®ã€‚&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no\"&gt;width=device-width: è®¾ç½®æµè§ˆå™¨å†…å®¹å®½åº¦ä¸ºè®¾å¤‡ç‰©ç†åƒç´ å®½åº¦ã€‚initial-scale=1: ç¼©æ”¾æ¯”ä¸º1ï¼Œåé¢ä¸¤ä¸ªå±æ€§ä¸ºæœ€å¤§å’Œæœ€å°ç¼©æ”¾æ¯”ã€‚user-scalable=no: ç¦æ­¢ç”¨æˆ·æ‰‹åŠ¨ç¼©æ”¾ã€‚ç”¨ 1920*1080 åˆ†è¾¨ç‡çš„æ‰‹æœºæ‰“å¼€ä¸€ä¸ªæ²¡æœ‰æ·»åŠ  viewport çš„PCç«™ç‚¹ï¼Œæ¨ªå±çŠ¶æ€æ˜¯å¯ä»¥å®Œæ•´çš„å‡ºé¡µé¢å†…å®¹çš„ã€‚å› ä¸ºè¿™ä¸ªæ—¶å€™çš„ 1px å°±æ˜¯ 1pxã€‚è¿˜åŸåˆ†è¾¨ç‡çŸ¥é“äº†é—®é¢˜çš„åŸå› å°±å¯¹ç—‡ä¸‹è¯äº†ã€‚å¯ä»¥æ ¹æ®window.devicePixelRatioæ¥åŠ¨æ€ä¿®æ”¹å±å¹•ç¼©æ”¾æ¯”ï¼Œè¿˜åŸçœŸå®åˆ†è¾¨ç‡ã€‚è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ã€‚åˆ†è¾¨ç‡è¿˜åŸäº†ï¼Œé‚£å²‚ä¸æ˜¯æ‰€æœ‰å…ƒç´ çš„å°ºå¯¸æ•°å€¼éƒ½éœ€è¦é‡æ–°è®¡ç®—äº†ï¼Ÿå¦‚æœä½ çš„ css æ²¡æœ‰ä½¿ç”¨ em å’Œ rem ä¸ºå•ä½çš„è¯ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œä¸€ä¸ªä¸€ä¸ªæ…¢æ…¢æ”¹å§ã€‚è€Œä½¿ç”¨ em å’Œ rem ä¸ºå•ä½å°±ç®€å•å¤šäº†ï¼Œåªéœ€è¦åŠ¨æ€ä¿®æ”¹æ ¹å…ƒç´ å­—ä½“å¤§å°å°±è¡Œäº†ã€‚&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=\"utf-8\"&gt;&lt;title&gt;&lt;%=title %&gt;&lt;/title&gt;&lt;meta id=\"vp\" name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no\"&gt;&lt;script&gt;(function () &#123; var vp = document.getElementById('vp'); dpr = window.devicePixelRatio, html = document.getElementsByTagName('html')[0], vpVlue = 'width=device-width, initial-scale=X, maximum-scale=X, minimum-scale=X, user-scalable=no'; if(dpr) &#123; vp.content = vpVlue.replace(/X/g, (1 / dpr)); html.style.fontSize = (14 * dpr) + 'px'; &#125;&#125;)();&lt;/script&gt;&lt;head&gt;è¿™å¯ä»¥ç›´æ¥åŠ åˆ°å¤´éƒ¨æ¨¡ç‰ˆä¸­ã€‚å…³äºä¿®æ”¹æ ¹å…ƒç´ å­—ä½“å¤§å°ä¹Ÿå¯ä»¥ä½¿ç”¨ cssåª’ä½“æŸ¥è¯¢çš„æ–¹å¼ã€‚@media (-webkit-min-device-pixel-ratio: 2) &#123; html &#123; font-size: 28px; &#125;&#125;@media (-webkit-min-device-pixel-ratio: 3) &#123; html &#123; font-size: 42px; &#125;&#125;å½©è›‹æœ¬æ¥ js ä»£ç æˆ‘æ˜¯æ”¾åˆ° body é—­åˆå‰çš„ã€‚viewport åˆå§‹ç¼©æ”¾å€¼æ˜¯ 1 ï¼Œæ ¹å…ƒç´ åˆå§‹å­—ä½“å¤§å°æ˜¯ 14pxï¼Œæˆ‘çš„æ‰‹æœº devicePixelRatio æ˜¯ 3ã€‚æŒ‰ç…§æµè§ˆå™¨åŠ è½½é¡ºåºï¼Œç­‰æ‰§è¡Œåˆ° js å‰ï¼Œé¡µé¢å†…å®¹åº”è¯¥ 1/3 çš„å¤§å°ï¼›æ‰§è¡Œå®Œ js åï¼Œé¡µé¢æ¢å¤å®é™…å¤§å°ï¼Œæ•´ä¸ªé¡µé¢å±…ç„¶å‡ºç°äº†ç±»ä¼¼äºtransform: scale(1)èˆ¬çš„è¿‡æ¸¡æ•ˆæœã€‚ä¸ºäº†è®©ç”¨æˆ·æ›´æ—©çš„çœ‹åˆ°é¡µé¢å†…å®¹ï¼Œæˆ‘è¿˜æ˜¯å†³å®šæ”¾åˆ°å¤´éƒ¨äº†ã€‚é—®é¢˜æ›´æ–°ä»¥ä¸Šçš„æ€è·¯å’Œä»£ç ç¡®å®è§£å†³äº†é—®é¢˜ï¼Œè‡³å°‘æˆ‘åœ¨æ‰‹æœºæµè§ˆå™¨ä¸Šæµ‹è¯•æ˜¯OKçš„ã€‚ä¹‹ååœ¨ APP ä¸­åµŒå…¥åå‘ç°æ²¡æœ‰æ•ˆæœï¼Œé¡µé¢å†…å®¹éƒ½å› ä¸ºå­—å·ä¿®æ”¹è¢«æ”¾å¤§äº†ã€‚æˆ‘æ€€ç–‘æ˜¯å®‰å“ç«¯çš„æŸäº›é…ç½®çš„åŸå› ï¼Œä½†æ˜¯ä¸äº†è§£çš„äº‹åˆä¸å¥½ä¹±å‘è¨€ã€‚æœ€åæŠ½äº†ä¸€ä¸ªé—²å·¥å¤«ï¼ŒæŠŠå®‰å“ç¯å¢ƒæ­äº†èµ·æ¥ï¼Œçœ‹ç€ WebView çš„APIï¼Œè‡ªå·±å†™äº†ä¸ªæµ‹è¯•DEMOã€‚é—®é¢˜è§£å†³äº†ã€‚webview.getSettings().setUseWideViewPort(true); // è‡ªé€‚åº”æ‰‹æœºå±å¹•ä»æ–¹æ³•åå°±å¾ˆå®¹æ˜“ç†è§£è¿™ä¸ªé…ç½®é¡¹ä¸ viewport å­˜åœ¨ç€å…³ç³»ã€‚é—®é¢˜è§£å†³äº†ï¼Œæˆ‘è¦å»å®‰å“é‚£è¾¹è£…é€¼äº†ã€‚","tags":[{"name":"CSS","slug":"CSS","permalink":"http://imys.net/tags/CSS/"},{"name":"devicePixelRatio","slug":"devicePixelRatio","permalink":"http://imys.net/tags/devicePixelRatio/"},{"name":"em","slug":"em","permalink":"http://imys.net/tags/em/"},{"name":"Mobile","slug":"Mobile","permalink":"http://imys.net/tags/Mobile/"},{"name":"Webview","slug":"Webview","permalink":"http://imys.net/tags/Webview/"},{"name":"Viewport","slug":"Viewport","permalink":"http://imys.net/tags/Viewport/"}]},{"title":"Hexoåšå®¢æ”¹ç‰ˆè®°å½•","date":"2016-01-18T01:02:18.000Z","path":"20160118/hexo-blog-update-log.html","text":"æ¯å½“æˆ‘æŠŠä¹‹å‰ç«‹ä¸‹çš„ flag æ‰§è¡Œçš„æ—¶å€™ï¼Œéƒ½æ„Ÿè§‰æ˜¯ä¸€ä»¶å¾ˆéª„å‚²çš„äº‹ï¼Œå¤ªå¤šçš„è®¡åˆ’è¢«æˆ‘ç”¨å„ç§æ¥å£æ‰¼æ€åœ¨æ‘‡ç¯®ä¸­äº†ã€‚å¼•è¨€åœ¨ Android æ›´æ–°åˆ° 5.0 åï¼Œæˆ‘å°±å¯¹è§¦æ‘¸åé¦ˆè¿™ä¸€ç‚¹å¾ˆæ„Ÿå…´è¶£ã€‚ä¹Ÿå°è¯•æ¨¡æ‹Ÿè¿‡ï¼Œä½†æ˜¯æœ€åçš„æ•ˆæœéƒ½ä¸å¤ªæ»¡æ„ã€‚å¶ç„¶çš„ä¸€æ¬¡åœ¨ githubä¸Š çœ‹åˆ°äº† Materialize è¿™ä¸ªé¡¹ç›®ï¼Œæ‰çŸ¥é“äº†è°·æ­Œçš„Material Design(åŸè´¨åŒ–è®¾è®¡) è®¾è®¡è§„èŒƒã€‚è€Œååœ¨å…¬å¸å¬åˆ°è®¾è®¡å¸ˆæåˆ°è¿™ä¸ªä¸œè¥¿æ—¶ï¼Œçªç„¶æœ‰ç§è·Ÿä¸Šäº†æ½®æµçš„æ„Ÿè§‰ã€‚å°±åƒä¸€äº›æ–‡ç« ä¸­æåˆ°çš„ï¼Œå³ä½¿ä½ ä¸æ‡‚è®¾è®¡ï¼Œä½†æ˜¯ç…§ç€æ ·å¼å»åšï¼Œä¹Ÿä¸ä¼šå¤ªä¸‘ã€‚è¿™æ˜¾ç„¶å¾ˆå¯¹æˆ‘çš„èƒƒå£ã€‚æ”¹ç‰ˆå†…å®¹é™¤äº†åšå®¢é£æ ¼æ”¹ç‰ˆå¤–ï¼Œä¹Ÿæ”¹å˜äº†ä»¥ä¸‹ä¸€äº›å†…å®¹ã€‚Hexo tocåœ¨æˆ‘åˆšä½¿ç”¨ Hexo ä¸ä¹…æ—¶ï¼Œè¿˜æ›¾ä¸“é—¨å†™äº†ä¸€ç¯‡æ–‡ç« ä»‹ç» hexo-toc æ’ä»¶çš„ä½¿ç”¨ã€‚ä¸è¿‡æœ€è¿‘åœ¨æˆ‘å‡çº§äº† hexo-toc æ’ä»¶åï¼Œå‘ç°å·²ç»ä¸éœ€è¦åƒæˆ‘å†™çš„é‚£ä¹ˆéº»çƒ¦äº†ã€‚è¿™è¿˜ä¸æ˜¯é‡ç‚¹ã€‚å› ä¸ºåšå®¢å¸ƒå±€ç»“æ„è¦æœ‰å¾ˆå¤§å˜åŒ–ï¼Œå¾ˆå¤šæ¨¡ç‰ˆæˆ‘éƒ½éœ€è¦é‡å†™ã€‚æ‰€ä»¥å°±éœ€è¦æŸ¥é˜… Hexo æ–‡æ¡£å¯»æ‰¾ä¸€äº›å¯åˆ©ç”¨çš„èµ„æ–™ã€‚å°±åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘å±…ç„¶å‘ç°äº† Hexo å±…ç„¶æœ‰ç”Ÿæˆ toc çš„è¾…åŠ©æ–¹æ³•ã€‚å¥½æ°”å¥½æ°”ï¼Œä¹Ÿä¸æ˜¯ç¬¬ä¸€æ¬¡ç¿»æ–‡æ¡£äº†ï¼Œä¹‹å‰å±…ç„¶éƒ½æ²¡æ³¨æ„åˆ°ã€‚ä¸ hexo-toc æ’ä»¶æ¯”ï¼Œè¿™ä¸ªè¾…åŠ©æ–¹æ³•æ›´åŠ ä¾¿åˆ©ã€‚æ–‡æ¡£é“¾æ¥hexo-toc éœ€è¦åœ¨ç¼–è¾‘æ—¶æ’å…¥&lt;!--toc--&gt;æ ‡è®°ï¼Œä¸”ç”Ÿæˆåçš„å†…å®¹è¿˜åœ¨æ–‡ç« ä¸­å ä½ã€‚è¿™å¯¹äºæƒ³å®ç°ä¸€äº›æµ®åŠ¨å¼æ–‡ç« å¯¼èˆªçš„åŒå­¦ååˆ†ä¸ä¾¿ã€‚è€Œ&lt;%- toc(str, [options]) %&gt;æ–¹æ³•å°±ç®€å•å¤šäº†ï¼Œåªè¦æ˜¯åœ¨æ–‡ç« é¡µä¸­ï¼Œä½ æ”¾åˆ°ä»€ä¹ˆåœ°æ–¹ï¼Œå°±åœ¨ä»€ä¹ˆåœ°æ–¹æ¸²æŸ“ã€‚å» jqueryä»…ä»…æ˜¯ä¸€ä¸ªåšå®¢ï¼Œä¹Ÿæ²¡æœ‰å¤šå°‘å¤æ‚çš„ Dom æ“ä½œã€‚è¯»è€…ä¹Ÿéƒ½æ˜¯ç¨‹åºçŒ¿ï¼Œä¹Ÿä¸å­˜åœ¨è¦è€ƒè™‘æµè§ˆå™¨å…¼å®¹ã€‚jquery èƒ½ä¸ç”¨åˆ™ä¸ç”¨ï¼Œå½“å‰çš„ js ä¹Ÿå°±å†™äº†100å¤šè¡Œã€‚å» fancyboxfancybox æ˜¯åŸºäº jquery çš„ä¸€ä¸ªå›¾ç‰‡æµè§ˆæ’ä»¶ï¼Œjquery å»äº†ï¼Œå®ƒè‡ªç„¶ä¹Ÿå°±å¤±æ•ˆäº†ã€‚è¯·æ±‚æ•°æŒºå¤šçš„,è€Œä¸”å®ƒæœ¬èº«çš„åŠŸèƒ½ï¼Œæˆ‘å¹¶ä¸åœ¨æ„ï¼Œæ²¡ä»€ä¹ˆåµç”¨çš„æ„Ÿè§‰ã€‚å¦‚æœåç»­æœ‰éœ€è¦ï¼Œä¹Ÿå¯ä»¥ç”¨åŸç”Ÿå®ç°ä¸€ä¸ªã€‚å» stylus, ç”¨ lessè¿™ä¸ªçº¯ç²¹æ˜¯ä¸ªäººçš„ä¹ æƒ¯ã€‚html å’Œ css è¿˜æ˜¯å–œæ¬¢åŸç”Ÿçš„ä»£ç é£æ ¼ï¼Œstylus å’Œ jade è¿™ç§å¼ºç¼©è¿›çš„éƒ½ä¸å¤ªå–œæ¬¢ã€‚æ›¿æ¢æ—¶éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å¢åŠ  less æ’ä»¶çš„ä¾èµ–å’Œå‚æ•°é…ç½®ã€‚plugins: - hexo-renderer-lessless: paths: - source/css/style.lesså®‰è£… roboto å­—ä½“Roboto å­—ä½“æ˜¯ Material Design çš„æ¨èè‹±æ–‡å­—ä½“ã€‚è‹±æ–‡å­—ä½“æ–‡ä»¶å­—èŠ‚å°ï¼Œæ¯•ç«Ÿåªæœ‰26ä¸ªå­—æ¯ã€‚è™½ç„¶å†™ä¸äº†å‡ ä¸ªå•è¯ã€‚ä¸­æ–‡æ¨èå­—ä½“æ˜¯ Noteï¼Œä½†æ˜¯è¦115.5MBã€‚Google Note Fontså¢åŠ  Waves æ•ˆæœè¿™ä¸ªä¹Ÿæ˜¯ Material Design æå€¡çš„å“åº”å¼äº¤äº’æ•ˆæœã€‚Materialize ä¸­ä½¿ç”¨çš„æ˜¯ Wavesã€‚æˆ‘ä¹Ÿæ˜¯é¡ºè—¤æ‘¸ç“œæ‰çŸ¥é“äº†è¿™ä¸ªåº“ã€‚åˆ†äº«ç°åœ¨çš„æ–‡ç« åˆ†äº«æ˜¯ç›´æ¥é€šè¿‡ JiaThis API æ¥å£ï¼Œä¸éœ€è¦å¼•ç”¨é¢å¤–çš„jsã€‚è¿™æ ·DIYå°±æ›´æ–¹ä¾¿äº†ã€‚é»˜è®¤çš„åˆ†äº«æ ·å¼ï¼Œå¾ˆéš¾å®ç°ä¸€äº›æ•ˆæœã€‚åƒæˆ‘ç°åœ¨çš„åˆ†äº«ï¼Œæœ‰æ–‡ç« å³ä¾§çš„é™æ€æŒ‚ä»¶å’Œé¡¶éƒ¨æµ®åŠ¨å¯¼èˆªå³ä¾§çš„åˆ†äº«æŒ‰é’®ã€‚æœ€åæˆ‘ä¸æ‡‚è®¾è®¡ï¼Œæ‰€ä»¥å…³äº Material Design çš„ä»‹ç»ï¼Œä¹Ÿå°±ä¸å¤šæã€‚é™„ä¸Šå‚è€ƒé“¾æ¥ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»æé«˜ä¸€ä¸‹å®¡ç¾ã€‚Google Material designMaterial Design ä¸­æ–‡ç‰ˆMaterial designçš„å®ç°ï¼šMaterializeä¸€äº›å°ç»†èŠ‚è¿˜ä¼šä¸æ–­çš„è°ƒæ•´ï¼Œä¹‹åæ•´ç†ä¸‹å†æŠŠä¸»é¢˜å‘å¸ƒåˆ° github ä¸Šã€‚","tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://imys.net/tags/Hexo/"},{"name":"Material Design","slug":"Material-Design","permalink":"http://imys.net/tags/Material-Design/"}]},{"title":"å‰ç«¯æŠ€æœ¯æ¨¡æ‹Ÿç§»åŠ¨ç«¯wheelviewæ»‘åŠ¨é€‰æ‹©å™¨","date":"2015-12-31T01:59:48.000Z","path":"20151231/simulation-of-wheelview-selector.html","text":"å…¬å¸è¿›å…¥APPæ”¹ç‰ˆé˜¶æ®µäº†ï¼Œä¼šåŸºäºåŸç”Ÿå®‰å“å¼€å‘ï¼Œæ„Ÿè§‰æ²¡è‡ªå·±ä»€ä¹ˆäº‹äº†ã€‚åªèƒ½çœ‹çœ‹åŸå‹å›¾ï¼Œæƒ³æƒ³å‰ç«¯æŠ€æœ¯å¦‚ä½•å®ç°æŸæŸåŠŸèƒ½ã€‚ã€‚ã€‚æ»‘åŠ¨é€‰æ‹©å™¨åœ¨APPä¸Šæ˜¯å¾ˆå¸¸è§çš„ç»„ä»¶äº†ï¼Œæœ€åˆæ˜¯ IOS ä¸Šçš„ç»„ä»¶ï¼Œä¹‹åå°±å‡ºç° Android ç‰ˆçš„è‡ªå®šä¹‰å®ç°ï¼Œç§°ä¸º WheelViewã€‚å¯¹äºå‰ç«¯æŠ€æœ¯æ¥è®²ï¼Œå®ç°ä¹Ÿå¹¶ä¸å›°éš¾ã€‚wheelviewå¸ƒå±€æ˜¯è§£å†³å¤æ‚ç»„ä»¶æ•ˆæœçš„å…³é”®ï¼Œè¦å……åˆ†ç»“åˆcsså»æ€è€ƒã€‚é€‰ä¸­é¡¹å’Œæœªé€‰ä¸­é¡¹çš„æ ·å¼ä¸ä¸€è‡´æ˜¯é¦–å…ˆè¦è§£å†³çš„é—®é¢˜ï¼Œæœ€ç»ˆæƒ³åˆ°äº†ä¸¤ç§è§£å†³æ–¹æ¡ˆã€‚Plan A&lt;div class=\"wheelview\"&gt; &lt;div class=\"action\"&gt; &lt;a href=\"javascript:;\" class=\"fl\"&gt;å–æ¶ˆ&lt;/a&gt; &lt;a href=\"javascript:;\" class=\"fr\"&gt;ç¡®å®š&lt;/a&gt; &lt;/div&gt; &lt;div class=\"wrap\" id=\"wrap\"&gt; &lt;ul class=\"backlist list\"&gt; &lt;li&gt;ä¸€å¹´-ä¸¤å¹´&lt;/li&gt; &lt;li&gt;ä¸¤å¹´-ä¸‰å¹´&lt;/li&gt; &lt;li&gt;ä¸‰å¹´-äº”å¹´&lt;/li&gt; &lt;li&gt;äº”å¹´-å…«å¹´&lt;/li&gt; &lt;li&gt;å…«å¹´-åå¹´&lt;/li&gt; &lt;/ul&gt; &lt;div class=\"front\"&gt; &lt;ul class=\"list\" id=\"front\"&gt; &lt;li&gt;ä¸€å¹´-ä¸¤å¹´&lt;/li&gt; &lt;li&gt;ä¸¤å¹´-ä¸‰å¹´&lt;/li&gt; &lt;li&gt;ä¸‰å¹´-äº”å¹´&lt;/li&gt; &lt;li&gt;äº”å¹´-å…«å¹´&lt;/li&gt; &lt;li&gt;å…«å¹´-åå¹´&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;ä½¿ç”¨ä¸¤ä¸ªåˆ—è¡¨æ¥æ˜¾ç¤ºï¼Œä¸€ä¸ªåˆ—è¡¨ä½œä¸ºèƒŒæ™¯æ˜¾ç¤ºæ‰€æœ‰é¡¹ï¼›å¦ä¸€ä¸ªåˆ—è¡¨ç½®äºé¡¶å±‚ï¼Œå›ºå®šä¸ºä¸€è¡Œçš„é«˜åº¦æ˜¾ç¤ºé€‰ä¸­é¡¹ã€‚éœ€è¦å¤„ç†ä¸¤ä¸ªåˆ—è¡¨çš„åŒæ­¥æ»šåŠ¨ã€‚Plan B&lt;div class=\"wheelview\"&gt; &lt;div class=\"action\"&gt; &lt;a href=\"javascript:;\" class=\"fl\"&gt;å–æ¶ˆ&lt;/a&gt; &lt;a href=\"javascript:;\" class=\"fr\"&gt;ç¡®å®š&lt;/a&gt; &lt;/div&gt; &lt;div class=\"wrap\" id=\"wrap\"&gt; &lt;ul class=\"list\"&gt; &lt;li&gt;ä¸€å¹´-ä¸¤å¹´&lt;/li&gt; &lt;li&gt;ä¸¤å¹´-ä¸‰å¹´&lt;/li&gt; &lt;li&gt;ä¸‰å¹´-äº”å¹´&lt;/li&gt; &lt;li&gt;äº”å¹´-å…«å¹´&lt;/li&gt; &lt;li&gt;å…«å¹´-åå¹´&lt;/li&gt; &lt;/ul&gt; &lt;div class=\"top\"&gt;&lt;/div&gt; &lt;div class=\"bottom\"&gt;&lt;/div&gt; &lt;/div&gt;&lt;/div&gt;å•åˆ—è¡¨æ˜¾ç¤ºï¼Œå†æ·»åŠ ä¸¤ä¸ªåŒçº§çš„é®ç½©å±‚è®¾ç½®é€æ˜è‰²æ¸å˜ï¼Œåˆ†åˆ«è¦†ç›–äºåˆ—è¡¨ä¸Šä¸‹ï¼Œä¿ç•™ä¸­é—´ä¸€é¡¹çš„è§†åŒºã€‚æ ¹æ®ä¸åŒåº”ç”¨åœºæ™¯ï¼Œä¸¤ç§æ–¹æ¡ˆå„æœ‰åƒç§‹ã€‚Plan A ï¼šé€‚ç”¨äºé€‰ä¸­é¡¹ä¸æ™®é€šé¡¹æ ·å¼å·®åˆ«å¤§çš„åœºæ™¯ã€‚æ¯”å¦‚é€‰ä¸­é¡¹è¦æ±‚ä¸ºè“è‰²ï¼Œæ™®é€šé¡¹ä¸ºç°è‰²ï¼Œå·²ç»ä¸åœ¨ä¸€ä¸ªè‰²ç³»äº†ã€‚Plan B ï¼šå•åˆ—è¡¨ç»“æ„æ›´æ¸…æ™°ï¼ŒèŠ‚çœæ ‡ç­¾ã€‚äº®ç‚¹å°±æ˜¯é®ç½©å±‚çš„æ¸å˜èƒŒæ™¯è‰²ã€‚æœ€ååªå‰©ä¸‹å®ç°æ»šåŠ¨æ•ˆæœäº†ï¼Œä¸ºé˜²æ‰å‘ï¼Œå¼•ç”¨äº† iscroll.jsã€‚Code","tags":[{"name":"Mobile","slug":"Mobile","permalink":"http://imys.net/tags/Mobile/"},{"name":"wheelview","slug":"wheelview","permalink":"http://imys.net/tags/wheelview/"},{"name":"component","slug":"component","permalink":"http://imys.net/tags/component/"},{"name":"iscroll","slug":"iscroll","permalink":"http://imys.net/tags/iscroll/"}]},{"title":"iconfontå…¼å®¹ä¸ç»´æŠ¤","date":"2015-12-23T05:47:34.000Z","path":"20151223/iconfont-maintained.html","text":"åœ¨æ‰å¹³åŒ–ç½‘é¡µè®¾è®¡ä¸­ï¼Œå­—ä½“å›¾æ ‡æœ‰ç€å¾ˆå¥½çš„æ˜“ç”¨æ€§ã€‚ç»“åˆä¸€å¹´çš„å®é™…è¿ç”¨ï¼Œæ¥åšä¸€ä¸‹æ€»ç»“ã€‚ä½¿ç”¨å¯ä»¥ç›´æ¥å¼•ç”¨å¼€æºçš„ç¬¬ä¸‰æ–¹å­—ä½“æ ·å¼æ–‡ä»¶ï¼Œå¦‚Font Awesomeç­‰ã€‚æˆ–è€…ä½ æƒ³è¦æ„å»ºä¸€å¥—äº§å“ä¸“å±çš„å›¾æ ‡ï¼Œå¯ä»¥æ³¨å†Œä¸€ä¸ªå­—ä½“å›¾æ ‡åº“ï¼Œæ·»åŠ ä¸€ä¸ªå›¾æ ‡é¡¹ç›®ï¼Œè¿›è¡Œåˆ›ä½œå’Œä½¿ç”¨ã€‚æˆ‘å¸ä½¿ç”¨çš„å­—ä½“åº“æ˜¯é˜¿é‡Œçš„iconfontã€‚è®¾è®¡å›¾æ ‡æˆ‘ä¸æ‡‚ï¼Œéƒ½æ˜¯è®¾è®¡å¸ˆè´Ÿè´£äº§å‡ºçš„ã€‚äº§å‡ºåï¼Œå¯ä»¥çœ‹åˆ°å›¾æ ‡çš„Unicodeå’Œfont classã€‚ä½¿ç”¨æ—¶ï¼Œéœ€è¦æŠŠå­—ä½“å¼•ç”¨@font-faceå¤åˆ¶åˆ°é¡¹ç›®å…¬å…±æ ·å¼ä¸­ï¼Œå¯ä»¥ä½¿ç”¨åœ¨çº¿å­—ä½“é“¾æ¥æˆ–è€…ä¸‹è½½åˆ°æœ¬åœ°æœåŠ¡å™¨ï¼Œç„¶åå¯ä»¥é€‰æ‹©ä¸¤ç§æ–¹å¼å¼•ç”¨ã€‚1.ç›´æ¥ä½¿ç”¨Unicode.icon &#123; display: inline-block; font-family: \"iconfont\"; font-style: normal; font-weight: normal; -webkit-font-smoothing: antialiased;&#125;&lt;i class=\"icon\"&gt;&amp;#xe74e;&lt;/i&gt;æŠŠUnicodeç›´æ¥å†™å…¥é¡µé¢å†…å®¹ä¸­ï¼Œæ¸²æŸ“å‡ºå›¾æ ‡ã€‚2.ä½¿ç”¨font class[class^=\"icon-\"]:before, [class*=\" icon-\"]:before &#123; text-decoration: inherit; display: inline-block; speak: none;&#125;.icon-search:before &#123; content: \"\\f002\";&#125;&lt;i class=\"icon-search\"&gt;&lt;/i&gt;åˆ©ç”¨ä¼ªå…ƒç´ çš„contentå±æ€§ï¼ŒæŠŠUnicodeå†™åˆ° css ä¸­ï¼Œä¸è¿‡æ¸²æŸ“åè¿˜æ˜¯ä¼šåœ¨é¡µé¢å±•ç¤ºã€‚ç»´æŠ¤ç”±äºè¦IE7ä¸æ”¯æŒä¼ªå…ƒç´ ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™ä¸€ç›´æ˜¯ç›´æ¥ä½¿ç”¨Unicodeçš„æ–¹å¼å¼•ç”¨å›¾æ ‡ã€‚éšç€å›¾æ ‡çš„å¢åŠ ï¼Œä½¿ç”¨æå…¶ä¸æ–¹ä¾¿ã€‚å†™é¡µé¢æ—¶æ¯æ¬¡å¼•ç”¨å›¾æ ‡å°±éœ€è¦æ‰“å¼€å›¾æ ‡é¡¹ç›®é¡µé¢å»å¤åˆ¶ Unicodeï¼Œè¿™ä¸ªçœŸå¿ƒè®°ä¸ä½å•Šï¼é¢†å¯¼æŠ½é£è¦ä¿®æ”¹å›¾æ ‡ï¼Œç„¶åå›¾æ ‡æ”¹è¿‡ä¹‹å Unicode å‘ç”Ÿäº†å˜åŒ–ï¼Œç„¶åå°±éœ€è¦è‹¦é€¼çš„æŠŠæ‰€æœ‰ä½¿ç”¨è¿™ä¸ªå›¾æ ‡çš„é¡µé¢éƒ½æ”¹ä¸€é Unicodeï¼Œè¿˜å¥½æœ‰ gulp-replaceã€‚å½“æˆ‘æ„è¯†åˆ°è¿™æ˜¯ä¸€ä¸ªå¤§å‘æ—¶ï¼Œå·²ç»æ¥ä¸åŠäº†ã€‚ã€‚ã€‚åœ¨ä¹‹åï¼Œæˆ‘å¼€å§‹åŸºäºå­—ç¬¦æ˜ å°„çš„æ–¹å¼å»ç®¡ç†å­—ä½“å›¾æ ‡ã€‚åœ¨é¡¹ç›®é‡ŒåŠ äº†ä¸€ä¸ªå›¾æ ‡é…ç½®æ–‡ä»¶ã€‚å¦‚ï¼š&#123; \"search\": \"xe74e\", // ...&#125;å‰ç«¯æ¨¡ç‰ˆå…¥å£ä¼šç›´æ¥æŠŠè¿™ä¸ªå›¾æ ‡æ•°æ®åŠ å…¥é¡µé¢ä¸Šä¸‹æ–‡ã€‚ç”±äºé…ç½®æ–‡ä»¶å®šä¹‰äº†è¯­ä¹‰åŒ–çš„å‘½åï¼Œé¡µé¢ä½¿ç”¨å°±æ–¹ä¾¿å¤šäº†ã€‚&lt;i class=\"icon\"&gt;&amp;#&lt;%=icon.search %&gt;;&lt;/i&gt;æˆ‘è¿™è¾¹åç«¯æ˜¯ .netï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆè¯­è¨€ï¼Œéƒ½åªéœ€è¦åœ¨å…¬å…±ç±»ä¸­åŠ ä¸ªè¯»å–å›¾æ ‡çš„æ–¹æ³•ã€‚è¿™æ ·å‰ç«¯çš„æ¨¡ç‰ˆæ‹¿åˆ°åç«¯ä¹Ÿä¸éœ€è¦è¿›è¡Œä»€ä¹ˆä¿®æ”¹ã€‚ç„¶è€Œç›´æ¥ä¿ƒä½¿æˆ‘å‘æ­¤æ–‡çš„åŸå› æ˜¯å› ä¸ºä¸å°å¿ƒç‚¹å¼€äº† Font Awesome ç”¨äºå…¼å®¹ IE7 çš„ css æ–‡ä»¶ã€‚.icon-file &#123; *zoom: expression( this.runtimeStyle['zoom'] = '1', this.innerHTML = '&amp;#xf016;' )&#125;expression æ˜¯ ie ç‰¹æœ‰çš„ css å±æ€§ï¼Œå¯ä»¥åœ¨å…¶ä¸­å†™ js è„šæœ¬ã€‚è¿™æ ·åˆæŠŠå›¾æ ‡çš„ç»´æŠ¤æƒäº¤è¿˜ css äº†ã€‚åœ¨ css ä¸­å†™ js è¿™ç§åšæ³•è‚¯å®šæ˜¯ä¸æå€¡çš„ï¼Œè€Œä¸”ä¸€ä¸ªé¡µé¢ä¸Šå­˜åœ¨å¾ˆå¤šçš„å›¾æ ‡ï¼Œåœ¨ ie7 è¿™ä¹ˆæ¶åŠ£çš„ç¯å¢ƒä¸­ï¼Œæ¸²æŸ“é€Ÿåº¦ä¹Ÿæ˜¯ä¸ªå¤§é—®é¢˜ã€‚æˆ‘ç”¨ IE7 æ‰“å¼€ Font Awesome çš„é¡µé¢ï¼Œé€Ÿåº¦åœ¨30så·¦å³ã€‚è¿™æ˜¯ä¸ªé—®é¢˜ï¼Œåˆä¸ç®—é—®é¢˜ã€‚ğŸ˜","tags":[{"name":"CSS","slug":"CSS","permalink":"http://imys.net/tags/CSS/"},{"name":"iconfont","slug":"iconfont","permalink":"http://imys.net/tags/iconfont/"}]},{"title":"ç¥å¥‡çš„eval()ä¸new Function()","date":"2015-12-22T05:07:00.000Z","path":"20151222/eval-with-new-function.html","text":"åœ¨éœ€è¦å…¼å®¹IE8ä»¥ä¸‹çš„æ—¥å­é‡Œï¼Œå¾€å¾€éœ€è¦ä½¿ç”¨eval()æ¥æŠŠåç«¯ä¼ è¿‡æ¥çš„JSONä¸²è½¬æˆå¯æ“ä½œçš„JSONå¯¹è±¡ã€‚ç›´åˆ°æ˜¨å¤©åœ¨ç¿»çœ‹jQueryæºç æ—¶ï¼Œæ‰å‘ç°jQuery.parseJSONçš„å…¼å®¹å®ç°ç”¨çš„æ˜¯new Function()ã€‚é©¬ä¸ŠGoogleäº†ç›¸å…³èµ„æ–™ï¼Œå¯»æ‰¾ä¸¤è€…çš„åŒºåˆ«ã€‚evalevalæ¥å—å­—ç¬¦ä¸²å‚æ•°ï¼Œè§£æå…¶ä¸­çš„jsä»£ç ã€‚å¦‚æœç¼–è¯‘å¤±è´¥ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¦åˆ™æ‰§è¡Œå…¶ä¸­çš„ä»£ç ï¼Œè®¡ç®—è¿”å›å€¼ã€‚eval('2+2'); // 4eval('console.log(\"ok\")'); // okåœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šå¸¸è¿™æ ·è½¬æ¢JSONã€‚var jsonStr = '&#123; \"age\": 20, \"name\": \"jack\" &#125;';eval('(' + jsonStr + ')');ä¸ºä»€ä¹ˆè¦åŠ æ‹¬å·å‘¢ï¼Ÿå› ä¸ºjsä¸­{}é€šå¸¸æ˜¯è¡¨ç¤ºä¸€ä¸ªè¯­å¥å—ï¼Œevalåªä¼šè®¡ç®—è¯­å¥å—å†…çš„å€¼è¿›è¡Œè¿”å›ã€‚åŠ ä¸Šæ‹¬å·å°±å˜æˆä¸€ä¸ªæ•´ä½“çš„è¡¨è¾¾å¼ã€‚console.log( eval('&#123;&#125;') ); // undefindconsole.log( eval('(&#123;&#125;)') ); // Object &#123;&#125;ä½¿ç”¨evaléœ€è¦æ³¨æ„æ‰§è¡Œä½œç”¨åŸŸvar s = 1;function a() &#123; eval('var s=2'); console.log(s);&#125;a(); // 2console.log(s); // 1åœ¨å±€éƒ¨ç¯å¢ƒä½¿ç”¨evalä¾¿ä¼šåˆ›å»ºå±€éƒ¨å˜é‡ã€‚å¯ä»¥æ˜¾ç¤ºæŒ‡å®ševalè°ƒç”¨è€…æ¥æ”¹å˜ä¸Šä¸‹æ–‡ç¯å¢ƒã€‚var s = 'global';function a() &#123; eval('var s = \"local\"'); console.log(s); // local console.log(eval('s')); // local console.log(window.eval('s')); // global&#125;Functionåœ¨ä¹‹å‰æˆ‘å¯¹äºFunctionçš„äº†è§£åªé™äºâ€œå®šä¹‰æ–¹æ³•çš„ä¸€ç§éä¸»æµæ–¹å¼â€ã€‚å´å¿½ç•¥äº†Functionä¸evalç›¸åŒçš„å­—ç¬¦ä¸²å‚æ•°ç‰¹æ€§ã€‚è¯­æ³•ï¼švar func = new Function(arg1, arg2, ..., functionBody);å®ä¾‹ï¼švar add = new Function('a', 'b', 'return a+b;');console.log( add(2, 3) ); // 5ç”±äºå…¶å½¢å‚ä½¿ç”¨å­—ç¬¦ä¸²çš„æ–¹å¼è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨1ä¸ªå­—ç¬¦ä¸²æ¥æè¿°å¤šä¸ªå½¢å‚ã€‚var add = new Function('a, b', 'return a+b;');console.log( add(2, 3) ); // 5åœ¨è½¬æ¢JSONçš„å®é™…åº”ç”¨ä¸­ï¼Œåªéœ€è¦è¿™ä¹ˆåšã€‚var jsonStr = '&#123; \"age\": 20, \"name\": \"jack\" &#125;', json = (new Function('return ' + jsonStr))();eval ä¸ Function éƒ½æœ‰ç€åŠ¨æ€ç¼–è¯‘jsä»£ç çš„ä½œç”¨ï¼Œä½†æ˜¯åœ¨å®é™…çš„ç¼–ç¨‹ä¸­å¹¶ä¸æ¨èä½¿ç”¨ã€‚å¦‚æœå¯ä»¥ï¼Œè¯·ç”¨æ›´å¥½çš„æ–¹æ³•æ›¿ä»£ã€‚åœ¨ä¸€äº›ç‰¹æ®Šçš„è¿ç”¨åœºåˆï¼Œä¹Ÿæœ‰ä¸€äº›åˆç†è¿ç”¨çš„å®è·µã€‚æ¯”å¦‚æ¨¡æ¿è§£æç­‰ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆ jQuery è¦ç”¨new Functionè€Œä¸ç”¨evalå‘¢ï¼Ÿçœ‹çœ‹è€å¤–åšçš„ä¸¤è€…ä»¥åŠåŸç”Ÿæ–¹æ³•çš„æ€§èƒ½æ¯”è¾ƒï¼šJSON Performance comparison of eval, new Function and JSON","tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://imys.net/tags/JavaScript/"},{"name":"Function","slug":"Function","permalink":"http://imys.net/tags/Function/"},{"name":"eval","slug":"eval","permalink":"http://imys.net/tags/eval/"}]},{"title":"ä¼˜é›…çš„æ¨¡æ‹Ÿè¡¨å•å…ƒç´ radioã€checkbox","date":"2015-11-13T00:51:49.000Z","path":"20151113/simulation-of-native-radio-checkbox.html","text":"å…¬å¸å†…éƒ¨ç®¡ç†ç³»ç»Ÿå‡†å¤‡æ”¹ç‰ˆï¼Œæœ€è¿‘å‡ å¤©æŠŠå‰ç«¯æ¶å­æ­èµ·æ¥äº†ã€‚åœ¨è§„åˆ’åº•å±‚å…ƒç´ æ—¶å‚è€ƒäº†Bootstrapå’ŒAmaze UIï¼Œä¸€äº›ç»„ä»¶çš„å®ç°ç¡®å®å¾ˆä¼˜é›…ã€‚æ¯”å¦‚Amaze UI çš„å•/å¤é€‰æ¡†ã€‚ä¹‹å‰æˆ‘åœ¨æ¨¡æ‹Ÿå•/å¤é€‰æ¡†æ—¶ï¼Œéƒ½æ˜¯å¾ˆæš´åŠ›çš„ç”¨ js è§£å†³ã€‚ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼›æ›´æ”¹ checked å±æ€§å€¼ï¼›åˆ‡æ¢ class å˜æ›´æ ·å¼ã€‚è€Œæ‰“å¼€æ§åˆ¶å°è§‚å¯ŸAmaze UIçš„å•/å¤é€‰æ¡†ï¼Œå‘ç°ElementsçŠ¶æ€æ˜¯æ— æ›´æ”¹çš„ã€‚æ›´æ”¹checkedå±æ€§å€¼ï¼Œå¹¶ä¸ä¼šå½±å“åˆ°æ ‡ç­¾å­—é¢é‡å±æ€§ã€‚ä½†æ˜¯æƒ³è¦åˆ‡æ¢é€‰ä¸­å’Œæœªé€‰ä¸­çš„æ ·å¼ï¼Œå¦‚æœä¸æ˜¯é€šè¿‡åˆ‡æ¢classæ¥å®ç°ï¼Œé‚£ä¾¿æ˜¯ç›´æ¥ä¿®æ”¹DOMäº†ï¼Œè€Œè¿™ä¸¤ç§æ“ä½œåœ¨æ§åˆ¶å°ä¸­çš„éƒ½èƒ½çœ‹åˆ°ä¸€ä¸ªçŠ¶æ€å˜åŒ–çš„å“åº”ã€‚é‚£ä¹ˆAmazeç©¶ç«Ÿæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿæˆ‘é€‰ä¸­ä¸€ä¸ªå…ƒç´ çš„å›¾æ ‡ï¼Œåœ¨Stylesä¸­è§‚å¯Ÿæ ·å¼å˜åŒ–ã€‚ç›´åˆ°å‘ç°äº†ä¼ªç±»é€‰æ‹©å™¨:checkedå’Œç›¸é‚»é€‰æ‹©å™¨+ï¼Œæ‰æç„¶å¤§æ‚Ÿã€‚å®ä¾‹&lt;label for=\"sex1\" class=\"form-check\"&gt; &lt;input type=\"radio\" id=\"sex1\" checked name=\"sex\" value=\"1\"&gt; &lt;span class=\"check-icons\"&gt; &lt;i class=\"icon icon-check\"&gt;&amp;#xe632;&lt;/i&gt; &lt;i class=\"icon icon-uncheck\"&gt;&amp;#xe634;&lt;/i&gt; &lt;/span&gt; ç”·&lt;/label&gt;&lt;label for=\"sex2\" class=\"form-check\" &gt; &lt;input type=\"radio\" id=\"sex2\" name=\"sex\" value=\"0\"&gt; &lt;span class=\"check-icons\"&gt; &lt;i class=\"icon icon-check\"&gt;&amp;#xe632;&lt;/i&gt; &lt;i class=\"icon icon-uncheck\"&gt;&amp;#xe634;&lt;/i&gt; &lt;/span&gt; å¥³&lt;/label&gt;å›¾æ ‡ä½¿ç”¨çš„iconfontï¼Œç„¶åæ·»åŠ ä¸€äº›æ ·å¼ï¼Œæˆ‘ä½¿ç”¨lessä½œä¸ºcssé¢„å¤„ç†è¯­è¨€ã€‚.form-check &#123; display: inline-block; position: relative; margin-right: 1em; padding-left: 24px; line-height: 28px; cursor: pointer; input &#123; display: none; &amp;:checked+.check-icons &#123; .icon-check &#123; display: inline-block; &#125; .icon-uncheck &#123; display: none; &#125; &#125; &#125; .check-icons &#123; position: absolute; top: 5px; left: 0; width: 18px; height: 18px; text-align: center; .icon &#123; position: absolute; top: 0; left: 0; line-height: 18px; font-size: 18px; &#125; .icon-uncheck &#123; color: #d7d7d7 &#125; .icon-check &#123; color: #4776c8; display: none; &#125; &#125;&#125;é€šè¿‡label:forå±æ€§æ¥è§¦å‘input:checkedå±æ€§å€¼æ›´æ”¹ã€‚è®¾ç½®ç›¸é‚»é€‰æ‹©å™¨ï¼Œç”±:checkedçŠ¶æ€å˜åŒ–å½±å“å¯¹åº”çš„iconæ˜¾ç¤ºå’Œéšè—ã€‚å…¼å®¹æ€§ç›¸é‚»é€‰æ‹©å™¨+å…¼å®¹IE7+ï¼Œè€Œä¼ªç±»é€‰æ‹©å™¨:checkedå’Œlabel:forå±æ€§å…¼å®¹IE9+ï¼ˆåˆæ˜¯è¿™ä¸€é“åâ€¦ï¼‰ã€‚IE7ã€8çš„å…¼å®¹ç”±é€‰æ‹©å™¨çš„å¦™ç”¨ï¼Œè®©æˆ‘æƒ³åˆ°äº†å±æ€§é€‰æ‹©å™¨[checked]ï¼Œå…¼å®¹æ€§ä¸ºIE7+ã€‚.ie8 [checked]+.check-icons .icon-check,.ie7 [checked]+.check-icons .icon-check &#123; display: inline-block;&#125;.ie8 [checked]+.check-icons .icon-uncheck,.ie7 [checked]+.check-icons .icon-uncheck &#123; display: none;&#125;æˆ‘é’ˆå¯¹IE7ã€8åº”ç”¨äº†è¿™äº›æ ·å¼ï¼Œforå±æ€§å¤±å»äº†ä½œç”¨ï¼Œå°±éœ€è¦ç»‘å®šç‚¹å‡»äº‹ä»¶æ¥æ›´æ”¹checkedå€¼ã€‚åšå®Œä¹‹åå‘ç°å¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ã€‚å› ä¸ºå±æ€§é€‰æ‹©å™¨æ˜¯é’ˆå¯¹æ ‡ç­¾å­—é¢é‡å±æ€§å¯ä½œç”¨ï¼Œè€Œå¦‚input.checked = true;è¿™ç§ä¿®æ”¹æ–¹å¼æ˜¯ä¸ä¼šå½±å“åˆ°æ ‡ç­¾ä¸Šå®šä¹‰çš„å±æ€§ã€‚è¿™å°±ç‰µæ‰¯åˆ°äº†attributeå’Œpropertyçš„åŒºåˆ«ã€‚var ck = document.createElement('input');ck.type = 'checkbox';document.body.appendChild(ck);ck.checked = true;ck.getAttribute('checked'); // nullck.checked = false;ck.setAttribute('checked','checked');ck.checked // falseattribute æ˜¯ html æ ‡ç­¾çš„å±æ€§property æ˜¯ Dom æ ‡å‡†å±æ€§ä¹Ÿè®¸æ˜¯å› ä¸ºæ ‡ç­¾è‡ªå®šä¹‰å±æ€§çš„å­˜åœ¨ï¼Œè¿™ä¸¤ä¸ªå±æ€§å€¼æ˜¯ä¸åŒæ­¥çš„ã€‚å¦‚æœæƒ³è¦ä½¿[checked]é€‰æ‹©å™¨ç”Ÿæ•ˆï¼ŒåŠ¿å¿…è¦åœ¨ç‚¹å‡»äº‹ä»¶ä¸­åŒæ­¥ä¿®æ”¹attributeå’Œpropertyã€‚å®éªŒåå‘ç°åœ¨IE7ã€8ä¸‹æ­£ç¡®è¿è¡Œäº†ï¼Œå¯¹åº”çš„iconçš„displayå±æ€§ç¡®å®å˜åŒ–äº†ï¼Œä½†æ˜¯è‚‰çœ¼çœ‹ä¸åˆ°æ ·å¼æ›´æ”¹ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯æ¸²æŸ“èƒ½åŠ›å·®çš„åŸå› ï¼Œæ€»æ˜¯éœ€è¦åœ¨æ§åˆ¶å°é‡Œç‚¹å‡»å¯¹åº”çš„æ ‡ç­¾åæ‰çœ‹å¾—åˆ°æ›´æ”¹åçš„æ ·å¼ã€‚æ€å‰æ€åï¼Œæ—¢ç„¶æ€»å½’æ˜¯éœ€è¦ç”¨ js å»å…¼å®¹ï¼Œé‚£åœ¨IE7ã€8ä¸‹è¿˜æ˜¯ä½¿ç”¨åˆ‡æ¢classæ¥æ§åˆ¶æ ·å¼ã€‚","tags":[{"name":"CSS","slug":"CSS","permalink":"http://imys.net/tags/CSS/"},{"name":"iconfont","slug":"iconfont","permalink":"http://imys.net/tags/iconfont/"},{"name":"radio","slug":"radio","permalink":"http://imys.net/tags/radio/"},{"name":"checkbox","slug":"checkbox","permalink":"http://imys.net/tags/checkbox/"}]},{"title":"ç§»åŠ¨ç«¯é¡µé¢å¼€å‘å…³é”®â€”å°ºå¯¸å’Œå¸ƒå±€","date":"2015-11-07T15:02:29.000Z","path":"20151107/mobile-page-size-and-layout.html","text":"æ—©ä¸Šå»å…¬å¸åŠ äº†åŠå¤©ç­ï¼ˆå¸¦è–ªçš„ï¼‰ï¼Œä¸ºAPPä¸Šçº¿åšäº†ä¸ªä¸“é¢˜ä»‹ç»é¡µã€‚å½“ç„¶ç°åœ¨çš„ä¸»é¢˜ä¸æ˜¯ä»‹ç»åœ¨è¿™ä¸ªä¸“é¢˜ä¸­æˆ‘ç”¨äº†å“ªäº›æŠ€æœ¯ã€å®ç°äº†ä½•ç§é…·ç‚«çš„ç‰¹æ•ˆã€‚å®é™…ä¸Šæˆ‘ä¸ºäº†èµ¶æ—¶é—´ï¼Œæˆ‘ç ´å¤©è’çš„æ²¡æœ‰è´¯å½»è‡ªå·±çš„ä¸€è´¯ä½œé£â€”é€ è½®å­ï¼Œè€Œæ˜¯ç›´æ¥å¼•äº†ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“ã€‚åœ¨è¿™ä¸ªAPPå¼€å‘ä¸­ï¼Œæˆ‘è´Ÿè´£å†…åµŒç½‘é¡µçš„å¼€å‘ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡æ¶‰è¶³ä¸€ä¸ªå®Œæ•´çš„ç§»åŠ¨ç«¯å¼€å‘é¡¹ç›®ï¼Œä»¥å¾€åªå†™è¿‡ä¸€äº›æ´»åŠ¨åˆ†äº«é¡µã€ä¸“é¢˜é¡µã€‚å¯¹äºé¡µé¢å…¼å®¹æ€§å½±å“æœ€å¤§çš„ä¸¤ä¸ªå› ç´ å°±æ˜¯â€œå°ºå¯¸â€å’Œâ€œå¸ƒå±€â€ã€‚å¥½åœ¨ä¹‹å‰é€šè¿‡ç¤¾åŒºã€åšå®¢ç­‰çœ‹è¿‡æ­¤ç±»æ–‡ç« ï¼Œå·²æœ‰äº†è¶³å¤Ÿçš„è®¤è¯†ï¼Œè¿™æ¬¡é¡¹ç›®â€œå®è·µâ€çš„æˆåˆ†æ›´å¤šã€‚å°ºå¯¸åœ¨ç§»åŠ¨ç«¯é¡µé¢ï¼Œæˆ‘ç”¨åˆ°çš„å°ºå¯¸å•ä½æœ‰emã€remã€vwã€‚pxåŸºæœ¬ä¸ç”¨ï¼Œä½†æˆ‘ä¼šè®¾ç½®Domæ ¹å…ƒç´ htmlå­—ä½“å¤§å°ä¸º14pxï¼Œä¸€æ¥æ–¹ä¾¿emå’Œremçš„å°ºå¯¸è®¡ç®—ï¼ŒäºŒæ¥14pxæ˜¯æœ€å¸¸ç”¨çš„å­—ä½“å¤§å°ã€‚å¸¸è§„æµè§ˆå™¨é»˜è®¤å­—ä½“å¤§å°ä¸º16pxï¼Œæœ€å°å­—ä½“ä¸º12pxã€‚emé¦–å…ˆä½ è¦æœ‰è¿™æ ·ä¸€ä¸ªåŸºç¡€çš„è®¤çŸ¥ï¼šå‡å¦‚ä¸€ä¸ªå…ƒç´ æ²¡æœ‰é‡è®¾å­—ä½“å¤§å°ï¼Œé‚£ä¹ˆå®ƒçš„å­—ä½“å¤§å°ä¼šç»§æ‰¿çˆ¶çº§å…ƒç´ ï¼Œå¦‚æœçˆ¶çº§ä¹Ÿæ²¡æœ‰è®¾ç½®å¤§å°ï¼Œé‚£ä¹ˆä¾æ¬¡ç±»æ¨ä¸€ç›´è¿½æº¯åˆ°bodyã€htmlã€‚emæ˜¯ç›¸å¯¹äºå½“å‰å…ƒç´ å­—ä½“å¤§å°è®¡ç®—åƒç´ å€¼çš„ï¼Œè®¡ç®—æ–¹æ³•æ˜¯emå€¼ * å­—ä½“å¤§å°ã€‚ä¸¾ä¾‹ï¼šä¸€ä¸ªå…ƒç´ è®¾ç½®äº†é«˜åº¦ä¸º2emï¼Œé‚£ä¹ˆå®é™…åƒç´ å€¼ä¸º2 * 14px = 28pxï¼Œè€Œä¸€æ—¦è¿™ä¸ªå…ƒç´ é‡è®¾äº†å­—ä½“å¤§å°ä¸º2emï¼Œé‚£ä¹ˆè¯¥å…ƒç´ é«˜åº¦å€¼ä¸º2 * 28px = 56pxã€‚å¦å¤–ï¼Œå…¶åçš„å­å…ƒç´ çš„è®¡ç®—åŸºæ•°éƒ½ä¼šæ”¹å˜ã€‚ä½¿ç”¨emæ—¶ä¸€æ—¦æœ‰è®¾ç½®å­—ä½“å¤§å°çš„æ ·å¼å‡ºç°å°±éœ€è¦æ³¨æ„é‡æ–°è®¡ç®—ä¸€äº›å±æ€§å€¼å¤§å°äº†ã€‚remä¸ em ç›¸æ¯”ï¼Œè¿™è´§çœ‹èµ·æ¥å¤šäº†ä¸€ä¸ªå­—æ¯ï¼Œæ˜¾ç„¶æ˜¯å±äºå‡çº§ç‰ˆæœ¬ã€‚remæ˜¯å§‹ç»ˆç›¸å¯¹ä¸ Dom æ ¹å…ƒç´ htmlæ¥è®¡ç®—åƒç´ å€¼çš„ã€‚ä¸ç®¡å½“å‰å…ƒç´ å­—ä½“å¦‚ä½•è®¾ç½®ï¼Œè®¡ç®—æ—¶å­—ä½“å¤§å°ä»ç„¶ä»¥htmlçš„å­—ä½“è®¾ç½®ä¸ºåŸºå‡†ã€‚vwvwæŒ‡çš„çš„å½“å‰å±å¹•å®½åº¦ï¼Œä¸ä¹‹å¯¹åº”çš„è¿˜æœ‰ vhï¼Œè¡¨ç¤ºå±å¹•é«˜åº¦ã€‚å¦‚æœå±å¹•å®½ä¸º 360pxï¼Œé‚£ä¹ˆ 100vw = 360pxã€‚æ˜¯å¦æ„Ÿè§‰å¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Ÿåˆ«ç€æ€¥ï¼Œä¸‹é¢è¯´ä¸€ä¸‹æˆ‘çš„ä¸€æ¬¡é€‚ç”¨ç»å†ã€‚htmlï¼š&lt;div class=&quot;box&quot;&gt; &lt;div class=&quot;inner&quot;&gt; &lt;div class=&quot;cont cont-1&quot;&gt;&lt;/div&gt; &lt;div class=&quot;cont cont-2&quot;&gt;&lt;/div&gt; &lt;div class=&quot;cont cont-3&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;div&gt; cssï¼š.box { width: 100%; overflow: hidden; } .inner { width: 300%; } .cont { float: left; width: 100%; } ä»¥ä¸Šä»£ç ç”¨ä»¥å®ç°ä¸‰å±çš„å·¦å³åˆ‡æ¢æ•ˆæœï¼Œå¤–å±‚å®¹å™¨.boxå’Œä¸‰ä¸ªå†…å®¹å—å®½åº¦ä¸ºå±å¹•å®½åº¦ï¼Œä¸‰ä¸ªå†…å®¹å—è®¾ç½®äº†å·¦æµ®åŠ¨æ ·å¼ã€‚æ­¤æ—¶ï¼Œå†…å±‚å®¹å™¨.inneréœ€è¦æœ‰3å€çš„å±å¹•å®½åº¦ä»¥æ‰¿è½½ä¸‰ä¸ªå†…å®¹å—ã€‚ä½†æ˜¯ç”±äºå®½åº¦ç»§æ‰¿çš„å…³ç³»ï¼Œåœ¨å†…å±‚å®¹å™¨.innerå®½åº¦æ”¹å˜åï¼Œå†…å®¹å—çš„å®½åº¦è®¡ç®—åŸºæ•°ä¹Ÿæ”¹å˜äº†ã€‚æ­¤æ—¶è®¾ç½®çš„100%æ˜¯ç­‰äºçˆ¶çº§å…ƒç´ å®½åº¦çš„ï¼Œä¹Ÿå°±æ˜¯ä¸‰å€å±å®½ã€‚ä½¿ç”¨jsæ˜¯å¾ˆå®¹æ˜“è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼Œä¸è¿‡vwæ˜¾ç„¶æ˜¯å¯ä»¥é€‚ç”¨è¿™ä¸ªåœºæ™¯çš„ã€‚åªéœ€è¦å¦‚ä¸‹è®¾ç½®ä¾¿å¯è§£å†³é—®é¢˜ã€‚.cont { width: 100vw; } è¯¥å±æ€§åœ¨å…¼å®¹æ€§ä¸ºandroid 4.4+ï¼Œè°¨æ…ä½¿ç”¨ã€‚devicePixelRatioåœ¨ä¸€ä¸ªå›¾è¡¨é¡µä¸­ï¼Œæˆ‘ç”¨canvasç”»äº†ä¸ªé¥¼å›¾ã€‚å‘ç°åœ¨æ‰‹æœºå±å¹•ä¸­åŒºå—é¢œè‰²æ˜¾å¾—æ¨¡ç³Šã€‚äºæ˜¯æœç´¢èµ„æ–™å°±æ‰¾åˆ°äº†è¿™ä¸ªå±æ€§ï¼Œwindow.devicePixelRatioã€‚ç›®å‰æˆ‘å¯¹è¿™ä¸ªå±æ€§çš„ç†è§£è¿˜ä¸æ·±ï¼ŒåŸºæœ¬çš„ç†è§£ä¸ºï¼šå±å¹•ç¼©æ”¾æ¯”ã€‚ä¼ é€é—¨ï¼šå¼ é‘«æ—­ï¼šè®¾å¤‡åƒç´ æ¯”devicePixelRatioç®€å•ä»‹ç»æˆ‘ä»¬é€šè¿‡å†™çš„cssä¸­åƒç´ ä»…ä¸ºé€»è¾‘åƒç´ ï¼Œå°±æ˜¯ä½ çœ‹åˆ°çš„å®½åº¦ï¼Œè€Œå®é™…ä¸Šæ‰‹æœºå±å¹•å•ä¸ªç‚¹æ˜¯å¯èƒ½å­˜åœ¨å¤šä¸ªåƒç´ çš„ã€‚å¦‚æœæ˜¯å¸¸è§„é¡µé¢å…ƒç´ æ˜¯ç”¨ä¸åˆ°è¿™ä¸ªå±æ€§çš„ï¼Œè€Œcanvasçš„çœŸå®å®½åº¦å’Œcsså®½åº¦æ˜¯ä¸ä¸€è‡´çš„ã€‚è®¡ç®—æ–¹æ³•ä¸ºï¼šcanvas.width = canvas.style.width * devicePixelRatioã€‚éœ€è¦æ³¨æ„ï¼šä¸€æ—¦é‡è®¾äº†canvasçš„çœŸå®å®½åº¦ï¼Œé‚£ä¹ˆcanvasä¹‹ä¸Šçš„ä¸€åˆ‡å…ƒç´ éƒ½éœ€è¦ä¹˜ä»¥devicePixelRatioè¿›è¡Œç¼©æ”¾ã€‚å¸ƒå±€åœ¨PCä¸Šä¸ºäº†å…¼å®¹å¯æ¶çš„IEä¸å¾—ä¸ä½¿ç”¨å¤§é‡çš„æµ®åŠ¨æ¥è¿›è¡Œå—çº§å…ƒç´ çš„å¹¶è¡Œæ’è¡Œã€‚è€Œåœ¨ç§»åŠ¨ç«¯æˆ‘ä»¬æœ‰äº†æ›´å¥½çš„é€‰æ‹©ï¼Œä½†ä¸æ˜¯inline-blockï¼Œè€Œæ˜¯flexã€‚ä½¿ç”¨flexå¯ä»¥è½»æ˜“çš„å®ç°ç­‰å®½ã€æ•£åˆ—ã€å‚ç›´å±…ä¸­ã€å¤šè¡Œæ’åˆ—ã€åº•éƒ¨å¯¹é½ç­‰ç­‰å„ç§å¸ƒå±€ã€‚å®šä¹‰ä¸€ä¸ªflexå®¹å™¨.flex-row { display: flex; } é€šè¿‡è®¾ç½®å®¹å™¨å±æ€§ï¼Œå¯ä»¥å‘ˆç°ä¸åŒçš„æ’åˆ—å¯¹é½æ–¹å¼ã€‚flex-wrapå®šä¹‰å®¹å™¨æ¢è¡Œæ–¹å¼ï¼Œé»˜è®¤ä¸æ¢è¡Œã€‚å¯è®¾ç½®æ¢è¡Œå’Œåå‘æ¢è¡Œã€‚flex-directionæ’åˆ—æ–¹å‘ï¼Œé»˜è®¤å­å…ƒç´ ä»å·¦åˆ°å³é¡ºåºæ’åˆ—ã€‚é€šè¿‡è®¾ç½®è¯¥å€¼å¯ä»¥å®ç°åå‘æ’åˆ—æˆ–å‚ç›´æ–¹å‘çš„ä¸Šä¸‹æ’åˆ—ã€‚justify-contentä¸»è½´ï¼ˆæ°´å¹³æ–¹å‘ï¼‰å¯¹é½æ–¹å¼ï¼Œé»˜è®¤å·¦å¯¹é½ã€‚å¯ä»¥å®ç°å±…ä¸­ã€å³å¯¹é½ã€ç­‰å®½é—´éš”ç­‰æ’åˆ—ã€‚align-itemsä¾§è½´ï¼ˆå‚ç›´ï¼‰å¯¹é½æ–¹å¼ã€‚å¯å®ç°å‚ç›´å±…ä¸­ã€åº•éƒ¨å¯¹é½ã€åŸºçº¿å¯¹é½ç­‰ã€‚align-contentå¤šè½´å‚ç›´å¯¹é½æ–¹å¼ã€‚æœ€åé™„ä¸ŠDemoï¼šflexå¸¸ç”¨å¸ƒå±€å‚è€ƒï¼šå¤§æ¼ ï¼šFlexboxâ€”â€”å¿«é€Ÿå¸ƒå±€ç¥å™¨é˜®ä¸€å³°ï¼šFlex å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡é˜®ä¸€å³°ï¼šFlex å¸ƒå±€æ•™ç¨‹ï¼šå®ä¾‹ç¯‡","tags":[{"name":"ç§»åŠ¨ç«¯","slug":"ç§»åŠ¨ç«¯","permalink":"http://imys.net/tags/ç§»åŠ¨ç«¯/"},{"name":"devicePixelRatio","slug":"devicePixelRatio","permalink":"http://imys.net/tags/devicePixelRatio/"},{"name":"em","slug":"em","permalink":"http://imys.net/tags/em/"},{"name":"rem","slug":"rem","permalink":"http://imys.net/tags/rem/"},{"name":"vw","slug":"vw","permalink":"http://imys.net/tags/vw/"},{"name":"flex","slug":"flex","permalink":"http://imys.net/tags/flex/"}]},{"title":"å®ç°ä¸€ä¸ªç®€å•çš„æ¨¡å—åŠ è½½å™¨","date":"2015-10-23T12:41:39.000Z","path":"20151023/simple-module-loader.html","text":"æœ€è¿‘å¤§åŠå¹´ä¹Ÿå†™äº†ä¸å°‘é€šç”¨æ¨¡å—ï¼Œå´ä»æ¥æ²¡ä½¿ç”¨è¿‡ä¸€ç§é€šè¿‡ä¹¦å†™æ ¼å¼ã€‚ç›®å‰å…¬å¸çš„å‰ç«¯é€šç”¨åº“è¿˜æ˜¯jQuery, ä½†ä¹Ÿä¸æ˜¯æ‰€æœ‰çš„æ¨¡å—éƒ½é€‚åˆä»¥jQuery æ’ä»¶çš„å½¢å¼å¼€å‘ã€‚å¹³æ—¶å†™çš„æ—¶å€™ä¸€èˆ¬ä»¥ç«‹å³æ‰§è¡Œå‡½æ•°æˆ– OO å½¢å¼å¼€å‘ï¼Œä»¥ç›®å‰é¡¹ç›®æƒ…å†µæ¥çœ‹ä¹Ÿä¸æ˜¯å¾ˆéœ€è¦ç”¨require.jsæˆ–sea.jsä¹‹ç±»çš„åŠ è½½å™¨ã€‚å…¶å®æˆ‘çš„éœ€æ±‚å¾ˆç®€å•ï¼Œå°±æ˜¯æŠ¹å»æ¨¡å—åœ¨å…¨å±€ä½œç”¨åŸŸçš„å®šä¹‰ï¼Œä»¥é€šç”¨çš„å½¢å¼å®šä¹‰å’Œå¼•ç”¨ã€‚æœ€ç»ˆç›®æ ‡ä»ç»“æœå‡ºå‘åˆ†æéœ€æ±‚ï¼Œå…ˆåˆ—å‡ºæ¥æœ€ç»ˆæƒ³è¦çš„ä»£ç å½¢å¼ã€‚// å½¢å¼1ï¼šåŒ¿åæ¨¡å—ï¼Œåªæœ‰ä¸€ä¸ªæ³¨å…¥exportså‚æ•°çš„å‡½æ•°ä½“module(function (exports) &#123; console.log(require('m1').msg);&#125;);// å½¢å¼2ï¼šå…·åæ¨¡å—ï¼ŒåŒ…å«ä¸€ä¸ªæ¨¡å—åç§°å‚æ•°å’Œä¸€ä¸ªæ³¨å…¥exportså‚æ•°çš„å‡½æ•°ä½“module('m1', function (exports) &#123; exports.msg = 'hello';&#125;);// å½¢å¼3ï¼šå…·åæ¨¡å—ï¼ŒåŒ…å«ä¸€ä¸ªæ¨¡å—åç§°å‚æ•°ã€ä¾èµ–æ¨¡å—æ•°ç»„ã€å’Œä¸€ä¸ªæ³¨å…¥ä¾èµ–æ¨¡å—ã€exportså‚æ•°çš„å‡½æ•°ä½“module('m2', ['m1'], function (m1, exports) &#123; exports.msg = m1.msg + \"World\";&#125;);// å½¢å¼4ï¼šåŒ¿åæ¨¡å—ï¼Œä¸å½¢å¼3ç›¸æ¯”æ²¡æœ‰æ¨¡å—åç§°module(['m2'], function (m2, exports) &#123; console.log(m2.msg);&#125;);ä½¿ç”¨moduleå®šä¹‰ä¸€ä¸ªæ¨¡å—ï¼Œæ‹¥æœ‰ä¸€ä¸ªå‡½æ•°ä¸Šä¸‹æ–‡ï¼Œå¯ä»¥å®šä¹‰æ¨¡å—åç§°å’Œå¼•ç”¨å…¶ä»–æ¨¡å—ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ³¨å…¥çš„exportså‚æ•°è¾“å‡ºæ¨¡å—å¼€æ”¾æ¥å£ã€‚æŸäº›æ—¶å€™ä¹Ÿè®¸éœ€è¦require(&#39;æ¨¡å—å&#39;)è¿™ç§å½¢å¼æ¥ç›´æ¥å¼•ç”¨æ¨¡å—ã€‚1. æ³¨å…¥ç¯å¢ƒå˜é‡ä»ä»¥ä¸Šå››ç§æ¨¡å—å½¢å¼æ¥çœ‹ï¼Œmoduleå’Œrequireä¸¤ä¸ªå˜é‡çš„ä½œç”¨åŸŸæ˜¯å…¨å±€ï¼Œéœ€è¦æ³¨å…¥åˆ°windowä¸­ã€‚(function(w, f)&#123; w.module = function () &#123; &#125; w.require = function (namne) &#123; &#125; &#125;(window, undefined));ä¸€ä¸ªç®€å•çš„ç«‹å³æ‰§è¡Œå‡½æ•°å°±å¯ä»¥åšåˆ°ã€‚2. è§£æ module å‚æ•°moduleå‚æ•°çš„æ•°é‡æ˜¯ä¸å›ºå®šçš„ï¼Œæœ€å°‘1ä¸ªï¼ˆå½¢å¼1ï¼‰ã€æœ€å¤š3ä¸ªï¼ˆå½¢å¼3ï¼‰ã€‚å¯ä»¥éœ€è¦é€šè¿‡åˆ¤æ–­å‚æ•°æ•°é‡å’Œç±»å‹åŠ ä»¥åŒºåˆ†ã€‚w.module = function () &#123; var modName = arguments[0], // æ¨¡å—å String mods = arguments[1], // å¼•ç”¨æ¨¡å— Array context = arguments[arguments.length - 1]; // æ¨¡å—å‡½æ•° Function if(modName instanceof Array) &#123; mods = modName; modName = f; &#125;&#125;å‚æ•°æ•°é‡ä¸å›ºå®šï¼Œä¹Ÿå°±ä¸å¿…å®šä¹‰å½¢å‚äº†ï¼Œç›´æ¥ä»argumentsä¸­è·å–ã€‚arguments[0]æ˜¯æ¨¡å—åï¼Œæ¨¡å—åå­˜åœ¨æ—¶æ°¸è¿œæ˜¯å‚æ•°ç¬¬ä¸€ä½ï¼›arguments[1]æ˜¯å¼•ç”¨æ¨¡å—ï¼Œæ¨¡å—åä¸å­˜åœ¨æ—¶arguments[0]ä¸ºå¼•ç”¨æ¨¡å—ï¼Œæ‰€ä»¥åˆ¤æ–­æ¨¡å—åæ˜¯æ•°ç»„ç±»å‹æ—¶é‡æ–°èµ‹å€¼ï¼›ä¸ç®¡ä½•ç§å½¢å¼æ¨¡å—å‡½æ•°éƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œç›´æ¥ä½¿ç”¨arguments[arguments.length - 1]è·å–ï¼›3. å®ç° moduleæ¨¡å—å‡½æ•°çš„å‚æ•°æ•°é‡ä¹Ÿæ˜¯ä¸å›ºå®šçš„ï¼Œä½†è‡³å°‘éœ€è¦æ³¨å…¥exportsæ¥è¾“å‡ºå¼€æ”¾æ¥å£ã€‚æ¯å¤šå¼•ç”¨ä¸€ä¸ªæ¨¡å—ï¼Œå°±éœ€è¦å‘æ¨¡å—å‡½æ•°ä¸­æ³¨å…¥ä¸€ä¸ªå¯¹åº”å‚æ•°ã€‚var modules = &#123;&#125;; // æ¨¡å—å®¹å™¨w.module = function () &#123; var modName = arguments[0], // æ¨¡å—å String mods = arguments[1], // å¼•ç”¨æ¨¡å— Array context = arguments[arguments.length - 1]; // æ¨¡å—å‡½æ•° Function if(modName instanceof Array) &#123; mods = modName; modName = f; &#125; // 1. å–å‡ºæ¨¡å— var args = []; if(mods instanceof Array) &#123; for(var i = 0; i &lt; mods.length; i++) &#123; args.push(modules[mods[i]]); &#125; &#125; // 2. æ³¨å†Œæ¨¡å— if(typeof modName === 'string') &#123; modules[modName] = &#123;&#125;; args.push(modules[modName]); &#125; // 3. æ³¨å…¥å‚æ•°ï¼Œæ‰§è¡Œæ¨¡å— context.apply(this, args);&#125;éå†modså–å‡ºæ¨¡å—ï¼šå®šä¹‰äº†ä¸€ä¸ªå˜é‡moduleså­˜æ”¾æ¨¡å—ï¼Œé‚£ä¹ˆå‡å¦‚ä¸€ä¸ªæ¨¡å—å¼•ç”¨äº†æ¨¡å—aã€bï¼Œåˆ™mods = [&#39;a&#39;, &#39;b&#39;];ï¼Œaã€bä¸¤ä¸ªæ¨¡å—çš„çœŸå€¼å³ä¸ºmodules[&#39;a&#39;]ã€modules[&#39;b&#39;]ã€‚å½“æ¨¡å—ä¸ºå½¢å¼2æ—¶ï¼Œå‚æ•°æœ‰ä¸¤ä¸ªï¼Œå‚æ•°2ä¸ºæ¨¡å—å‡½æ•°ã€‚æ­¤æ—¶ arguments[1] === arguments[arguments.length - 1]ï¼Œå¼•ç”¨æ¨¡å—(mods)ä¹ŸæŒ‡å‘äº†æ¨¡å—å‡½æ•°ï¼Œæ‰€ä»¥è¦åˆ¤æ–­modsç±»å‹ã€‚æ³¨å†Œæ¨¡å—ï¼šæ¯ä¸€ä¸ªå…·åæ¨¡å—éƒ½éœ€è¦æ³¨å†Œåˆ°modulesä¸­ï¼Œä»¥å¤‡å…¶ä»–æ¨¡å—å¼•ç”¨ã€‚å½“æ¨¡å—ä¸ºåŒ¿åæ¨¡å—æ—¶ï¼Œä¸éœ€è¦æ³¨å†Œï¼Œæ‰€ä»¥è¦åˆ¤æ–­modNameç±»å‹ã€‚æ³¨å…¥å‚æ•°ï¼Œæ‰§è¡Œæ¨¡å—ï¼šå¯¹äºä¸å®šæ•°é‡çš„å‚æ•°æ³¨å…¥ï¼Œæ˜¾ç„¶æ˜¯ä½¿ç”¨applyæœ€ç®€å•ã€‚4. å®ç° requirevar modules = &#123;&#125;; // æ¨¡å—å®¹å™¨w.module = function () &#123; //...&#125;w.require = function (namne) &#123; return modules[namne];&#125;æš‚æ—¶ä¸è€ƒè™‘å¼‚æ­¥åŠ è½½ã€åŠ è½½è·¯å¾„è§£æç­‰å„ç§æƒ…å†µäº†ï¼Œç›´æ¥ä»å®¹å™¨ä¸­å–åˆ°æ¨¡å—â€¦5. å®Œæ•´ä»£ç (function(w, f)&#123; var modules = &#123;&#125;; // æ¨¡å—å®¹å™¨ w.module = function () &#123; var modName = arguments[0], // æ¨¡å—å String mods = arguments[1], // å¼•ç”¨æ¨¡å— Array context = arguments[arguments.length - 1]; // æ¨¡å—å‡½æ•° Function if(modName instanceof Array) &#123; mods = modName; modName = f; &#125; var args = []; if(mods instanceof Array) &#123; for(var i = 0; i &lt; mods.length; i++) &#123; args.push(modules[mods[i]]); &#125; &#125; if(typeof modName === 'string') &#123; modules[modName] = &#123;&#125;; args.push(modules[modName]); &#125; context.apply(this, args); &#125; w.require = function (namne) &#123; return modules[namne]; &#125; &#125;(window, undefined));// å½¢å¼1ï¼šåŒ¿åæ¨¡å—ï¼Œåªæœ‰ä¸€ä¸ªæ³¨å…¥exportså‚æ•°çš„å‡½æ•°ä½“module(function (exports) &#123; console.log(require('m1').msg);&#125;);// å½¢å¼2ï¼šå…·åæ¨¡å—ï¼ŒåŒ…å«ä¸€ä¸ªæ¨¡å—åç§°å‚æ•°å’Œä¸€ä¸ªæ³¨å…¥exportså‚æ•°çš„å‡½æ•°ä½“module('m1', function (exports) &#123; exports.msg = 'hello';&#125;);// å½¢å¼3ï¼šå…·åæ¨¡å—ï¼ŒåŒ…å«ä¸€ä¸ªæ¨¡å—åç§°å‚æ•°ã€ä¾èµ–æ¨¡å—æ•°ç»„ã€å’Œä¸€ä¸ªæ³¨å…¥ä¾èµ–æ¨¡å—ã€exportså‚æ•°çš„å‡½æ•°ä½“module('m2', ['m1'], function (m1, exports) &#123; exports.msg = m1.msg + \"World\";&#125;);// å½¢å¼4ï¼šåŒ¿åæ¨¡å—ï¼Œä¸å½¢å¼3ç›¸æ¯”æ²¡æœ‰æ¨¡å—åç§°module(['m2'], function (m2, exports) &#123; console.log(m2.msg);&#125;);æ‰§è¡Œä»¥ä¸Šä»£ç ä¼šæŠ¥é”™ï¼Œä»£ç æ˜¯è‡ªä¸Šè€Œä¸‹åŒæ­¥æ‰§è¡Œçš„ï¼Œå½¢å¼1è¿è¡Œé˜¶æ®µæ¨¡å—m1è¿˜æœªå®šä¹‰ã€‚æŠŠå½¢å¼1æ”¾åˆ°å½¢å¼4ä¹‹åæ‰§è¡Œï¼Œè¾“å‡ºï¼šhelloWorldhello","tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://imys.net/tags/JavaScript/"},{"name":"æ¨¡å—åŒ–","slug":"æ¨¡å—åŒ–","permalink":"http://imys.net/tags/æ¨¡å—åŒ–/"}]},{"title":"gulpæ”¹å–„å·¥ä½œæµè®°å½•","date":"2015-10-22T02:37:53.000Z","path":"20151022/use-gulp-front-building-exp.html","text":"ä¸Šä¸ªæœˆå‘é¢†å¯¼æå‡ºçš„ä½¿ç”¨gulp+ejsæ¨¡å—åŒ–htmlæœ€è¿‘å¾—åˆ°äº†å®æ–½ï¼Œå¤§æ¦‚è®°å½•ä¸‹æ­¤æ¬¡æ”¹é€ å·¥ä½œã€‚ç›®å½•ç»“æ„html -dest --Folder --index.html --... -src --Folder --Modules ---header.html ---... --index.html --... static -dest --css --js --img -src --css --js --img --less node_modules gulpfile.js package.json gulpæ¨¡å—var gulp = require('gulp'), less = require('gulp-less'), minifycss = require('gulp-minify-css'), jshint = require('gulp-jshint'), uglify = require('gulp-uglify'), imagemin = require('gulp-imagemin'), pngquant = require('imagemin-pngquant'), rename = require('gulp-rename'), notify = require('gulp-notify'), browserSync = require('browser-sync'), ejs = require('gulp-ejs'), changed = require('gulp-changed'), replace = require('gulp-replace');htmlé€‰æ‹©äº†ejsæ¥ç®¡ç†ï¼Œcssé¢„å¤„ç†é€‰æ‹©äº†lessã€‚ç®€å•ã€å®ç”¨ï¼å¯¹äºæµè§ˆå™¨åŒæ­¥å·¥å…·ï¼Œæœ¬æ¥ä½¿ç”¨çš„æ˜¯live-reloadï¼Œåœ¨åˆæ¬¡ä½¿ç”¨ä¸­æ„Ÿè§‰ä¸æ˜¯å¾ˆé¡ºç•…ï¼Œä¹‹åæ¢æˆäº†browserSyncã€‚browserSync é™¤äº†æ–‡ä»¶æ›´æ”¹å®æ—¶åˆ·æ–°æµè§ˆå™¨å¤–ï¼Œè¿˜æœ‰å¤šè®¾å¤‡åŒæ­¥åŠŸèƒ½ï¼Œé€šè¿‡å¯è§†åŒ–æ§åˆ¶å°å¯ä»¥å®æ—¶æµ‹è¯•ç§»åŠ¨ç«¯ä»£ç ã€‚å¯¹æ¯”è€Œè¨€ï¼Œlive-reload ä¾èµ– Chrome åŠ LiveReload æ’ä»¶ï¼Œåº”è¯¥æ˜¯å€ŸåŠ© Chrome çš„æŸç§å¼€æ”¾æ¥å£å®ç°çš„ã€‚è€Œ browserSync æ˜¯åŸºäºè™šæ‹ŸæœåŠ¡å™¨çš„ï¼Œæ‰€æœ‰å¯ä»¥å®ç°å¤šè®¾å¤‡çš„æ§åˆ¶ã€‚å·¥ä½œæµç¼–å†™htmlã€lessã€js =&gt; æµè§ˆå™¨è®¿é—®ï¼ˆURLå¯¹åº”htmlæ–‡ä»¶ç›®å½•ï¼‰ =&gt; æµè§ˆå™¨æ˜¾ç¤ºç¼–è¯‘åçš„htmlã€cssã€js =&gt; htmlå·²ç»è¿‡æ¨¡æ¿åˆå¹¶ï¼Œincludeç­‰å…³é”®å­—æ˜¯æ²¡æœ‰çš„ =&gt; cssæ˜¯lessç¼–è¯‘ç”Ÿæˆçš„ï¼Œé¡µé¢ä»å§‹è‡³ç»ˆå¼•ç”¨çš„éƒ½æ˜¯ css æ–‡ä»¶ï¼Œä¸è¿‡ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„åŒå less æ–‡ä»¶ã€‚æ”¹é€ è¿›è¡Œé˜¶æ®µä¹Ÿæ²¡é‡åˆ°ä»€ä¹ˆå¤ªå¤§é—®é¢˜ï¼Œèƒ½é‡åˆ°çš„é—®é¢˜ä¹Ÿéƒ½èƒ½åœ¨githubä¸­æ‰¾åˆ°ç­”æ¡ˆã€‚ä¸è¿‡è¿˜æ˜¯è¦æ ¹æ®å„è‡ªå›¢é˜Ÿçš„é¡¹ç›®æƒ…å†µå› åœ°åˆ¶å®œï¼Œåˆç†é…ç½®ã€‚","tags":[{"name":"Gulp","slug":"Gulp","permalink":"http://imys.net/tags/Gulp/"},{"name":"å‰ç«¯æ„å»º","slug":"å‰ç«¯æ„å»º","permalink":"http://imys.net/tags/å‰ç«¯æ„å»º/"}]},{"title":"Node.jså‘½ä»¤è¡Œç©æ³•","date":"2015-09-19T12:20:13.000Z","path":"20150919/nodejs-shell.html","text":"Node.js çš„çƒ­é—¨ä¹‹å¤„å°±åœ¨äºå…¶å‘½ä»¤è¡Œå¼€å‘èƒ½åŠ›ã€‚ä¸€ä¸ªåœ¨ shell ä¸‹ç¼–ç çš„ç¨‹åºå‘˜ç»å¯¹è¦æ¯”åœ¨å¸¸è§„ç¼–è¾‘å™¨ä¸Šç¼–ç çš„ç¨‹åºå‘˜é…·ï¼åŸºç¡€ç¯å¢ƒwin10 x64node.jsnpmhello worldä¸€åˆ‡ä» hello world å¼€å§‹ï¼#!/usr/bin/env nodeconsole.log('hello world');æ™®é€šçš„ node.js è„šæœ¬éœ€è¦ä½¿ç”¨node æ–‡ä»¶åçš„å½¢å¼æ‰§è¡Œï¼Œåœ¨è„šæœ¬é¦–è¡ŒåŠ ä¸Š#!/usr/bin/env nodeå¯ä»¥åœ¨linuxç¯å¢ƒä¸­æŒ‡å®šè„šæœ¬çš„è§£é‡Šç¨‹åºã€‚&gt; hello.jshello worldå…¨å±€å‘½ä»¤ä»¥ä¸Šçš„åšæ³•åªèƒ½åœ¨ç‰¹å®šçš„ç›®å½•ä¸‹æ‰§è¡Œè¯¥è„šæœ¬æ–‡ä»¶ï¼Œå¦‚æœæƒ³åšåˆ°å¦‚nodeèˆ¬çš„æ— å¤„ä¸åœ¨ï¼Œéœ€è¦å€Ÿç”¨npmäº†ã€‚åœ¨å½“å‰ç›®å½•æ–°å»ºpackage.jsonï¼Œå¦‚ä¸‹ç¼–ç ï¼š&#123; \"name\": \"hello\", \"bin\": &#123; \"hello\": \"hello.js\" &#125;&#125;ç„¶åæ‰§è¡Œnpm linkå‘½ä»¤ï¼Œå°†ä¼šæŠŠä»¥ä¸Šé…ç½®æ³¨å†Œåˆ°å…¨å±€ï¼Œè¿™æ ·åœ¨ä»»ä½•ä¸€ä¸ªç›®å½•éƒ½å¯ä»¥è°ƒç”¨helloè¾“å‡ºhello worldäº†ã€‚å‘½ä»¤è¡Œå‚æ•°å…‰æœ‰ç‰¹å®šå‘½ä»¤åä¹Ÿåªèƒ½æ‰§è¡Œä¸€é¡¹ç‰¹å®šä»»åŠ¡ï¼Œç°åœ¨è¯¥å®ç°å¤šæ€äº†ã€‚å†™ä¸€ä¸ªå°å·¥å…·å§ã€‚éœ€æ±‚å¾ˆç®€å•ï¼Œæ‰§è¡Œrun nameæ‰“å¼€å¯¹åº”çš„åº”ç”¨ç¨‹åºã€‚æ–°å»ºæ–‡ä»¶config.jsonã€run.jsï¼Œconfig.jsonç”¨äºé…ç½®åº”ç”¨ç¨‹åºçš„è·¯å¾„ã€‚&#123; \"qq\": \"D:\\\\qq\\\\Bin\\\\QQ.exe\"&#125;å…ˆæ‹¿ä¼é¹…å¼€åˆ€ï¼Œåœ¨config.jsonæ–‡ä»¶ä¸­é…ç½®qq.exeçš„ç»å¯¹è·¯å¾„ã€‚å¦å¤–åˆ«å¿˜äº†åœ¨package.jsonä¸­æ·»åŠ run.jsã€‚#!/usr/bin/env nodevar name = process.argv[2], exec = require('child_process').exec, fs = require('fs');var cfg = JSON.parse(fs.readFileSync(__dirname + '/config.json'));var child = exec('start ' + cfg[name], function(err, stdout, stderr) &#123; if (err) throw err;&#125;);ä½¿ç”¨ç³»ç»Ÿå˜é‡process.argvè·å–è¾“å…¥å‚æ•°ï¼Œå¼•ç”¨fsæ¨¡å—ç”¨äºè¯»å–é…ç½®æ–‡ä»¶ï¼Œchild_processæ¨¡å—ç”¨äºæ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€‚å¯ä¸ºä»€ä¹ˆå‚æ•°ç´¢å¼•æ˜¯ 2 å‘¢ï¼Ÿéš¾é“å‘½ä»¤è¡Œç´¢å¼•ä» 1 å¼€å§‹å—ï¼Ÿå…¶å®æ˜¯å› ä¸ºæˆ‘ä»¬å®é™…æ‰§è¡Œçš„å‘½ä»¤è¿˜æ˜¯node run nameï¼Œnodeç´¢å¼•ä¸º 0ã€‚å¼€å§‹æµ‹è¯•ã€‚run qqä¼é¹…ç™»å½•çª—å£åº”å£°è€Œå‡ºã€‚å¦‚æœè¿˜éœ€è¦å…¶ä»–åº”ç”¨ç¨‹åºçš„å‘½ä»¤è¡Œå¯åŠ¨å¯ä»¥åœ¨config.jsonä¸­æ·»åŠ æ–°çš„é…ç½®é¡¹ã€‚ä»¥ä¸Šä»£ç ä½¿ç”¨çš„æ˜¯ node.js åŸç”Ÿçš„å‘½ä»¤è¡Œæ¨¡å—ï¼Œè¿˜æœ‰ä¸€äº›æ›´æ–¹ä¾¿çš„åŒ…è£…æ¨¡å—ï¼Œå‚è€ƒï¼šé˜®ä¸€å³° - Node.js å‘½ä»¤è¡Œç¨‹åºå¼€å‘æ•™ç¨‹ã€‚","tags":[{"name":"Nodejs","slug":"Nodejs","permalink":"http://imys.net/tags/Nodejs/"},{"name":"cmd","slug":"cmd","permalink":"http://imys.net/tags/cmd/"}]},{"title":"Html5è°ƒç”¨æ‰‹æœºç›¸æœºå¹¶å‹ç¼©ã€ä¸Šä¼ ","date":"2015-09-16T08:21:28.000Z","path":"20150916/webapp-input-use-camera.html","text":"è¿‘æ—¥åˆšåšçš„ä¸€ä¸ªåŠŸèƒ½ï¼Œè¦åœ¨appé‡Œä½¿ç”¨å†…åµŒé¡µé¢è¿›è¡Œå›¾åƒçš„ä¸Šä¼ ã€‚ä»åŠŸèƒ½ä¸Šçœ‹ï¼ŒåŸç”Ÿçš„å®ç°åº”è¯¥æ˜¯æœ€å¥½çš„ã€‚æ¯•ç«Ÿé¡µé¢ä¸Šæ‰€æœ‰çš„ä¸œè¥¿éƒ½éš”ç€ä¸€ä¸ªæµè§ˆå™¨ï¼Œæ‰€æœ‰çš„å®ç°éƒ½è¦ä¾èµ–æµè§ˆå™¨æä¾›çš„æ¥å£ï¼Œä¸åŒçš„æµè§ˆå™¨å¯¹æ¥å£çš„å®ç°åˆæœ‰å·®å¼‚â€¦â€¦åˆ°æœ€ååˆä¼šé™·å…¥å…¼å®¹æ€§çš„å¤§å‘!åæ§½å½’åæ§½ï¼Œä½†æ˜¯æŠ˜è…¾çš„åŠ²å¤´ä¸èƒ½ä¸¢ï¼ä½¿ç”¨input file[camera]å±æ€§è°ƒç”¨ç›¸æœºç®€ç›´So easyï¼&lt;input type=\"file\" accept=\"image/*;\" capture=\"camera\" &gt;åªéœ€è¦è¿™ä¹ˆä¸€æ¡ç®€å•çš„ä»£ç ï¼Œåœ¨æ‰‹æœºæµè§ˆå™¨ç‚¹å‡»å°±å¯ä»¥æ‰“å¼€ç›¸æœºäº†ã€‚captureæ˜¯ä»€ä¹ˆï¼Ÿå…¶å®å°±æ˜¯å¯¹æ‰“å¼€æ–¹å¼çš„è®¾ç½®ã€‚&lt;!-- capture=camcorderï¼Œè°ƒç”¨æ‰‹æœºæ‘„åƒåŠŸèƒ½ --&gt;&lt;input type=\"file\" accept=\"video/*\" capture=\"camcorder\" &gt; &lt;!-- capture=microphoneï¼Œè°ƒç”¨æ‰‹æœºå½•éŸ³åŠŸèƒ½ --&gt;&lt;input type=\"file\" accept=\"audio/*\" capture=\"microphone\" &gt;é­…æ—MX5æµ‹è¯•ç»“æœï¼šè°·æ­Œæµè§ˆå™¨å¯ä»¥æ‰“å¼€ç›¸æœºå’Œæ‘„åƒåŠŸèƒ½ï¼Œå…¶ä»–æ–¹å¼å‡ä¸ºç›¸æœºã€å›¾åº“ã€æ–‡ä»¶ç®¡ç†å™¨ç­‰æ··åˆé€‰æ‹©é¡¹ã€‚è‡ªå¸¦æµè§ˆå™¨æ‰“å¼€å‡ä¸ºæ–‡ä»¶ç®¡ç†å™¨ã€‚ç”±æ­¤è¯´æ˜æ­¤å±æ€§å…¼å®¹æ€§è¿˜æ˜¯ä¸ªé—®é¢˜ã€‚ä¸è¿‡è¿™å¹¶ä¸èƒ½é˜»æ­¢æˆ‘ç»§ç»­æŠ˜è…¾ä¸‹å»ï¼å›¾ç‰‡å‹ç¼©åœ¨å¦‚ä»Šè¿™ä¸ªæ‰‹æœºæ™®éåƒä¸‡åƒç´ çš„æ—¶ä»£ï¼Œä¸€å¼ ç…§ç‰‡åŠ¨è¾„5Mçš„å¤§å°ã€‚ä½œä¸ºä¸€ä¸ªè‰¯å¿ƒçš„å¼€å‘è€…ï¼Œæˆ‘ä»¬æ˜¯è¦ä¸ºç”¨æˆ·çš„æµé‡è´Ÿè´£çš„ã€‚document.getElementById('file').addEventListener('change', function() &#123; var reader = new FileReader(); reader.onload = function (e) &#123; compress(this.result); &#125;; reader.readAsDataURL(this.files[0]);&#125;, false);ä¸ç®¡æ–‡ä»¶åŸŸæ˜¯ç”¨ä½•ç§æ–¹å¼æ‰“å¼€çš„ï¼Œéƒ½å¯ä»¥åœ¨ change äº‹ä»¶ä¸­è·å–åˆ°é€‰æ‹©çš„æ–‡ä»¶æˆ–æ‹æ‘„çš„ç…§ç‰‡ã€‚åˆ›å»ºä¸€ä¸ªFileReaderå¯¹è±¡ï¼Œæˆ‘ä»¬éœ€è¦è°ƒç”¨readAsDataURLæŠŠæ–‡ä»¶è½¬æ¢ä¸ºbase64å›¾åƒç¼–ç ï¼Œå¦‚data:image/jpeg;base64â€¦â€¦è¿™ç§æ ¼å¼ã€‚onloadæ˜¯ä¸€ä¸ªå¼‚æ­¥å›è°ƒï¼Œå½“æ–‡ä»¶è¯»å–å®Œæ‰§è¡Œè¯¥æ–¹æ³•å†…ä»£ç ã€‚this.resultè®°å½•è¯»å–ç»“æœï¼Œå¦‚æœè¯»å–å¤±è´¥ï¼Œè¯¥å€¼ä¸ºnullã€‚åœ¨è¿™é‡Œè¿›è¡Œå›¾ç‰‡å‹ç¼©çš„å…·ä½“æ“ä½œã€‚var compress = function (res) &#123; var img = new Image(), maxH = 160; img.onload = function () &#123; var cvs = document.createElement('canvas'), ctx = cvs.getContext('2d'); if(img.height &gt; maxH) &#123; img.width *= maxH / img.height; img.height = maxH; &#125; cvs.width = img.width; cvs.height = img.height; ctx.clearRect(0, 0, cvs.width, cvs.height); ctx.drawImage(img, 0, 0, img.width, img.height); var dataUrl = cvs.toDataURL('image/jpeg', 0.6); // ä¸Šä¼ ç•¥ &#125; img.src = res;&#125;åˆ›å»ºä¸€ä¸ªImageå¯¹è±¡ï¼Œç»™srcå±æ€§èµ‹å€¼ä¸ºè¯»å–ç»“æœï¼ŒåŒæ ·åœ¨onloadå¼‚æ­¥å›è°ƒä¸­ç¼–å†™å¤„ç†å›¾ç‰‡çš„ä»£ç ã€‚è¿™é‡Œå°±è¦å¼€å§‹ä½¿ç”¨canvasè¿›è¡Œå›¾ç‰‡å‹ç¼©äº†ã€‚é¦–å…ˆæ˜¯å°ºå¯¸æŒ‰æ¯”ä¾‹ç¼©æ”¾ï¼Œç„¶åæŠŠå›¾ç‰‡ç»˜åˆ°ç”»å¸ƒä¸Šï¼Œæœ€åè°ƒç”¨toDataURLæ–¹æ³•å‹ç¼©å›¾åƒè´¨é‡ã€‚context.toDataURL('MIMEç±»å‹', å›¾åƒè´¨é‡0-1); // è¯¥æ–¹æ³•è¿”å›base64å›¾åƒç¼–ç ä»£ç é‡Œçœç•¥äº†ä¸€äº›æ ¡ç›‘æ“ä½œï¼Œå¦‚æ–‡ä»¶ç±»å‹çº¦æŸå’Œæ–‡ä»¶å¤§å°åˆ¤æ–­ï¼ˆå°äºä¸€å®šå€¼å¯ä»¥ä¸å‹ç¼©ï¼‰ã€‚æœ€åå°±æ˜¯æŠŠæ•°æ®å‘é€åˆ°åç«¯çš„æ“ä½œï¼Œè¿™é‡Œå°±ä¸è¯´äº†ã€‚Html5è°ƒç”¨æ‘„åƒå¤´é€šè¿‡ä»¥ä¸Šçš„ä»£ç å·²ç»å¯ä»¥å®ç°è°ƒç”¨æ‰‹æœºç›¸æœºæ‹ç…§ã€å‹ç¼©ã€ä¸Šä¼ è¿™ä¸€æ•´å¥—æµç¨‹äº†ã€‚ä¸è¿‡åœ¨æŠ˜è…¾çš„è¿‡ç¨‹ä¸­ä¹Ÿå‘ç°äº†ä¸€ç§è°ƒç”¨æ‘„åƒå¤´çš„æ–¹æ³•ã€‚æ³¨æ„ï¼Œæ˜¯æ‘„åƒå¤´ï¼ä½¿ç”¨inputè°ƒç”¨çš„æ˜¯ç›¸æœºã€‚å…¶ä¸­çš„å·®åˆ«å°±æ˜¯æ‘„åƒå¤´æ˜¯åªæ•è·ç”»é¢ï¼Œç›¸æœºè¿˜åŒ…æ‹¬åŸç”Ÿçš„ä¸€äº›æ‹ç…§ã€è®¾ç½®ç­‰æ§ä»¶ã€‚é€šè¿‡å¯¹æ‘„åƒå¤´çš„è°ƒç”¨å¯ä»¥åšå¾ˆå¤šæœ‰è¶£çš„äº‹ï¼Œæ¯”å¦‚æ‹ç…§ç¾åŒ–ã€æ»¤é•œç­‰ã€‚å¯ä»¥è¯´å®ç°ä¸€ä¸ªç¬¬ä¸‰æ–¹ç›¸æœºæ˜¯æ²¡é—®é¢˜çš„ã€‚ä¹‹å‰ä¸‹è½½è¿‡ä¸€æ¬¾å®‰å“ç›¸æœºAPPï¼Œä¸åˆ°100Kçš„å¤§å°ï¼Œå¯ä»¥å®ç°æ‹ç…§çš„ä¸€äº›é£æ ¼åŒ–ï¼Œä¹Ÿè®¸å°±æ˜¯Html5å®ç°çš„å‘¢ã€‚éœ€è¦ç”¨åˆ°çš„æ˜¯ getUserMedia APIï¼Œå…·ä½“çš„å®ç°è¿™é‡Œå°±ä¸è´´äº†ã€‚","tags":[{"name":"Html5","slug":"Html5","permalink":"http://imys.net/tags/Html5/"},{"name":"Webapp","slug":"Webapp","permalink":"http://imys.net/tags/Webapp/"},{"name":"File","slug":"File","permalink":"http://imys.net/tags/File/"}]},{"title":"ä½¿ç”¨gulp+ejsæ¨¡å—åŒ–html","date":"2015-09-08T10:04:47.000Z","path":"20150908/gulp-ejs-module.html","text":"åœ¨é™æ€é¡µé¢ç›®å½•ä¸­ï¼ŒåŒå­ç›®å½•ä¸‹çš„é¡µé¢å¾€å¾€æœ‰å¾ˆå¤šé€šç”¨çš„æ¨¡å—ã€‚å¹³å¸¸çš„ç¼–ç ä¸€èˆ¬æ˜¯é€šç”¨çš„ä»£ç ç›´æ¥å¤åˆ¶åˆ°å„ä¸ªé¡µé¢ï¼Œæ ·å¼å†™æˆå…¬ç”¨ï¼Œç„¶ååœ¨å„ä¸ªéœ€è¦çš„é¡µé¢å¼•ç”¨ã€‚è€Œä¸€ä¸ªäº§å“åœ¨å®åœ°è¿è¡Œä¸­å¾€å¾€è¦ç»å†æ— æ•°æ¬¡çš„è¿­ä»£ï¼Œäºæ˜¯é¡µé¢æ–‡æ¡£ç»“æ„å’Œæ ·å¼ä¹Ÿåœ¨ä¸æ–­çš„å˜åŒ–ã€‚ç‹¬ç«‹æ€§çš„é¡µé¢æ¯”è¾ƒè½»æ¾ï¼Œä¸€ä¸ªé¡µé¢ä¿®æ”¹å°±å¥½äº†ï¼Œè€Œä¸€äº›å…¬ç”¨çš„é¡µé¢æ¨¡å—å¾€å¾€éœ€è¦åœ¨å„ä¸ªé¡µé¢é€ä¸ªä¿®æ”¹ã€‚è¿™æ˜¾ç„¶æ˜¯ä¸€ç§æå…¶æ¯ç‡¥çš„é‡å¤æ€§åŠ¨ä½œï¼åœ¨æ­¤ä¹‹å‰æˆ‘ç”¨ C# å†™äº†ä¸€ä¸ªæ–‡ä»¶æ‰¹é‡æ›¿æ¢çš„å·¥å…·ï¼Œç”¨äºæ‰¹é‡æ›¿æ¢æŸä¸ªç›®å½•ä¸‹çš„æŸä¸ªæ¨¡å—ä»£ç ã€‚è™½ç„¶æ•ˆç‡æé«˜äº†ä¸€äº›ï¼Œä½†æ˜¯ä»æ–¹æ³•å­¦è§’åº¦çœ‹ç»å¯¹ä¸æ˜¯æœ€å¥½çš„ã€‚å¾ˆä¹…ä¹‹å‰å°±æƒ³è¿‡ä½¿ç”¨å‰ç«¯æ¨¡å—æ‹¼è£… htmlã€‚ä»¥ ejs ä¸ºä¾‹ï¼Œåˆ™éœ€è¦åœ¨é¡µé¢ä¸­å¼•å…¥æ¨¡ç‰ˆè§£ææ–‡ä»¶ ejs.jsï¼Œé¡µé¢ä¸­è¿˜éœ€è¦å†™ä¸€äº› ejs ç›¸å…³çš„é…ç½®ä»£ç ã€‚è€Œè¿™äº›ä¸œè¥¿å¯¹äºåç«¯å¥—ç”¨é¡µé¢æ¥è¯´æ˜¯æ— ç”¨çš„ï¼Œå¯èƒ½è¿˜ä¼šé€ æˆä¸€äº›æ··ä¹±ã€‚è¿˜æœ‰ä¸€ç§å¼•ç”¨æ–¹å¼æ˜¯ä½¿ç”¨ nodeJs è°ƒç”¨ ejs å»è§£ææ¨¡ç‰ˆæ–‡ä»¶ï¼Œè¿™æ ·åœ¨é¢„è§ˆé™æ€é¡µé¢æ—¶åˆ™éœ€è¦å»ºç«‹ node æœåŠ¡å™¨ã€‚è€Œå½“å‰å›¢é˜Ÿä¸­å¹¶ä¸æ˜¯æ¯ä¸ªäººéƒ½è£…æœ‰ node ç¯å¢ƒã€‚æœ€è¿‘å·¥ä½œé—²æš‡äº†åˆæƒ³åˆ°è¿™ä¸ªé—®é¢˜ï¼Œå…¶å®è¦è§£å†³çš„æœ€æ ¹æœ¬é—®é¢˜å°±æ˜¯ï¼šæ¨¡å—åŒ–å¼€å‘é¡µé¢ï¼Œå¼€å‘å®Œæˆåå¯ä»¥ä¸€æ¡æŒ‡ä»¤åˆå¹¶æˆå¯ç›´æ¥é¢„è§ˆçš„é™æ€é¡µé¢ã€‚æˆ‘æ—©è¯¥æƒ³åˆ° gulp äº†ï¼Œæ—¢ç„¶ gulp æ˜¯ä¸€ä¸ªåŸºäºæµçš„å‰ç«¯æ„å»ºå·¥å…·ï¼Œé‚£ä¹ˆå¯¹äºè¿™ä¸ªé—®é¢˜åº”è¯¥æ˜¯å¯ä»¥è§£å†³çš„ã€‚èµ·åˆæˆ‘æ˜¯è¿™æ ·æƒ³çš„ï¼šæ¨¡æ¿ä¸­ä½¿ç”¨ç›¸å¯¹è·¯å¾„æ ‡è®°æ¨¡å—å¼•ç”¨è¯»å–æ–‡ä»¶æŠŠè¿™äº›æ ‡è®°è¿˜åŸä¸ºè·¯å¾„è¯»å–è¿™äº›è·¯å¾„çš„æ–‡ä»¶å†…å®¹æ’å…¥åˆ°æ¨¡æ¿ä¸­ç”Ÿæˆåˆ°å¯¹åº”ç›®æ ‡ç›®å½•è¿™æ ·åšç­‰äºå®ç°äº†ä¸€å¥—æ¨¡ç‰ˆè§£æåˆå¹¶çš„è¿‡ç¨‹ï¼Œå¹¶ä¸å›°éš¾ã€‚åœ¨æ¢ç´¢çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªåŸºäº gulp å’Œ ejs çš„æ’ä»¶ gulp-ejsï¼Œå¹¶æŒ‰ç…§ç¤ºä¾‹å®éªŒåè¾¾æˆäº†æˆ‘çš„æƒ³æ³•ã€‚éšåæ–°çš„é—®é¢˜ä¾¿æ¥äº†ã€‚æ¯ä¸ªé¡µé¢æœ‰ç€ä¸åŒæ ‡é¢˜å’Œæ ·å¼ã€è„šæœ¬å¼•ç”¨ï¼Œè™½ç„¶å¯ä»¥åœ¨æ‰§è¡Œ gulp ä»»åŠ¡æ—¶æŒ‡å®šå‚æ•°ï¼Œä½†æ˜¯ä¸å¯èƒ½æ¯ä¸ªé¡µé¢çš„å‚æ•°é…ç½®éƒ½ä¸€æ ·ã€‚éš¾é“è¦ä¸ºæ¯ä¸ªé¡µé¢ç¼–å†™ä¸€ä¸ªä»»åŠ¡ï¼Ÿä½ ä¼šç”˜å¿ƒç”¨è¿™ä¹ˆå‚»çš„åŠæ³•å—ï¼Ÿä»è®¾è®¡æ¨¡å¼è§’åº¦è®²ï¼Œè¿™ä¸ªä»»åŠ¡åº”è¯¥æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯å¯ä»¥æ ¹æ®ä¸€äº›å‚æ•°é…ç½®è¾¾åˆ°å¤šæ€ï¼ä¹‹åæˆ‘æ”¹é€ äº† gulp-ejsï¼šåœ¨æ¨¡æ¿æ–‡ä»¶åŒçº§ç›®å½•ä¸‹æ·»åŠ åŒåçš„ .json é…ç½®æ–‡ä»¶åœ¨å…¶å¯¹æ¨¡æ¿æ¸²æŸ“æ—¶è·å–æ¨¡æ¿è·¯å¾„ï¼Œå†è½¬æ¢åç¼€ä¸º jsonï¼Œè¿™æ ·å°±åŒ¹é…åˆ°äº†å¯¹åº”çš„é…ç½®æ–‡ä»¶è§£æ json æ–‡ä»¶ä¸º json å¯¹è±¡ï¼Œä½œä¸ºå‚æ•°ä¼ å…¥ ejs ä¸­ï¼Œè¿™æ ·æ¨¡ç‰ˆå†…å°±å¯ä»¥è®¿é—®é…ç½®æ–‡ä»¶çš„æ•°æ®äº†ä¹‹åä¾¿å¯ä»¥æ ¹æ®é…ç½®æ–‡ä»¶éšå¿ƒæ‰€æ¬²çš„æ’å…¥å½“å‰é¡µé¢çš„ç‰¹å®šé¡¹ç›®è¿™æ ·æ ‡é¢˜ã€æ ·å¼ã€è„šæœ¬ï¼Œç¥é©¬éƒ½è§£å†³äº†ï¼å°±åœ¨åˆšæ‰æˆ‘åˆæƒ³åˆ°äº†å¦å¤–ä¸€ä¸ªä¸»æ„ã€‚å¦‚æœä½ è§‰å¾—æ¯ä¸ªæ¨¡æ¿å¯¹åº”ä¸€ä¸ª json æ–‡ä»¶éº»çƒ¦çš„è¯ï¼Œå¯ä»¥åªå»ºç«‹ä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚å‡å¦‚ä½ æœ‰ index ã€product ã€service ä¸‰ä¸ªæ¨¡ç‰ˆï¼Œé‚£ä¹ˆä½ çš„é…ç½®æ–‡ä»¶å¯ä»¥è¿™æ ·å†™ï¼š&#123; \"index\": &#123; \"title\": \"é¦–é¡µ\" &#125;, \"product\": &#123; \"title\": \"äº§å“é¡µ\" &#125;, \"service\": &#123; \"title\": \"æœåŠ¡é¡µ\" &#125;&#125;é‚£ä¹ˆåœ¨ index æ¨¡ç‰ˆä¸­è¾“å‡º titleï¼Œå°±å¯ä»¥å†™æˆ &lt;%=index.title %&gt; è¿™ç§æ ¼å¼ã€‚é•¿ä¹…ä¸‹å»é…ç½®æ–‡ä»¶ä¸€å®šä¼šè¶Šæ¥è¶Šå¤§ï¼Œè€Œä¸”æ¯ä¸ªæ¨¡ç‰ˆä¸­éƒ½è¢«æ³¨å…¥äº†æ•´ç«™çš„é…ç½®é¡¹ï¼ŒçœŸçš„å¥½å—ï¼Ÿä¸ºäº†ä½¿æ¯ä¸ªé¡µé¢åªæ³¨å…¥å½“å‰é¡µé¢çš„æ•°æ®ï¼Œå¯ä»¥åœ¨æ¨¡ç‰ˆæ¸²æŸ“å‰æ‹¿åˆ°æ¨¡ç‰ˆåç§°ï¼Œå¦‚ index ï¼›å‘ ejs ä¼ å…¥çš„æ•°æ®å°±å˜æˆäº† config[&quot;index&quot;]ï¼›è¿™æ ·åœ¨æ¯ä¸ªæ¨¡ç‰ˆä¸­ä¾ç„¶å¯ä»¥ç›´æ¥ç”¨ &lt;%=title %&gt; è¿™ç§æ ¼å¼è°ƒç”¨äº†ä¸ç®¡é‡‡å–å“ªç§åŠæ³•ï¼Œæœ€ç»ˆçš„ç»“æœæ˜¯ä¸€è‡´çš„ã€‚å“ªæ€•æ˜¯æ¯ä¸ªæ¨¡ç‰ˆæ³¨å…¥æ•´ç«™é…ç½®çš„åšæ³•ï¼Œä¹Ÿåªæ˜¯åœ¨ gulp ä»»åŠ¡é˜¶æ®µæ‰§è¡Œæ•ˆç‡ä½ç‚¹ï¼Œå¹¶ä¸ä¼šä¸Šå‡åˆ°å½±å“æ€§èƒ½çš„é«˜åº¦ã€‚ä¸è¿‡ï¼Œæˆ‘è¿˜æ˜¯å€¾å‘äºä¸€ä¸ªé¡µé¢å¯¹åº”ä¸€ä¸ªé…ç½®æ–‡ä»¶çš„åŠæ³•ï¼Œè°è®©æˆ‘æ˜¯å¤„å¥³åº§ã€‚ä»¥ä¸‹æ˜¯å¯¹è¯¥æ–¹æ¡ˆçš„ç®€å•æè¿°ã€‚ç›®å½•ç»“æ„â”œ templates æ¨¡ç‰ˆ â”œâ”€â”€â”€â”€ _partial æ¨¡å— â”œâ”€â”€â”€â”€â”€â”€â”€â”€ header.ejs â”œâ”€â”€â”€â”€â”€â”€â”€â”€ footer.ejs â”œâ”€â”€â”€â”€â”€â”€â”€â”€ nav.ejs â”œâ”€â”€â”€â”€â”€â”€â”€â”€ left.ejs â”œâ”€â”€â”€â”€â”€â”€â”€â”€ right.ejs â”œâ”€â”€â”€â”€ index.ejs å¸ƒå±€é¡µ â”œâ”€â”€â”€â”€ index.json å¸ƒå±€é¡µé…ç½®æ–‡ä»¶ â”œ html é¡µé¢ â”œâ”€â”€â”€â”€ index.html ç”Ÿæˆçš„é™æ€é¡µé¢ â”œ node_modules nodeæ¨¡å— â”œ gulpfile.js gulp å·¥ä½œæµç¨‹æ¨¡æ¿ç¼–ç ï¼Œå³ templates/ ç›®å½•ï¼Œä¸€ä¸ªå¸ƒå±€é¡µå¯¹åº”ä¸€ä¸ªåŒåé™æ€é¡µé¢ï¼ŒæŒ‰éœ€å¼•å…¥æˆ–ç¼–å†™æ–°çš„é¡µé¢æ¨¡å—ã€‚åœ¨è¿™ä¸ªé˜¶æ®µå¯ä»¥ä½¿ç”¨expresså»ºç«‹nodeæœåŠ¡å™¨è¿›è¡Œå®æ—¶é¡µé¢é¢„è§ˆã€‚ç¼–å†™é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨é€šç”¨çš„ json æ ¼å¼ï¼Œä¸€ä¸ªé¡µé¢å¯¹åº”ä¸€ä¸ªåŒåçš„é…ç½®æ–‡ä»¶ã€‚ç›®å‰é¢„æƒ³çš„é…ç½®ä¿¡æ¯æœ‰ï¼š titleï¼šé¡µé¢æ ‡é¢˜ ã€stylesï¼šä¾èµ–çš„æ ·å¼æ–‡ä»¶è·¯å¾„ã€ scriptsï¼šä¾èµ–çš„è„šæœ¬æ–‡ä»¶è·¯å¾„ ï¼Œéšæ—¶å¯ä»¥æ ¹æ®å®é™…æƒ…å†µæ·»åŠ æ–°çš„é…ç½®ã€‚æ‰§è¡Œ gulp ä»»åŠ¡ï¼Œç”Ÿæˆé¡µé¢åˆ° html/ ç›®å½•ã€‚æœªæ¨¡å—åŒ–é¡µé¢çš„å¤„ç†ä¹‹å‰æœªæ¨¡å—åŒ–çš„é™æ€é¡µé¢ï¼Œä¿æŒåŸæ ·å³å¯ï¼Œå› ä¸ºåœ¨è¿™ä¸ªæµç¨‹ä¸­ä¸ä¹‹å‰çš„é¡µé¢æ˜¯æ²¡æœ‰ä»»ä½•å†²çªå…³ç³»çš„ã€‚ä¸€äº›é¢‘ç¹ä¿®æ”¹çš„é¡µé¢ï¼Œå¯ä»¥æŒ‰éœ€æŠ½å–å‡ºæ¨¡å—ï¼Œè¿›è¡Œé¡µé¢åˆ†å‰²ã€‚å®Œæ•´Demohttps://github.com/yscoder/gulp-ejs-demoå†™åœ¨æœ€åå¯èƒ½æˆ‘æ‰€åšçš„è¿™äº›å¯¹äºå›½å†…ä¸€äº›ä¼˜ç§€çš„å‰ç«¯å›¢é˜Ÿæ¥è¯´å¾ˆåœŸï¼Œä½†æ˜¯é€‚åˆçš„æ‰æ˜¯æœ€å¥½çš„ï¼ç›®å‰æˆ‘æ‰€åœ¨çš„å…¬å¸å‰ç«¯çš„èŒèƒ½è¿˜ä»…é™äºé¡µé¢ç¼–ç ã€äº¤äº’å®ç°å’Œä¸€äº›é€šç”¨æ’ä»¶å¼€å‘ï¼Œèµ·ç‚¹çœŸçš„å¾ˆä½ã€‚ä¸è¿‡ï¼Œè¿™ä¹Ÿè®©æˆ‘æœ‰äº†æ›´å¤šçš„æœºä¼šå»æ”¹é©å’Œå®è·µæ–°æŠ€æœ¯ã€‚","tags":[{"name":"Gulp","slug":"Gulp","permalink":"http://imys.net/tags/Gulp/"},{"name":"Ejs","slug":"Ejs","permalink":"http://imys.net/tags/Ejs/"},{"name":"æ¨¡å—åŒ–","slug":"æ¨¡å—åŒ–","permalink":"http://imys.net/tags/æ¨¡å—åŒ–/"}]},{"title":"å‰ç«¯æ–‡å­—çš„æˆªæ–­å¤„ç†","date":"2015-09-06T09:37:32.000Z","path":"20150906/text-truncation.html","text":"å…³äºå‰ç«¯é¡µé¢çš„æ–‡å­—æº¢å‡ºæˆªæ–­çš„æ‹›æ•°å·²ç»å¾ˆå¸¸è§äº†ã€‚é€šå¸¸çš„å®ç°æœ‰ï¼Œå‰ç«¯cssæ§åˆ¶ã€åç«¯å­—æ•°è¾“å‡ºæ§åˆ¶æˆ–è€…å‰ç«¯jså­—æ•°å¤„ç†ç­‰ã€‚å•è¡Œæ–‡å­—å•è¡Œæ–‡å­—çš„æº¢å‡ºå¤„ç†å¾ˆç®€å•ï¼Œæˆ‘é€šå¸¸æ˜¯ä½¿ç”¨cssæ¥æ§åˆ¶ï¼Œåœ¨æ–‡å­—æœ«å°¾åŠ ä¸Š...ã€‚.ellipsis &#123; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;&#125;ç»™éœ€è¦æ–‡å­—æˆªæ–­çš„èŠ‚ç‚¹å¢åŠ ä¸€ä¸ªè¿™æ ·çš„åŸºç¡€ç±»ï¼Œç„¶åè®¾ç½®è¯¥èŠ‚ç‚¹çš„å®½ã€‚åŒæ—¶æ³¨æ„ç»™æœªæ¥å¯èƒ½ä¼šå‡ºç°æº¢å‡ºçš„èŠ‚ç‚¹ä¹ŸåŠ ä¸Šæ­¤ç±»ï¼Œå†è®¾ç½®æœ€å¤§å®½åº¦max-widthï¼Œå› ä¸ºå¾ˆå¤šå¥‡è‘©ç”¨æˆ·çš„è¾“å…¥æ˜¯ä½ æ— æ³•æŒæ§çš„ã€‚ - -ï¼å¤šè¡Œæ–‡å­—æˆ‘å¸Œæœ›åœ¨ä¸€ä¸ªçš„å›ºå®šé«˜åº¦çš„å®¹å™¨ä¸­ï¼Œå†…å®¹è¶…å‡ºåï¼Œæœ€åä¸€ä¸ªæ–‡å­—æ˜¾ç¤º...ã€‚å¦‚æ³•ç‚®åˆ¶ç»™å¤šè¡Œæ–‡å­—çš„å®¹å™¨æ·»åŠ ellipsisç±»åï¼Œä½ ä¼šå‘ç°çš„ç¡®æ˜¯æ˜¾ç¤º...ï¼Œä¸è¿‡æ­¤æ—¶æ–‡å­—æ˜¯ä¸€è¡Œçš„ã€‚å› ä¸ºåœ¨è¯¥ç±»ä¸­æ·»åŠ äº†å±æ€§white-spaceï¼Œç”¨æ¥å®šä¹‰ä¸€ä¸ªæ®µè½å¦‚ä½•æ¢è¡Œã€‚å±æ€§å€¼nowrapï¼šç¦æ­¢æ–‡æœ¬æ¢è¡Œï¼Œé™¤éé‡åˆ°&lt;br&gt;ã€‚ä¸€ç•ªæ€è€ƒåï¼Œç¡®å®šäº†ä¸€ä¸ªæ–¹æ¡ˆã€‚ç»™å›ºå®šé«˜åº¦çš„å®¹å™¨æ·»åŠ overflow: hiddenï¼›ç»™å®¹å™¨æ·»åŠ ç›¸å¯¹å®šä½ï¼›æ·»åŠ ä¼ªå…ƒç´ æ ·å¼ï¼Œcontent:&#39;...&#39;ï¼Œç»å¯¹å®šä½ï¼Œç„¶åä½ç½®å®šä½åœ¨å®¹å™¨æœ«å°¾ã€‚ä¼ªå…ƒç´ çš„å…¼å®¹æ€§ä¸ºIE8ï¼Œå¦‚æœéœ€è¦å…¼å®¹IE7çš„å¯ä»¥ä½¿ç”¨æ ‡ç­¾ä»£æ›¿ã€‚å¸¦æ˜¾ç¤ºå…¨éƒ¨çš„å¤šè¡Œæ–‡å­—ç±»ä¼¼ QQ ç©ºé—´ã€å¾®ä¿¡ã€å¾®åšé‚£ç§ã€‚ä½¿ç”¨ 2 ä¸ªä¼ªå…ƒç´ åŠ  1 ä¸ª a é“¾æ¥å®ç°ã€‚ç²¾å¦™ä¹‹å¤„åœ¨äºä½¿ç”¨ä¼ªå…ƒç´ é®æŒ¡ä¸€è¡Œæ–‡å­—ï¼Œè®© a é“¾æ¥ä½äºä¼ªå…ƒç´ ä¹‹ä¸Šæ˜¾ç¤ºã€‚","tags":[{"name":"Html","slug":"Html","permalink":"http://imys.net/tags/Html/"},{"name":"CSS","slug":"CSS","permalink":"http://imys.net/tags/CSS/"},{"name":"Ellipsis","slug":"Ellipsis","permalink":"http://imys.net/tags/Ellipsis/"}]},{"title":"html5ä¸Šä¼ è¿›åº¦å®ç°","date":"2015-09-02T08:26:13.000Z","path":"20150902/h5-upload-progress.html","text":"åšå®¢ä¸€ä¸ªæœˆæ²¡æ›´æ–°äº†ï¼Œç€å®æ˜¯æœ‰ç‚¹å¿™ã€‚ç›®å‰å…¬å¸æ–°ç‰ˆä¸Šçº¿ä¹Ÿåˆ°æœ€åä¸€æ³¢äº†ï¼Œéƒ¨åˆ†äººå‘˜è½¬æˆ˜äº†ä¸€ä¸ªæ–°çš„APPäº§å“çš„å¼€å‘ã€‚ä¸»ä½“è¿˜æ˜¯åŸç”ŸAPPï¼Œä¹Ÿä¼šæœ‰éƒ¨åˆ†é¡µé¢éœ€è¦åµŒå…¥WEBé¡µé¢ï¼Œæˆ‘ä¹Ÿæœ‰å¹¸ä½œä¸ºå”¯ä¸€çš„å‰ç«¯äººå‘˜åŠ å…¥äº†ã€‚ä¸è¿‡è¿™æ¬¡è®²çš„å†…å®¹è·Ÿè¿™ä¸ªAPPæ²¡æœ‰åŠæ¯›é’±å…³ç³»ï¼Œæ˜¯å…¬å¸å†…éƒ¨å·¥ä½œç³»ç»Ÿçš„ä¸€ä¸ªæ‰«ç ä¸Šä¼ åŠŸèƒ½ã€‚å¥½å§ï¼Œæˆ‘å‚ä¸çš„ç¡®å®æœ‰ç‚¹å¤šï¼è¦å®ç°å®æ—¶çš„è¿›åº¦å±•ç¤ºï¼Œéœ€è¦ä»¥ä¸‹å‡ ä¸ªå…³é”®ï¼šå¼‚æ­¥ä¸Šä¼ æ–‡ä»¶æ€»å¤§å°æ–‡ä»¶å·²ä¸Šä¼ å¤§å°åŸºæœ¬HTMLç»“æ„&lt;input type=\"file\" id=\"upload\" accept=\"image/*\" &gt;å¼‚æ­¥ä¸Šä¼ XHRæ˜¯å¿…é¡»çš„ï¼Œæ­¤å¤–è¿˜éœ€è¦ä¸€ä¸ªFormDataå¯¹è±¡ã€‚FormDataï¼Œè¯‘ä¸ºè¡¨å•æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªä¿å­˜è¡¨å•æ•°æ®çš„å®¹å™¨ã€‚å¯ä»¥åˆ©ç”¨è¿™ä¸ªå¯¹è±¡å†™å…¥é”®å€¼å¯¹çš„æ•°æ®é¡¹ï¼Œå†ç”¨xhrå‘é€åˆ°å¤„ç†æ¥å£ã€‚var data = new FormData();data.append('id', 9527);data.append('name', 'å¼ ä¸‰');data.append('sex', 'ç”·');ä¸ä»…å¯ä»¥åƒä»¥ä¸Šç®€å•çš„æ·»åŠ å€¼ç±»å‹ï¼Œæ–‡ä»¶ç±»å‹ä¹Ÿä¸ä¾‹å¤–ã€‚è¿™æ ·å°±å¯ä»¥ç›´æ¥ä½¿ç”¨xhrçš„sendæ–¹æ³•å‘é€åˆ°åç«¯ã€‚document.querySelector('#upload').addEventListener('change', function() &#123; var file = this.files[0], data = new FormData(); data.append('photo', file); var xhr = new XMLHttpRequest(); xhr.addEventListener('load', function(event)&#123; // Success or Error &#125;, false); xhr.open('post', '/doLoad'); xhr.send(data); &#125;);ä¸Šä¼ è¿›åº¦ä¸FormDataç›¸å¯¹åº”çš„ä¸Šä¼ çŠ¶æ€ç›‘å¬äº‹ä»¶xhr.upload.addEventListener('progress', function(event)&#123; // do...&#125;, false);è¯¥äº‹ä»¶å¯ä»¥é€šè¿‡eventå¯¹è±¡è·å–ä¸Šä¼ çŠ¶æ€ã€‚event.loaded: å·²ä¸Šä¼ å¤§å°event.total: æ–‡ä»¶æ€»å¤§å°è¿™æ ·è®¡ç®—è¿›åº¦å°±ä¸åœ¨è¯ä¸‹äº†ï¼Œå…·ä½“å®ç°ä¹Ÿå°±ä¸åºŸè¯äº†ï¼Œä¼—å¤§ä¾ å„å±•ç¥é€šå§ï¼","tags":[{"name":"Html5","slug":"Html5","permalink":"http://imys.net/tags/Html5/"},{"name":"æ–‡ä»¶ä¸Šä¼ ","slug":"æ–‡ä»¶ä¸Šä¼ ","permalink":"http://imys.net/tags/æ–‡ä»¶ä¸Šä¼ /"}]},{"title":"Require.jså…¥é—¨--ç”¨é¢å‘å¯¹è±¡è¯­è¨€æ¥ç†è§£jsæ¨¡å—åŒ–","date":"2015-08-07T02:33:25.000Z","path":"20150807/js-module-requirejs.html","text":"ä½œä¸ºä¸€ä¸ªæ›¾ç»çš„åç«¯å¼€å‘è€…ï¼Œå½“æˆ‘ç¬¬ä¸€çœ¼çœ‹åˆ°ä¸€äº›javascriptæ¨¡å—åŒ–çš„ä»£ç æ¡ˆä¾‹æ—¶ï¼Œæˆ‘å°±æƒ³åˆ°äº†javaã€c#è¿™äº›å¤©ç”Ÿçš„æ¨¡å—åŒ–è¯­è¨€ã€‚ä»Šå¤©å°±æ‹¿ require.js æ¥æ‹ä¸€æ‹è¿™å…¶ä¸­çš„å¼‚åŒã€‚æ¨¡å—åŒ–ä¸€ä¸ªåŸºæœ¬çš„javascriptæ¨¡å—ï¼Œåº”è¯¥æ˜¯éšè—ç§æœ‰æˆå‘˜åŠæ–¹æ³•ï¼Œæš´æ¼å¤–éƒ¨è°ƒç”¨çš„æ‰€éœ€çš„æ¥å£ã€‚å¸¸è§çš„å†™æ³•æœ‰ï¼švar module = (function()&#123; var prop = ''; var tool = function(p)&#123; &#125;; //... return &#123; fn: function()&#123; tool(prop); &#125; &#125;;&#125;)();åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œå¤–éƒ¨ç¯å¢ƒæ— æ³•è¯»å–å’Œä¿®æ”¹å˜é‡propå’Œæ–¹æ³•toolï¼Œä½†æ˜¯è¯¥æ¨¡å—è¿”å›äº†ä¸€ä¸ªå…¬å¼€çš„å¯¹è±¡ï¼Œå¹¶æœ‰ä¸€ä¸ªå¯æ‰§è¡Œçš„æ–¹æ³•fnã€‚è¿™ä¸å°±ç›¸å½“äºé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„å°è£…å—ï¼Ÿåœ¨ä»¥ä¸Šä»£ç ä¸­ä½¿ç”¨äº†é—­åŒ…æ¥éš”ç¦»å˜é‡ä½œç”¨åŸŸï¼Œè€Œåƒjavaä¸­å¯ä»¥ä½¿ç”¨publicã€privateè¿™æ ·çš„å…³é”®å­—æ¥å®šä¹‰æˆå‘˜ã€‚require.jså…¥é—¨åˆšæ‰é€šè¿‡ä¸€æ®µç®€å•çš„ä»£ç ç†è§£äº†æ¨¡å—åŒ–çš„ä½œç”¨ï¼Œä¸‹é¢æ¥çœ‹çœ‹require.jsæ˜¯å¦‚ä½•å®šä¹‰å’Œè°ƒç”¨æ¨¡å—çš„ã€‚é¡µé¢åŠ è½½&lt;script data-main=\"main\" src=\"http://cdn.bootcss.com/require.js/2.1.20/require.min.js\"&gt;&lt;/script&gt;åœ¨é¡µé¢ä¸­æ’å…¥äº†require.jsæ–‡ä»¶ï¼Œä½¿ç”¨data-mainæŒ‡å®šä¸»æ¨¡å—æˆ–è€…å«å…¥å£æ¨¡å—ï¼Œæˆ‘ç†è§£ä¸ºjavaä¸­çš„main()æ–¹æ³•ã€‚data-mainå±æ€§å¯ä»¥å†™æ¨¡å—æ–‡ä»¶çš„è·¯å¾„ï¼Œåœ¨require.jsä¸­é»˜è®¤çš„åç¼€.jså¯çœç•¥ã€‚å…¥å£æ¨¡å—å¦‚æœæˆ‘ä»¬çš„é¡µé¢éå¸¸ç®€å•çš„è¯ï¼Œåœ¨å…¥å£æ¨¡å—ä¸­å¯ä»¥å†™æˆ‘ä»¬çš„jsä»£ç ã€‚æ¯”å¦‚ï¼šconsole.log('Hello require.js!');æ­¤æ—¶åˆ·æ–°é¡µé¢å°±ä¼šç›´æ¥åœ¨æ§åˆ¶å°è¾“å‡ºHello require.js!ã€‚å½“ç„¶å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œä¹Ÿå°±æ²¡å¿…è¦ç”¨require.jsäº†ã€‚æ­£å¸¸çš„å†™æ³•ä¸€èˆ¬æ˜¯è¿™æ ·çš„ï¼šrequire(['module1', 'module2'], function (module1, module2)&#123; //...&#125;);ç¬¬ä¸€ä¸ªå‚æ•°æ•°ç»„è¡¨ç¤ºä¾èµ–çš„æ¨¡å—åï¼Œç„¶ååœ¨å…¶åçš„å›è°ƒå‡½æ•°ä¸­å°±å¯ä»¥ä½¿ç”¨è¿™äº›æ¨¡å—ã€‚åŠ è½½æ¨¡å—å½“ç„¶ï¼Œä¸å¯èƒ½å‡­ç©ºä½¿ç”¨æ¨¡å—ï¼ŒæŒ‰ç…§å¸¸è§„è‚¯å®šéœ€è¦æŸä¸ªåœ°æ–¹æŒ‡å®šæ¨¡å—åŠ è½½è·¯å¾„å§ã€‚åœ¨ä¸»æ¨¡å—å¤´éƒ¨å¯ä½œä»¥ä¸‹é…ç½®ï¼šrequire.config(&#123; paths: &#123; 'module1': 'js/module1', 'module2': 'js/module2' &#125;&#125;);å¦‚æœæ‰€æœ‰æ¨¡å—éƒ½åœ¨åŒä¸€ä¸ªç›®å½•åˆ™å¯ä»¥é…ç½®baseUrlã€‚require.config(&#123; baseUrl: 'js', paths: &#123; 'module1': 'module1', 'module2': 'module2' &#125;&#125;);ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨URLé…ç½®è¿œç¨‹æ–‡ä»¶é“¾æ¥ã€‚require.config(&#123; paths: &#123; 'jquery': 'http://cdn.bootcss.com/jquery/2.1.4/jquery' &#125;&#125;);ä¸javaä¸­çš„å¯¼åŒ…çš„ä½œç”¨ç±»ä¼¼ï¼Œimport xxx.xxx.xxx;ã€‚å®šä¹‰æ¨¡å—ç›®å‰å¸¸è§çš„çš„jsæ¨¡å—è§„èŒƒæœ‰CMDã€AMDã€CommonJSä»¥åŠå…¼å®¹æ€§å†™æ³•çš„UMDï¼Œrequire.jsæ˜¯å®ç°äº†AMDè§„èŒƒçš„jsåº“ã€‚å®šä¹‰ä¸€ä¸ªæ¨¡å—toolï¼Œå¦‚ä¸‹å†™æ³•ï¼šdefine(function ()&#123; var msg = 'The Hello at tool.'; return &#123; hello: function()&#123; console.log(msg); &#125; &#125;;&#125;);å¦‚æœè¯¥æ¨¡å—ä¾èµ–å…¶ä»–æ¨¡å—ï¼Œå¦‚jqueryï¼Œå°±éœ€è¦å®šä¹‰æ¨¡å—ä¾èµ–ã€‚å¦‚å…¥å£æ¨¡å—çš„å®šä¹‰ä¸€æ ·ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å†™æˆæ¨¡å—åæ•°ç»„ã€‚define('[jquery]', function ($)&#123; var msg = 'The Hello at tool.'; return &#123; hello: function()&#123; console.log(msg); console.log($ === undefined); &#125; &#125;;&#125;);ä¾èµ–çš„æ¨¡å—ä¾ç„¶éœ€è¦åœ¨å…¥å£æ¨¡å—ä¸­é…ç½®åŠ è½½è·¯å¾„ï¼Œä½†ä¸æ˜¯å¿…é¡»è¦åœ¨å…¥å£æ¨¡å—ä¸­æ³¨å…¥ã€‚åœ¨è¿™ä¸ªæ¨¡å—ä¸­æˆ‘ä»¬å‘ç°äº†è¿™æ®µä»£ç ä¸ä¸€å¼€å§‹çš„åŸºæœ¬æ¨¡å—å†™æ³•ç±»ä¼¼ï¼Œä¸€æ ·æ˜¯åªæš´æ¼å¿…é¡»çš„è°ƒç”¨æ¥å£ã€‚ç°åœ¨å¯ä»¥åœ¨å…¥å£æ¨¡å—ä¸­è°ƒç”¨è¿™ä¸ªæ¨¡å—ï¼šrequire(['tool'], function (t)&#123; t.hello();&#125;);å¦‚æœjqueryåŠ è½½æ­£ç¡®çš„è¯ï¼Œæ§åˆ¶å°ä¼šè¾“å‡ºï¼šThe Hello at tool.falseå¥½äº†ï¼Œç°åœ¨å¯ä»¥å»æ›´æ–°ç®€å†åœ¨æŠ€èƒ½ä¸ŠåŠ ä¸Šrequire.jsäº†ï¼ç»“æŸå„ç§æ¨¡å—åŒ–è§„èŒƒæ®Šé€”åŒå½’ï¼Œéƒ½æ˜¯ä¸ºäº†è§£å†³åŒæ ·çš„é—®é¢˜ã€‚ç†è§£äº†å…¶ä¸­ä¸€ç§ï¼Œéƒ½å¯ä»¥è½»æ¾æŒæ¡å…¶ä»–è§„èŒƒçš„å†™æ³•ã€‚æœªæ¥æˆ‘ä»¬è¿˜æœ‰å¤©ç„¶æ”¯æŒç±»å’Œæ¨¡å—çš„ES6ï¼ŒæœŸå¾…å§ï¼Ÿæˆ‘ä¸€ç›´è®¤ä¸ºå¥½çš„å¼€å‘äººå‘˜ä¸åº”è¯¥å±€é™äºä¸€ä¸ªæŠ€æœ¯æ ˆï¼Œå› ä¸ºè¿™æ ·ä¼šé˜»ç¢ä½ å¯¹ä¸€ä¸ªé—®é¢˜çš„å…¨é¢è®¤çŸ¥å’Œå¯¹æ–°çŸ¥è¯†çš„å¿«é€Ÿé¢†ä¼šã€‚","tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://imys.net/tags/JavaScript/"},{"name":"æ¨¡å—åŒ–","slug":"æ¨¡å—åŒ–","permalink":"http://imys.net/tags/æ¨¡å—åŒ–/"},{"name":"Require.js","slug":"Require-js","permalink":"http://imys.net/tags/Require-js/"}]},{"title":"canvaså®è·µ--å›¾è¡¨ç»„ä»¶ä»ªè¡¨ç›˜ã€é›·è¾¾å›¾","date":"2015-07-31T01:14:34.000Z","path":"20150731/canvas-chart-demo.html","text":"å¤§æ•°æ®æ¦‚å¿µçš„åˆ°æ¥ï¼Œå›¾è¡¨çš„è¿ç”¨è¶Šæ¥è¶Šå¹¿æ³›ï¼Œä¸æææ•°æ®ï¼Œéƒ½ä¸å¥½æ„æ€è¯´æ˜¯äº’è”ç½‘å…¬å¸ã€‚æœ€è¿‘å…¬å¸åˆæœ‰ä¸€å—å›¾è¡¨å±•ç¤ºçš„æ ç›®è¦åšï¼Œç”±äºä¹‹å‰çš„å›¾è¡¨æ ç›®éƒ½æ˜¯æˆ‘å®Œæˆçš„ï¼Œè¿™æ¬¡ä¸å‡ºæ„æ–™åˆè½åœ¨æˆ‘èº«ä¸Šã€‚ä¹‹å‰çš„å›¾è¡¨å±•ç¤ºæˆ‘ç”¨çš„æ˜¯echartsï¼ŒæŒ‰æ ¼å¼å°è£…æ•°æ®è°ƒç”¨å°±è¡Œäº†ã€‚è¿™æ¬¡é¢†å¯¼çªç„¶å¯¹å›¾è¡¨æ ·å¼æœ‰äº†ä¸€äº›è¦æ±‚ï¼Œè™½ç„¶echartsçš„é…ç½®å¤ŸOPï¼Œä¹Ÿä¸å¯èƒ½å®Œå®Œå…¨å…¨è·Ÿè®¾è®¡å›¾ææˆä¸€æ ·çš„ã€‚æš¨äºä¸Šæ¬¡çš„canvasçš„ä½¿ç”¨ï¼Œæˆ‘å†³å®šè‡ªå·±åŠ¨æ‰‹å®ç°æ‰€éœ€è¦çš„å›¾è¡¨ç»„ä»¶ã€‚è¿™æ˜¯æœ€ç»ˆçš„å®Œæˆæ ·å¼ï¼šcanvaså®è·µ--å›¾è¡¨ç»„ä»¶ä»ªè¡¨ç›˜ã€é›·è¾¾å›¾é¦–å…ˆæ ¹æ®æ•ˆæœå›¾æ¥åˆ’åˆ†å‡ºå„ä¸ªå›¾å±‚ï¼Œä»¥åŠå›¾å±‚å±‚çº§ä½ç½®ã€‚ç„¶åæŒ‰ç…§å±‚çº§å…³ç³»ç”±ä¸‹å‘ä¸Šä¾æ¬¡ç»˜åˆ¶ã€‚æ•´ä¸ªç¼–ç è¿‡ç¨‹è¿˜æ˜¯å¾ˆé¡ºåˆ©çš„ï¼Œä¸€äº›é—®é¢˜éƒ½å¾—åˆ°äº†å¾ˆå¥½çš„è§£å†³ã€‚æŸ¥çœ‹githubè¸©è¿‡çš„åç¡®å®šåœ†ä¸Šä»»æ„ä¸€ç‚¹çš„ä½ç½®æ­¤æ¬¡ç»˜åˆ¶çš„å›¾è¡¨åˆ†åˆ«æ˜¯ä»ªè¡¨ç›˜å’Œé›·è¾¾å›¾ï¼Œå¾ˆå¤šå›¾å½¢æˆ–ç‚¹çš„ä½ç½®éƒ½éœ€è¦è¿›è¡Œä¸€å®šçš„è®¡ç®—ã€‚æ¯”å¦‚ä»ªè¡¨ç›˜ä¸Šçš„æŒ‡é’ˆåæ ‡ã€é›·è¾¾å›¾å„ä¸ªè§’çš„ä½ç½®ç­‰ã€‚è€Œä¸¤ä¸ªå›¾è¡¨éƒ½æ˜¯åŸºäºåœ†å¿ƒè§’ç»˜åˆ¶çš„å›¾å½¢ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ åœ†çš„å‚æ•°æ–¹ç¨‹ æ¥è½»æ¾è§£å†³ã€‚x = cx + r &times; cos(Ï€ &times; e)y = cy + r &times; sin(Ï€ &times; e)cx: åœ†å¿ƒç‚¹æ¨ªåæ ‡r: åŠå¾„e: ç»“æŸè§’cy: åœ†å¿ƒç‚¹çºµåæ ‡ç»˜åˆ¶æ¸å˜è‰²åœ†ç¯åŸæœ¬çœ‹åˆ°ä»ªè¡¨ç›˜æ ·å¼å›¾æ—¶ï¼Œé¢„æƒ³çš„è¿™ä¸ªæ¸å˜åœ†ç¯éœ€è¦ä¸€èŠ‚ä¸€èŠ‚ç”¨ä¸åŒçš„é¢œè‰²ç”»ä¸Šå»çš„ã€‚å®é™…çš„å®ç°è¦ç®€å•å¤ªå¤šäº†ï¼å¯ä»¥ç›´æ¥ä½¿ç”¨ç»˜åˆ¶æ¸å˜è‰²çš„æ–¹æ³•ã€‚canvasæ”¯æŒçº¿æ€§æ¸å˜å’Œæ”¾å°„å½¢æ¸å˜ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯çº¿æ€§æ¸å˜ã€‚æ–¹æ³•æè¿°createLinearGradient(x0, y0, x1, y1)åˆ›å»ºçº¿æ€§æ¸å˜ï¼Œå‚æ•°åˆ†åˆ«è¡¨ç¤ºèµ·å§‹ç‚¹xåæ ‡å’Œyåæ ‡ã€ç»“æŸç‚¹xåæ ‡å’Œyåæ ‡ã€‚addColorStop(stop, color)è§„å®šæ¸å˜å¯¹è±¡ä¸­çš„é¢œè‰²å’Œåœæ­¢ä½ç½®ï¼Œstopè¡¨ç¤ºä¸€ä¸ªé¢œè‰²çš„æ¸å˜ç»“æŸä½ç½®0-1ä¹‹é—´ï¼Œcolorè¡¨ç¤ºæ¸å˜è‰²ã€‚å…·ä½“çš„ä½¿ç”¨å¯ä»¥ç‚¹è¿™é‡Œã€‚é¡ºä¾¿è¯´è¯´å¦‚ä½•æ ¹æ®è®¾è®¡å›¾ç¡®å®šæ¸å˜çš„ä½ç½®å’Œé¢œè‰²ã€‚ç”¨psæ‰“å¼€ç¾å·¥ç»™çš„psdæ–‡ä»¶ï¼›æ‰¾åˆ°æ¸å˜çš„å›¾å±‚æ ·å¼è®¾ç½®ï¼›ç…§ç€ä¸Šé¢çš„è®¾ç½®æ¥å°±è¡Œäº†ã€‚ç»˜åˆ¶è™šçº¿HTML5è§„èŒƒä¸­å·²æœ‰ç»˜åˆ¶è™šçº¿çš„æ–¹æ³•ï¼Œæ”¯æŒçš„æµè§ˆå™¨æœ‰Chrome, Safari, IE 11 å’Œ Operaã€‚context.setLineDash()ä½¿ç”¨å‚è€ƒå¼€åœºåŠ¨ç”»canvasæœ¬èº«æ²¡æœ‰è¿™æ–¹é¢çš„æ”¯æŒï¼Œéœ€è¦ä½¿ç”¨å®šæ—¶å™¨æ¥è¿›è¡Œä¸€å®šæ—¶é—´çš„é‡ç»˜æ¥å®ç°ã€‚æ•´ä¸ªé€»è¾‘å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š// 1. è®¾ç½®æœ€å°åˆå§‹å€¼ï¼Œè·å–æœ€ç»ˆå€¼var value = 0, endValue = 668; // 2. å¯åŠ¨å®šæ—¶å™¨æ ¹æ®valueåŠ¨æ€ç»˜åˆ¶var timer = setInterval(function()&#123; // 3. valueç´¯åŠ ï¼Œå¦‚æœå°äºæœ€ç»ˆå€¼å°±åŠ ä¸€å®šå€¼ï¼Œå¦åˆ™ç­‰äºæœ€ç»ˆå€¼ value = value + 1 &gt; endValue ? endValue : value + 1; // 4. æ¸…ç©ºç”»å¸ƒ context.clearRect(0, 0, 500, 300); // 5. æ ¹æ®valueæ¥è¿›è¡Œæ­¤æ¬¡ç»˜åˆ¶ // å…·ä½“æ­¥éª¤çœç•¥... // 6. åˆ¤æ–­valueæ˜¯å¦ç­‰äºæœ€ç»ˆå€¼æ¥ç»“æŸå®šæ—¶å™¨ if(value === endValue) &#123; clearInterval(timer); &#125; &#125;, 10);å¯ä»¥é€šè¿‡è°ƒæ•´ç´¯åŠ æ•°å’Œå®šæ—¶å™¨æ—¶é—´æ¥æ§åˆ¶åŠ¨ç”»é€Ÿåº¦ã€‚å…¶ä»–è¯´èµ·æ¥è¿™ä¸¤ä¸ªç»„ä»¶çš„å°è£…å’Œè°ƒç”¨ä¹Ÿæ˜¯å‡­ç€echartsçš„ä½¿ç”¨ç»éªŒæ¥è®¾å®šçš„ï¼Œæ„Ÿè°¢ç™¾åº¦å‰ç«¯å¤§å¤§ä»¬ä¸ºæ­¤ä½œå‡ºçš„è´¡çŒ®ï¼","tags":[{"name":"Html5","slug":"Html5","permalink":"http://imys.net/tags/Html5/"},{"name":"Canvas","slug":"Canvas","permalink":"http://imys.net/tags/Canvas/"},{"name":"Chart","slug":"Chart","permalink":"http://imys.net/tags/Chart/"}]},{"title":"Canvasåˆè¯•--ç¯å½¢è¿›åº¦æ¡çš„å®ç°","date":"2015-07-22T00:21:53.000Z","path":"20150722/canvas-annulus-process.html","text":"èµ·åˆæƒ³è¿™ä¹ˆåšæ—¢æ˜¯css3ä¸æ˜“å®ç°åœ†ç¯ï¼Œè€Œä¸”ä¹Ÿæœ‰ä½ç‰ˆæœ¬å…¼å®¹é—®é¢˜ï¼Œä¹Ÿæƒ³å€Ÿæ­¤æœºä¼šå­¦ä¹ ä¸‹canvas(è™½ç„¶æœ€åè¿˜æ˜¯éš¾é€ƒå…¼å®¹æ€§ &gt;_&lt; )ã€‚åšçš„è¿‡ç¨‹ä¸­å‘ç°canvasè·ŸC#ä¸­gdiç»˜å›¾çš„æ­¥éª¤å…¶å®æ˜¯å·®ä¸å¤šçš„ã€‚å…ˆå¤§æ¦‚çœ‹äº†ä¸‹canvasçš„ç›¸å…³APIï¼Œæœ‰ä¸ªå¯ä»¥ç”»å¼§çš„æ–¹æ³•arcã€‚é€šè¿‡åˆç†çš„å‚æ•°è®¾ç½®å°±èƒ½å®ç°å„ç§è§’åº¦çš„åœ†å¼§ï¼Œæˆ–è€…æ»¡åœ†ã€‚Canvasåˆè¯•--ç¯å½¢è¿›åº¦æ¡çš„å®ç°å®šä¹‰canvas&lt;canvas id=\"process\" width=\"200\" height=\"200\" data-process=\"85\"&gt;&lt;/canvas&gt;åœ¨åŸºæœ¬çš„HTML5æ–‡æ¡£ä¸­æ·»åŠ ä¸€ä¸ªcanvasï¼Œå®šä¹‰äº†idå®½é«˜ä»¥åŠä¸€ä¸ªè‡ªå®šä¹‰å±æ€§è¡¨ç¤ºè¦æ˜¾ç¤ºçš„è¿›åº¦å€¼ã€‚ç”»èƒŒæ™¯åœ†ï¼ˆç°è‰²ï¼‰é¦–å…ˆäº†è§£ä¸‹arcæ–¹æ³•ï¼šcontext.arc(x,y,r,sAngle,eAngle,counterclockwise);å‚æ•°æè¿°xåœ†çš„ä¸­å¿ƒçš„ x åæ ‡ã€‚yåœ†çš„ä¸­å¿ƒçš„ y åæ ‡ã€‚råœ†çš„åŠå¾„ã€‚sAngleèµ·å§‹è§’ï¼Œä»¥å¼§åº¦è®¡ï¼ˆå¼§çš„åœ†å½¢çš„ä¸‰ç‚¹é’Ÿä½ç½®æ˜¯ 0 åº¦ï¼‰ã€‚eAngleç»“æŸè§’ï¼Œä»¥å¼§åº¦è®¡ã€‚counterclockwiseå¯é€‰ã€‚è§„å®šåº”è¯¥é€†æ—¶é’ˆè¿˜æ˜¯é¡ºæ—¶é’ˆç»˜å›¾ã€‚False = é¡ºæ—¶é’ˆï¼Œtrue = é€†æ—¶é’ˆã€‚var c = document.getElementById('process');var process = c.getAttribute('data-process');var ctx = c.getContext('2d');// ç”»ç°è‰²çš„åœ†ctx.beginPath();ctx.arc(100, 100, 80, 0, Math.PI*2);ctx.closePath();ctx.fillStyle = '#F6F6F6';ctx.fill();ä»¥ä¸Šä»£ç ä¸­è®¾ç½®äº†åœ†å¿ƒä¸º100,100ï¼Œæ­£å¥½çš„ç”»å¸ƒä¸­å¿ƒï¼Œåœ†åŠå¾„ä¸º80ï¼Œèµ·å§‹è§’åº¦0è¡¨ç¤º3ç‚¹é’Ÿæ–¹å‘ï¼Œç»“æŸè§’åº¦Math.PI*2å…¶å®æ˜¯ä¸ªæ»¡åœ†ã€‚ä¸‹ä¸€æ­¥ä¼šè¯´æ˜èµ·å§‹è§’åº¦å’Œç»“æŸè§’åº¦å…·ä½“ç®—æ³•ã€‚ç”»è¿›åº¦ç¯ï¼ˆæ©™è‰²ï¼‰// ç”»è¿›åº¦ç¯ctx.beginPath();ctx.moveTo(100, 100); ctx.arc(100, 100, 80, Math.PI*1.5, Math.PI*(1.5+2*process/100));ctx.closePath();ctx.fillStyle = '#FF9600';ctx.fill();ä¸ä¸Šä¸€æ­¥æ¯”è¾ƒï¼Œå¤šäº†ä¸€å¥ctx.moveTo(x,y);ï¼Œæ„ä¸ºæŠŠè·¯å¾„ç§»åŠ¨åˆ°ç”»å¸ƒä¸­çš„æŒ‡å®šç‚¹ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸€æ­¥ç”»å‡ºæ¥çš„å°±ä¸æ˜¯å¼§äº†ã€‚èµ·å§‹è§’åº¦å’Œç»“æŸè§’åº¦ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼Œè¦æƒ³çœŸæ­£ç†è§£è¿™ä¸¤ä¸ªè§’åº¦ï¼Œçœ‹ä¸‹å›¾ã€‚Canvasåˆè¯•--ç¯å½¢è¿›åº¦æ¡çš„å®ç°3ç‚¹é’Ÿæ–¹å‘ç”¨0(0PI)è¡¨ç¤ºï¼Œ6ç‚¹é’Ÿæ˜¯0.5PIï¼Œ9ç‚¹é’Ÿ1PIï¼Œ12ç‚¹é’Ÿ1.5PIï¼Œè¿™æ ·è½¬ä¸€å‘¨å›åˆ°3ç‚¹é’Ÿå³ä¸º2PIã€‚æ‰€ä»¥æ»¡åœ†å¯ä»¥ç”¨èµ·å§‹è§’åº¦0(0PI)å’Œç»“æŸè§’åº¦2PIè¡¨ç¤ºã€‚æˆ‘ä»¬è¦ç”»çš„åœ†ç¯æ˜¯éœ€è¦ä»12ç‚¹é’Ÿæ–¹å‘å¼€å§‹çš„ï¼Œæ‰€ä»¥è®¾ç½®èµ·å§‹è§’åº¦1.5PIã€‚processåœ¨ç¬¬ä¸€æ­¥ä¸­è·å–äº†è¦æ˜¾ç¤ºçš„è¿›åº¦85ï¼Œå³ä¸º85/100çš„åœ†ï¼ŒæŒ‰åŸæ¥3ç‚¹é’Ÿå¼€å§‹ï¼Œé‚£ä¹ˆç»“æŸè§’åº¦å¯ä»¥è®¡ç®—ä¸ºMath.PI*2*85/100ã€‚å› ä¸ºèµ·å§‹è§’åº¦çš„å˜æ›´ï¼Œç»“æŸè§’åº¦ä¹Ÿè¦è¿›è¡Œç›¸åº”çš„å˜åŒ–ï¼Œå„åœ¨åŸæ¥çš„åŸºç¡€ä¸ŠåŠ äº†1.5çš„åŸºæ•°ã€‚èµ·å§‹è§’åº¦0 -&gt; Math.PI &times; 0 -&gt; Math.PI &times; (0+1.5) -&gt; Math.PI &times; 1.5ç»“æŸè§’åº¦Math.PI &times; 2 -&gt; Math.PI &times; 2 &times; 85/100 -&gt; Math.PI &times; 2 &times; process/100 -&gt; Math.PI &times; (1.5+2 &times; process/100)ç”»å†…å¡«å……åœ†ï¼ˆç™½è‰²ï¼‰// ç”»å†…å¡«å……åœ†ctx.beginPath();ctx.arc(100, 100, 60, 0, Math.PI*2);ctx.closePath();ctx.fillStyle = '#fff';ctx.fill();åŠå¾„å‡å°‘20ï¼Œè¿›è¡Œå†…åœ†å¡«å……ã€‚å¡«å……æ˜¾ç¤ºæ–‡å­—ï¼ˆæ•°å­—ç™¾åˆ†æ¯”ï¼‰// å¡«å……æ–‡å­—ctx.font = \"bold 20pt Microsoft YaHei\"; ctx.fillStyle = '#333';ctx.textAlign = 'center'; ctx.textBaseline = 'middle'; ctx.moveTo(100, 100); ctx.fillText(process+'%', 100, 100);å®Œæˆï¼å…³äºcanvasåœ¨IE7ã€8ä¸‹çš„å…¼å®¹éœ€è¦å¼•ç”¨googleçš„ excanvas.js ï¼Œå¹¶æŠŠç”»å›¾çš„ç›¸å…³çš„ä»£ç æ”¾åˆ°window.onloadä¸‹ã€‚ä¸è¿‡è¿™ä¸ªæ–‡ä»¶æœ‰äº›å¤§ï¼Œ40K+ï¼Œå‹ç¼©å17Kã€‚","tags":[{"name":"Html5","slug":"Html5","permalink":"http://imys.net/tags/Html5/"},{"name":"Canvas","slug":"Canvas","permalink":"http://imys.net/tags/Canvas/"},{"name":"Process","slug":"Process","permalink":"http://imys.net/tags/Process/"}]},{"title":"ç”¨æˆ·ä½“éªŒ--WEBç«™ç‚¹å¿«æ·é”®å®ç°æ–¹æ¡ˆ","date":"2015-07-16T07:06:58.000Z","path":"20150716/ue-shortcut-key.html","text":"ä»Šå¤©ä¸€å¤§æ—©å°±è¢«å¤´å„¿æ´¾äº†ä»»åŠ¡ï¼Œè®©æˆ‘æ•´ç†ä¸€ä»½å¯ç”¨å¿«æ·é”®æ“ä½œçš„å¯è¡Œæ€§æ–¹æ¡ˆã€‚ä¸æ•¢æ‡ˆæ€ ï¼Œé‚å‡ºæ­¤æ–‡ã€‚åˆ†æå¯¹äºWEBç«™ç‚¹çš„å¤šæ•°æ“ä½œä¹Ÿå°±æ˜¯é¼ æ ‡ç‚¹ç‚¹ç½¢äº†ï¼Œå¤šæ•°æ™®é€šç”¨æˆ·éƒ½æ˜¯ä¸æ„¿æ„è®°é‚£ä¹ˆå¤šä¸œè¥¿çš„ï¼Œæ‰€ä»¥é¦–å…ˆè¦è€ƒè™‘ç”¨æˆ·å¯æ¥å—æ€§ã€‚å¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹å‘è€ƒè™‘å¿«æ·é”®ï¼šé€šç”¨ã€æ˜“ç”¨ã€ä¹ æƒ¯ï¼Œå¸¸ç”¨åŠŸèƒ½ä½¿ç”¨ï¼Œå¯å¿«é€Ÿæ¥å—ï¼Œä¹ æƒ¯æ€§æŒ‰é”®æ–¹ä¾¿ã€å¿«æ·ï¼Œæœ‰æ•ˆæå‡æ“ä½œæ•ˆç‡ä¸“ç”¨ï¼Œé’ˆå¯¹ç‰¹æ®ŠåŠŸèƒ½ã€ç‰¹æ®Šäººç¾¤å’Œç‰¹æ®Šéœ€æ±‚è®¡åˆ’å¯ç”¨é”®ä»è¯­ä¹‰åŒ–æ¥è®²ï¼Œä¸“é—¨çš„é”®åšä¸“ä¸šçš„äº‹ã€‚å¢åŠ ç”¨æˆ·ä¾¿åˆ©çš„å‰æä¸‹ä¸èƒ½æ»¥ç”¨ä¸€äº›ç³»ç»Ÿå’Œæµè§ˆå™¨è§„åˆ’å¥½çš„æŒ‰é”®ï¼Œå¦‚å¸¸ç”¨çš„å¤åˆ¶å’Œç²˜è´´ã€‚æ­¤ç±»æŒ‰é”®å¾ˆå¤šï¼Œè¿™å°±å¯¼è‡´å¯è¢«æˆ‘ä»¬åˆ©ç”¨çš„é”®å¾ˆå°‘ã€‚æœ€å¥½çš„å½“ç„¶æ˜¯è®¾ç½®1ä¸ªé”®ï¼Œä¸è¿‡åœ¨å¤šæ•°äººä¹ æƒ¯äº†officeã€QQç­‰è½¯ä»¶åä¹Ÿä¹ æƒ¯äº†ä¸€äº›å¿«æ·é”®æ“ä½œã€‚æ‰€ä»¥å¯ä»¥ä»è¿™äº›ä¹ æƒ¯ä¸­æ¨å¯¼å‡ºä¸€äº›å¯ç”¨é”®ï¼Œ2-3ä¸ªç»„åˆé”®ä¹Ÿæœªå°ä¸å¯ï¼Œè¿˜å¯ä»¥è€ƒè™‘åŒå‡»ã€‚å•é”®ï¼šEsc,Enter,Tab,Delete,Home,æ–¹å‘é”®ç­‰ã€‚ç»„åˆé”®ï¼šCtrl+*,Ctrl+alt+*ã€‚å¯å…¥æ‰‹é¡¹å…¨å±€æˆ–å±€éƒ¨çš„Tabç„¦ç‚¹åˆ‡æ¢ï¼Œç‰¹åˆ«æ˜¯è¡¨å•ï¼›ä»»ä½•æœç´¢å’Œæäº¤çš„åœ°æ–¹éƒ½åº”è¯¥ç»‘å®šEnteré”®ï¼›è¡¨å•æ–‡æœ¬æ¡†ç‚¹ä¸¤ä¸‹backspaceå…¨éƒ¨åˆ é™¤ï¼›Escå–æ¶ˆè¾“å…¥ç„¦ç‚¹æˆ–å–æ¶ˆæ“ä½œï¼›Homeè·³è½¬ä¸ªäººä¸­å¿ƒæˆ–ä¼ä¸šä¸­å¿ƒï¼›Delåˆ é™¤é€‰ä¸­çš„é¡¹ï¼›ä¸»å¯¼èˆªæˆ–é‡è¦æ ç›®çš„è®¿é—®é”®ï¼›ç”¨æˆ·çš„è‡ªå®šä¹‰å¿«æ·é”®ï¼›æ ‡ç­¾é¡µåˆ‡æ¢ï¼›ä¸€é”®æ³¨é”€ç™»é™†ç”¨æˆ·ï¼›ç«™å†…æœç´¢;ä¸€é”®è¿”å›é¡¶éƒ¨ï¼›å®¹æˆ‘ä¸‰æ€â€¦â€¦å®ç°åœ¨ä¸Šè¿°é¡¹éƒ½éœ€è¦å®æ–½çš„å‰æä¸‹ï¼Œæ•´ä¸ªå®ç°å¿…ç„¶æ˜¯éœ€è¦è´¯ç©¿æ•´ç«™çš„ã€‚ä¼šæœ‰å…¨å±€çš„æŒ‰é”®ç»‘å®šï¼Œä¹Ÿä¼šæœ‰é’ˆå¯¹æ€§çš„æŸä¸ªåŠŸèƒ½æˆ–é¡µé¢çš„å®ç°ã€‚æœ€åæˆ‘çš„æƒ³æ³•å¦‚ä¸‹ï¼šæ·»åŠ å…¨å±€Hookæ¨¡å—ï¼Œæ•è·æŒ‰é”®å¹¶æ‰§è¡Œå¯¹åº”çš„æ“ä½œã€‚å…¨å±€æ€§çš„ç»‘å®šå¯ä»¥å†™åˆ°å…¨å±€jsæ–‡ä»¶ä¸­ï¼Œç‰¹æ®Šæƒ…å†µç‰¹æ®Šå¯¹å¾…ã€‚","tags":[{"name":"ç”¨æˆ·ä½“éªŒ","slug":"ç”¨æˆ·ä½“éªŒ","permalink":"http://imys.net/tags/ç”¨æˆ·ä½“éªŒ/"},{"name":"WEB","slug":"WEB","permalink":"http://imys.net/tags/WEB/"},{"name":"å¿«æ·é”®","slug":"å¿«æ·é”®","permalink":"http://imys.net/tags/å¿«æ·é”®/"}]},{"title":"é€ ä¸ªè½®å­-åŸºäºjqueryçš„æ–‡å­—æç¤ºæ’ä»¶jtip","date":"2015-07-15T07:21:58.000Z","path":"20150715/jqplugin-jtip.html","text":"æœ€è¿‘å·¥ä½œä¸æ˜¯å¾ˆå¿™ï¼Œçœ‹åˆ°ç«™é‡Œä¸€äº›çº¯å›¾æ ‡çš„æŒ‰é’®è¿˜æ˜¯ä½¿ç”¨çš„é»˜è®¤çš„titleå±æ€§ä½œæ–‡å­—æç¤ºï¼Œå°±é€ äº†è¿™ä¸ªè½®å­ã€‚jtipjtipä»‹ç»ç›®å‰åŠŸèƒ½ä½ç½®è‡ªåŠ¨å±…ä¸­å¯¹é½ï¼›æ”¯æŒä¸Šä¸‹ä¸¤ä¸ªæ–¹å‘çš„çš„æ˜¾ç¤ºï¼›å®½åº¦è‡ªé€‚åº”ï¼ˆè¶…å‡ºé•¿åº¦é™åˆ¶è‡ªåŠ¨æ¢è¡Œï¼‰ï¼›è‡ªå®šä¹‰æ˜¾ç¤ºåœºæ™¯ï¼ˆå¸¸æ€ã€è­¦å‘Šã€é”™è¯¯ï¼‰ï¼›å¯è®¾ç½®ä½ç½®åç§»é‡ã€‚å…¼å®¹æ€§IE7+(åŒ…æ‹¬IE7)ï¼Œç­‰ç°ä»£æµè§ˆå™¨ã€‚ä½¿ç”¨å¯ç”¨äºä»»ä½•å…·æœ‰titleå±æ€§çš„DOMå…ƒç´ ã€‚ å¦‚ï¼š&lt;a href=&quot;&quot; title=&quot;your title&quot;&gt;text&lt;/a&gt; &lt;div title=&quot;your title&quot;&gt;&lt;/div&gt; ä¾èµ–æ–‡ä»¶jtip.cssjquery.jsjtip.jsè°ƒç”¨$(selector).jtip({ direction : &apos;top&apos;, // æ˜¾ç¤ºæ–¹å‘ï¼Œå¯é€‰å€¼ topã€bottom className: &apos;jtip&apos;, // å¯è‡ªå®šä¹‰CSSç±»å type: &apos;&apos;, // æ˜¾ç¤ºç±»å‹ï¼Œå¯é€‰å€¼ &apos;&apos;(ç¼ºçœä¸ºç©º)ã€warningã€danger skewing: 0 // ä½ç½®åç§»é‡ }); æºç å·²ä¸Šä¼ githubï¼Œhttps://github.com/yscoder/jtip ã€‚é‡åˆ°çš„é—®é¢˜1.è·å–DOMèŠ‚ç‚¹åŸºäºæ–‡æ¡£çš„ä½ç½®æŸäº›æƒ…å†µä¸‹jQuery.offset()åœ¨IE8ä¸‹æ— æ³•è·å–å‡†ç¡®æ•°å€¼ï¼Œå¯ä»¥ä½¿ç”¨åŸç”ŸDOMå±æ€§offsetLeftã€offsetTopè·å–ï¼ŒIE7ä»éœ€ä½¿ç”¨jQuery.offset()è·å–ã€‚2.IE7å®¹å™¨å®½åº¦è‡ªé€‚åº”å•è¡Œå†…å®¹è®¾ç½®display:inlineï¼›å¤šè¡Œå†…å®¹è®¾ç½®min-widthå’Œoverflow:visibleã€‚","tags":[{"name":"jQueryæ’ä»¶","slug":"jQueryæ’ä»¶","permalink":"http://imys.net/tags/jQueryæ’ä»¶/"}]},{"title":"ieä¸æ˜¾ç¤ºiconfontå­—ä½“å›¾æ ‡","date":"2015-07-09T02:12:33.000Z","path":"20150709/ie-nodisplay-iconfont.html","text":"æ˜¨å¤©åŠ©ç†å¦¹å­æ”¶åˆ°å®¢æˆ·çš„åé¦ˆï¼Œè¯´æµè§ˆå™¨ä¸æ˜¾ç¤ºæŒ‰é’®äº†ã€‚ç»è¿‡è¿œç¨‹æŸ¥çœ‹ï¼Œå‘ç°æ˜¯iconfont(å­—ä½“å›¾æ ‡)ä¸æ˜¾ç¤ºäº†ã€‚æ–°ç‰ˆç½‘ç«™ä¸Šçº¿åæ•´ç«™ä½¿ç”¨iconfontæ›¿ä»£äº†å›¾ç‰‡å›¾æ ‡ï¼Œä¸€äº›å°æŒ‰é’®éƒ½æ˜¯ç›´æ¥ä½¿ç”¨çš„iconfontã€‚æŸ¥çœ‹è¿‡åä¸€æ—¶åŠä¼šä¹Ÿæ˜¯æ‰¾ä¸åˆ°åŸå› ï¼Œåªæ˜¯åœ¨è„‘æµ·ä¸­ä¸€éä¸€éçš„å’’éª‚ä¸‡æ¶çš„IE(å®¢æˆ·ä½¿ç”¨çš„æ˜¯IE8)ï¼å› ä¸ºæ¥è§¦ä¸åˆ°çœŸå®å®¢æˆ·ç¯å¢ƒçš„å…³ç³»ï¼Œæš‚æ—¶å…ˆè®©å®¢æˆ·ä½¿ç”¨å…¶ä»–æµè§ˆå™¨ç™»é™†ã€‚ç›´åˆ°ä»Šå¤©å…¬å¸é”€å”®éƒ¨é—¨ä¹Ÿåé¦ˆäº†ç±»ä¼¼çš„é—®é¢˜ï¼Œå¯ä»¥å»å®åœ°æ’æŸ¥åŸå› äº†ã€‚ç³»ç»Ÿç¯å¢ƒ win7 sp1 32ä½æµè§ˆå™¨ ä¸–ç•Œä¹‹çª—æé€Ÿç‰ˆåœ¨æµè§ˆå™¨æé€Ÿæ¨¡å¼ä¸‹æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œåˆ‡æ¢åˆ°å…¼å®¹æ¨¡å¼åå­—ä½“å›¾æ ‡å°±å¤±è¸ªäº†ï¼æ‰€æœ‰åŒæ¨¡å¼åˆ‡æ¢çš„æµè§ˆå™¨çš„å…¼å®¹æ¨¡å¼å½’æ ¹ç»“åº•è¿˜æ˜¯è°ƒç”¨çš„æœ¬æœºçš„IEï¼Œæ‰€ä»¥è¿™è¿˜æ˜¯IEçš„é—®é¢˜ã€‚æˆ‘ä»¬å…ˆæ˜¯æ‰¾åˆ°IEæµè§ˆå™¨ï¼Œå› ä¸ºæ˜¯win7ï¼Œæ‰€ä»¥æœ€ä½ä¹Ÿæ˜¯IE8äº†ã€‚æ›´æ”¹Interneté€‰é¡¹é‡Œçš„é…ç½®ï¼Œæ— æœï¼æµ‹è¯•äº†é“¾æ¥å­—ä½“å›¾æ ‡åº“æ–‡ä»¶ï¼Œä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Win7è§†è§‰æ•ˆæœå…¨å¼€ä¹Ÿæ²¡ç”¨ï¼F12æ·»åŠ è¡Œå†…å­—ä½“æ ·å¼ä¹Ÿæ²¡ä½œç”¨ï¼æœ€åå¾—å‡ºç»“è®ºï¼Œè¿™è´§å°±æ˜¯æ ¹æœ¬ä¸è¯†åˆ«å­—ä½“æ ·å¼å•Šï¼è¿™è´§æ‰“å¼€çš„ä»»ä½•ä¸€ä¸ªç½‘é¡µéƒ½æ˜¯å®‹ä½“ï¼Œéš¾é“å­—ä½“åº“åªæœ‰å®‹ä½“å—ï¼Ÿå¯ä¸ºä»€ä¹ˆæé€Ÿæ¨¡å¼å­—ä½“å°±æ­£å¸¸å‘¢ï¼Ÿwin+R -&gt; fonts å‘ç°æ‰€æœ‰ç³»ç»Ÿè‡ªå¸¦å­—ä½“éƒ½å®‰å®‰é™é™çš„èººç€å‘¢ã€‚å†æ¬¡æ‰“å¼€ Interneté€‰é¡¹ -&gt; å¤–è§‚ -&gt; å­—ä½“ -&gt; å¾®è½¯é›…é»‘ï¼Œæ‰€æœ‰é¡µé¢å­—ä½“éƒ½å˜æˆå¾®è½¯é›…é»‘äº†ã€‚ç„¶å¹¶åµï¼ä¸ç»æ„é—´ Interneté€‰é¡¹ -&gt; å¤–è§‚ -&gt; è¾…åŠ©åŠŸèƒ½â€¦æˆ‘æ»´ä¸ªç¥ï¼æˆ‘çœ‹åˆ°ä»€ä¹ˆäº†ï¼Ÿieä¸æ˜¾ç¤ºiconfontå­—ä½“å›¾æ ‡åŸæ¥æ˜¯æŠŠç½‘é¡µå­—ä½“å¿½ç•¥äº†ï¼ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡çŸ¥é“IEè¿˜æ˜¯è¿™äº›è®¾ç½®é€‰é¡¹ï¼Œè¿˜å¯ä»¥å®šä¹‰ç”¨æˆ·æ ·å¼ã€‚è¿™æ¬¡ä¹Ÿç®—æ˜¯é•¿è§è¯†äº†ã€‚","tags":[{"name":"Html","slug":"Html","permalink":"http://imys.net/tags/Html/"},{"name":"iconfont","slug":"iconfont","permalink":"http://imys.net/tags/iconfont/"}]},{"title":"css3é€‰æ‹©å™¨(:target)ç”¨æ³•","date":"2015-06-29T00:57:17.000Z","path":"20150629/css3-target-selector.html","text":"targetè¯‘ä¸ºâ€œç›®æ ‡â€ï¼ŒåŠ å†’å·å³ä¸ºä¼ªç±»é€‰æ‹©å™¨ã€‚æ­¤é€‰æ‹©å™¨ä¾¿æ˜¯ç”¨äºç»™ç›®æ ‡å…ƒç´ æ·»åŠ é¢å¤–æ ·å¼ï¼Œç±»ä¼¼äºhoverã€‚ä½¿ç”¨è¯¥é€‰æ‹©å¯¹åº”çš„ç›®æ ‡å…ƒç´ ä¸ºé”šç‚¹è§¦å‘ã€‚ä»¥ä¸‹ä»£ç å®šä¹‰äº†ä¸¤ä¸ªaå…ƒç´ ï¼Œå…¶ä¸­ä¸€ä¸ªä¸ºé“¾æ¥å…ƒç´ ï¼Œå¦ä¸€ä¸ªä½¿ç”¨æ ·å¼å®šä¹‰ä¸ºå—å…ƒç´ ã€‚å—å…ƒç´ è®¾ç½®äº†é€æ˜åº¦ä¸º0ï¼Œå¹¶è®¾ç½®å…¶è¢«é“¾æ¥æ—¶é€æ˜åº¦ä¸º1å’Œè¿‡åº¦æ•ˆæœã€‚æœ€ç»ˆçš„æ•ˆæœä¸ºç‚¹å‡»é“¾æ¥å…ƒç´ æ—¶ï¼Œdiv1ä»é€æ˜åˆ°ä¸é€æ˜è¿‡åº¦ã€‚&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=\"utf-8\"&gt;&lt;title&gt;targeté€‰æ‹©å™¨&lt;/title&gt;&lt;meta name=\"renderer\" content=\"webkit\"&gt;&lt;style&gt; .link &#123; display: block; text-decoration: none; text-align: center; color: #fff; background: #ff0000; line-height: 30px; &#125; .a-block &#123; display: block; opacity: 0; &#125; .a-block:target &#123; opacity: 1; transition: all .3s; &#125;&lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;a href=\"#div1\" class=\"link\"&gt;æ˜¾ç¤º&lt;/a&gt; &lt;a id=\"div1\" class=\"a-block\"&gt; :targeté€‰æ‹©å™¨å¯ç”¨äºå½“å‰æ´»åŠ¨çš„targetå…ƒç´ çš„æ ·å¼ã€‚ :targeté€‰æ‹©å™¨å¯ç”¨äºå½“å‰æ´»åŠ¨çš„targetå…ƒç´ çš„æ ·å¼ã€‚ :targeté€‰æ‹©å™¨å¯ç”¨äºå½“å‰æ´»åŠ¨çš„targetå…ƒç´ çš„æ ·å¼ã€‚ :targeté€‰æ‹©å™¨å¯ç”¨äºå½“å‰æ´»åŠ¨çš„targetå…ƒç´ çš„æ ·å¼ã€‚ :targeté€‰æ‹©å™¨å¯ç”¨äºå½“å‰æ´»åŠ¨çš„targetå…ƒç´ çš„æ ·å¼ã€‚ :targeté€‰æ‹©å™¨å¯ç”¨äºå½“å‰æ´»åŠ¨çš„targetå…ƒç´ çš„æ ·å¼ã€‚ :targeté€‰æ‹©å™¨å¯ç”¨äºå½“å‰æ´»åŠ¨çš„targetå…ƒç´ çš„æ ·å¼ã€‚ &lt;/a&gt;&lt;/body&gt;&lt;/html&gt;æ³¨æ„èµ·åˆæˆ‘å†™ä¸‹è¿™æ®µDemoæ—¶ç›®æ ‡å…ƒç´ æ˜¯ç”¨çš„divï¼Œåæ¥å‘ç°è¯¥é€‰æ‹©å™¨ä¸èƒ½åƒ:hoverä¸€æ ·ä½œç”¨äºaä»¥å¤–çš„å…ƒç´ ã€‚å¦å¤–è¯¥é€‰æ‹©å™¨çš„å…¼å®¹æ€§ä¸ºIE8ä»¥ä¸Šï¼ˆä¸åŒ…æ‹¬IE8ï¼‰ã€‚é€‚ç”¨åœºæ™¯ç»“åˆè¿™ä¸ªDemoå¯ä»¥å‘ç°è¯¥é€‰æ‹©å™¨åˆä¸€æ¬¡å®ç°ä¹‹å‰éœ€è¦JSæ‰èƒ½å®ç°çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ç‚¹å‡»é“¾æ¥æ˜¾ç¤ºå…ƒç´ ã€‚å¦å¤–åœ¨å…¨å±æ»šåŠ¨åŠ¨ç”»é¡µé¢æ—¶ä¹Ÿå¯ä»¥ç”¨åœ¨å¯¼èˆªä¹‹ä¸Šï¼Œæ¯”å¦‚ç‚¹å‡»å¯¼èˆªç»™å¯¹åº”çš„å—æ·»åŠ åŠ¨ç”»æ•ˆæœã€‚æ›´å¤šä½¿ç”¨æ–¹æ³•ä¹Ÿå¾…æ…¢æ…¢æ‘¸ç´¢äº†ï¼","tags":[{"name":"CSS3","slug":"CSS3","permalink":"http://imys.net/tags/CSS3/"},{"name":"selector","slug":"selector","permalink":"http://imys.net/tags/selector/"},{"name":"target","slug":"target","permalink":"http://imys.net/tags/target/"}]},{"title":"HTML5é¡µé¢å¯è§æ€§æ”¹å˜äº‹ä»¶","date":"2015-06-15T03:01:53.000Z","path":"20150615/js-page-visible.html","text":"é€šè¿‡è¯¥äº‹ä»¶å¯ä»¥åˆ¤æ–­å½“å‰é¡µé¢å¯¹äºç”¨æˆ·çš„å¯è§æ€§ï¼Œå³è¿”å›ç”¨æˆ·å½“å‰æµè§ˆçš„é¡µé¢æˆ–æ ‡ç­¾çš„çŠ¶æ€å˜åŒ–ã€‚visibilitychangeï¼ˆé¡µé¢å¯è§æ€§æ”¹å˜äº‹ä»¶ï¼‰è¯¥äº‹ä»¶å±äºHTML5æ–°APIï¼Œå…¼å®¹æ€§IE10+ï¼Œä»¥åŠå…¶ä»–ç°ä»£æµè§ˆå™¨ç­‰ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹ï¼Œå½“ç”¨æˆ·ç¦»å¼€å½“å‰é¡µé¢æ—¶æ”¹å˜é¡µé¢æ ‡é¢˜ã€‚var pageVisible = (function()&#123; var title = ''; var change = function() &#123; document.addEventListener('visibilitychange', function() &#123; var temp = this.title; this.title = title; title = temp; &#125;) &#125; return &#123; init: function(tit)&#123; title = tit || 'å¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸Šï¼'; change(); &#125; &#125;;&#125;)();pageVisible.init();æ­¤å¤–ï¼Œè¿˜å¯ä»¥åœ¨äº‹ä»¶å†…å¯¹é¡µé¢å¯è§æ€§å±æ€§åˆ¤æ–­å¯è§æ€§çŠ¶æ€ã€‚document.hidden: Booleanå€¼ï¼Œè¡¨ç¤ºå½“å‰é¡µé¢å¯è§è¿˜æ˜¯ä¸å¯è§ã€‚é€‚ç”¨åœºæ™¯ï¼Œå¦‚ï¼š1.ç”¨æˆ·ç¦»å¼€åª’ä½“é¡µé¢åœæ­¢æ’­æ”¾åª’ä½“ï¼›2.ç”¨æˆ·ç¦»å¼€æ¸¸æˆé¡µé¢æš‚åœæ¸¸æˆï¼›3.ç­‰ç­‰â€¦â€¦","tags":[{"name":"Html5","slug":"Html5","permalink":"http://imys.net/tags/Html5/"},{"name":"JavaScript","slug":"JavaScript","permalink":"http://imys.net/tags/JavaScript/"}]},{"title":"jsé˜»æ­¢å­å…ƒç´ å“åº”çˆ¶å…ƒç´ äº‹ä»¶","date":"2015-05-27T12:44:34.000Z","path":"20150527/js-cancel-event.html","text":"ä»Šå¤©åŒäº‹é‡åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œæ‰¾æˆ‘è§£å†³ã€‚ä»–å¸Œæœ›ç‚¹å‡»æ•´ä¸ªDIVéƒ½å¯ä»¥å“åº”ç‚¹å‡»äº‹ä»¶ï¼Œä½†æ˜¯æœ‰äº›äº¤äº’å…ƒç´ éœ€è¦æ’é™¤æ‰ã€‚å¦‚ï¼šç‚¹å‡»é“¾æ¥é¡µé¢è·³è½¬ã€ç‚¹å‡»æŒ‰é’®å“åº”äº‹ä»¶ç­‰ï¼‰ã€‚è¿™æ˜¯ä¸€ä¸ªå…³äºäº‹ä»¶å†’æ³¡çš„é—®é¢˜ï¼Œé‚£ä¾¿ä»äº‹ä»¶å†’æ³¡å†™èµ·ã€‚äº‹ä»¶å†’æ³¡åœ¨ä¸€ä¸ªå…ƒç´ ä¸Šè§¦å‘äº‹ä»¶ï¼Œå¦‚æœæ­¤å…ƒç´ å®šä¹‰äº†å¤„ç†ç¨‹åºï¼Œé‚£ä¹ˆæ­¤æ¬¡äº‹ä»¶å°±ä¼šè¢«æ•è·ï¼Œæ ¹æ®ç¨‹åºè¿›è¡Œè¯¥äº‹ä»¶çš„å¤„ç†ã€‚å¦åˆ™è¿™ä¸ªäº‹ä»¶ä¼šæ ¹æ®DOMæ ‘å‘çˆ¶èŠ‚ç‚¹é€çº§ä¼ æ’­ï¼Œå¦‚æœä»å§‹è‡³ç»ˆéƒ½æ²¡æœ‰è¢«å¤„ç†ï¼Œé‚£ä¹ˆæœ€ç»ˆä¼šåˆ°è¾¾documentæˆ–windowæ ¹å…ƒç´ ã€‚é˜»æ­¢äº‹ä»¶å†’æ³¡W3Cæ ‡å‡†è°ƒç”¨äº‹ä»¶å¯¹è±¡çš„stopPropagation()æ–¹æ³•ï¼ŒIEå¯ä»¥è®¾ç½®å¯¹è±¡çš„cancelBubbleå±æ€§ä¸ºtrue;åœ¨Jqueryä¸­çš„äº‹ä»¶æ–¹æ³•éƒ½å¸¦æœ‰eventå‚æ•°ï¼Œè¿™æ˜¯ä¸€ä¸ªç¬¦åˆW3Cæ ‡å‡†çš„äº‹ä»¶å¯¹è±¡ï¼Œä¸”å…¼å®¹IEï¼Œå¯ä»¥ä½¿ç”¨event.stopPropagation()é˜»æ­¢å†’æ³¡ã€‚æ›´ç®€å•çš„ï¼Œç›´æ¥return false;ï¼Œç­‰ä»·äºevent.stopPropagation()åŠ ä¸Ševent.preventDefault()ã€‚åœ¨åŸç”ŸJSä¸­ï¼Œäº‹ä»¶å¯¹è±¡è¦åŒºåˆ«å¯¹å¾…ã€‚function cancelEvent(e) &#123; if(e) &#123; e.stopPropagation(); //éIE &#125; else &#123; window.event.cancelBubble = true; //IE &#125;&#125;é˜»æ­¢å¤šä¸ªå­å…ƒç´ çš„äº‹ä»¶ç»¼ä¸Šæ‰€è¿°ï¼Œæƒ³è¦é“¾æ¥å’ŒæŒ‰é’®å…ƒç´ ä¸å“åº”çˆ¶èŠ‚ç‚¹äº‹ä»¶ï¼Œä¾¿è¦ä¸ºæ‰€æœ‰è¿™äº›å…ƒç´ æ³¨å†Œäº‹ä»¶ï¼Œç¼–å†™é˜»æ­¢äº‹ä»¶å†’æ³¡çš„ä»£ç ã€‚ç°åœ¨çš„ä»£ç å¯ä»¥è¿™æ ·å†™ï¼švar div = $('#div');div.click(function()&#123; // do...&#125;);div.on('click', 'a,button,input', function(event)&#123; event.stopPropagation(); // æˆ– return false;&#125;);è¿™å½“ç„¶æ˜¯å¯ä»¥è§£å†³é—®é¢˜çš„ã€‚å¯å¯¹äºå¤„å¥³åº§çš„æˆ‘å®Œå…¨æ— æ³•æ¥å—å¹³ç™½æ— æ•…å¤šå†™äº†ä¸€æ®µè«åå¥‡å¦™çš„ä»£ç ã€‚äºæ˜¯æˆ‘æƒ³åˆ°äº†eventå¯¹è±¡ã€‚event.target è¿”å›äº‹ä»¶çš„ç›®æ ‡èŠ‚ç‚¹ï¼ˆè§¦å‘è¯¥äº‹ä»¶çš„èŠ‚ç‚¹ï¼‰ã€‚event.target.tagName ç›®æ ‡èŠ‚ç‚¹çš„æ ‡ç­¾åæŠŠä¸Šé¢ä¸¤ä¸ªäº‹ä»¶åˆå¹¶å¤„ç†ä¹‹ï¼š$('#div').on('click', function(event)&#123; var tag = event.target.tagName; if(tag!='A' &amp;&amp; tag!='BUTTON' &amp;&amp; tag!='INPUT')&#123; // do... &#125;&#125;);","tags":[{"name":"Event","slug":"Event","permalink":"http://imys.net/tags/Event/"},{"name":"JavaScript","slug":"JavaScript","permalink":"http://imys.net/tags/JavaScript/"}]},{"title":"Hexoæ·»åŠ Tocæ”¯æŒï¼Œç”Ÿæˆæ–‡ç« ç›®å½•","date":"2015-05-14T07:25:47.000Z","path":"20150514/hexo-toc.html","text":"Hexoæä¾›äº†è¯¸å¤šæ’ä»¶æ¥å¢å¼ºåšå®¢ä½“éªŒï¼Œåœ°å€http://hexo.io/plugins/ã€‚åœ¨åšå®¢æ¬è¿çš„æ—¶å‘ç°ä¸€ä¸ªç”Ÿæˆæ–‡ç« ç›®å½•çš„æ’ä»¶ï¼Œhexo-tocã€‚hexo-tocä¸ºé˜²æ’ä»¶è¯¯è®¤æ ‡è®°ï¼Œæ–‡ç« ä»¥ä¸‹å‡ºç°çš„ ttoc å®é™…ä¸º tocã€‚ä½¿ç”¨æ–¹æ³•è·Ÿæ˜¾ç¤ºæ–‡ç« æ‘˜è¦ç±»ä¼¼ï¼Œåœ¨Markdownä¸­éœ€è¦æ˜¾ç¤ºæ–‡ç« ç›®å½•çš„åœ°æ–¹æ·»åŠ  &lt;!-- ttoc --&gt;ã€‚å®‰è£…npm install hexo-toc --saveé…ç½®åœ¨åšå®¢æ ¹ç›®å½•ä¸‹çš„ _config.yml ä¸­å¦‚ä¸‹é…ç½®ï¼štoc: maxDepth: 3maxDepth è¡¨ç¤ºç›®å½•æ·±åº¦ä¸º3ï¼Œå³æœ€å¤šç”Ÿæˆä¸‰çº§ç›®å½•ã€‚å¥½äº†ï¼Œç°åœ¨é‡å¯Hexoé¢„è§ˆä¸‹æ•ˆæœå§ã€‚Tocæ–‡ç« ç›®å½•ç„¶åä½ ä¼šå‘ç°ç‚¹å‡»ç›®å½•é“¾æ¥ï¼Œæ²¡ååº”ï¼F12æŸ¥çœ‹ç”Ÿæˆçš„HTMLä»£ç ï¼šTocç”Ÿæˆä»£ç æ ‡é¢˜idç”Ÿæˆæ²¡é—®é¢˜ï¼Œé”šé“¾æ¥ä¸­çš„ä¸­æ–‡éƒ½è¢«è½¬ä¹‰ä¸º - äº†ã€‚çœ‹äº†è¯¥æ’ä»¶çš„issuesä¸­å·²ç»æåˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œä¸è¿‡å¥½åƒæ˜¯æ²¡è§£å†³ã€‚ä¹Ÿæ²¡ç”¨æœç´¢åˆ°å…¶ä»–äººæœ‰å…³è¯¥æ’ä»¶çš„ä½¿ç”¨ç»éªŒã€‚æ²¡åŠæ³•ï¼Œè‡ªå·±åŠ¨æ‰‹ä¸°è¡£è¶³é£Ÿï¼è§£å†³é”šé“¾æ¥ä¸­æ–‡è¢«è½¬ä¹‰ä¹Ÿæ²¡ä»€ä¹ˆå¥½çš„åŠæ³•ï¼Œåªå‡­ç€å…¥é—¨çº§çš„Nodeæ°´å¹³ï¼Œé¡ºè—¤æ‘¸ç“œï¼ä»æ’ä»¶ä¸‹çš„index.jså¼€å§‹ï¼Œä¸€è·¯è·Ÿè¸ªä»£ç è°ƒè¯•ï¼Œåœ¨æ„Ÿè§‰å¯èƒ½å‡ºç°é—®é¢˜çš„åœ°æ–¹consoleè¾“å‡ºå†…å®¹ï¼Œæœ€ç»ˆè®©æˆ‘ç»™æ‰¾åˆ°äº†ã€‚æ–‡ä»¶ä½ç½®ï¼šHexoæ ¹ç›®å½•\\node_modules\\hexo-toc\\node_modules\\markdown-toc\\index.jsã€‚æ‰¾åˆ°å¦‚ä¸‹æ–¹æ³•ï¼ŒæŠŠåŸæ¥è¿”å›å€¼æ³¨é‡Šæ‰ï¼Œç›´æ¥ return str; ã€‚function slugify(str, opts) &#123; if (opts &amp;&amp; opts.slugify === false) return str; if (opts &amp;&amp; typeof opts.slugify === 'function') &#123; return opts.slugify(str, opts); &#125; str = str.split('.').join(''); //return str.toLowerCase().replace(/[^a-z0-9]/g, '-'); return str;&#125;ç°åœ¨é‡å¯Hexoåé“¾æ¥éƒ½æ­£å¸¸å¯ç”¨äº†ã€‚æ›´å¥½çš„æ–¹æ³•æ˜¯ä¸æ”¹å˜æ’ä»¶æºä»£ç çš„æƒ…å†µä¸‹è¿›è¡Œé…ç½®ã€‚åœ¨ä»¥ä¸Šæ–¹æ³•ä¸­å¯ä»¥å‘ç°ï¼Œæ’ä»¶æœ‰ä¸ªslugifyçš„é…ç½®é¡¹ï¼Œå½“æ­¤é¡¹é…ç½®ä¸ºfalseæ—¶å³ç›´æ¥return str;ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥åˆ°_config.ymlæ·»åŠ tocé…ç½®ï¼štoc: maxDepth: 3 slugify: false ç»™Tocæ·»åŠ æ ·å¼å¦‚æœ¬æ–‡ä¸­æ–‡ç« ç›®å½•æ ·å¼ï¼Œç½®äºæ–‡ç« å³ä¾§ï¼ŒåˆåŠ äº†ä¸ªèƒŒæ™¯ç­‰ã€‚hexo-tocæ’ä»¶æ˜¯ç”Ÿæˆçš„æ–‡ç« ç›®å½•æœ€ç»ˆè¿˜æ˜¯Markdownæ ¼å¼çš„ï¼Œæœ€åè¢«Hexoçš„markedæ¨¡å—è§£æä¸ºHTMLã€‚è¦æ·»åŠ æ ·å¼å…ˆåŠ é€‰æ‹©å™¨ã€‚æƒ³é€šè¿‡ä¿®æ”¹æ’ä»¶ä»£ç å¢åŠ é€‰æ‹©å™¨æ˜¯è¡Œä¸é€šçš„ï¼Œä¹Ÿä¸èƒ½ç›´æ¥åœ¨ &lt;!-- ttoc --&gt;æ ‡è®°å¤–åŒ…è£¹ &lt;div&gt;ã€‚å› ä¸ºæ·»åŠ äº†HTMLæ ‡ç­¾çš„åœ°æ–¹å°±ä¸ä¼šåœ¨è¢«markedæ¨¡å—è§£æã€‚é‚£å°±åªèƒ½åœ¨HTMLç”Ÿæˆä¹‹åå¢åŠ ï¼Œç”¨jsã€‚hexo-tocæ’ä»¶ç”Ÿæˆæ–‡ç« ç›®å½•æ—¶è¿˜åœ¨å…¶å‰åå¢åŠ äº† &lt;!-- ttoc --&gt; å’Œ &lt;!-- ttocstop --&gt; æ³¨é‡Šã€‚è§£å†³åŠæ³•å°±æ˜¯æŠŠè¿™ä¸¤ä¸ªæ³¨é‡Šæ›¿æ¢ä¸ºå¯æ§çš„ &lt;div&gt;ã€‚æ‰¾åˆ°ä¸»é¢˜ä¸‹çš„æ–‡ç« æ¨¡ç‰ˆï¼Œæˆ‘çš„æ˜¯themes\\yilia\\layout\\_partial\\article.ejsã€‚åœ¨å…¶æœ«å°¾å¢åŠ ä»£ç ï¼š&lt;% if (!index &amp;&amp; theme.toc)&#123; %&gt;&lt;script&gt; var tocEx = function(el)&#123; var toc = document.querySelector(el), content = toc.innerHTML; content = content.replace(&apos;&lt;!-- ttoc --&gt;&apos;, &apos;&lt;div class=&quot;toc&quot;&gt;&apos;).replace(&apos;&lt;!-- ttocstop --&gt;&apos;, &apos;&lt;/div&gt;&apos;); toc.innerHTML = content; &#125;(&apos;.article-entry&apos;);&lt;/script&gt;&lt;% &#125; %&gt;è¿™æ ·æˆ‘ä»¬å°±ä¸ºæ–‡ç« ç›®å½•å¤–åŒ…è£¹äº†ä¸€å¯¹&lt;div&gt;æ ‡ç­¾å’Œä¸€ä¸ªtocç±»ã€‚å†å†™è¿™ä¸ªç±»çš„æ ·å¼ï¼Œæ”¾åˆ°ä¸»é¢˜ä¸‹çš„ç›¸å…³cssæ–‡ä»¶ä¸­ã€‚.toc &#123; float: right; margin-left: 40px; padding: 10px 20px; background: #f1f1f1; border-radius: 10px; box-shadow: 0 0 3px #bbb;&#125;è¿™äº›éƒ½åšå®Œå†æ¬¡é‡å¯Hexoï¼ŒæˆåŠŸï¼2016å¹´æ›´æ–°Hexo å·²ç»æœ‰ç”Ÿæˆæ–‡ç« ç›®å½•çš„è¾…åŠ©å‡½æ•°äº†ï¼Œä½¿ç”¨æ›´æ–¹ä¾¿ã€‚æˆ‘ç°åœ¨åšå®¢ä¸­çš„æ–‡ç« ç›®å½•å°±æ˜¯ä½¿ç”¨è¾…åŠ©å‡½æ•°ç”Ÿæˆçš„ã€‚Hexoè¾…åŠ©å‡½æ•°#tocä¸éœ€è¦å®‰è£…é¢å¤–æ’ä»¶ï¼ä¸éœ€è¦åœ¨æ–‡ç« ä¸­æ’å…¥æ ‡è®°ï¼ä¸éœ€è¦åœ¨é…ç½®æ–‡ä»¶æ·»åŠ é…ç½®ï¼ä»…ä»…æ˜¯åœ¨ä½ çš„æ–‡ç« é¡µæ¨¡ç‰ˆä¸­ï¼Œæ’å…¥è°ƒç”¨è¾…åŠ©å‡½æ•°çš„ä»£ç å³å¯ã€‚&lt;%- toc(page.content, &#123; class: 'post-toc', list_number: true &#125;) %&gt;","tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://imys.net/tags/Hexo/"},{"name":"TOC","slug":"TOC","permalink":"http://imys.net/tags/TOC/"}]},{"title":"åšå®¢æ¬è¿è®° - ä»WordPressåˆ°Hexo","date":"2015-05-13T01:50:02.000Z","path":"20150513/wordpress-to-hexo.html","text":"ä»Šå¤©æ—©ä¸Šæ‰“å¼€ç”µè„‘ç¬¬ä¸€ä»¶äº‹å°±æ˜¯æŠŠpagesç»‘å®šäº†åŸŸåï¼Œä»æ­¤ä¾¿å¯ä»¥ä½¿ç”¨http://imys.netè¿›è¡Œè®¿é—®äº†ã€‚è‡³æ­¤å·²ç»æŠ˜è…¾çš„å·®ä¸å¤šäº†ï¼Œåœ¨æ­¤è®°å½•ä¸‹æ¬è¿è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜åŠè§£å†³åŠæ³•ã€‚Hexo3æœ¬åœ°éƒ¨ç½²ç°åœ¨nodeä¸‹å®‰è£…çš„hexoä¸€èˆ¬éƒ½æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œç½‘ä¸Šæœç´¢åˆ°çš„ä¸€äº›æ•™ç¨‹ä¸ä¹æ˜¯è€ç‰ˆæœ¬çš„ï¼Œè¦ç‰¹åˆ«ç•™æ„ã€‚å‚è€ƒç”¨Hexo 3 æ­å»ºgithub blogHexo 3.0 é™æ€åšå®¢ä½¿ç”¨æŒ‡å—ä»¥ä¸Šä¸¤ç¯‡æ–‡ç« åº”è¯¥èƒ½ä½¿ä½ é¡ºåˆ©çš„åœ¨http://localhost:4000/çœ‹åˆ°è‡ªå·±çš„æ–°åšå®¢ï¼Œå¹¶ä¸”ä½ ä¹Ÿç†Ÿæ‚‰äº†Hexoçš„å¸¸ç”¨å‘½ä»¤ã€‚Hexoæ— æ³•è§£ææ¨¡æ¿æ–‡ä»¶æœ¬åœ°é¢„è§ˆé¡µé¢æ˜¾ç¤ºï¼š&lt;%- partial(&apos;_partial/head&apos;) %&gt;&lt;%- partial(&apos;_partial/header&apos;) %&gt;&lt;%- body %&gt;&lt;% if (theme.sidebar &amp;&amp; theme.sidebar !== &apos;bottom&apos;)&#123; %&gt; &lt;%- partial(&apos;_partial/sidebar&apos;) %&gt; &lt;% &#125; %&gt;&lt;%- partial(&apos;_partial/footer&apos;) %&gt;&lt;%- partial(&apos;_partial/mobile-nav&apos;) %&gt; &lt;%- partial(&apos;_partial/after-footer&apos;) %&gt;åœ¨å·¥ç¨‹ç›®å½•æ‰§è¡Œä¸‹é¢3ä¸ªå‘½ä»¤ï¼Œé«˜ç‰ˆæœ¬çš„hexoç§»é™¤é»˜è®¤çš„ejsã€‚$ npm install hexo-renderer-ejs --save$ npm install hexo-renderer-stylus --save$ npm install hexo-renderer-marked --saveä¸Šä¼ åˆ°GitCafeæ³¨å†ŒGitCafeåˆ›å»ºPageé¡¹ç›®å®‰è£…å’Œè®¾ç½® Gitä»¥ä¸Šä¸¤ç¯‡å†…å®¹ç»“åˆç€çœ‹ï¼Œä¸è¿‡å¯¹ç¬¬ä¸€æ¬¡æ“ä½œè¿™äº›çš„äººæ¥è¯´å¯èƒ½ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ã€‚ç”ŸæˆSSHå½“å‘½ä»¤çª—å£å‡ºç°ä»¥ä¸‹ä¿¡æ¯æ—¶ï¼Œéœ€è¦ä½ è¾“å…¥passphraseå£ä»¤ã€‚ä¸è¿‡åœ¨æˆ‘æ“ä½œæ—¶è¾“å…¥å£ä»¤çš„è¯æ˜¯æ— æ³•ç”ŸæˆæˆåŠŸçš„ï¼Œç›´æ¥æŒ‰enterå³å¯ã€‚Enter passphrase (empty for no passphrase):è®¾ç½®gitç¬¬ä¸€æ¬¡åœ¨æœ¬åœ°è®¾ç½®gitæ—¶ï¼Œéœ€è®¾ç½®ç”¨æˆ·æ ‡è¯†ã€‚$ git config --global user.name \"yourname\" # gitcafeä¸Šçš„ç”¨æˆ·å$ git config --global user.email \"yourmaill@yourmaili.com\" # å¡«å†™è‡ªå·±çš„é‚®ç®±è®¾ç½®æœ¬åœ°gitcafe-pagesç‰ˆæœ¬åº“GitBashè¿›å…¥æœ¬åœ°Hexoç›®å½•git checkout -b gitcafe-pages åˆ›å»ºGitcafe-Pagesåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ã€‚git add . ï¼ˆ.ï¼‰ç‚¹è¡¨ç¤ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹ï¼Œäº¤ç»™gitç®¡ç†ï¼Œä¹Ÿå°±æ˜¯æäº¤åˆ°äº†gitçš„æœ¬åœ°ä»“åº“ã€‚ä¸Šä¼ åˆ°gitcafeä¿®æ”¹hexoé…ç½®æ–‡ä»¶ï¼Œå³config.ymlï¼Œå¦‚ä¸‹é…ç½®ï¼šdeploy: type: git repository: git@gitcafe.com:yourname/yourname.git branch: gitcafe-pagesyourname ä¿®æ”¹æˆä½ çš„ç”¨æˆ·åï¼Œå¦‚æˆ‘çš„æ˜¯ï¼šgit@gitcafe.com:justgo/justgo.gitä¿å­˜åç›´æ¥åœ¨GitBashä¸­hexo g &amp;&amp; hexo dä¸Šä¼ å³å¯ï¼ˆæˆ‘åœ¨è¿™ä¸€æ­¥æŠ˜è…¾äº†å¾ˆä¹…ï¼Œåœ¨cmdä¸‹è¿è¡Œhexo då‘½ä»¤ä¼šå‡ºé”™ï¼‰ã€‚ç¨ç­‰ç‰‡åˆ»ï¼Œæ‰“å¼€ http://youname/gitcafe.io ä¾¿å¯ä»¥çœ‹åˆ°è‡ªå·±çš„åšå®¢äº†ã€‚WordPressæ–‡ç« è¿ç§»WordPress åå°å¯ä»¥ç›´æ¥å¯¼å‡ºwordpress.xmlæ–‡ä»¶ï¼ŒæŠŠè¿™ä¸ªæ–‡ä»¶æ”¾å…¥ä½ çš„æœ¬åœ°Hexoç›®å½•ä¸‹ï¼Œç„¶åå®‰è£…ä¸€ä¸ªæ’ä»¶å¯ä»¥ç›´æ¥ç”Ÿæˆæ¯ç¯‡æ–‡ç« çš„Markdownæ–‡ä»¶ã€‚npm install hexo-migrator-wordpress --save # å®‰è£…æ’ä»¶hexo migrate wordpress wordpress.xml # ç”ŸæˆMarkdownç”Ÿæˆåçš„æ–‡ä»¶ç¨å¾®ä¿®æ”¹ä¸€ä¸‹æ ¼å¼å°±å¯ä»¥ä¸Šä¼ äº†ã€‚åº†å¹¸çš„æ˜¯æˆ‘åšå®¢é‡Œçš„å›¾ç‰‡ä¸å¤šï¼Œä¸éœ€è¦å¤ªå¤šçš„é“¾æ¥ä¿®æ”¹ã€‚ä¸è¿‡ä»¥åæˆ‘ä¹Ÿå¼€å§‹ä½¿ç”¨ä¸ƒç‰›å­˜å‚¨äº†ï¼Œå…å¾—ä»¥åæ¬è¿éº»çƒ¦ã€‚Hexoé…ç½®ä¼˜åŒ–å‚è€ƒhexoåšå®¢çš„é…ç½®ã€ä½¿ç”¨hexoåšå®¢çš„ä¼˜åŒ–æŠ€å·§hexoåšå®¢çš„ä¼˜åŒ–æŠ€å·§ç»­Hexo ä¼˜åŒ–ä¸å®šåˆ¶(ä¸€)Hexo ä¼˜åŒ–ä¸å®šåˆ¶(äºŒ)æ— æ³•å¼€å¯RSSå’Œsitemapæ‰“å¼€http://localhost:4000/atom.xml é¡µé¢æ˜¾ç¤º Cannot GET atom.xmlï¼Œhttp://localhost:4000/sitemap.xml é¡µé¢æ˜¾ç¤º Cannot GET sitemap.xmlã€‚è¿™ä¸ªé—®é¢˜å›°æ‰°äº†æˆ‘å¾ˆé•¿çš„æ—¶é—´ï¼Œå› ä¸ºæˆ‘çš„æ’ä»¶å®‰è£…å’Œé…ç½®éƒ½æ˜¯ç…§ç€ç¤ºä¾‹åˆ†æ¯«ä¸å·®çš„è¿›è¡Œçš„ï¼Œå¯æ˜¯googleäº†å‡ ä¸ªå°æ—¶éƒ½æ²¡è§£å†³ï¼æ’ä»¶ä¹Ÿé‡è£…æ›´æ–°äº†å‡ æ¬¡ï¼Œæƒ³è¿‡é‡æ–°åˆå§‹åŒ–Hexoï¼Œæ€•ä¼šä¸¢å¤±åŸæ¥çš„ä¸€äº›é…ç½®ï¼Œæœ€ååœ¨ hexo/package.json ä¸­æ‰¾åˆ°äº†åŸå› ã€‚package.jsonï¼š&#123; \"name\": \"hexo-site\", \"version\": \"0.0.0\", \"private\": true, \"hexo\": &#123; \"version\": \"3.0.1\" &#125;, \"dependencies\": &#123; \"hexo\": \"^3.0.0\", \"hexo-admin\": \"^0.3.0\", \"hexo-deployer-git\": \"0.0.4\", \"hexo-generator-archive\": \"^0.1.0\", \"hexo-generator-category\": \"^0.1.0\", \"hexo-generator-index\": \"^0.1.0\", \"hexo-generator-tag\": \"^0.1.0\", \"hexo-generator-feed\": \"^1.0.1\", \"hexo-generator-sitemap\": \"^1.0.1\", \"hexo-migrator-wordpress\": \"^0.1.2\", \"hexo-renderer-ejs\": \"^0.1.0\", \"hexo-renderer-marked\": \"^0.2.4\", \"hexo-renderer-stylus\": \"^0.2.0\", \"hexo-server\": \"^0.1.2\" &#125;&#125;æ£€æŸ¥æ­¤æ–‡ä»¶ä¸­æ˜¯å¦åŒ…æ‹¬äº†hexo-generator-tagå’Œhexo-generator-sitemapï¼Œæ²¡æœ‰çš„è¯æ·»åŠ ä¸€ä¸‹ã€‚æ’ä»¶ç‰ˆæœ¬å·æŸ¥çœ‹å¯¹åº”æ’ä»¶ä¸‹çš„package.jsonæ–‡ä»¶ï¼Œå…¶ä»–æ’ä»¶çš„ç±»ä¼¼é—®é¢˜åº”è¯¥ä¹Ÿå¯ä»¥å°è¯•è¿™æ ·è§£å†³ã€‚","tags":[{"name":"Hexo","slug":"Hexo","permalink":"http://imys.net/tags/Hexo/"},{"name":"WordPress","slug":"WordPress","permalink":"http://imys.net/tags/WordPress/"},{"name":"Gitcafe","slug":"Gitcafe","permalink":"http://imys.net/tags/Gitcafe/"}]},{"title":"jQuery.proxyæ–¹æ³•åŸç†ä¸ä½¿ç”¨","date":"2015-05-09T16:25:13.000Z","path":"20150510/jquery-proxy.html","text":"åœ¨å†™ä¸€äº›jqæ’ä»¶æ—¶ï¼Œå¾€å¾€éœ€è¦åœ¨å›è°ƒå‡½æ•°ä¸Šä¸‹æ–‡ä¸­æ³¨å…¥è°ƒç”¨è€…å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æ”¹å˜å‡½æ•°ä¸Šä¸‹æ–‡ä¸­ this çš„å¼•ç”¨ã€‚ä»jQuery 1.4 å¼€å§‹ä¾¿å¯ä»¥ä½¿ç”¨ jQuery.proxy æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å®šä¹‰å’Œç”¨æ³•$.proxy æ–¹æ³•æ¥å—ä¸€ä¸ªå·²æœ‰çš„å‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¸¦ç‰¹å®šä¸Šä¸‹æ–‡çš„æ–°çš„å‡½æ•°ã€‚è¯¥æ–¹æ³•é€šå¸¸ç”¨äºå‘ä¸Šä¸‹æ–‡æŒ‡å‘ä¸åŒå¯¹è±¡çš„å…ƒç´ æ·»åŠ äº‹ä»¶ã€‚æç¤ºï¼šå¦‚æœæ‚¨ç»‘å®šä» $.proxy è¿”å›çš„å‡½æ•°ï¼ŒjQuery ä»ç„¶å¯ä»¥é€šè¿‡ä¼ é€’çš„åŸå…ˆçš„å‡½æ•°å–æ¶ˆç»‘å®šæ­£ç¡®çš„å‡½æ•°ã€‚è¯­æ³•// 1$(selector).proxy(function,context);// 2$(selector).proxy(context,name);å®ä¾‹// ç”¨ä¾‹1var obj1 = function()&#123; this.txt = \"helloWorld\"; $(document).click(this.fn);&#125;;var obj2 = function()&#123; this.txt = \"helloWorld\"; $(document).click($.proxy(this.fn, this));&#125;;obj1.prototype.fn = obj2.prototype.fn = function() &#123; console.log(this.txt);&#125;;var a = new obj1(); // undefinedvar b = new obj2(); // helloWorld// ç”¨ä¾‹2var dialog = &#123; msg: 'helloWorld', show: function () &#123; console.log(this); console.log(this.msg); &#125;&#125;$(document).click(dialog.show); // #document// undefined$(document).click($.proxy(dialog, \"show\")); // Object &#123;msg: \"helloWorld\", show: function&#125;// helloWorldæœªä½¿ç”¨ jQuery.proxy æ–¹æ³•æ—¶ï¼Œclick æ–¹æ³•ä¸­ this æŒ‡å‘ä¸ºæ‰§è¡Œ click æ–¹æ³•çš„ jQuery å¯¹è±¡ï¼›ä½¿ç”¨ jQuery.proxy æ–¹æ³•æ—¶ï¼Œclick æ–¹æ³•ä¸­ this æŒ‡å‘ä¸ºä½ æ‰€æœŸæœ›çš„å¯¹è±¡ã€‚åŸç†ä¸éš¾çŒœå‡ºå…¶åº•å±‚å®ç°åº”è¯¥æ˜¯åŸç”Ÿ js ä¸­çš„ call æˆ– apply æ–¹æ³•ã€‚jquery1.9 ä¸­çš„æºç ç‰‡æ®µï¼šproxy: function( fn, context ) &#123; var args, proxy, tmp; if ( typeof context === \"string\" ) &#123; tmp = fn[ context ]; context = fn; fn = tmp; &#125; // Quick check to determine if target is callable, in the spec // this throws a TypeError, but we will just return undefined. if ( !jQuery.isFunction( fn ) ) &#123; return undefined; &#125; // Simulated bind args = core_slice.call( arguments, 2 ); proxy = function() &#123; return fn.apply( context || this, args.concat( core_slice.call( arguments ) ) ); &#125;; // Set the guid of unique handler to the same of original handler, so it can be removed proxy.guid = fn.guid = fn.guid || jQuery.guid++; return proxy;&#125;","tags":[{"name":"jQuery","slug":"jQuery","permalink":"http://imys.net/tags/jQuery/"},{"name":"proxy","slug":"proxy","permalink":"http://imys.net/tags/proxy/"}]},{"title":"javascriptä¸­withè¯­å¥ç”¨æ³•","date":"2015-05-08T03:16:52.000Z","path":"20150508/javascript-with.html","text":"with è¯­å¥å¯ä»¥æ–¹ä¾¿åœ°ç”¨æ¥å¼•ç”¨æŸä¸ªç‰¹å®šå¯¹è±¡ä¸­å·²æœ‰çš„å±æ€§æˆ–æ–¹æ³•ï¼Œä½†æ˜¯ä¸èƒ½ç”¨æ¥ç»™å¯¹è±¡æ·»åŠ æ–°çš„å±æ€§æˆ–æ–¹æ³•ã€‚è¦ç»™å¯¹è±¡åˆ›å»ºæ–°çš„å±æ€§ï¼Œå¿…é¡»æ˜ç¡®åœ°å¼•ç”¨è¯¥å¯¹è±¡ã€‚ç”¨æ³•function Student()&#123; this.name = &apos;jeck&apos;; this.age = 20; this.gender = &apos;men&apos;;&#125;var stu = new Student();with(stu) &#123; console.log(&apos;å§“åï¼š&apos; + name + &apos;ï¼Œæ€§åˆ«ï¼š&apos; + gender + &apos;ï¼Œå¹´é¾„ï¼š&apos; + age); // å§“åï¼šjeckï¼Œæ€§åˆ«ï¼šmenï¼Œå¹´é¾„ï¼š20&#125;æ€»ç»“with è¯­å¥ä½¿ä»£ç æ›´ç®€æ´ã€æ˜“è¯»ã€‚ç”±äº with ä¼šæ ¹æ®ç›®æ ‡å¯¹è±¡äº§ç”Ÿä¸€ä¸ªæ–°çš„å¯å˜å¯¹è±¡ï¼Œæ¨å…¥ä½œç”¨åŸŸé“¾çš„å¤´éƒ¨ï¼Œè¿™æ ·åŸæœ‰çš„å¯è®¿é—®å¯¹è±¡éƒ½è¢«å¾€åæ¨äº†ä¸€ä¸ªå±‚æ¬¡ï¼Œè¿™ä½¿å¾—å®ƒä»¬çš„è®¿é—®ä»£ä»·æ›´é«˜äº†ã€‚å› æ­¤å¯¹äº with è¯­å¥æœ€å¥½é¿å…ä½¿ç”¨ã€‚","tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://imys.net/tags/JavaScript/"},{"name":"with","slug":"with","permalink":"http://imys.net/tags/with/"}]},{"title":"å›¾ç‰‡ä¸Šä¼ æœ¬åœ°é¢„è§ˆjqueryæ’ä»¶","date":"2015-05-07T10:11:00.000Z","path":"20150507/jqplugin-uploadpreview.html","text":"ç½‘ä¸Šæ‰¾åˆ°çš„ä¸€æ®µä»£ç ï¼Œç»è¿‡ä¸€ç•ªæµ‹è¯•ä¿®æ”¹ï¼Œå…¼å®¹äº†IE7+ã€ç«ç‹ã€è°·æ­Œã€‚å¹¶ä¸”æ‰©å±•äº†å¤šå°ºå¯¸é¢„è§ˆåŠŸèƒ½ï¼Œå¯å®Œç¾æ­é… jquery.Jcrop æ’ä»¶è¿›è¡Œå›¾åƒè£å‰ªã€‚æ’ä»¶ä»£ç (function($) &#123; jQuery.fn.extend(&#123; uploadPreview: function(opts) &#123; opts = jQuery.extend(&#123; width: null, height: null, imgDiv: \"#imgDiv\", anyTarget: null, maxSize: 300, imgType: [\"gif\", \"jpeg\", \"jpg\", \"bmp\", \"png\"], callback: function() &#123; return false; &#125; &#125;, opts || &#123;&#125;); var _this = $(this); var imgDiv = $(opts.imgDiv); opts.width &amp;amp;&amp;amp; imgDiv.width(opts.width); opts.height &amp;amp;&amp;amp; imgDiv.height(opts.height); var isIE = navigator.appName == 'Microsoft Internet Explorer', brVersion = navigator.appVersion, version; isIE &amp;amp;&amp;amp; (version = brVersion.split(';')[1].replace(/MSIE[ ]/g,'').replace('.0','')); handle = function() &#123; var img = imgDiv.find('img'); opts.anyTarget &amp;amp;&amp;amp; $.each(opts.anyTarget.split(','), function(index, val) &#123; $(val).html(img.clone()); &#125;); img.width(opts.width).height(opts.height); opts.callback(img); &#125;, createImg = function()&#123; imgDiv.html(''); var img = $(\"&lt;img /&gt;\"); imgDiv.append(img); return img; &#125;, _this.change(function() &#123; if (this.value) &#123; if (!RegExp(\"\\.(\" + opts.imgType.join(\"|\") + \")$\", \"i\").test(this.value.toLowerCase())) &#123; alert(\"å›¾ç‰‡ç±»å‹å¿…é¡»æ˜¯\" + opts.imgType.join(\"ï¼Œ\") + \"ä¸­çš„ä¸€ç§\"); this.value = \"\"; return false; &#125; if (isIE &amp;amp;&amp;amp; version &lt; 10) &#123; if (version == 6) &#123; var image = new Image(); image.onload = function()&#123; if( (image.fileSize/1024) &gt; opts.maxSize) &#123; alert('å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡'+opts.maxSize+'K'); return false; &#125; &#125; image.src = 'file:///' + this.value; createImg().attr('src', image.src); handle(); &#125; else &#123; var img = document.selection.createRange().text || $(this).val(); var image = $('&lt;img /&gt;') image.load(function()&#123; if( (image.fileSize/1024) &gt; opts.maxSize) &#123; alert('å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡'+opts.maxSize+'K'); return false; &#125; &#125;); image.attr('src', img); imgDiv.html(''); image.css(&#123; filter: \"progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod='scale',src='\"+img+\"')\" &#125;); imgDiv.append(image); setTimeout(handle, 100); &#125; &#125; else &#123; var img; try&#123; var file = null; var size = 0; if(this.files &amp;amp;&amp;amp; this.files[0] )&#123; file = this.files[0]; size = file.size; &#125;else if(this.files &amp;amp;&amp;amp; this.files.item(0)) &#123; file = this.files.item(0); size = file.fileSize; &#125; if((size/1024) &gt; opts.maxSize)&#123; alert('å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡'+opts.maxSize+'K'); return false; &#125; img = createImg(); //Firefox å› å®‰å…¨æ€§é—®é¢˜å·²æ— æ³•ç›´æ¥é€šè¿‡input[file].value è·å–å®Œæ•´çš„æ–‡ä»¶è·¯å¾„ try&#123; //Firefox7.0 ä»¥ä¸‹ img.attr('src', file.getAsDataURL()); &#125;catch(e)&#123; //Firefox8.0ä»¥ä¸Š img.attr('src', window.URL.createObjectURL(file)); &#125; img.css(&#123; \"vertical-align\": \"middle\" &#125;); setTimeout(handle, 100); &#125;catch(e)&#123; //æ”¯æŒhtml5çš„æµè§ˆå™¨,æ¯”å¦‚é«˜ç‰ˆæœ¬çš„firefoxã€chromeã€ie10 if (this.files &amp;amp;&amp;amp; this.files[0]) &#123; if((this.files[0].size/1024) &gt; opts.maxSize)&#123; alert('å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡'+opts.maxSize+'K'); return false; &#125; var reader = new FileReader(); reader.onload = function (e) &#123; imgDiv.attr('src', e.target.result); &#125;; reader.readAsDataURL(this.files[0]); setTimeout(handle, 100); &#125; &#125;; &#125; &#125; &#125;); &#125; &#125;);&#125;)(jQuery);å‚æ•°width: å›¾ç‰‡å®¹å™¨å®½åº¦ï¼›height: å›¾ç‰‡å®¹å™¨é«˜åº¦ï¼›imgDiv: å›¾ç‰‡é¢„è§ˆå®¹å™¨ï¼›anyTarget: å…¶ä»–å…³è”å®¹å™¨ï¼Œå¤šä¸ªå®¹å™¨é€—å·éš”å¼€ï¼›maxSize: å›¾ç‰‡å¤§å°é™åˆ¶ï¼Œå•ä½KBï¼›imgType: å›¾ç‰‡ç±»å‹é™åˆ¶ï¼›callback: é¢„è§ˆæˆåŠŸåçš„å›è°ƒï¼Œå‚æ•° img(é¢„è§ˆçš„å›¾ç‰‡èŠ‚ç‚¹ï¼Œjqueryç±»å‹)ã€‚å®ä¾‹&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=\"utf-8\"&gt;&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"&gt;&lt;title&gt;å›¾ç‰‡ä¸Šä¼ é¢„è§ˆ&lt;/title&gt;&lt;link href=\"http://cdn.bootcss.com/jquery-jcrop/0.9.12/css/jquery.Jcrop.css\" rel=\"stylesheet\"&gt;&lt;style type=\"text/css\"&gt; .fl &#123; float: left; &#125; .fr &#123; float: right; &#125; .logo-wrap &#123; overflow: hidden; margin: 30px 0; &#125; .logo-350, .logo-350 img &#123; width: 350px; height: 350px; &#125; .logo-350 &#123; margin-right: 30px; &#125; .logo-200, .logo-200 img &#123; width: 200px; height: 200px; &#125; .logo-200 &#123; margin-bottom: 30px; &#125; .logo-200-wrap &#123; width: 200px; &#125; .logo-100, .logo-100 img &#123; width: 100px; height: 100px; &#125; .logo-60, .logo-60 img &#123; width: 60px; height: 60px; &#125; .logo-350, .logo-200, .logo-100, .logo-60, .qrcode &#123; border: 1px solid #ddd; overflow: hidden; &#125;&lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;input type=\"file\" value=\"ä¸Šä¼ æ–‡ä»¶\" id=\"file\"&gt; &lt;div class=\"logo-wrap\"&gt; &lt;div class=\"fl logo-350\"&gt;&lt;/div&gt; &lt;div class=\"fl logo-200-wrap\"&gt; &lt;div class=\"logo-200\"&gt;&lt;div class=\"content\"&gt;&lt;/div&gt;&lt;/div&gt; &lt;div&gt; &lt;div class=\"fl logo-100\"&gt;&lt;div class=\"content\"&gt;&lt;/div&gt;&lt;/div&gt; &lt;div class=\"fr logo-60\"&gt;&lt;div class=\"content\"&gt;&lt;/div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;script src=\"http://apps.bdimg.com/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;&lt;script src=\"http://ysdn-wordpress.stor.sinaapp.com/js/jquery.uploadPreview.js\"&gt;&lt;/script&gt;&lt;script src=\"http://cdn.bootcss.com/jquery-jcrop/0.9.12/js/jquery.Jcrop.min.js\"&gt;&lt;/script&gt;&lt;script&gt; //&lt;![CDATA[ $(\"#file\").uploadPreview(&#123; width: 350, height: 350, imgDiv: '.logo-350', anyTarget: '.logo-200 .content, .logo-100 .content, .logo-60 .content', maxSize: 1024 * 2, callback: function(el) &#123; var jOption = &#123; setSelect: [75, 75, 275, 275], minSize: [200, 200], onChange: updatePreview, onSelect: updatePreview, aspectRatio: 1 &#125;; var isIE = navigator.appName == 'Microsoft Internet Explorer', brVersion = navigator.appVersion, version; isIE &amp;amp;&amp;amp; (version = brVersion.split(';')[1].replace(/MSIE[ ]/g,'').replace('.0','')); if (isIE &amp;amp;&amp;amp; version &lt; 10) &#123; var api = $.Jcrop(el.selector, jOption); &#125; else &#123; el.Jcrop(jOption); &#125; &#125; &#125;); function updatePreview(c) &#123; if (parseInt(c.w) &gt; 0) &#123; $('.logo-200, .logo-100, .logo-60').each(function(index, el) &#123; var box = $(el), content = box.find('.content'), img = content.find('img'); content.width($('.logo-350').outerWidth()).height($('.logo-350').outerHeight()); var rx = box.width() / c.w; var ry = box.height() / c.h; img.css(&#123; width: Math.round(rx * 350) + 'px', height: Math.round(ry * 350) + 'px', marginLeft: '-' + Math.round(rx * c.x) + 'px', marginTop: '-' + Math.round(ry * c.y) + 'px' &#125;); &#125;); &#125; &#125;//]]&gt;&lt;/script&gt; &lt;/html&gt;","tags":[{"name":"jQuery","slug":"jQuery","permalink":"http://imys.net/tags/jQuery/"},{"name":"jQueryæ’ä»¶","slug":"jQueryæ’ä»¶","permalink":"http://imys.net/tags/jQueryæ’ä»¶/"}]},{"title":"javascriptä¹‹argumentså¯¹è±¡","date":"2015-04-29T03:55:20.000Z","path":"20150429/javascript-arguments.html","text":"åœ¨javascriptä¸­å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šè‡ªåŠ¨åœ¨å‡½æ•°å†…äº§ç”Ÿä¸€ä¸ªargumentsçš„éšè—å¯¹è±¡ã€‚argumentsç±»ä¼¼äºæ•°ç»„ï¼Œä½†åˆä¸æ˜¯æ•°ç»„ã€‚å¯ä»¥ä½¿ç”¨[]æ“ä½œç¬¦è·å–å‡½æ•°è°ƒç”¨æ—¶ä¼ é€’çš„å®å‚ã€‚å…¶ç±»å‹function test1()&#123; console.log(typeof arguments); // object&#125;test1();å…¶å±æ€§lengthï¼šè·å–å‡½æ•°å†…ä¼ å…¥å®å‚ä¸ªæ•°ã€‚é€‚ç”¨åœºæ™¯ï¼šæ¨¡æ‹Ÿå‡½æ•°é‡è½½ã€‚function test2(a,b)&#123; console.log(arguments.length); // è·å–å‡½æ•°å†…ä¼ å…¥å®å‚ä¸ªæ•°ï¼š4 console.log(test2.length); // å¯ä»¥é€šè¿‡ å‡½æ•°å.length è·å–å½¢å‚ä¸ªæ•°ï¼š2&#125;test2(1, 'a', 5, 'gg');calleeï¼šå¼•ç”¨å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°ã€‚é€‚ç”¨åœºæ™¯ï¼šé€’å½’ã€‚// æ±‚1åˆ°nçš„è‡ªç„¶æ•°ä¹‹å’Œfunction add(n)&#123; if(n == 1) return 1; else return n + arguments.callee(n-1);&#125;è½¬æ¢æˆçœŸæ­£çš„æ•°ç»„Array.prototype.slice.call(arguments)// ä»»æ„æ•°é‡çš„ä¸€ç»„æ•°å­—æ’åºfunction mySort(a,b,v) &#123; var tags = new Array(); tags = tags.concat(tags.slice.call(arguments)).sort(function(a, b)&#123; return a - b; &#125;); return tags;&#125;var result = mySort(50,11,16,32,24,99,57,100);console.log(result); // [11, 16, 24, 32, 50, 57, 99, 100]","tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://imys.net/tags/JavaScript/"},{"name":"arguments","slug":"arguments","permalink":"http://imys.net/tags/arguments/"}]},{"title":"jQueryæ‰©å±• - å»¶è¿Ÿæ‰§è¡Œhoveräº‹ä»¶","date":"2015-04-28T09:15:57.000Z","path":"20150428/jquery-delayHover.html","text":"é€‚ç”¨åœºæ™¯å¦‚ï¼šé¼ æ ‡éšä¾¿ä¸€æ»‘ï¼Œæ— æ•°ä¸ªä¸‹æ‹‰èœå•å‡ºæ¥äº†ï¼Œç”¨æˆ·å¯èƒ½åªæ˜¯é¼ æ ‡â€œæ‰“ä¸ªé…±æ²¹â€ç½¢äº†ã€‚å®ç°å¾ˆç®€å•ï¼Œå°±æ˜¯ä½¿ç”¨setTimeoutå»¶è¿Ÿäº‹ä»¶ä»£ç çš„æ‰§è¡Œã€‚(function($)&#123; function DelayHover(options) &#123; var defaults = &#123; speed : 400, // å»¶è¿Ÿæ—¶é—´(æ¯«ç§’) onHover : function(el) &#123;&#125;, // é¼ æ ‡æ‚¬æµ® onOut : function(el)&#123;&#125; // é¼ æ ‡ç¦»å¼€ &#125;; this.settings = $.extend(&#123;&#125;, defaults, options); var _this = this, hoverTimer; _this.bind = function () &#123; $(_this).hover(function() &#123; hoverTimer = setTimeout(function()&#123; _this.settings.onHover(_this); &#125;, _this.settings.speed); &#125;, function() &#123; clearTimeout(hoverTimer); _this.settings.onOut(_this); &#125;); &#125;; &#125; $.fn.delayHover = function(options) &#123; return this.each(function() &#123; DelayHover.call(this,options); this.bind(); &#125;); &#125;&#125;)(jQuery);","tags":[{"name":"jQuery","slug":"jQuery","permalink":"http://imys.net/tags/jQuery/"},{"name":"jQueryæ’ä»¶","slug":"jQueryæ’ä»¶","permalink":"http://imys.net/tags/jQueryæ’ä»¶/"}]},{"title":"ä½¿ç”¨css3åä»£é€‰æ‹©å™¨å®ç°å¤šèƒŒæ™¯è‰²æ ‡ç­¾æ ·å¼","date":"2015-04-25T19:09:06.000Z","path":"20150426/css3-selector-multiple-color.html","text":"ä½¿ç”¨css3åä»£é€‰æ‹©å™¨å®ç°å¤šèƒŒæ™¯è‰²æ ‡ç­¾æ ·å¼css3å¢åŠ äº†è®¸å¤šæ–°çš„é€‰æ‹©å™¨ï¼ŒåŒ…æ‹¬å±æ€§é€‰æ‹©å™¨ã€åä»£é€‰æ‹©å™¨å’Œä¼ªç±»é€‰æ‹©å™¨ç­‰ï¼Œçµæ´»è¿ç”¨å¯ä»¥åšå‡ºå¾ˆå¤šå‡ºå½©çš„æ•ˆæœã€‚åœ¨ä¸€äº›åšå®¢ç«™ç‚¹ä¸Šç»å¸¸ä¼šè§åˆ°ä¸€äº›å¤šèƒŒæ™¯è‰²çš„æ ‡ç­¾æ ·å¼ï¼Œé¢œè‰²å›ºå®šä¸ºå‡ ç§ï¼ŒæŒ‰é¡ºåºå¾ªç¯å‘ˆç°ã€‚ä½¿ç”¨jsè¿­ä»£å¹¶æ·»åŠ ä¸åŒçš„æ ·å¼å›ºç„¶å¯è¡Œï¼Œä¸è¿‡css3ä¸ºæˆ‘ä»¬æä¾›äº†æ›´ä¾¿æ·çš„æ–¹æ³•â€“åä»£é€‰æ‹©å™¨ã€‚:nth-of-type(n)åŒ¹é…åŒç±»å‹ä¸­çš„ç¬¬nä¸ªåŒçº§å…„å¼Ÿå…ƒç´ ã€‚nå¯ä»¥æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œä¸€ä¸ªå…³é”®å­—ï¼Œæˆ–è€…ä¸€ä¸ªå…¬å¼ã€‚å®ç°è¿™æ¬¡çš„éœ€æ±‚è¦ä½¿ç”¨å…¬å¼ä»£å…¥çš„æ–¹å¼ï¼Œnth-of-type(an+b)ã€‚aä»£è¡¨ä¸€ä¸ªå¾ªç¯çš„å¤§å°ï¼ŒNæ˜¯ä¸€ä¸ªè®¡æ•°å™¨ï¼ˆä»0å¼€å§‹ï¼‰ï¼Œä»¥åŠbæ˜¯åç§»é‡ã€‚å‡è®¾æˆ‘ä»¬éœ€è¦4ç§æ ‡ç­¾é¢œè‰²ï¼Œå°±éœ€è¦è®¾ç½®4ä¸ªå…¬å¼å‹çš„åä»£é€‰æ‹©å™¨ï¼Œé‚£ä¹ˆå¯ä»¥æƒ³åˆ°çš„ç¬¬ä¸€ä¸ªå…¬å¼ä¸º4n+0ï¼Œé€‰å–ç´¢å¼•ä¸º4çš„å€æ•°çš„å…ƒç´ ã€‚äºæ˜¯å°±å¯ä»¥æ¨å‡ºå‰©ä½™çš„3ä¸ªå…¬å¼ä¸º4n-1ã€4n-2ã€4n-3ã€‚å®ä¾‹&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=\"utf-8\"&gt;&lt;title&gt;ä½¿ç”¨css3å­çº§é€‰æ‹©å™¨å®ç°å¤šé¢œè‰²æ ‡ç­¾æ ·å¼&lt;/title&gt;&lt;style type=\"text/css\"&gt; html &#123; background: #333; &#125; .tags &#123; width: 240px; margin: 150px auto; padding: 10px; background: #ddd; &#125; .tags&gt;a &#123; display: inline-block; text-decoration: none; color: #fff; padding: 5px 10px; margin: 0 5px 5px 0; border-radius: 3px; transition: all .5s; -webkit-transition: all .5s; &#125; .tags&gt;a:hover &#123; background: #666 !important; &#125; .tags&gt;a:nth-of-type(4n+0) &#123; background: #337AB7; &#125; .tags&gt;a:nth-of-type(4n-1) &#123; background: #5CB85C; &#125; .tags&gt;a:nth-of-type(4n-2) &#123; background: #5BC0DE; &#125; .tags&gt;a:nth-of-type(4n-3) &#123; background: #F0AD4E; &#125;&lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class=\"tags\"&gt; &lt;a href=\"\"&gt;html&lt;/a&gt; &lt;a href=\"\"&gt;css&lt;/a&gt; &lt;a href=\"\"&gt;javascript&lt;/a&gt; &lt;a href=\"\"&gt;jQuery&lt;/a&gt; &lt;a href=\"\"&gt;html&lt;/a&gt; &lt;a href=\"\"&gt;css&lt;/a&gt; &lt;a href=\"\"&gt;javascript&lt;/a&gt; &lt;a href=\"\"&gt;jQuery&lt;/a&gt; &lt;a href=\"\"&gt;html&lt;/a&gt; &lt;a href=\"\"&gt;css&lt;/a&gt; &lt;a href=\"\"&gt;javascript&lt;/a&gt; &lt;a href=\"\"&gt;jQuery&lt;/a&gt; &lt;a href=\"\"&gt;html&lt;/a&gt; &lt;a href=\"\"&gt;css&lt;/a&gt; &lt;a href=\"\"&gt;javascript&lt;/a&gt; &lt;a href=\"\"&gt;jQuery&lt;/a&gt; &lt;a href=\"\"&gt;html&lt;/a&gt; &lt;a href=\"\"&gt;css&lt;/a&gt; &lt;a href=\"\"&gt;javascript&lt;/a&gt; &lt;a href=\"\"&gt;jQuery&lt;/a&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt;","tags":[{"name":"CSS3","slug":"CSS3","permalink":"http://imys.net/tags/CSS3/"},{"name":"selector","slug":"selector","permalink":"http://imys.net/tags/selector/"}]},{"title":"ä½¿ç”¨é€»è¾‘è¿ç®—ç¬¦ || && ç®€åŒ–javascriptä¸­if elseé€‰æ‹©ç»“æ„","date":"2015-04-24T03:49:30.000Z","path":"20150424/js-simple-condition.html","text":"|| å’Œ &amp;&amp; é€šå¸¸ä½¿ç”¨åœ¨æ¡ä»¶è¡¨è¾¾å¼ä¸­ï¼Œä½†æ˜¯ç”±äºjavascriptè¯­è¨€çš„ç‰¹æ®Šæ€§ï¼Œè¿™ä¸¤ä¸ªç¬¦å·åˆè¢«å¼€å‘å‡ºäº†ç‰¹åˆ«çš„ä½¿ç”¨æŠ€å·§ã€‚æœ€åŸºæœ¬çš„ç”¨æ³•console.log(true &amp;amp;&amp;amp; true); // trueconsole.log(true &amp;amp;&amp;amp; false); // falseconsole.log(false &amp;amp;&amp;amp; true); // falseconsole.log(false &amp;amp;&amp;amp; false); // falseconsole.log(true || true); // trueconsole.log(true || false); // trueconsole.log(false || true); // trueconsole.log(false || false); // falseè¿™æ˜¯æ‰€æœ‰çš„ç¼–ç¨‹è¯­éŸ³é€šç”¨çš„ä½¿ç”¨æ–¹æ³•ï¼Œæ¯‹åº¸ç½®ç–‘ã€‚javascriptä¸­å¯ä»¥è¿™ä¹ˆç”¨var target, num;target = undefined || 'defaultValue'; // defaultValuenum = 0 || 1; // 1ä½ å¯ä»¥çœ‹æˆè¿™æ ·ï¼švar target;target = false || 'defaultValue'; // defaultValuenum = false || 1; // 1å› ä¸ºåœ¨javascriptä¸­Objectã€functionã€é0çš„æ•´æ•°å’Œå­—ç¬¦ä¸²éƒ½ä¸ºtrueï¼Œundefinedã€nullå’Œç©ºå­—ç¬¦ä¸²â€â€ ä¸ºfalseã€‚ä½†æ˜¯javascriptä¸­å´å¯ä»¥è¿”å›ä¸ºtrueè¡¨è¾¾å¼çš„å€¼ï¼Œåº”è¯¥ç†è§£ä¸ºâ€œçœŸå€¼â€å’Œâ€œå‡å€¼â€æ›´è´´åˆ‡ã€‚â€˜||â€™åœ¨javascriptä¸­çš„è§„åˆ™ï¼šå¦‚æœ||å·¦ä¾§è¡¨è¾¾å¼çš„å€¼ä¸ºçœŸå€¼ï¼Œåˆ™è¿”å›å·¦ä¾§è¡¨è¾¾å¼çš„å€¼ï¼›å¦åˆ™è¿”å›å³ä¾§è¡¨è¾¾å¼çš„å€¼ã€‚console.log('çœŸå€¼'||''); // çœŸå€¼console.log(undefined||object); // objectâ€˜&amp;&amp;â€™åœ¨javascriptä¸­çš„è§„åˆ™ï¼šå¦‚æœ&amp;&amp;å·¦ä¾§è¡¨è¾¾å¼çš„å€¼ä¸ºçœŸå€¼ï¼Œåˆ™è¿”å›å³ä¾§è¡¨è¾¾å¼çš„å€¼ï¼›å¦åˆ™è¿”å›å·¦ä¾§è¡¨è¾¾å¼çš„å€¼ã€‚console.log(1 === 1 &amp;amp;&amp;amp; 2) // 2console.log(0 === 1 &amp;amp;&amp;amp; 2) // falseäºæ˜¯æœ‰äº†é«˜é€¼æ ¼çš„javascriptä»£ç var n=1;((n === 1) &amp;amp;&amp;amp; (n = 3)) || ((n === 3) &amp;amp;&amp;amp; (n = 6)) || (n = 2); // 3((n === 1) &amp;amp;&amp;amp; (n = 3)) || ((n === 3) &amp;amp;&amp;amp; (n = 6)) || (n = 2); // 6((n === 1) &amp;amp;&amp;amp; (n = 3)) || ((n === 3) &amp;amp;&amp;amp; (n = 6)) || (n = 2); // 2//ä»¥ä¸Šä»£ç ç­‰ä»·äºif(n === 1) &#123; n = 3;&#125; else if(n === 3) &#123; n = 6;&#125; else &#123; n = 2;&#125;","tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://imys.net/tags/JavaScript/"}]},{"title":"css3å¯¼èˆªæŒ‰é’®å›¾æ ‡æ ·å¼åˆ‡æ¢æ•ˆæœ","date":"2015-04-20T05:29:44.000Z","path":"20150420/css3-menu-style.html","text":"çº¯csså®ç°çš„å¯¼èˆªæŒ‰é’®å›¾æ ‡æ ·å¼åˆ‡æ¢æ•ˆæœï¼Œå›¾æ ‡æ ·å¼æ˜¯cssç”»å‡ºæ¥çš„ï¼Œå†è¾…ä»¥css3åŠ¨ç”»æ•ˆæœã€‚&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=\"utf-8\"&gt;&lt;title&gt;css3æ•ˆæœåˆ‡æ¢çš„å¯¼èˆªæŒ‰é’®&lt;/title&gt;&lt;style type=\"text/css\"&gt; *&#123; margin: 0; padding: 0; &#125; body &#123; background: #3B9DFF; &#125; .menuCtrl &#123; display: block; position: relative; border: 5px solid #fff; border-radius: 50%; width: 30px; height: 40px; padding: 20px 25px; margin: 150px auto; transition: all 0.25s ease-in-out; &#125; .menuCtrl .line &#123; width: 35px; height: 0; border-bottom: 5px solid #fff; position: relative; margin-left: -2px; transition: all 0.25s ease-in-out; &#125; .menuCtrl .line:nth-child(1) &#123; top: 10px; &#125; .menuCtrl .line:nth-child(2) &#123; top: 13px; &#125; .menuCtrl .line:nth-child(3) &#123; top: 16px; &#125; .menuCtrl:hover &#123; padding: 25px 30px; &#125; .menuCtrl:hover .line:nth-child(1) &#123; width: 20px; transform: rotateZ(-45deg) translateX(-3px) translateY(0px); &#125; .menuCtrl:hover .line:nth-child(2) &#123; width: 40px; &#125; .menuCtrl:hover .line:nth-child(3) &#123; width: 20px; transform: rotateZ(45deg) translateX(-3px) translateY(0px); &#125;&lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;a href=\"javascript:;\" class=\"menuCtrl\"&gt; &lt;div class=\"line\"&gt;&lt;/div&gt; &lt;div class=\"line\"&gt;&lt;/div&gt; &lt;div class=\"line\"&gt;&lt;/div&gt; &lt;/a&gt;&lt;/body&gt;&lt;/html&gt;","tags":[{"name":"CSS3","slug":"CSS3","permalink":"http://imys.net/tags/CSS3/"}]},{"title":"ä¸é“¾æ¥é¡µé¢åœ¨æ–°çª—å£æˆ–æ ‡ç­¾é¡µè¿è¡Œä»£ç ","date":"2015-04-15T01:58:21.000Z","path":"20150415/online-run-code.html","text":"åœ¨ä¸€äº›ITåšå®¢æˆ–è€…è®ºå›éƒ½æœ‰åœ¨æ–°çª—å£æˆ–æ ‡ç­¾é¡µç›´æ¥è¿è¡Œå½“å‰é¡µé¢å†…ä»£ç çš„åŠŸèƒ½ï¼Œä½†å´ä¸æ˜¯åƒä¸€äº›èµ„æºç½‘ç«™é‡Œçš„ç›´æ¥é¢„è§ˆèµ„æºé¡µé¢ã€‚è¿™æ ·åŠ¨æ€çš„è¿è¡Œä»£ç ï¼Œæ— ç–‘æ˜¯èŠ‚çœäº†å¾ˆå¤§æœåŠ¡å™¨ç©ºé—´ã€‚å‰ç«¯ç½‘ï¼ˆW3Cfunsï¼‰å°±æœ‰è¿™æ ·çš„åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥è¿è¡Œåšä¸»ç¬”è®°å†…çš„ä»£ç ï¼Œé—®ç­”è®ºå›ä¹Ÿä¸€æ ·ã€‚æŸ¥çœ‹äº†ä¸€ä¸‹ä»£ç å®ç°ï¼ŒåŸæ¥æ˜¯window.open()æ–¹æ³•ã€‚è¯­æ³•é‡æ¸©window.open(URL,name,features,replace)URL ä¸€ä¸ªå¯é€‰çš„å­—ç¬¦ä¸²ï¼Œå£°æ˜äº†è¦åœ¨æ–°çª—å£ä¸­æ˜¾ç¤ºçš„æ–‡æ¡£çš„ URLã€‚å¦‚æœçœç•¥äº†è¿™ä¸ªå‚æ•°ï¼Œæˆ–è€…å®ƒçš„å€¼æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæ–°çª—å£å°±ä¸ä¼šæ˜¾ç¤ºä»»ä½•æ–‡æ¡£ã€‚name ä¸€ä¸ªå¯é€‰çš„å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªç”±é€—å·åˆ†éš”çš„ç‰¹å¾åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…æ‹¬æ•°å­—ã€å­—æ¯å’Œä¸‹åˆ’çº¿ï¼Œè¯¥å­—ç¬¦å£°æ˜äº†æ–°çª—å£çš„åç§°ã€‚è¿™ä¸ªåç§°å¯ä»¥ç”¨ä½œæ ‡è®° &lt;a&gt; å’Œ &lt;form&gt; çš„å±æ€§ target çš„å€¼ã€‚å¦‚æœè¯¥å‚æ•°æŒ‡å®šäº†ä¸€ä¸ªå·²ç»å­˜åœ¨çš„çª—å£ï¼Œé‚£ä¹ˆ open() æ–¹æ³•å°±ä¸å†åˆ›å»ºä¸€ä¸ªæ–°çª—å£ï¼Œè€Œåªæ˜¯è¿”å›å¯¹æŒ‡å®šçª—å£çš„å¼•ç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œfeatures å°†è¢«å¿½ç•¥ã€‚features ä¸€ä¸ªå¯é€‰çš„å­—ç¬¦ä¸²ï¼Œå£°æ˜äº†æ–°çª—å£è¦æ˜¾ç¤ºçš„æ ‡å‡†æµè§ˆå™¨çš„ç‰¹å¾ã€‚å¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œæ–°çª—å£å°†å…·æœ‰æ‰€æœ‰æ ‡å‡†ç‰¹å¾ã€‚åœ¨çª—å£ç‰¹å¾è¿™ä¸ªè¡¨æ ¼ä¸­ï¼Œæˆ‘ä»¬å¯¹è¯¥å­—ç¬¦ä¸²çš„æ ¼å¼è¿›è¡Œäº†è¯¦ç»†çš„è¯´æ˜ã€‚replace ä¸€ä¸ªå¯é€‰çš„å¸ƒå°”å€¼ã€‚è§„å®šäº†è£…è½½åˆ°çª—å£çš„ URL æ˜¯åœ¨çª—å£çš„æµè§ˆå†å²ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ¡ç›®ï¼Œè¿˜æ˜¯æ›¿æ¢æµè§ˆå†å²ä¸­çš„å½“å‰æ¡ç›®ã€‚æ”¯æŒä¸‹é¢çš„å€¼ï¼štrue - URL æ›¿æ¢æµè§ˆå†å²ä¸­çš„å½“å‰æ¡ç›®ã€‚false - URL åœ¨æµè§ˆå†å²ä¸­åˆ›å»ºæ–°çš„æ¡ç›®ã€‚å‚æ•°1URLçœç•¥ä¼šæ‰“å¼€ä¸€ä¸ªç©ºç™½é¡µï¼Œä¹Ÿå°±æ˜¯about:blanké¡µã€‚ä¸è¿‡window.open()æ–¹æ³•å±…ç„¶æ˜¯æœ‰è¿”å›å€¼çš„ï¼Œå¯ä»¥è¿”å›æ–°é¡µé¢çš„windowå¯¹è±¡ã€‚å¦‚æ­¤çš„è¯ï¼Œæˆ‘ä»¬å°±èƒ½è®¿é—®æ–°é¡µé¢çš„DOMï¼Œè‡ªç„¶å°±å¯ä»¥å†™å…¥ä»£ç äº†ã€‚å®ä¾‹&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=\"utf-8\"&gt;&lt;title&gt;æ–°çª—å£æˆ–æ ‡ç­¾é¡µè¿è¡Œä»£ç &lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;textarea style=\"width:600px;height:150px;\" id=\"code\"&gt; &lt;script type=\"text/javascript\"&gt; document.write(\"&lt;h1&gt;æˆ‘æ˜¯è¿è¡Œåœ¨æ–°çª—å£æˆ–æ ‡ç­¾é¡µçš„ä»£ç ã€‚&lt;/h1&gt;\"); &lt;/script&gt;&lt;/textarea&gt;&lt;br&gt;&lt;button onclick=\"runCode()\"&gt;è¿è¡Œä»£ç &lt;/button&gt;&lt;script type=\"text/javascript\"&gt; function runCode() &#123; var example = window.open('','',''); var code = document.getElementById('code').value; example.document.write(code) example.focus(); &#125;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;","tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://imys.net/tags/JavaScript/"}]},{"title":"jsæ–‡æœ¬å¤åˆ¶å…¨å…¼å®¹å®ä¾‹","date":"2015-04-14T06:00:45.000Z","path":"20150414/js-copytext.html","text":"å¯¹äºæ–‡æœ¬å¤åˆ¶æœ¬æ¥å°±æ˜¯å³é”®-&gt;å¤åˆ¶ï¼Œæˆ–è€…Ctrl+Cï¼Œå¾ˆç®€å•çš„äº‹æƒ…ã€‚ä¸è¿‡ä¸ºäº†æå‡ç”¨æˆ·ä½“éªŒï¼Œå°±è®©æˆ‘ä»¬æ‰¾ä¸€ä¸ªå…¼å®¹æ€§å¼ºçš„ä¸‡å…¨ä¹‹ç­–å§ã€‚çº¯JSå®ç°çš„æ–¹å¼ä¸èƒ½å…¼å®¹åˆ°ç°ä»£æµè§ˆå™¨ï¼Œçœ‹äº†Discuzå’Œbootstrapä¸Šä»£ç å¤åˆ¶çš„å®ç°ï¼Œå‘ç°éƒ½æ˜¯å€Ÿç”¨Flashæ¥å®ç°çš„ã€‚åŸç†Flashå¯ä»¥æ“ä½œå‰ªè´´æ¿ï¼Œç”¨ä¸€ä¸ªé€æ˜çš„Flashè¦†ç›–åˆ°ä¸€ä¸ªDOMå…ƒç´ ä¸Šã€‚ç‚¹å‡»DOMå®é™…æ˜¯ç‚¹å‡»äº†Flashï¼Œä»è€Œæ“ä½œå‰ªè´´æ¿ã€‚éœ€è¦ç”¨åˆ°ä¸€ä¸ªJavaScriptåº“ï¼šZero Clipboardï¼Œå’Œä¸€ä¸ªFlashæ–‡ä»¶ã€‚å¦å¤–è¦æ³¨æ„ï¼šé¡µé¢å¿…é¡»åœ¨æ”¾åˆ°æœåŠ¡å™¨ä¸Šï¼Œæœ¬åœ°æ²¡æœ‰Flashæƒé™ã€‚ä»£ç å®ä¾‹&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=\"utf-8\"&gt;&lt;title&gt;JSæ–‡æœ¬å¤åˆ¶&lt;/title&gt;&lt;style type=\"text/css\"&gt; .box &#123; width: 610px; margin: 50px auto; position: relative; &#125; textarea &#123; width: 600px; height: 150px; padding: 5px; resize: none; border: 1px solid #ddd; outline: none; &#125; #copy-btn &#123; padding: 5px 8px; background: #F7F7F9; border: 1px solid #ddd; border-radius: 4px 0 0 0; position: absolute; right: -2px; margin-top: -30px; &#125; #clip-btn &#123; width: 80px; height: 40px; &#125;&lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class=\"box\"&gt; &lt;h3&gt;JSæ–‡æœ¬å¤åˆ¶å®ä¾‹&lt;/h3&gt; &lt;textarea placeholder=\"å¤åˆ¶çš„å†…å®¹åŒº\" id=\"content\"&gt;&lt;/textarea&gt; &lt;button id=\"copy-btn\"&gt;ç‚¹å‡»å¤åˆ¶&lt;/button&gt; &lt;/div&gt; &lt;div id=\"clip-btn\"&gt;&lt;/div&gt;&lt;script src=\"ZeroClipboard.js\"&gt;&lt;/script&gt; &lt;script&gt; var clip = null; // è®¾ç½®Flashæ–‡ä»¶è·¯å¾„ ZeroClipboard.setMoviePath(\"ZeroClipboard.swf\"); function copyCode(text) &#123; clip = new ZeroClipboard.Client(); // è®¾ç½®é¼ æ ‡æ‚¬æµ®æ ·å¼ clip.setHandCursor(true); // ç‚¹å‡»å¤åˆ¶ clip.addEventListener('mouseOver', function() &#123; clip.setText(text); &#125;); // å¤åˆ¶å®Œæˆå›è°ƒ clip.addEventListener( \"complete\", function()&#123; alert(\"å¤åˆ¶æˆåŠŸï¼\"); clip.destroy(); //é‡Šæ”¾ &#125;); // FlashåŠ è½½çš„ç›®æ ‡å®¹å™¨ clip.glue('clip-btn'); &#125; /* jså®ç° */ function $(id) &#123; return document.getElementById(id); &#125; $('copy-btn').onmouseover = function(e) &#123; var clipBtn = $('clip-btn'); clipBtn.style.position = 'absolute'; clipBtn.style.left = (e.clientX -55 )+'px'; clipBtn.style.top = (e.clientY - 35)+'px'; copyCode($('content').value); &#125;; /*jQueryå®ç°*/ // $('#copy-btn').mouseover(function() &#123; // var t = $(this); // var cobyText = t.prev().val(); // $('#clip-btn').css(&#123; // position: 'absolute', // left: t.offset().left, // top: t.offset().top, // zIndex: 999 // &#125;).mouseleave(function() &#123; // clip.destroy(); // &#125;); // copyCode(cobyText); // &#125;);&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;å‚è€ƒæ–‡ç« ï¼šå…¼å®¹ä¸»æµæµè§ˆå™¨çš„JSå¤åˆ¶å†…å®¹åˆ°å‰ªè´´æ¿&#160;&#8617;","tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://imys.net/tags/JavaScript/"}]},{"title":"CSSå·§ç”¨borderç”»å°å›¾å½¢","date":"2015-04-09T13:26:50.000Z","path":"20150409/css-borde-shape.html","text":"CSSå·§ç”¨borderç”»å°å›¾å½¢cssç”»ä¸‰è§’å½¢æ ·å¼ç›¸ä¿¡å¾ˆå¤šäººéƒ½ç”¨è¿‡ï¼Œæ¯”å¦‚ border-bottomè®¾ç½®å®½åº¦ã€é¢œè‰²ã€å®çº¿ï¼Œå…¶ä»–æ–¹å‘è®¾ç½®å®½åº¦å’Œé€æ˜è‰²å°±å‡ºç°ä¸€ä¸ªæœä¸Šçš„æ­£ä¸‰è§’å½¢ã€‚ä»Šå¤©åœ¨çœ‹äº† zyp199737 çš„ç¬”è®°css3å·§ç”¨borderåšç¿»é¡µæ•ˆæœä¸­ä¸€å¼ å›¾ï¼Œçªç„¶æƒ³åˆ°è®¾ç½®2ä¸ªæ–¹å‘æ˜¯ä»€ä¹ˆæ ·å¼ï¼Ÿæ˜¯ä¸æ˜¯å°±æ˜¯ç›´è§’ä¸‰è§’å½¢å‘¢ï¼Ÿåšäº†ä¸‹å®éªŒï¼Œå‘ç°ä¸æ­¢å¯ä»¥ç”»å‡ºç›´è§’ä¸‰è§’å½¢ï¼Œè€Œä¸”è¿˜æœ‰ä¹¦ç­¾çš„æ ·å¼ã€‚ä»£ç &lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=\"utf-8\"&gt;&lt;title&gt;triangle&lt;/title&gt;&lt;style type=\"text/css\"&gt; .shape &#123; float: left; margin-left: 50px; width:0; height:0; border-width: 30px; border-style: dashed dashed dashed dashed ; border-color: transparent transparent transparent transparent ; &#125; /*ä¸‰è§’å½¢*/ .triangle &#123; border-bottom: 30px solid #e66161; &#125; /*æ ‡ç­¾*/ .mark &#123; border-left: 30px solid #e66161; border-top: 30px solid #e66161; border-right: 30px solid #e66161; &#125; /*ç›´è§’ä¸‰è§’å½¢*/ .right-triangle &#123; border-left: 30px solid #e66161; border-bottom: 30px solid #e66161; &#125;&lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class=\"shape triangle\"&gt;&lt;/div&gt; &lt;div class=\"shape mark\"&gt;&lt;/div&gt; &lt;div class=\"shape right-triangle\"&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;","tags":[{"name":"CSS","slug":"CSS","permalink":"http://imys.net/tags/CSS/"},{"name":"border","slug":"border","permalink":"http://imys.net/tags/border/"}]},{"title":"jQueryå®ç°é€šç”¨çš„å•é¡µé¢é”šç‚¹å¹³æ»‘æ»šåŠ¨","date":"2015-04-07T05:45:03.000Z","path":"20150407/jquery-anchor-scroll.html","text":"å¾ˆå¤šå•†å“å±•ç¤ºé¡µï¼Œä¸“é¢˜é¡µç­‰éƒ½ä¼šç”¨åˆ°ã€‚ä»£ç &lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=\"utf-8\"&gt;&lt;title&gt;é”šé“¾æ¥å¹³æ»‘æ»šåŠ¨&lt;/title&gt;&lt;meta name=\"description\" content=\"\"&gt;&lt;meta name=\"keywords\" content=\"\"&gt;&lt;style type=\"text/css\"&gt; * &#123; margin: 0; padding: 0 &#125; html,body &#123; height: 100%; min-height: 100%; &#125; .top &#123; width: 100%; height: 40px; line-height: 40px; background: rgba(0, 0, 0, .6); position: fixed; z-index: 9; &#125; a &#123; color: #fff; text-align: center; text-decoration: none; &#125; .top a &#123; display: inline-block; width: 20%; &#125; .top a:hover &#123; background: rgba(0, 0, 0, .4); &#125; .page &#123; width: 100%; height: 100%; min-height: 100%; background: #3C98FF; text-align: center; &#125; h1 &#123; color: #fff; padding-top: 20%; &#125;&lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class=\"top\"&gt; &lt;a href=\"#div-1\"&gt;div-1&lt;/a&gt; &lt;a href=\"#div-2\"&gt;div-2&lt;/a&gt; &lt;a href=\"#div-3\"&gt;div-3&lt;/a&gt; &lt;a href=\"#div-4\"&gt;div-4&lt;/a&gt; &lt;/div&gt; &lt;div id=\"div-1\" class=\"page\"&gt; &lt;h1&gt;ç¬¬ä¸€é¡µ&lt;/h1&gt; &lt;/div&gt; &lt;div id=\"div-2\" class=\"page\"&gt; &lt;h1&gt;ç¬¬äºŒé¡µ&lt;/h1&gt; &lt;/div&gt; &lt;div id=\"div-3\" class=\"page\"&gt; &lt;h1&gt;ç¬¬ä¸‰é¡µ&lt;/h1&gt; &lt;/div&gt; &lt;div id=\"div-4\" class=\"page\"&gt; &lt;h1&gt;ç¬¬å››é¡µ&lt;/h1&gt; &lt;/div&gt;&lt;script src=\"http://libs.baidu.com/jquery/2.0.0/jquery.min.js\"&gt;&lt;/script&gt;&lt;script&gt; $('a[href*=#]').click(function(event) &#123; // æ­¤å¤„æ­£åˆ™ç”¨äºè½¬æ¢å¸¦é¡µé¢URLçš„é”šç‚¹ï¼Œå¦‚ http://abc.html#div,å…·ä½“æ­£åˆ™æ ¼å¼æ®å®é™…æƒ…å†µè€Œå®š var targetId = $(this).attr('href').replace(/\\w+.html/,''); $(\"html,body\").animate(&#123;scrollTop: $(targetId).offset().top&#125;, 1000); &#125;);&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;","tags":[{"name":"jQuery","slug":"jQuery","permalink":"http://imys.net/tags/jQuery/"}]}]