{"title":"使用逻辑运算符 || && 简化javascript中if else选择结构","slug":"js-simple-condition","date":"2015-04-24T03:49:30.000Z","updated":"2016-11-12T19:23:12.154Z","comments":true,"path":"api/articles/js-simple-condition.json","excerpt":"<blockquote>\n<p>|| 和 &amp;&amp; 通常使用在条件表达式中，但是由于javascript语言的特殊性，这两个符号又被开发出了特别的使用技巧。</p>\n</blockquote>","content":"<blockquote>\n<p>|| 和 &amp;&amp; 通常使用在条件表达式中，但是由于javascript语言的特殊性，这两个符号又被开发出了特别的使用技巧。</p>\n</blockquote>\n<a id=\"more\"></a>\n<h3 id=\"最基本的用法\"><a href=\"#最基本的用法\" class=\"headerlink\" title=\"最基本的用法\"></a>最基本的用法</h3><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"literal\">true</span> &amp;amp;&amp;amp; <span class=\"literal\">true</span>);  <span class=\"comment\">// true</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"literal\">true</span> &amp;amp;&amp;amp; <span class=\"literal\">false</span>);  <span class=\"comment\">// false</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"literal\">false</span> &amp;amp;&amp;amp; <span class=\"literal\">true</span>);  <span class=\"comment\">// false</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"literal\">false</span> &amp;amp;&amp;amp; <span class=\"literal\">false</span>);  <span class=\"comment\">// false</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"literal\">true</span> || <span class=\"literal\">true</span>);  <span class=\"comment\">// true</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"literal\">true</span> || <span class=\"literal\">false</span>);  <span class=\"comment\">// true</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"literal\">false</span> || <span class=\"literal\">true</span>);  <span class=\"comment\">// true</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"literal\">false</span> || <span class=\"literal\">false</span>);  <span class=\"comment\">// false</span></div></pre></td></tr></table></figure>\n<p>这是所有的编程语音通用的使用方法，毋庸置疑。</p>\n<h3 id=\"javascript中可以这么用\"><a href=\"#javascript中可以这么用\" class=\"headerlink\" title=\"javascript中可以这么用\"></a>javascript中可以这么用</h3><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> target, num;</div><div class=\"line\">target = <span class=\"literal\">undefined</span> || <span class=\"string\">'defaultValue'</span>; <span class=\"comment\">// defaultValue</span></div><div class=\"line\">num = <span class=\"number\">0</span> || <span class=\"number\">1</span>; <span class=\"comment\">// 1</span></div></pre></td></tr></table></figure>\n<p>你可以看成这样：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> target;</div><div class=\"line\">target = <span class=\"literal\">false</span> || <span class=\"string\">'defaultValue'</span>; <span class=\"comment\">// defaultValue</span></div><div class=\"line\">num = <span class=\"literal\">false</span> || <span class=\"number\">1</span>; <span class=\"comment\">// 1</span></div></pre></td></tr></table></figure>\n<p>因为在javascript中Object、function、非0的整数和字符串都为<code>true</code>，undefined、null和空字符串”” 为<code>false</code>。</p>\n<p>但是javascript中却可以返回为<code>true</code>表达式的值，应该理解为“真值”和“假值”更贴切。</p>\n<p><em>‘||’在javascript中的规则：如果||左侧表达式的值为真值，则返回左侧表达式的值；否则返回右侧表达式的值。</em></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"string\">'真值'</span>||<span class=\"string\">''</span>); <span class=\"comment\">// 真值</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"literal\">undefined</span>||object); <span class=\"comment\">// object</span></div></pre></td></tr></table></figure>\n<p><em>‘&amp;&amp;’在javascript中的规则：如果&amp;&amp;左侧表达式的值为真值，则返回右侧表达式的值；否则返回左侧表达式的值。</em></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"number\">1</span> === <span class=\"number\">1</span> &amp;amp;&amp;amp; <span class=\"number\">2</span>) <span class=\"comment\">// 2</span></div><div class=\"line\"><span class=\"built_in\">console</span>.log(<span class=\"number\">0</span> === <span class=\"number\">1</span> &amp;amp;&amp;amp; <span class=\"number\">2</span>) <span class=\"comment\">// false</span></div></pre></td></tr></table></figure>\n<h3 id=\"于是有了高逼格的javascript代码\"><a href=\"#于是有了高逼格的javascript代码\" class=\"headerlink\" title=\"于是有了高逼格的javascript代码\"></a>于是有了高逼格的javascript代码</h3><figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">var</span> n=<span class=\"number\">1</span>;</div><div class=\"line\">((n === <span class=\"number\">1</span>) &amp;amp;&amp;amp; (n = <span class=\"number\">3</span>)) || ((n === <span class=\"number\">3</span>) &amp;amp;&amp;amp; (n = <span class=\"number\">6</span>)) || (n = <span class=\"number\">2</span>);  <span class=\"comment\">// 3</span></div><div class=\"line\">((n === <span class=\"number\">1</span>) &amp;amp;&amp;amp; (n = <span class=\"number\">3</span>)) || ((n === <span class=\"number\">3</span>) &amp;amp;&amp;amp; (n = <span class=\"number\">6</span>)) || (n = <span class=\"number\">2</span>);  <span class=\"comment\">// 6</span></div><div class=\"line\">((n === <span class=\"number\">1</span>) &amp;amp;&amp;amp; (n = <span class=\"number\">3</span>)) || ((n === <span class=\"number\">3</span>) &amp;amp;&amp;amp; (n = <span class=\"number\">6</span>)) || (n = <span class=\"number\">2</span>);  <span class=\"comment\">// 2</span></div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\">//以上代码等价于</span></div><div class=\"line\"><span class=\"keyword\">if</span>(n === <span class=\"number\">1</span>) &#123;</div><div class=\"line\">    n = <span class=\"number\">3</span>;</div><div class=\"line\">&#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(n === <span class=\"number\">3</span>) &#123;</div><div class=\"line\">    n = <span class=\"number\">6</span>;</div><div class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</div><div class=\"line\">    n = <span class=\"number\">2</span>;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>","categories":[],"tags":[{"name":"JavaScript","path":"api/tags/JavaScript.json"}]}